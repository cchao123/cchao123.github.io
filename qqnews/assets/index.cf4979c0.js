var I=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var p=(e,t,n)=>new Promise((o,s)=>{var i=c=>{try{a(n.next(c))}catch(l){s(l)}},r=c=>{try{a(n.throw(c))}catch(l){s(l)}},a=c=>c.done?o(c.value):Promise.resolve(c.value).then(i,r);a((n=n.apply(e,t)).next())});import{a as R,i as m,g as A,b as P,c as q,d as D,r as C,n as L,e as T,w as x,f as E,h as S,o as U,j as g,k as j,l as z,v as M}from"./vendor.47ffca6e.js";var Pe=I(v=>{const N=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}};N();const $=e=>{e.directive("report-view",ue),e.directive("report-click",le),e.directive("report-exp",fe)},b=e=>{let t;return typeof e=="function"?t={callback:e}:t=e,t},V=(e,t,n={})=>{let o,s,i;const r=(a,...c)=>{if(i=c,o&&a===s)return;let{leading:l}=n;typeof l=="function"&&(l=l(a,s)),(!o||a!==s)&&l&&e(a,...i),s=a,clearTimeout(o),o=setTimeout(()=>{e(a,...i),o=0},t)};return r._clear=()=>{clearTimeout(o),o=null},r},_=(e,t)=>e===t?!0:typeof e=="object"?(Object.keys(e).forEach(n=>{if(!_(e[n],t[n]))return!1}),!0):!1,h=e=>{if(document===void 0)return"";let t="";return document.cookie.split(/;\s*/).forEach((n,o,s)=>{const i=n.split("=");i[0]===e&&([,t]=i)}),t},F="https://r.inews.qq.com/i/getONSDict",Q={appid:"news_h5",appkey:"9c25e5f15027451bb4ab856c030007cb"},W=e=>p(v,null,function*(){const{appid:t,appkey:n,schema:o}=e;return(yield R.get(F,{params:{wuji_appid:t,wuji_appkey:n,query_key:Array.isArray(o)?o.join(","):o}})).data.data}),B=()=>p(v,null,function*(){const e="offline_projects",{appid:t,appkey:n}=Q;return(yield W({appid:t,appkey:n,schema:e})).offline_projects.data}),J=e=>{location.replace(e)},G=e=>{const t="https://new.qq.com/qqfile/tnewsh5/404/404.html#/";return e.redirectType==="404"?t:e.link?e.link:t},H=e=>p(v,null,function*(){const t=yield B(),[n]=t.filter(o=>o.projectName===e);return n?J(G(n)):Promise.resolve()}),K=(e,t)=>{const n=t.replace(/[[\]]/g,"\\$&"),s=new RegExp(`[?&]${n}(=([^&#]*)|&|#|$)`).exec(e);return s?s[2]?window.decodeURIComponent(s[2].replace(/\+/g," ")):"":null},X=()=>{const e=document.querySelector(".pageLoading");e&&(e.style.display="none")},u="REPORT_CACHE",Y=()=>{},Z=()=>{};let d;try{d=new window.BeaconAction({appkey:"JS03W1ML3L0KIW",versionCode:"0.0.1",channelID:"news",openid:"",unionid:"",strictMode:!1,delay:1e3,sessionDuration:60*1e3,onReportSuccess:Y,onReportFail:Z})}catch(e){d={onDirectUserAction:()=>{},onUserAction:()=>{},getDeviceId:()=>{}}}const ee=e=>{var t,n;return e.account==="qq"?(t=e==null?void 0:e.qq)==null?void 0:t.mediaid:e.account==="wx"?(n=e==null?void 0:e.qq)==null?void 0:n.mediaid:"unknown"},te=e=>(e==null?void 0:e.account)==="qq"?h("open_openid"):(e==null?void 0:e.account)==="wx"?h("openid"):"unknown",se=e=>{if(!e)return"unknown";const t=e.split("_");return t[1].toLocaleLowerCase()==="android"?"android":t[1].toLocaleLowerCase()==="qqnews"?"ios":"unknown"},f=()=>{let e=K(window.location.href,"ADTAG");return e||(m()?e="news":q()?e="wx":D()?e="qq":e="unknown"),e},ne=()=>{const e={version:"unknown",systemVersion:"unknown",networkStatus:"unknown",deviceId:"unknown",omgid:"unknown",uid:"unknown",suid:"unknown",QIMEI36:"unknown"};return Promise.all([A,P]).then(t=>{const[n,o]=t,s=Object.assign(e,n),i={appVersion:s.version,systemVersion:s.systemVersion,appNetwork:s.networkStatus,systemOS:se(n==null?void 0:n.versionForQQNews),deviceId:s.deviceId,openid:te(o),omgid:s.omgid,uid:s.uid,suid:s.suid,QIMEI36:s.QIMEI36,qquin:h("uin")?h("uin"):"unknown",mediaId:ee(o),openFrom:f(),ADTAG:f()};window[u]=i})},oe=()=>{const e={openFrom:f(),ADTAG:f()};return new Promise(t=>{window[u]=e,t(e)})},ie=(e,t)=>{m()&&C({eventID:e,params:t})},re=(e,t,n=!1)=>{if(ie(e,t),window[u]){const o=window[u],s=Object.assign({},t,o);n===!0?d.onDirectUserAction(e,s):d.onUserAction(e,s)}else m()?ne().then(()=>{const o=window[u],s=Object.assign({},t,o);n===!0?d.onDirectUserAction(e,s):d.onUserAction(e,s)}):oe().then(()=>{const o=window[u],s=Object.assign({},t,o);n===!0?d.onDirectUserAction(e,s):d.onUserAction(e,s)})},ce=()=>d.getDeviceId();var w={report:re,getDeviceId:ce};class ae{constructor(t,n,o){this.frozen=!1,this.options=null,this.oldResult=null,this.eventCode="",this.direct=!1,this.params={activityId:""};const{value:s}=n;this.el=t,this.frozen=!1,this.eventCode=s.EventCode,this.direct=s.Direct,this.params=s.Params||{},this.doReport(s,o)}doReport(t,n){this.frozen||(this.options=b(t),this.callback=(...o)=>{w.report(this.eventCode,this.params,this.direct)},this.el.addEventListener("click",()=>{this.callback()}))}}const le=(e,t,n)=>{new ae(e,t,n)};class de{constructor(t,n,o){this.frozen=!1,this.options=null,this.oldResult=null,this.eventCode="",this.direct=!1,this.params={activityId:""};const{value:s}=n;this.el=t,this.frozen=!1,this.eventCode=s.EventCode,this.direct=s.Direct,this.params=s.Params||{},this.doReport(s,o)}doReport(t,n){this.frozen||(this.options=b(t),this.callback=(...o)=>{w.report(this.eventCode,this.params,this.direct)},this.callback())}}const ue=(e,t,n)=>{new de(e,t,n)};class pe{constructor(t,n,o){this.frozen=!1,this.eventCode="",this.direct=!1,this.params={activityId:""},this.createObserverCallback=i=>{i===!0&&w.report(this.eventCode,this.params,this.direct),i&&this.options.once&&(this.frozen=!0,this.destroyObserver())},this.setObserver=()=>{this.observer=new IntersectionObserver(i=>{let r=i[0];if(i.length>1){const c=i.find(l=>l.isIntersecting);c&&(r=c)}const a=c=>{const l=c.isIntersecting&&c.intersectionRatio>=this.threshold;l!==this.oldResult&&(this.oldResult=l,this.callback(l,c))};this.callback&&a(r)},this.options.intersection)};const{value:s}=n;this.el=t,this.observer=null,this.frozen=!1,this.eventCode=s.EventCode,this.direct=s.Direct,this.params=s.Params||{},this.createObserver(s,o)}get threshold(){var t;return((t=this.options.intersection)==null?void 0:t.threshold)||0}createObserver(t,n){if(this.observer&&this.destroyObserver(),this.frozen)return;this.options=b(t),this.callback=(s,i)=>{this.createObserverCallback(s)},(()=>{if(this.callback&&this.options.throttle){const{leading:s}=this.options.throttleOptions||{},i=(r,a)=>r==="visible"&&a||r==="hidden"&&!a;this.callback=V(this.callback,this.options.throttle,{leading:r=>s==="both"||i(s,r)})}})(),this.oldResult=void 0,this.setObserver(),L(()=>{this.observer&&this.observer.observe(this.el)})}destroyObserver(){var t;this.observer&&(this.observer.disconnect(),this.observer=null),(t=this.callback)!=null&&t._clear&&(this.callback._clear(),this.callback=null)}}const y=(e,t,n)=>{const o=e,{value:s}=t;if(!!s&&typeof IntersectionObserver!="undefined"){const i=new pe(e,t,n);o._vue_visibilityState=i}},k=e=>{const t=e,n=e._vue_visibilityState;n&&(n.destroyObserver(),delete t._vue_visibilityState)},he=(e,t,n)=>{const{value:o,oldValue:s}=t;if(_(o,s))return;const i=e._vue_visibilityState;if(!o){k(e);return}i?i.createObserver(o,n):y(e,{value:o},n)};var fe={beforeMount:y,update:he,beforeUnmount:k};const ve="2022512";var me="/qqnews/assets/bg.b892e235.png",be=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n};const we=T({components:{},setup(){return X(),{goApp:()=>{console.log(1)}}}}),ge={class:"index"},_e=g("img",{class:"bg",src:me,alt:""},null,-1),ye=g("div",{class:"page"},null,-1),ke=[_e,ye];function Oe(e,t,n,o,s,i){const r=S("report-exp");return x((U(),E("div",ge,ke)),[[r,{EventCode:"news_h5_common_view",Params:{activityId:"2022512"},Direct:!0,once:!0}]])}var Ie=be(we,[["render",Oe]]);const O=j(Ie),Re=z();$(O);const Ae=()=>{O.use(Re).use(M).mount("#app")};H(ve).then(()=>{Ae()})});export default Pe();

function makeMap(t,r){const n=Object.create(null),s=t.split(",");for(let o=0;o<s.length;o++)n[s[o]]=!0;return r?o=>!!n[o.toLowerCase()]:o=>!!n[o]}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(t){return!!t||t===""}function normalizeStyle(t){if(isArray$3(t)){const r={};for(let n=0;n<t.length;n++){const s=t[n],o=isString$1(s)?parseStringStyle(s):normalizeStyle(s);if(o)for(const h in o)r[h]=o[h]}return r}else{if(isString$1(t))return t;if(isObject$2(t))return t}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(t){const r={};return t.split(listDelimiterRE).forEach(n=>{if(n){const s=n.split(propertyDelimiterRE);s.length>1&&(r[s[0].trim()]=s[1].trim())}}),r}function normalizeClass(t){let r="";if(isString$1(t))r=t;else if(isArray$3(t))for(let n=0;n<t.length;n++){const s=normalizeClass(t[n]);s&&(r+=s+" ")}else if(isObject$2(t))for(const n in t)t[n]&&(r+=n+" ");return r.trim()}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=t=>onRE.test(t),isModelListener=t=>t.startsWith("onUpdate:"),extend$1=Object.assign,remove=(t,r)=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)},hasOwnProperty$3=Object.prototype.hasOwnProperty,hasOwn=(t,r)=>hasOwnProperty$3.call(t,r),isArray$3=Array.isArray,isMap=t=>toTypeString(t)==="[object Map]",isSet=t=>toTypeString(t)==="[object Set]",isFunction$1=t=>typeof t=="function",isString$1=t=>typeof t=="string",isSymbol=t=>typeof t=="symbol",isObject$2=t=>t!==null&&typeof t=="object",isPromise=t=>isObject$2(t)&&isFunction$1(t.then)&&isFunction$1(t.catch),objectToString=Object.prototype.toString,toTypeString=t=>objectToString.call(t),toRawType=t=>toTypeString(t).slice(8,-1),isPlainObject$1=t=>toTypeString(t)==="[object Object]",isIntegerKey=t=>isString$1(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=t=>{const r=Object.create(null);return n=>r[n]||(r[n]=t(n))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(t=>t.replace(camelizeRE,(r,n)=>n?n.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(t=>t.replace(hyphenateRE,"-$1").toLowerCase()),capitalize$1=cacheStringFunction(t=>t.charAt(0).toUpperCase()+t.slice(1)),toHandlerKey=cacheStringFunction(t=>t?`on${capitalize$1(t)}`:""),hasChanged=(t,r)=>!Object.is(t,r),invokeArrayFns=(t,r)=>{for(let n=0;n<t.length;n++)t[n](r)},def=(t,r,n)=>{Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value:n})},toNumber=t=>{const r=parseFloat(t);return isNaN(r)?t:r};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let activeEffectScope;class EffectScope{constructor(r=!1){this.active=!0,this.effects=[],this.cleanups=[],!r&&activeEffectScope&&(this.parent=activeEffectScope,this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(r){if(this.active)try{return activeEffectScope=this,r()}finally{activeEffectScope=this.parent}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(r){if(this.active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(this.parent&&!r){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.active=!1}}}function effectScope(t){return new EffectScope(t)}function recordEffectScope(t,r=activeEffectScope){r&&r.active&&r.effects.push(t)}const createDep=t=>{const r=new Set(t);return r.w=0,r.n=0,r},wasTracked=t=>(t.w&trackOpBit)>0,newTracked=t=>(t.n&trackOpBit)>0,initDepMarkers=({deps:t})=>{if(t.length)for(let r=0;r<t.length;r++)t[r].w|=trackOpBit},finalizeDepMarkers=t=>{const{deps:r}=t;if(r.length){let n=0;for(let s=0;s<r.length;s++){const o=r[s];wasTracked(o)&&!newTracked(o)?o.delete(t):r[n++]=o,o.w&=~trackOpBit,o.n&=~trackOpBit}r.length=n}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(r,n=null,s){this.fn=r,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,s)}run(){if(!this.active)return this.fn();let r=activeEffect,n=shouldTrack;for(;r;){if(r===this)return;r=r.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=n,this.parent=void 0}}stop(){this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(t){const{deps:r}=t;if(r.length){for(let n=0;n<r.length;n++)r[n].delete(t);r.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const t=trackStack.pop();shouldTrack=t===void 0?!0:t}function track(t,r,n){if(shouldTrack&&activeEffect){let s=targetMap.get(t);s||targetMap.set(t,s=new Map);let o=s.get(n);o||s.set(n,o=createDep()),trackEffects(o)}}function trackEffects(t,r){let n=!1;effectTrackDepth<=maxMarkerBits?newTracked(t)||(t.n|=trackOpBit,n=!wasTracked(t)):n=!t.has(activeEffect),n&&(t.add(activeEffect),activeEffect.deps.push(t))}function trigger(t,r,n,s,o,h){const l=targetMap.get(t);if(!l)return;let c=[];if(r==="clear")c=[...l.values()];else if(n==="length"&&isArray$3(t))l.forEach((d,v)=>{(v==="length"||v>=s)&&c.push(d)});else switch(n!==void 0&&c.push(l.get(n)),r){case"add":isArray$3(t)?isIntegerKey(n)&&c.push(l.get("length")):(c.push(l.get(ITERATE_KEY)),isMap(t)&&c.push(l.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$3(t)||(c.push(l.get(ITERATE_KEY)),isMap(t)&&c.push(l.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(t)&&c.push(l.get(ITERATE_KEY));break}if(c.length===1)c[0]&&triggerEffects(c[0]);else{const d=[];for(const v of c)v&&d.push(...v);triggerEffects(createDep(d))}}function triggerEffects(t,r){for(const n of isArray$3(t)?t:[...t])(n!==activeEffect||n.allowRecurse)&&(n.scheduler?n.scheduler():n.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(isSymbol)),get=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const t={};return["includes","indexOf","lastIndexOf"].forEach(r=>{t[r]=function(...n){const s=toRaw(this);for(let h=0,l=this.length;h<l;h++)track(s,"get",h+"");const o=s[r](...n);return o===-1||o===!1?s[r](...n.map(toRaw)):o}}),["push","pop","shift","unshift","splice"].forEach(r=>{t[r]=function(...n){pauseTracking();const s=toRaw(this)[r].apply(this,n);return resetTracking(),s}}),t}function createGetter(t=!1,r=!1){return function(s,o,h){if(o==="__v_isReactive")return!t;if(o==="__v_isReadonly")return t;if(o==="__v_isShallow")return r;if(o==="__v_raw"&&h===(t?r?shallowReadonlyMap:readonlyMap:r?shallowReactiveMap:reactiveMap).get(s))return s;const l=isArray$3(s);if(!t&&l&&hasOwn(arrayInstrumentations,o))return Reflect.get(arrayInstrumentations,o,h);const c=Reflect.get(s,o,h);return(isSymbol(o)?builtInSymbols.has(o):isNonTrackableKeys(o))||(t||track(s,"get",o),r)?c:isRef(c)?!l||!isIntegerKey(o)?c.value:c:isObject$2(c)?t?readonly(c):reactive(c):c}}const set=createSetter(),shallowSet=createSetter(!0);function createSetter(t=!1){return function(n,s,o,h){let l=n[s];if(isReadonly(l)&&isRef(l)&&!isRef(o))return!1;if(!t&&!isReadonly(o)&&(isShallow(o)||(o=toRaw(o),l=toRaw(l)),!isArray$3(n)&&isRef(l)&&!isRef(o)))return l.value=o,!0;const c=isArray$3(n)&&isIntegerKey(s)?Number(s)<n.length:hasOwn(n,s),d=Reflect.set(n,s,o,h);return n===toRaw(h)&&(c?hasChanged(o,l)&&trigger(n,"set",s,o):trigger(n,"add",s,o)),d}}function deleteProperty(t,r){const n=hasOwn(t,r);t[r];const s=Reflect.deleteProperty(t,r);return s&&n&&trigger(t,"delete",r,void 0),s}function has(t,r){const n=Reflect.has(t,r);return(!isSymbol(r)||!builtInSymbols.has(r))&&track(t,"has",r),n}function ownKeys(t){return track(t,"iterate",isArray$3(t)?"length":ITERATE_KEY),Reflect.ownKeys(t)}const mutableHandlers={get,set,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(t,r){return!0},deleteProperty(t,r){return!0}},shallowReactiveHandlers=extend$1({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=t=>t,getProto=t=>Reflect.getPrototypeOf(t);function get$1(t,r,n=!1,s=!1){t=t.__v_raw;const o=toRaw(t),h=toRaw(r);r!==h&&!n&&track(o,"get",r),!n&&track(o,"get",h);const{has:l}=getProto(o),c=s?toShallow:n?toReadonly:toReactive;if(l.call(o,r))return c(t.get(r));if(l.call(o,h))return c(t.get(h));t!==o&&t.get(r)}function has$1(t,r=!1){const n=this.__v_raw,s=toRaw(n),o=toRaw(t);return t!==o&&!r&&track(s,"has",t),!r&&track(s,"has",o),t===o?n.has(t):n.has(t)||n.has(o)}function size(t,r=!1){return t=t.__v_raw,!r&&track(toRaw(t),"iterate",ITERATE_KEY),Reflect.get(t,"size",t)}function add(t){t=toRaw(t);const r=toRaw(this);return getProto(r).has.call(r,t)||(r.add(t),trigger(r,"add",t,t)),this}function set$1(t,r){r=toRaw(r);const n=toRaw(this),{has:s,get:o}=getProto(n);let h=s.call(n,t);h||(t=toRaw(t),h=s.call(n,t));const l=o.call(n,t);return n.set(t,r),h?hasChanged(r,l)&&trigger(n,"set",t,r):trigger(n,"add",t,r),this}function deleteEntry(t){const r=toRaw(this),{has:n,get:s}=getProto(r);let o=n.call(r,t);o||(t=toRaw(t),o=n.call(r,t)),s&&s.call(r,t);const h=r.delete(t);return o&&trigger(r,"delete",t,void 0),h}function clear(){const t=toRaw(this),r=t.size!==0,n=t.clear();return r&&trigger(t,"clear",void 0,void 0),n}function createForEach(t,r){return function(s,o){const h=this,l=h.__v_raw,c=toRaw(l),d=r?toShallow:t?toReadonly:toReactive;return!t&&track(c,"iterate",ITERATE_KEY),l.forEach((v,g)=>s.call(o,d(v),d(g),h))}}function createIterableMethod(t,r,n){return function(...s){const o=this.__v_raw,h=toRaw(o),l=isMap(h),c=t==="entries"||t===Symbol.iterator&&l,d=t==="keys"&&l,v=o[t](...s),g=n?toShallow:r?toReadonly:toReactive;return!r&&track(h,"iterate",d?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:m,done:_}=v.next();return _?{value:m,done:_}:{value:c?[g(m[0]),g(m[1])]:g(m),done:_}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(t){return function(...r){return t==="delete"?!1:this}}function createInstrumentations(){const t={get(h){return get$1(this,h)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},r={get(h){return get$1(this,h,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},n={get(h){return get$1(this,h,!0)},get size(){return size(this,!0)},has(h){return has$1.call(this,h,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},s={get(h){return get$1(this,h,!0,!0)},get size(){return size(this,!0)},has(h){return has$1.call(this,h,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(h=>{t[h]=createIterableMethod(h,!1,!1),n[h]=createIterableMethod(h,!0,!1),r[h]=createIterableMethod(h,!1,!0),s[h]=createIterableMethod(h,!0,!0)}),[t,n,r,s]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(t,r){const n=r?t?shallowReadonlyInstrumentations:shallowInstrumentations:t?readonlyInstrumentations:mutableInstrumentations;return(s,o,h)=>o==="__v_isReactive"?!t:o==="__v_isReadonly"?t:o==="__v_raw"?s:Reflect.get(hasOwn(n,o)&&o in s?n:s,o,h)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(t){return t.__v_skip||!Object.isExtensible(t)?0:targetTypeMap(toRawType(t))}function reactive(t){return isReadonly(t)?t:createReactiveObject(t,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(t){return createReactiveObject(t,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(t){return createReactiveObject(t,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(t,r,n,s,o){if(!isObject$2(t)||t.__v_raw&&!(r&&t.__v_isReactive))return t;const h=o.get(t);if(h)return h;const l=getTargetType(t);if(l===0)return t;const c=new Proxy(t,l===2?s:n);return o.set(t,c),c}function isReactive(t){return isReadonly(t)?isReactive(t.__v_raw):!!(t&&t.__v_isReactive)}function isReadonly(t){return!!(t&&t.__v_isReadonly)}function isShallow(t){return!!(t&&t.__v_isShallow)}function isProxy(t){return isReactive(t)||isReadonly(t)}function toRaw(t){const r=t&&t.__v_raw;return r?toRaw(r):t}function markRaw(t){return def(t,"__v_skip",!0),t}const toReactive=t=>isObject$2(t)?reactive(t):t,toReadonly=t=>isObject$2(t)?readonly(t):t;function trackRefValue(t){shouldTrack&&activeEffect&&(t=toRaw(t),trackEffects(t.dep||(t.dep=createDep())))}function triggerRefValue(t,r){t=toRaw(t),t.dep&&triggerEffects(t.dep)}function isRef(t){return!!(t&&t.__v_isRef===!0)}function ref(t){return createRef(t,!1)}function createRef(t,r){return isRef(t)?t:new RefImpl(t,r)}class RefImpl{constructor(r,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?r:toRaw(r),this._value=n?r:toReactive(r)}get value(){return trackRefValue(this),this._value}set value(r){r=this.__v_isShallow?r:toRaw(r),hasChanged(r,this._rawValue)&&(this._rawValue=r,this._value=this.__v_isShallow?r:toReactive(r),triggerRefValue(this))}}function unref(t){return isRef(t)?t.value:t}const shallowUnwrapHandlers={get:(t,r,n)=>unref(Reflect.get(t,r,n)),set:(t,r,n,s)=>{const o=t[r];return isRef(o)&&!isRef(n)?(o.value=n,!0):Reflect.set(t,r,n,s)}};function proxyRefs(t){return isReactive(t)?t:new Proxy(t,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(r,n,s,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new ReactiveEffect(r,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=s}get value(){const r=toRaw(this);return trackRefValue(r),(r._dirty||!r._cacheable)&&(r._dirty=!1,r._value=r.effect.run()),r._value}set value(r){this._setter(r)}}function computed$1(t,r,n=!1){let s,o;const h=isFunction$1(t);return h?(s=t,o=NOOP):(s=t.get,o=t.set),new ComputedRefImpl(s,o,h||!o,n)}Promise.resolve();function callWithErrorHandling(t,r,n,s){let o;try{o=s?t(...s):t()}catch(h){handleError(h,r,n)}return o}function callWithAsyncErrorHandling(t,r,n,s){if(isFunction$1(t)){const h=callWithErrorHandling(t,r,n,s);return h&&isPromise(h)&&h.catch(l=>{handleError(l,r,n)}),h}const o=[];for(let h=0;h<t.length;h++)o.push(callWithAsyncErrorHandling(t[h],r,n,s));return o}function handleError(t,r,n,s=!0){const o=r?r.vnode:null;if(r){let h=r.parent;const l=r.proxy,c=n;for(;h;){const v=h.ec;if(v){for(let g=0;g<v.length;g++)if(v[g](t,l,c)===!1)return}h=h.parent}const d=r.appContext.config.errorHandler;if(d){callWithErrorHandling(d,null,10,[t,l,c]);return}}logError(t,n,o,s)}function logError(t,r,n,s=!0){console.error(t)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPreFlushCbs=[];let activePreFlushCbs=null,preFlushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null,currentPreFlushParentJob=null;function nextTick(t){const r=currentFlushPromise||resolvedPromise;return t?r.then(this?t.bind(this):t):r}function findInsertionIndex(t){let r=flushIndex+1,n=queue.length;for(;r<n;){const s=r+n>>>1;getId(queue[s])<t?r=s+1:n=s}return r}function queueJob(t){(!queue.length||!queue.includes(t,isFlushing&&t.allowRecurse?flushIndex+1:flushIndex))&&t!==currentPreFlushParentJob&&(t.id==null?queue.push(t):queue.splice(findInsertionIndex(t.id),0,t),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(t){const r=queue.indexOf(t);r>flushIndex&&queue.splice(r,1)}function queueCb(t,r,n,s){isArray$3(t)?n.push(...t):(!r||!r.includes(t,t.allowRecurse?s+1:s))&&n.push(t),queueFlush()}function queuePreFlushCb(t){queueCb(t,activePreFlushCbs,pendingPreFlushCbs,preFlushIndex)}function queuePostFlushCb(t){queueCb(t,activePostFlushCbs,pendingPostFlushCbs,postFlushIndex)}function flushPreFlushCbs(t,r=null){if(pendingPreFlushCbs.length){for(currentPreFlushParentJob=r,activePreFlushCbs=[...new Set(pendingPreFlushCbs)],pendingPreFlushCbs.length=0,preFlushIndex=0;preFlushIndex<activePreFlushCbs.length;preFlushIndex++)activePreFlushCbs[preFlushIndex]();activePreFlushCbs=null,preFlushIndex=0,currentPreFlushParentJob=null,flushPreFlushCbs(t,r)}}function flushPostFlushCbs(t){if(pendingPostFlushCbs.length){const r=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...r);return}for(activePostFlushCbs=r,activePostFlushCbs.sort((n,s)=>getId(n)-getId(s)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=t=>t.id==null?1/0:t.id;function flushJobs(t){isFlushPending=!1,isFlushing=!0,flushPreFlushCbs(t),queue.sort((n,s)=>getId(n)-getId(s));const r=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const n=queue[flushIndex];n&&n.active!==!1&&callWithErrorHandling(n,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPreFlushCbs.length||pendingPostFlushCbs.length)&&flushJobs(t)}}function emit$1(t,r,...n){const s=t.vnode.props||EMPTY_OBJ;let o=n;const h=r.startsWith("update:"),l=h&&r.slice(7);if(l&&l in s){const g=`${l==="modelValue"?"model":l}Modifiers`,{number:m,trim:_}=s[g]||EMPTY_OBJ;_?o=n.map(y=>y.trim()):m&&(o=n.map(toNumber))}let c,d=s[c=toHandlerKey(r)]||s[c=toHandlerKey(camelize(r))];!d&&h&&(d=s[c=toHandlerKey(hyphenate(r))]),d&&callWithAsyncErrorHandling(d,t,6,o);const v=s[c+"Once"];if(v){if(!t.emitted)t.emitted={};else if(t.emitted[c])return;t.emitted[c]=!0,callWithAsyncErrorHandling(v,t,6,o)}}function normalizeEmitsOptions(t,r,n=!1){const s=r.emitsCache,o=s.get(t);if(o!==void 0)return o;const h=t.emits;let l={},c=!1;if(!isFunction$1(t)){const d=v=>{const g=normalizeEmitsOptions(v,r,!0);g&&(c=!0,extend$1(l,g))};!n&&r.mixins.length&&r.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}return!h&&!c?(s.set(t,null),null):(isArray$3(h)?h.forEach(d=>l[d]=null):extend$1(l,h),s.set(t,l),l)}function isEmitListener(t,r){return!t||!isOn(r)?!1:(r=r.slice(2).replace(/Once$/,""),hasOwn(t,r[0].toLowerCase()+r.slice(1))||hasOwn(t,hyphenate(r))||hasOwn(t,r))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(t){const r=currentRenderingInstance;return currentRenderingInstance=t,currentScopeId=t&&t.type.__scopeId||null,r}function withCtx(t,r=currentRenderingInstance,n){if(!r||t._n)return t;const s=(...o)=>{s._d&&setBlockTracking(-1);const h=setCurrentRenderingInstance(r),l=t(...o);return setCurrentRenderingInstance(h),s._d&&setBlockTracking(1),l};return s._n=!0,s._c=!0,s._d=!0,s}function markAttrsAccessed(){}function renderComponentRoot(t){const{type:r,vnode:n,proxy:s,withProxy:o,props:h,propsOptions:[l],slots:c,attrs:d,emit:v,render:g,renderCache:m,data:_,setupState:y,ctx:B,inheritAttrs:w}=t;let C,b;const I=setCurrentRenderingInstance(t);try{if(n.shapeFlag&4){const R=o||s;C=normalizeVNode(g.call(R,R,m,h,y,_,B)),b=d}else{const R=r;C=normalizeVNode(R.length>1?R(h,{attrs:d,slots:c,emit:v}):R(h,null)),b=r.props?d:getFunctionalFallthrough(d)}}catch(R){blockStack.length=0,handleError(R,t,1),C=createVNode(Comment)}let S=C;if(b&&w!==!1){const R=Object.keys(b),{shapeFlag:O}=S;R.length&&O&7&&(l&&R.some(isModelListener)&&(b=filterModelListeners(b,l)),S=cloneVNode(S,b))}return n.dirs&&(S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&(S.transition=n.transition),C=S,setCurrentRenderingInstance(I),C}const getFunctionalFallthrough=t=>{let r;for(const n in t)(n==="class"||n==="style"||isOn(n))&&((r||(r={}))[n]=t[n]);return r},filterModelListeners=(t,r)=>{const n={};for(const s in t)(!isModelListener(s)||!(s.slice(9)in r))&&(n[s]=t[s]);return n};function shouldUpdateComponent(t,r,n){const{props:s,children:o,component:h}=t,{props:l,children:c,patchFlag:d}=r,v=h.emitsOptions;if(r.dirs||r.transition)return!0;if(n&&d>=0){if(d&1024)return!0;if(d&16)return s?hasPropsChanged(s,l,v):!!l;if(d&8){const g=r.dynamicProps;for(let m=0;m<g.length;m++){const _=g[m];if(l[_]!==s[_]&&!isEmitListener(v,_))return!0}}}else return(o||c)&&(!c||!c.$stable)?!0:s===l?!1:s?l?hasPropsChanged(s,l,v):!0:!!l;return!1}function hasPropsChanged(t,r,n){const s=Object.keys(r);if(s.length!==Object.keys(t).length)return!0;for(let o=0;o<s.length;o++){const h=s[o];if(r[h]!==t[h]&&!isEmitListener(n,h))return!0}return!1}function updateHOCHostEl({vnode:t,parent:r},n){for(;r&&r.subTree===t;)(t=r.vnode).el=n,r=r.parent}const isSuspense=t=>t.__isSuspense;function queueEffectWithSuspense(t,r){r&&r.pendingBranch?isArray$3(t)?r.effects.push(...t):r.effects.push(t):queuePostFlushCb(t)}function provide(t,r){if(currentInstance){let n=currentInstance.provides;const s=currentInstance.parent&&currentInstance.parent.provides;s===n&&(n=currentInstance.provides=Object.create(s)),n[t]=r}}function inject(t,r,n=!1){const s=currentInstance||currentRenderingInstance;if(s){const o=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(o&&t in o)return o[t];if(arguments.length>1)return n&&isFunction$1(r)?r.call(s.proxy):r}}const INITIAL_WATCHER_VALUE={};function watch(t,r,n){return doWatch(t,r,n)}function doWatch(t,r,{immediate:n,deep:s,flush:o,onTrack:h,onTrigger:l}=EMPTY_OBJ){const c=currentInstance;let d,v=!1,g=!1;if(isRef(t)?(d=()=>t.value,v=isShallow(t)):isReactive(t)?(d=()=>t,s=!0):isArray$3(t)?(g=!0,v=t.some(isReactive),d=()=>t.map(b=>{if(isRef(b))return b.value;if(isReactive(b))return traverse(b);if(isFunction$1(b))return callWithErrorHandling(b,c,2)})):isFunction$1(t)?r?d=()=>callWithErrorHandling(t,c,2):d=()=>{if(!(c&&c.isUnmounted))return m&&m(),callWithAsyncErrorHandling(t,c,3,[_])}:d=NOOP,r&&s){const b=d;d=()=>traverse(b())}let m,_=b=>{m=C.onStop=()=>{callWithErrorHandling(b,c,4)}};if(isInSSRComponentSetup)return _=NOOP,r?n&&callWithAsyncErrorHandling(r,c,3,[d(),g?[]:void 0,_]):d(),NOOP;let y=g?[]:INITIAL_WATCHER_VALUE;const B=()=>{if(!!C.active)if(r){const b=C.run();(s||v||(g?b.some((I,S)=>hasChanged(I,y[S])):hasChanged(b,y)))&&(m&&m(),callWithAsyncErrorHandling(r,c,3,[b,y===INITIAL_WATCHER_VALUE?void 0:y,_]),y=b)}else C.run()};B.allowRecurse=!!r;let w;o==="sync"?w=B:o==="post"?w=()=>queuePostRenderEffect(B,c&&c.suspense):w=()=>{!c||c.isMounted?queuePreFlushCb(B):B()};const C=new ReactiveEffect(d,w);return r?n?B():y=C.run():o==="post"?queuePostRenderEffect(C.run.bind(C),c&&c.suspense):C.run(),()=>{C.stop(),c&&c.scope&&remove(c.scope.effects,C)}}function instanceWatch(t,r,n){const s=this.proxy,o=isString$1(t)?t.includes(".")?createPathGetter(s,t):()=>s[t]:t.bind(s,s);let h;isFunction$1(r)?h=r:(h=r.handler,n=r);const l=currentInstance;setCurrentInstance(this);const c=doWatch(o,h.bind(s),n);return l?setCurrentInstance(l):unsetCurrentInstance(),c}function createPathGetter(t,r){const n=r.split(".");return()=>{let s=t;for(let o=0;o<n.length&&s;o++)s=s[n[o]];return s}}function traverse(t,r){if(!isObject$2(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),isRef(t))traverse(t.value,r);else if(isArray$3(t))for(let n=0;n<t.length;n++)traverse(t[n],r);else if(isSet(t)||isMap(t))t.forEach(n=>{traverse(n,r)});else if(isPlainObject$1(t))for(const n in t)traverse(t[n],r);return t}function defineComponent(t){return isFunction$1(t)?{setup:t,name:t.name}:t}const isAsyncWrapper=t=>!!t.type.__asyncLoader,isKeepAlive=t=>t.type.__isKeepAlive;function onActivated(t,r){registerKeepAliveHook(t,"a",r)}function onDeactivated(t,r){registerKeepAliveHook(t,"da",r)}function registerKeepAliveHook(t,r,n=currentInstance){const s=t.__wdc||(t.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return t()});if(injectHook(r,s,n),n){let o=n.parent;for(;o&&o.parent;)isKeepAlive(o.parent.vnode)&&injectToKeepAliveRoot(s,r,n,o),o=o.parent}}function injectToKeepAliveRoot(t,r,n,s){const o=injectHook(r,t,s,!0);onUnmounted(()=>{remove(s[r],o)},n)}function injectHook(t,r,n=currentInstance,s=!1){if(n){const o=n[t]||(n[t]=[]),h=r.__weh||(r.__weh=(...l)=>{if(n.isUnmounted)return;pauseTracking(),setCurrentInstance(n);const c=callWithAsyncErrorHandling(r,n,t,l);return unsetCurrentInstance(),resetTracking(),c});return s?o.unshift(h):o.push(h),h}}const createHook=t=>(r,n=currentInstance)=>(!isInSSRComponentSetup||t==="sp")&&injectHook(t,r,n),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(t,r=currentInstance){injectHook("ec",t,r)}let shouldCacheAccess=!0;function applyOptions(t){const r=resolveMergedOptions(t),n=t.proxy,s=t.ctx;shouldCacheAccess=!1,r.beforeCreate&&callHook(r.beforeCreate,t,"bc");const{data:o,computed:h,methods:l,watch:c,provide:d,inject:v,created:g,beforeMount:m,mounted:_,beforeUpdate:y,updated:B,activated:w,deactivated:C,beforeDestroy:b,beforeUnmount:I,destroyed:S,unmounted:R,render:O,renderTracked:P,renderTriggered:N,errorCaptured:M,serverPrefetch:H,expose:Y,inheritAttrs:J,components:ee,directives:te,filters:se}=r;if(v&&resolveInjections(v,s,null,t.appContext.config.unwrapInjectedRef),l)for(const Q in l){const D=l[Q];isFunction$1(D)&&(s[Q]=D.bind(n))}if(o){const Q=o.call(n,n);isObject$2(Q)&&(t.data=reactive(Q))}if(shouldCacheAccess=!0,h)for(const Q in h){const D=h[Q],K=isFunction$1(D)?D.bind(n,n):isFunction$1(D.get)?D.get.bind(n,n):NOOP,X=!isFunction$1(D)&&isFunction$1(D.set)?D.set.bind(n):NOOP,j=computed({get:K,set:X});Object.defineProperty(s,Q,{enumerable:!0,configurable:!0,get:()=>j.value,set:ie=>j.value=ie})}if(c)for(const Q in c)createWatcher(c[Q],s,n,Q);if(d){const Q=isFunction$1(d)?d.call(n):d;Reflect.ownKeys(Q).forEach(D=>{provide(D,Q[D])})}g&&callHook(g,t,"c");function k(Q,D){isArray$3(D)?D.forEach(K=>Q(K.bind(n))):D&&Q(D.bind(n))}if(k(onBeforeMount,m),k(onMounted,_),k(onBeforeUpdate,y),k(onUpdated,B),k(onActivated,w),k(onDeactivated,C),k(onErrorCaptured,M),k(onRenderTracked,P),k(onRenderTriggered,N),k(onBeforeUnmount,I),k(onUnmounted,R),k(onServerPrefetch,H),isArray$3(Y))if(Y.length){const Q=t.exposed||(t.exposed={});Y.forEach(D=>{Object.defineProperty(Q,D,{get:()=>n[D],set:K=>n[D]=K})})}else t.exposed||(t.exposed={});O&&t.render===NOOP&&(t.render=O),J!=null&&(t.inheritAttrs=J),ee&&(t.components=ee),te&&(t.directives=te)}function resolveInjections(t,r,n=NOOP,s=!1){isArray$3(t)&&(t=normalizeInject(t));for(const o in t){const h=t[o];let l;isObject$2(h)?"default"in h?l=inject(h.from||o,h.default,!0):l=inject(h.from||o):l=inject(h),isRef(l)&&s?Object.defineProperty(r,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:c=>l.value=c}):r[o]=l}}function callHook(t,r,n){callWithAsyncErrorHandling(isArray$3(t)?t.map(s=>s.bind(r.proxy)):t.bind(r.proxy),r,n)}function createWatcher(t,r,n,s){const o=s.includes(".")?createPathGetter(n,s):()=>n[s];if(isString$1(t)){const h=r[t];isFunction$1(h)&&watch(o,h)}else if(isFunction$1(t))watch(o,t.bind(n));else if(isObject$2(t))if(isArray$3(t))t.forEach(h=>createWatcher(h,r,n,s));else{const h=isFunction$1(t.handler)?t.handler.bind(n):r[t.handler];isFunction$1(h)&&watch(o,h,t)}}function resolveMergedOptions(t){const r=t.type,{mixins:n,extends:s}=r,{mixins:o,optionsCache:h,config:{optionMergeStrategies:l}}=t.appContext,c=h.get(r);let d;return c?d=c:!o.length&&!n&&!s?d=r:(d={},o.length&&o.forEach(v=>mergeOptions(d,v,l,!0)),mergeOptions(d,r,l)),h.set(r,d),d}function mergeOptions(t,r,n,s=!1){const{mixins:o,extends:h}=r;h&&mergeOptions(t,h,n,!0),o&&o.forEach(l=>mergeOptions(t,l,n,!0));for(const l in r)if(!(s&&l==="expose")){const c=internalOptionMergeStrats[l]||n&&n[l];t[l]=c?c(t[l],r[l]):r[l]}return t}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(t,r){return r?t?function(){return extend$1(isFunction$1(t)?t.call(this,this):t,isFunction$1(r)?r.call(this,this):r)}:r:t}function mergeInject(t,r){return mergeObjectOptions(normalizeInject(t),normalizeInject(r))}function normalizeInject(t){if(isArray$3(t)){const r={};for(let n=0;n<t.length;n++)r[t[n]]=t[n];return r}return t}function mergeAsArray(t,r){return t?[...new Set([].concat(t,r))]:r}function mergeObjectOptions(t,r){return t?extend$1(extend$1(Object.create(null),t),r):r}function mergeWatchOptions(t,r){if(!t)return r;if(!r)return t;const n=extend$1(Object.create(null),t);for(const s in r)n[s]=mergeAsArray(t[s],r[s]);return n}function initProps(t,r,n,s=!1){const o={},h={};def(h,InternalObjectKey,1),t.propsDefaults=Object.create(null),setFullProps(t,r,o,h);for(const l in t.propsOptions[0])l in o||(o[l]=void 0);n?t.props=s?o:shallowReactive(o):t.type.props?t.props=o:t.props=h,t.attrs=h}function updateProps(t,r,n,s){const{props:o,attrs:h,vnode:{patchFlag:l}}=t,c=toRaw(o),[d]=t.propsOptions;let v=!1;if((s||l>0)&&!(l&16)){if(l&8){const g=t.vnode.dynamicProps;for(let m=0;m<g.length;m++){let _=g[m];const y=r[_];if(d)if(hasOwn(h,_))y!==h[_]&&(h[_]=y,v=!0);else{const B=camelize(_);o[B]=resolvePropValue(d,c,B,y,t,!1)}else y!==h[_]&&(h[_]=y,v=!0)}}}else{setFullProps(t,r,o,h)&&(v=!0);let g;for(const m in c)(!r||!hasOwn(r,m)&&((g=hyphenate(m))===m||!hasOwn(r,g)))&&(d?n&&(n[m]!==void 0||n[g]!==void 0)&&(o[m]=resolvePropValue(d,c,m,void 0,t,!0)):delete o[m]);if(h!==c)for(const m in h)(!r||!hasOwn(r,m)&&!0)&&(delete h[m],v=!0)}v&&trigger(t,"set","$attrs")}function setFullProps(t,r,n,s){const[o,h]=t.propsOptions;let l=!1,c;if(r)for(let d in r){if(isReservedProp(d))continue;const v=r[d];let g;o&&hasOwn(o,g=camelize(d))?!h||!h.includes(g)?n[g]=v:(c||(c={}))[g]=v:isEmitListener(t.emitsOptions,d)||(!(d in s)||v!==s[d])&&(s[d]=v,l=!0)}if(h){const d=toRaw(n),v=c||EMPTY_OBJ;for(let g=0;g<h.length;g++){const m=h[g];n[m]=resolvePropValue(o,d,m,v[m],t,!hasOwn(v,m))}}return l}function resolvePropValue(t,r,n,s,o,h){const l=t[n];if(l!=null){const c=hasOwn(l,"default");if(c&&s===void 0){const d=l.default;if(l.type!==Function&&isFunction$1(d)){const{propsDefaults:v}=o;n in v?s=v[n]:(setCurrentInstance(o),s=v[n]=d.call(null,r),unsetCurrentInstance())}else s=d}l[0]&&(h&&!c?s=!1:l[1]&&(s===""||s===hyphenate(n))&&(s=!0))}return s}function normalizePropsOptions(t,r,n=!1){const s=r.propsCache,o=s.get(t);if(o)return o;const h=t.props,l={},c=[];let d=!1;if(!isFunction$1(t)){const g=m=>{d=!0;const[_,y]=normalizePropsOptions(m,r,!0);extend$1(l,_),y&&c.push(...y)};!n&&r.mixins.length&&r.mixins.forEach(g),t.extends&&g(t.extends),t.mixins&&t.mixins.forEach(g)}if(!h&&!d)return s.set(t,EMPTY_ARR),EMPTY_ARR;if(isArray$3(h))for(let g=0;g<h.length;g++){const m=camelize(h[g]);validatePropName(m)&&(l[m]=EMPTY_OBJ)}else if(h)for(const g in h){const m=camelize(g);if(validatePropName(m)){const _=h[g],y=l[m]=isArray$3(_)||isFunction$1(_)?{type:_}:_;if(y){const B=getTypeIndex(Boolean,y.type),w=getTypeIndex(String,y.type);y[0]=B>-1,y[1]=w<0||B<w,(B>-1||hasOwn(y,"default"))&&c.push(m)}}}const v=[l,c];return s.set(t,v),v}function validatePropName(t){return t[0]!=="$"}function getType(t){const r=t&&t.toString().match(/^\s*function (\w+)/);return r?r[1]:t===null?"null":""}function isSameType(t,r){return getType(t)===getType(r)}function getTypeIndex(t,r){return isArray$3(r)?r.findIndex(n=>isSameType(n,t)):isFunction$1(r)&&isSameType(r,t)?0:-1}const isInternalKey=t=>t[0]==="_"||t==="$stable",normalizeSlotValue=t=>isArray$3(t)?t.map(normalizeVNode):[normalizeVNode(t)],normalizeSlot=(t,r,n)=>{const s=withCtx((...o)=>normalizeSlotValue(r(...o)),n);return s._c=!1,s},normalizeObjectSlots=(t,r,n)=>{const s=t._ctx;for(const o in t){if(isInternalKey(o))continue;const h=t[o];if(isFunction$1(h))r[o]=normalizeSlot(o,h,s);else if(h!=null){const l=normalizeSlotValue(h);r[o]=()=>l}}},normalizeVNodeSlots=(t,r)=>{const n=normalizeSlotValue(r);t.slots.default=()=>n},initSlots=(t,r)=>{if(t.vnode.shapeFlag&32){const n=r._;n?(t.slots=toRaw(r),def(r,"_",n)):normalizeObjectSlots(r,t.slots={})}else t.slots={},r&&normalizeVNodeSlots(t,r);def(t.slots,InternalObjectKey,1)},updateSlots=(t,r,n)=>{const{vnode:s,slots:o}=t;let h=!0,l=EMPTY_OBJ;if(s.shapeFlag&32){const c=r._;c?n&&c===1?h=!1:(extend$1(o,r),!n&&c===1&&delete o._):(h=!r.$stable,normalizeObjectSlots(r,o)),l=r}else r&&(normalizeVNodeSlots(t,r),l={default:1});if(h)for(const c in o)!isInternalKey(c)&&!(c in l)&&delete o[c]};function withDirectives(t,r){const n=currentRenderingInstance;if(n===null)return t;const s=n.proxy,o=t.dirs||(t.dirs=[]);for(let h=0;h<r.length;h++){let[l,c,d,v=EMPTY_OBJ]=r[h];isFunction$1(l)&&(l={mounted:l,updated:l}),l.deep&&traverse(c),o.push({dir:l,instance:s,value:c,oldValue:void 0,arg:d,modifiers:v})}return t}function invokeDirectiveHook(t,r,n,s){const o=t.dirs,h=r&&r.dirs;for(let l=0;l<o.length;l++){const c=o[l];h&&(c.oldValue=h[l].value);let d=c.dir[s];d&&(pauseTracking(),callWithAsyncErrorHandling(d,n,8,[t.el,c,t,r]),resetTracking())}}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$2=0;function createAppAPI(t,r){return function(s,o=null){o!=null&&!isObject$2(o)&&(o=null);const h=createAppContext(),l=new Set;let c=!1;const d=h.app={_uid:uid$2++,_component:s,_props:o,_container:null,_context:h,_instance:null,version,get config(){return h.config},set config(v){},use(v,...g){return l.has(v)||(v&&isFunction$1(v.install)?(l.add(v),v.install(d,...g)):isFunction$1(v)&&(l.add(v),v(d,...g))),d},mixin(v){return h.mixins.includes(v)||h.mixins.push(v),d},component(v,g){return g?(h.components[v]=g,d):h.components[v]},directive(v,g){return g?(h.directives[v]=g,d):h.directives[v]},mount(v,g,m){if(!c){const _=createVNode(s,o);return _.appContext=h,g&&r?r(_,v):t(_,v,m),c=!0,d._container=v,v.__vue_app__=d,getExposeProxy(_.component)||_.component.proxy}},unmount(){c&&(t(null,d._container),delete d._container.__vue_app__)},provide(v,g){return h.provides[v]=g,d}};return d}}function setRef(t,r,n,s,o=!1){if(isArray$3(t)){t.forEach((_,y)=>setRef(_,r&&(isArray$3(r)?r[y]:r),n,s,o));return}if(isAsyncWrapper(s)&&!o)return;const h=s.shapeFlag&4?getExposeProxy(s.component)||s.component.proxy:s.el,l=o?null:h,{i:c,r:d}=t,v=r&&r.r,g=c.refs===EMPTY_OBJ?c.refs={}:c.refs,m=c.setupState;if(v!=null&&v!==d&&(isString$1(v)?(g[v]=null,hasOwn(m,v)&&(m[v]=null)):isRef(v)&&(v.value=null)),isFunction$1(d))callWithErrorHandling(d,c,12,[l,g]);else{const _=isString$1(d),y=isRef(d);if(_||y){const B=()=>{if(t.f){const w=_?g[d]:d.value;o?isArray$3(w)&&remove(w,h):isArray$3(w)?w.includes(h)||w.push(h):_?g[d]=[h]:(d.value=[h],t.k&&(g[t.k]=d.value))}else _?(g[d]=l,hasOwn(m,d)&&(m[d]=l)):isRef(d)&&(d.value=l,t.k&&(g[t.k]=l))};l?(B.id=-1,queuePostRenderEffect(B,n)):B()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(t){return baseCreateRenderer(t)}function baseCreateRenderer(t,r){const n=getGlobalThis();n.__VUE__=!0;const{insert:s,remove:o,patchProp:h,createElement:l,createText:c,createComment:d,setText:v,setElementText:g,parentNode:m,nextSibling:_,setScopeId:y=NOOP,cloneNode:B,insertStaticContent:w}=t,C=(G,q,re,ne=null,Ae=null,le=null,de=!1,ue=null,fe=!!q.dynamicChildren)=>{if(G===q)return;G&&!isSameVNodeType(G,q)&&(ne=Te(G),ae(G,Ae,le,!0),G=null),q.patchFlag===-2&&(fe=!1,q.dynamicChildren=null);const{type:he,ref:Ee,shapeFlag:me}=q;switch(he){case Text$1:b(G,q,re,ne);break;case Comment:I(G,q,re,ne);break;case Static:G==null&&S(q,re,ne,de);break;case Fragment:te(G,q,re,ne,Ae,le,de,ue,fe);break;default:me&1?P(G,q,re,ne,Ae,le,de,ue,fe):me&6?se(G,q,re,ne,Ae,le,de,ue,fe):(me&64||me&128)&&he.process(G,q,re,ne,Ae,le,de,ue,fe,_e)}Ee!=null&&Ae&&setRef(Ee,G&&G.ref,le,q||G,!q)},b=(G,q,re,ne)=>{if(G==null)s(q.el=c(q.children),re,ne);else{const Ae=q.el=G.el;q.children!==G.children&&v(Ae,q.children)}},I=(G,q,re,ne)=>{G==null?s(q.el=d(q.children||""),re,ne):q.el=G.el},S=(G,q,re,ne)=>{[G.el,G.anchor]=w(G.children,q,re,ne,G.el,G.anchor)},R=({el:G,anchor:q},re,ne)=>{let Ae;for(;G&&G!==q;)Ae=_(G),s(G,re,ne),G=Ae;s(q,re,ne)},O=({el:G,anchor:q})=>{let re;for(;G&&G!==q;)re=_(G),o(G),G=re;o(q)},P=(G,q,re,ne,Ae,le,de,ue,fe)=>{de=de||q.type==="svg",G==null?N(q,re,ne,Ae,le,de,ue,fe):Y(G,q,Ae,le,de,ue,fe)},N=(G,q,re,ne,Ae,le,de,ue)=>{let fe,he;const{type:Ee,props:me,shapeFlag:Be,transition:Ce,patchFlag:be,dirs:Se}=G;if(G.el&&B!==void 0&&be===-1)fe=G.el=B(G.el);else{if(fe=G.el=l(G.type,le,me&&me.is,me),Be&8?g(fe,G.children):Be&16&&H(G.children,fe,null,ne,Ae,le&&Ee!=="foreignObject",de,ue),Se&&invokeDirectiveHook(G,null,ne,"created"),me){for(const xe in me)xe!=="value"&&!isReservedProp(xe)&&h(fe,xe,null,me[xe],le,G.children,ne,Ae,ge);"value"in me&&h(fe,"value",null,me.value),(he=me.onVnodeBeforeMount)&&invokeVNodeHook(he,ne,G)}M(fe,G,G.scopeId,de,ne)}Se&&invokeDirectiveHook(G,null,ne,"beforeMount");const Ie=(!Ae||Ae&&!Ae.pendingBranch)&&Ce&&!Ce.persisted;Ie&&Ce.beforeEnter(fe),s(fe,q,re),((he=me&&me.onVnodeMounted)||Ie||Se)&&queuePostRenderEffect(()=>{he&&invokeVNodeHook(he,ne,G),Ie&&Ce.enter(fe),Se&&invokeDirectiveHook(G,null,ne,"mounted")},Ae)},M=(G,q,re,ne,Ae)=>{if(re&&y(G,re),ne)for(let le=0;le<ne.length;le++)y(G,ne[le]);if(Ae){let le=Ae.subTree;if(q===le){const de=Ae.vnode;M(G,de,de.scopeId,de.slotScopeIds,Ae.parent)}}},H=(G,q,re,ne,Ae,le,de,ue,fe=0)=>{for(let he=fe;he<G.length;he++){const Ee=G[he]=ue?cloneIfMounted(G[he]):normalizeVNode(G[he]);C(null,Ee,q,re,ne,Ae,le,de,ue)}},Y=(G,q,re,ne,Ae,le,de)=>{const ue=q.el=G.el;let{patchFlag:fe,dynamicChildren:he,dirs:Ee}=q;fe|=G.patchFlag&16;const me=G.props||EMPTY_OBJ,Be=q.props||EMPTY_OBJ;let Ce;re&&toggleRecurse(re,!1),(Ce=Be.onVnodeBeforeUpdate)&&invokeVNodeHook(Ce,re,q,G),Ee&&invokeDirectiveHook(q,G,re,"beforeUpdate"),re&&toggleRecurse(re,!0);const be=Ae&&q.type!=="foreignObject";if(he?J(G.dynamicChildren,he,ue,re,ne,be,le):de||K(G,q,ue,null,re,ne,be,le,!1),fe>0){if(fe&16)ee(ue,q,me,Be,re,ne,Ae);else if(fe&2&&me.class!==Be.class&&h(ue,"class",null,Be.class,Ae),fe&4&&h(ue,"style",me.style,Be.style,Ae),fe&8){const Se=q.dynamicProps;for(let Ie=0;Ie<Se.length;Ie++){const xe=Se[Ie],Re=me[xe],Ue=Be[xe];(Ue!==Re||xe==="value")&&h(ue,xe,Re,Ue,Ae,G.children,re,ne,ge)}}fe&1&&G.children!==q.children&&g(ue,q.children)}else!de&&he==null&&ee(ue,q,me,Be,re,ne,Ae);((Ce=Be.onVnodeUpdated)||Ee)&&queuePostRenderEffect(()=>{Ce&&invokeVNodeHook(Ce,re,q,G),Ee&&invokeDirectiveHook(q,G,re,"updated")},ne)},J=(G,q,re,ne,Ae,le,de)=>{for(let ue=0;ue<q.length;ue++){const fe=G[ue],he=q[ue],Ee=fe.el&&(fe.type===Fragment||!isSameVNodeType(fe,he)||fe.shapeFlag&70)?m(fe.el):re;C(fe,he,Ee,null,ne,Ae,le,de,!0)}},ee=(G,q,re,ne,Ae,le,de)=>{if(re!==ne){for(const ue in ne){if(isReservedProp(ue))continue;const fe=ne[ue],he=re[ue];fe!==he&&ue!=="value"&&h(G,ue,he,fe,de,q.children,Ae,le,ge)}if(re!==EMPTY_OBJ)for(const ue in re)!isReservedProp(ue)&&!(ue in ne)&&h(G,ue,re[ue],null,de,q.children,Ae,le,ge);"value"in ne&&h(G,"value",re.value,ne.value)}},te=(G,q,re,ne,Ae,le,de,ue,fe)=>{const he=q.el=G?G.el:c(""),Ee=q.anchor=G?G.anchor:c("");let{patchFlag:me,dynamicChildren:Be,slotScopeIds:Ce}=q;Ce&&(ue=ue?ue.concat(Ce):Ce),G==null?(s(he,re,ne),s(Ee,re,ne),H(q.children,re,Ee,Ae,le,de,ue,fe)):me>0&&me&64&&Be&&G.dynamicChildren?(J(G.dynamicChildren,Be,re,Ae,le,de,ue),(q.key!=null||Ae&&q===Ae.subTree)&&traverseStaticChildren(G,q,!0)):K(G,q,re,Ee,Ae,le,de,ue,fe)},se=(G,q,re,ne,Ae,le,de,ue,fe)=>{q.slotScopeIds=ue,G==null?q.shapeFlag&512?Ae.ctx.activate(q,re,ne,de,fe):W(q,re,ne,Ae,le,de,fe):k(G,q,fe)},W=(G,q,re,ne,Ae,le,de)=>{const ue=G.component=createComponentInstance(G,ne,Ae);if(isKeepAlive(G)&&(ue.ctx.renderer=_e),setupComponent(ue),ue.asyncDep){if(Ae&&Ae.registerDep(ue,Q),!G.el){const fe=ue.subTree=createVNode(Comment);I(null,fe,q,re)}return}Q(ue,G,q,re,Ae,le,de)},k=(G,q,re)=>{const ne=q.component=G.component;if(shouldUpdateComponent(G,q,re))if(ne.asyncDep&&!ne.asyncResolved){D(ne,q,re);return}else ne.next=q,invalidateJob(ne.update),ne.update();else q.component=G.component,q.el=G.el,ne.vnode=q},Q=(G,q,re,ne,Ae,le,de)=>{const ue=()=>{if(G.isMounted){let{next:Ee,bu:me,u:Be,parent:Ce,vnode:be}=G,Se=Ee,Ie;toggleRecurse(G,!1),Ee?(Ee.el=be.el,D(G,Ee,de)):Ee=be,me&&invokeArrayFns(me),(Ie=Ee.props&&Ee.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Ie,Ce,Ee,be),toggleRecurse(G,!0);const xe=renderComponentRoot(G),Re=G.subTree;G.subTree=xe,C(Re,xe,m(Re.el),Te(Re),G,Ae,le),Ee.el=xe.el,Se===null&&updateHOCHostEl(G,xe.el),Be&&queuePostRenderEffect(Be,Ae),(Ie=Ee.props&&Ee.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Ie,Ce,Ee,be),Ae)}else{let Ee;const{el:me,props:Be}=q,{bm:Ce,m:be,parent:Se}=G,Ie=isAsyncWrapper(q);if(toggleRecurse(G,!1),Ce&&invokeArrayFns(Ce),!Ie&&(Ee=Be&&Be.onVnodeBeforeMount)&&invokeVNodeHook(Ee,Se,q),toggleRecurse(G,!0),me&&ye){const xe=()=>{G.subTree=renderComponentRoot(G),ye(me,G.subTree,G,Ae,null)};Ie?q.type.__asyncLoader().then(()=>!G.isUnmounted&&xe()):xe()}else{const xe=G.subTree=renderComponentRoot(G);C(null,xe,re,ne,G,Ae,le),q.el=xe.el}if(be&&queuePostRenderEffect(be,Ae),!Ie&&(Ee=Be&&Be.onVnodeMounted)){const xe=q;queuePostRenderEffect(()=>invokeVNodeHook(Ee,Se,xe),Ae)}q.shapeFlag&256&&G.a&&queuePostRenderEffect(G.a,Ae),G.isMounted=!0,q=re=ne=null}},fe=G.effect=new ReactiveEffect(ue,()=>queueJob(G.update),G.scope),he=G.update=fe.run.bind(fe);he.id=G.uid,toggleRecurse(G,!0),he()},D=(G,q,re)=>{q.component=G;const ne=G.vnode.props;G.vnode=q,G.next=null,updateProps(G,q.props,ne,re),updateSlots(G,q.children,re),pauseTracking(),flushPreFlushCbs(void 0,G.update),resetTracking()},K=(G,q,re,ne,Ae,le,de,ue,fe=!1)=>{const he=G&&G.children,Ee=G?G.shapeFlag:0,me=q.children,{patchFlag:Be,shapeFlag:Ce}=q;if(Be>0){if(Be&128){j(he,me,re,ne,Ae,le,de,ue,fe);return}else if(Be&256){X(he,me,re,ne,Ae,le,de,ue,fe);return}}Ce&8?(Ee&16&&ge(he,Ae,le),me!==he&&g(re,me)):Ee&16?Ce&16?j(he,me,re,ne,Ae,le,de,ue,fe):ge(he,Ae,le,!0):(Ee&8&&g(re,""),Ce&16&&H(me,re,ne,Ae,le,de,ue,fe))},X=(G,q,re,ne,Ae,le,de,ue,fe)=>{G=G||EMPTY_ARR,q=q||EMPTY_ARR;const he=G.length,Ee=q.length,me=Math.min(he,Ee);let Be;for(Be=0;Be<me;Be++){const Ce=q[Be]=fe?cloneIfMounted(q[Be]):normalizeVNode(q[Be]);C(G[Be],Ce,re,null,Ae,le,de,ue,fe)}he>Ee?ge(G,Ae,le,!0,!1,me):H(q,re,ne,Ae,le,de,ue,fe,me)},j=(G,q,re,ne,Ae,le,de,ue,fe)=>{let he=0;const Ee=q.length;let me=G.length-1,Be=Ee-1;for(;he<=me&&he<=Be;){const Ce=G[he],be=q[he]=fe?cloneIfMounted(q[he]):normalizeVNode(q[he]);if(isSameVNodeType(Ce,be))C(Ce,be,re,null,Ae,le,de,ue,fe);else break;he++}for(;he<=me&&he<=Be;){const Ce=G[me],be=q[Be]=fe?cloneIfMounted(q[Be]):normalizeVNode(q[Be]);if(isSameVNodeType(Ce,be))C(Ce,be,re,null,Ae,le,de,ue,fe);else break;me--,Be--}if(he>me){if(he<=Be){const Ce=Be+1,be=Ce<Ee?q[Ce].el:ne;for(;he<=Be;)C(null,q[he]=fe?cloneIfMounted(q[he]):normalizeVNode(q[he]),re,be,Ae,le,de,ue,fe),he++}}else if(he>Be)for(;he<=me;)ae(G[he],Ae,le,!0),he++;else{const Ce=he,be=he,Se=new Map;for(he=be;he<=Be;he++){const Fe=q[he]=fe?cloneIfMounted(q[he]):normalizeVNode(q[he]);Fe.key!=null&&Se.set(Fe.key,he)}let Ie,xe=0;const Re=Be-be+1;let Ue=!1,Ne=0;const Oe=new Array(Re);for(he=0;he<Re;he++)Oe[he]=0;for(he=Ce;he<=me;he++){const Fe=G[he];if(xe>=Re){ae(Fe,Ae,le,!0);continue}let Pe;if(Fe.key!=null)Pe=Se.get(Fe.key);else for(Ie=be;Ie<=Be;Ie++)if(Oe[Ie-be]===0&&isSameVNodeType(Fe,q[Ie])){Pe=Ie;break}Pe===void 0?ae(Fe,Ae,le,!0):(Oe[Pe-be]=he+1,Pe>=Ne?Ne=Pe:Ue=!0,C(Fe,q[Pe],re,null,Ae,le,de,ue,fe),xe++)}const Me=Ue?getSequence(Oe):EMPTY_ARR;for(Ie=Me.length-1,he=Re-1;he>=0;he--){const Fe=be+he,Pe=q[Fe],Le=Fe+1<Ee?q[Fe+1].el:ne;Oe[he]===0?C(null,Pe,re,Le,Ae,le,de,ue,fe):Ue&&(Ie<0||he!==Me[Ie]?ie(Pe,re,Le,2):Ie--)}}},ie=(G,q,re,ne,Ae=null)=>{const{el:le,type:de,transition:ue,children:fe,shapeFlag:he}=G;if(he&6){ie(G.component.subTree,q,re,ne);return}if(he&128){G.suspense.move(q,re,ne);return}if(he&64){de.move(G,q,re,_e);return}if(de===Fragment){s(le,q,re);for(let me=0;me<fe.length;me++)ie(fe[me],q,re,ne);s(G.anchor,q,re);return}if(de===Static){R(G,q,re);return}if(ne!==2&&he&1&&ue)if(ne===0)ue.beforeEnter(le),s(le,q,re),queuePostRenderEffect(()=>ue.enter(le),Ae);else{const{leave:me,delayLeave:Be,afterLeave:Ce}=ue,be=()=>s(le,q,re),Se=()=>{me(le,()=>{be(),Ce&&Ce()})};Be?Be(le,be,Se):Se()}else s(le,q,re)},ae=(G,q,re,ne=!1,Ae=!1)=>{const{type:le,props:de,ref:ue,children:fe,dynamicChildren:he,shapeFlag:Ee,patchFlag:me,dirs:Be}=G;if(ue!=null&&setRef(ue,null,re,G,!0),Ee&256){q.ctx.deactivate(G);return}const Ce=Ee&1&&Be,be=!isAsyncWrapper(G);let Se;if(be&&(Se=de&&de.onVnodeBeforeUnmount)&&invokeVNodeHook(Se,q,G),Ee&6)ce(G.component,re,ne);else{if(Ee&128){G.suspense.unmount(re,ne);return}Ce&&invokeDirectiveHook(G,null,q,"beforeUnmount"),Ee&64?G.type.remove(G,q,re,Ae,_e,ne):he&&(le!==Fragment||me>0&&me&64)?ge(he,q,re,!1,!0):(le===Fragment&&me&384||!Ae&&Ee&16)&&ge(fe,q,re),ne&&oe(G)}(be&&(Se=de&&de.onVnodeUnmounted)||Ce)&&queuePostRenderEffect(()=>{Se&&invokeVNodeHook(Se,q,G),Ce&&invokeDirectiveHook(G,null,q,"unmounted")},re)},oe=G=>{const{type:q,el:re,anchor:ne,transition:Ae}=G;if(q===Fragment){ve(re,ne);return}if(q===Static){O(G);return}const le=()=>{o(re),Ae&&!Ae.persisted&&Ae.afterLeave&&Ae.afterLeave()};if(G.shapeFlag&1&&Ae&&!Ae.persisted){const{leave:de,delayLeave:ue}=Ae,fe=()=>de(re,le);ue?ue(G.el,le,fe):fe()}else le()},ve=(G,q)=>{let re;for(;G!==q;)re=_(G),o(G),G=re;o(q)},ce=(G,q,re)=>{const{bum:ne,scope:Ae,update:le,subTree:de,um:ue}=G;ne&&invokeArrayFns(ne),Ae.stop(),le&&(le.active=!1,ae(de,G,q,re)),ue&&queuePostRenderEffect(ue,q),queuePostRenderEffect(()=>{G.isUnmounted=!0},q),q&&q.pendingBranch&&!q.isUnmounted&&G.asyncDep&&!G.asyncResolved&&G.suspenseId===q.pendingId&&(q.deps--,q.deps===0&&q.resolve())},ge=(G,q,re,ne=!1,Ae=!1,le=0)=>{for(let de=le;de<G.length;de++)ae(G[de],q,re,ne,Ae)},Te=G=>G.shapeFlag&6?Te(G.component.subTree):G.shapeFlag&128?G.suspense.next():_(G.anchor||G.el),we=(G,q,re)=>{G==null?q._vnode&&ae(q._vnode,null,null,!0):C(q._vnode||null,G,q,null,null,null,re),flushPostFlushCbs(),q._vnode=G},_e={p:C,um:ae,m:ie,r:oe,mt:W,mc:H,pc:K,pbc:J,n:Te,o:t};let pe,ye;return r&&([pe,ye]=r(_e)),{render:we,hydrate:pe,createApp:createAppAPI(we,pe)}}function toggleRecurse({effect:t,update:r},n){t.allowRecurse=r.allowRecurse=n}function traverseStaticChildren(t,r,n=!1){const s=t.children,o=r.children;if(isArray$3(s)&&isArray$3(o))for(let h=0;h<s.length;h++){const l=s[h];let c=o[h];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=o[h]=cloneIfMounted(o[h]),c.el=l.el),n||traverseStaticChildren(l,c))}}function getSequence(t){const r=t.slice(),n=[0];let s,o,h,l,c;const d=t.length;for(s=0;s<d;s++){const v=t[s];if(v!==0){if(o=n[n.length-1],t[o]<v){r[s]=o,n.push(s);continue}for(h=0,l=n.length-1;h<l;)c=h+l>>1,t[n[c]]<v?h=c+1:l=c;v<t[n[h]]&&(h>0&&(r[s]=n[h-1]),n[h]=s)}}for(h=n.length,l=n[h-1];h-- >0;)n[h]=l,l=r[l];return n}const isTeleport=t=>t.__isTeleport,COMPONENTS="components",DIRECTIVES="directives",NULL_DYNAMIC_COMPONENT=Symbol();function resolveDirective(t){return resolveAsset(DIRECTIVES,t)}function resolveAsset(t,r,n=!0,s=!1){const o=currentRenderingInstance||currentInstance;if(o){const h=o.type;if(t===COMPONENTS){const c=getComponentName(h);if(c&&(c===r||c===camelize(r)||c===capitalize$1(camelize(r))))return h}const l=resolve$3(o[t]||h[t],r)||resolve$3(o.appContext[t],r);return!l&&s?h:l}}function resolve$3(t,r){return t&&(t[r]||t[camelize(r)]||t[capitalize$1(camelize(r))])}const Fragment=Symbol(void 0),Text$1=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(t=!1){blockStack.push(currentBlock=t?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(t){isBlockTreeEnabled+=t}function setupBlock(t){return t.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),t}function createElementBlock(t,r,n,s,o,h){return setupBlock(createBaseVNode(t,r,n,s,o,h,!0))}function isVNode(t){return t?t.__v_isVNode===!0:!1}function isSameVNodeType(t,r){return t.type===r.type&&t.key===r.key}const InternalObjectKey="__vInternal",normalizeKey=({key:t})=>t!=null?t:null,normalizeRef=({ref:t,ref_key:r,ref_for:n})=>t!=null?isString$1(t)||isRef(t)||isFunction$1(t)?{i:currentRenderingInstance,r:t,k:r,f:!!n}:t:null;function createBaseVNode(t,r=null,n=null,s=0,o=null,h=t===Fragment?0:1,l=!1,c=!1){const d={__v_isVNode:!0,__v_skip:!0,type:t,props:r,key:r&&normalizeKey(r),ref:r&&normalizeRef(r),scopeId:currentScopeId,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:h,patchFlag:s,dynamicProps:o,dynamicChildren:null,appContext:null};return c?(normalizeChildren(d,n),h&128&&t.normalize(d)):n&&(d.shapeFlag|=isString$1(n)?8:16),isBlockTreeEnabled>0&&!l&&currentBlock&&(d.patchFlag>0||h&6)&&d.patchFlag!==32&&currentBlock.push(d),d}const createVNode=_createVNode;function _createVNode(t,r=null,n=null,s=0,o=null,h=!1){if((!t||t===NULL_DYNAMIC_COMPONENT)&&(t=Comment),isVNode(t)){const c=cloneVNode(t,r,!0);return n&&normalizeChildren(c,n),c}if(isClassComponent(t)&&(t=t.__vccOpts),r){r=guardReactiveProps(r);let{class:c,style:d}=r;c&&!isString$1(c)&&(r.class=normalizeClass(c)),isObject$2(d)&&(isProxy(d)&&!isArray$3(d)&&(d=extend$1({},d)),r.style=normalizeStyle(d))}const l=isString$1(t)?1:isSuspense(t)?128:isTeleport(t)?64:isObject$2(t)?4:isFunction$1(t)?2:0;return createBaseVNode(t,r,n,s,o,l,h,!0)}function guardReactiveProps(t){return t?isProxy(t)||InternalObjectKey in t?extend$1({},t):t:null}function cloneVNode(t,r,n=!1){const{props:s,ref:o,patchFlag:h,children:l}=t,c=r?mergeProps(s||{},r):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&normalizeKey(c),ref:r&&r.ref?n&&o?isArray$3(o)?o.concat(normalizeRef(r)):[o,normalizeRef(r)]:normalizeRef(r):o,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:r&&t.type!==Fragment?h===-1?16:h|16:h,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cloneVNode(t.ssContent),ssFallback:t.ssFallback&&cloneVNode(t.ssFallback),el:t.el,anchor:t.anchor}}function createTextVNode(t=" ",r=0){return createVNode(Text$1,null,t,r)}function normalizeVNode(t){return t==null||typeof t=="boolean"?createVNode(Comment):isArray$3(t)?createVNode(Fragment,null,t.slice()):typeof t=="object"?cloneIfMounted(t):createVNode(Text$1,null,String(t))}function cloneIfMounted(t){return t.el===null||t.memo?t:cloneVNode(t)}function normalizeChildren(t,r){let n=0;const{shapeFlag:s}=t;if(r==null)r=null;else if(isArray$3(r))n=16;else if(typeof r=="object")if(s&65){const o=r.default;o&&(o._c&&(o._d=!1),normalizeChildren(t,o()),o._c&&(o._d=!0));return}else{n=32;const o=r._;!o&&!(InternalObjectKey in r)?r._ctx=currentRenderingInstance:o===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?r._=1:(r._=2,t.patchFlag|=1024))}else isFunction$1(r)?(r={default:r,_ctx:currentRenderingInstance},n=32):(r=String(r),s&64?(n=16,r=[createTextVNode(r)]):n=8);t.children=r,t.shapeFlag|=n}function mergeProps(...t){const r={};for(let n=0;n<t.length;n++){const s=t[n];for(const o in s)if(o==="class")r.class!==s.class&&(r.class=normalizeClass([r.class,s.class]));else if(o==="style")r.style=normalizeStyle([r.style,s.style]);else if(isOn(o)){const h=r[o],l=s[o];l&&h!==l&&!(isArray$3(h)&&h.includes(l))&&(r[o]=h?[].concat(h,l):l)}else o!==""&&(r[o]=s[o])}return r}function invokeVNodeHook(t,r,n,s=null){callWithAsyncErrorHandling(t,r,7,[n,s])}const getPublicInstance=t=>t?isStatefulComponent(t)?getExposeProxy(t)||t.proxy:getPublicInstance(t.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>getPublicInstance(t.parent),$root:t=>getPublicInstance(t.root),$emit:t=>t.emit,$options:t=>resolveMergedOptions(t),$forceUpdate:t=>()=>queueJob(t.update),$nextTick:t=>nextTick.bind(t.proxy),$watch:t=>instanceWatch.bind(t)}),PublicInstanceProxyHandlers={get({_:t},r){const{ctx:n,setupState:s,data:o,props:h,accessCache:l,type:c,appContext:d}=t;let v;if(r[0]!=="$"){const y=l[r];if(y!==void 0)switch(y){case 1:return s[r];case 2:return o[r];case 4:return n[r];case 3:return h[r]}else{if(s!==EMPTY_OBJ&&hasOwn(s,r))return l[r]=1,s[r];if(o!==EMPTY_OBJ&&hasOwn(o,r))return l[r]=2,o[r];if((v=t.propsOptions[0])&&hasOwn(v,r))return l[r]=3,h[r];if(n!==EMPTY_OBJ&&hasOwn(n,r))return l[r]=4,n[r];shouldCacheAccess&&(l[r]=0)}}const g=publicPropertiesMap[r];let m,_;if(g)return r==="$attrs"&&track(t,"get",r),g(t);if((m=c.__cssModules)&&(m=m[r]))return m;if(n!==EMPTY_OBJ&&hasOwn(n,r))return l[r]=4,n[r];if(_=d.config.globalProperties,hasOwn(_,r))return _[r]},set({_:t},r,n){const{data:s,setupState:o,ctx:h}=t;return o!==EMPTY_OBJ&&hasOwn(o,r)?(o[r]=n,!0):s!==EMPTY_OBJ&&hasOwn(s,r)?(s[r]=n,!0):hasOwn(t.props,r)||r[0]==="$"&&r.slice(1)in t?!1:(h[r]=n,!0)},has({_:{data:t,setupState:r,accessCache:n,ctx:s,appContext:o,propsOptions:h}},l){let c;return!!n[l]||t!==EMPTY_OBJ&&hasOwn(t,l)||r!==EMPTY_OBJ&&hasOwn(r,l)||(c=h[0])&&hasOwn(c,l)||hasOwn(s,l)||hasOwn(publicPropertiesMap,l)||hasOwn(o.config.globalProperties,l)},defineProperty(t,r,n){return n.get!=null?this.set(t,r,n.get(),null):n.value!=null&&this.set(t,r,n.value,null),Reflect.defineProperty(t,r,n)}},emptyAppContext=createAppContext();let uid$1$1=0;function createComponentInstance(t,r,n){const s=t.type,o=(r?r.appContext:t.appContext)||emptyAppContext,h={uid:uid$1$1++,vnode:t,type:s,parent:r,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(s,o),emitsOptions:normalizeEmitsOptions(s,o),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:s.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return h.ctx={_:h},h.root=r?r.root:h,h.emit=emit$1.bind(null,h),t.ce&&t.ce(h),h}let currentInstance=null;const setCurrentInstance=t=>{currentInstance=t,t.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(t){return t.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(t,r=!1){isInSSRComponentSetup=r;const{props:n,children:s}=t.vnode,o=isStatefulComponent(t);initProps(t,n,o,r),initSlots(t,s);const h=o?setupStatefulComponent(t,r):void 0;return isInSSRComponentSetup=!1,h}function setupStatefulComponent(t,r){const n=t.type;t.accessCache=Object.create(null),t.proxy=markRaw(new Proxy(t.ctx,PublicInstanceProxyHandlers));const{setup:s}=n;if(s){const o=t.setupContext=s.length>1?createSetupContext(t):null;setCurrentInstance(t),pauseTracking();const h=callWithErrorHandling(s,t,0,[t.props,o]);if(resetTracking(),unsetCurrentInstance(),isPromise(h)){if(h.then(unsetCurrentInstance,unsetCurrentInstance),r)return h.then(l=>{handleSetupResult(t,l,r)}).catch(l=>{handleError(l,t,0)});t.asyncDep=h}else handleSetupResult(t,h,r)}else finishComponentSetup(t,r)}function handleSetupResult(t,r,n){isFunction$1(r)?t.type.__ssrInlineRender?t.ssrRender=r:t.render=r:isObject$2(r)&&(t.setupState=proxyRefs(r)),finishComponentSetup(t,n)}let compile;function finishComponentSetup(t,r,n){const s=t.type;if(!t.render){if(!r&&compile&&!s.render){const o=s.template;if(o){const{isCustomElement:h,compilerOptions:l}=t.appContext.config,{delimiters:c,compilerOptions:d}=s,v=extend$1(extend$1({isCustomElement:h,delimiters:c},l),d);s.render=compile(o,v)}}t.render=s.render||NOOP}setCurrentInstance(t),pauseTracking(),applyOptions(t),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(t){return new Proxy(t.attrs,{get(r,n){return track(t,"get","$attrs"),r[n]}})}function createSetupContext(t){const r=s=>{t.exposed=s||{}};let n;return{get attrs(){return n||(n=createAttrsProxy(t))},slots:t.slots,emit:t.emit,expose:r}}function getExposeProxy(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(proxyRefs(markRaw(t.exposed)),{get(r,n){if(n in r)return r[n];if(n in publicPropertiesMap)return publicPropertiesMap[n](t)}}))}function getComponentName(t){return isFunction$1(t)&&t.displayName||t.name}function isClassComponent(t){return isFunction$1(t)&&"__vccOpts"in t}const computed=(t,r)=>computed$1(t,r,isInSSRComponentSetup),version="3.2.31",svgNS="http://www.w3.org/2000/svg",doc=typeof document!="undefined"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(t,r,n)=>{r.insertBefore(t,n||null)},remove:t=>{const r=t.parentNode;r&&r.removeChild(t)},createElement:(t,r,n,s)=>{const o=r?doc.createElementNS(svgNS,t):doc.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&o.setAttribute("multiple",s.multiple),o},createText:t=>doc.createTextNode(t),createComment:t=>doc.createComment(t),setText:(t,r)=>{t.nodeValue=r},setElementText:(t,r)=>{t.textContent=r},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>doc.querySelector(t),setScopeId(t,r){t.setAttribute(r,"")},cloneNode(t){const r=t.cloneNode(!0);return"_value"in t&&(r._value=t._value),r},insertStaticContent(t,r,n,s,o,h){const l=n?n.previousSibling:r.lastChild;if(o&&(o===h||o.nextSibling))for(;r.insertBefore(o.cloneNode(!0),n),!(o===h||!(o=o.nextSibling)););else{templateContainer.innerHTML=s?`<svg>${t}</svg>`:t;const c=templateContainer.content;if(s){const d=c.firstChild;for(;d.firstChild;)c.appendChild(d.firstChild);c.removeChild(d)}r.insertBefore(c,n)}return[l?l.nextSibling:r.firstChild,n?n.previousSibling:r.lastChild]}};function patchClass(t,r,n){const s=t._vtc;s&&(r=(r?[r,...s]:[...s]).join(" ")),r==null?t.removeAttribute("class"):n?t.setAttribute("class",r):t.className=r}function patchStyle(t,r,n){const s=t.style,o=isString$1(n);if(n&&!o){for(const h in n)setStyle(s,h,n[h]);if(r&&!isString$1(r))for(const h in r)n[h]==null&&setStyle(s,h,"")}else{const h=s.display;o?r!==n&&(s.cssText=n):r&&t.removeAttribute("style"),"_vod"in t&&(s.display=h)}}const importantRE=/\s*!important$/;function setStyle(t,r,n){if(isArray$3(n))n.forEach(s=>setStyle(t,r,s));else if(r.startsWith("--"))t.setProperty(r,n);else{const s=autoPrefix(t,r);importantRE.test(n)?t.setProperty(hyphenate(s),n.replace(importantRE,""),"important"):t[s]=n}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(t,r){const n=prefixCache[r];if(n)return n;let s=camelize(r);if(s!=="filter"&&s in t)return prefixCache[r]=s;s=capitalize$1(s);for(let o=0;o<prefixes.length;o++){const h=prefixes[o]+s;if(h in t)return prefixCache[r]=h}return r}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(t,r,n,s,o){if(s&&r.startsWith("xlink:"))n==null?t.removeAttributeNS(xlinkNS,r.slice(6,r.length)):t.setAttributeNS(xlinkNS,r,n);else{const h=isSpecialBooleanAttr(r);n==null||h&&!includeBooleanAttr(n)?t.removeAttribute(r):t.setAttribute(r,h?"":n)}}function patchDOMProp(t,r,n,s,o,h,l){if(r==="innerHTML"||r==="textContent"){s&&l(s,o,h),t[r]=n==null?"":n;return}if(r==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const c=n==null?"":n;(t.value!==c||t.tagName==="OPTION")&&(t.value=c),n==null&&t.removeAttribute(r);return}if(n===""||n==null){const c=typeof t[r];if(c==="boolean"){t[r]=includeBooleanAttr(n);return}else if(n==null&&c==="string"){t[r]="",t.removeAttribute(r);return}else if(c==="number"){try{t[r]=0}catch(d){}t.removeAttribute(r);return}}try{t[r]=n}catch(c){}}let _getNow=Date.now,skipTimestampCheck=!1;if(typeof window!="undefined"){_getNow()>document.createEvent("Event").timeStamp&&(_getNow=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);skipTimestampCheck=!!(t&&Number(t[1])<=53)}let cachedNow=0;const p$1=Promise.resolve(),reset=()=>{cachedNow=0},getNow=()=>cachedNow||(p$1.then(reset),cachedNow=_getNow());function addEventListener(t,r,n,s){t.addEventListener(r,n,s)}function removeEventListener(t,r,n,s){t.removeEventListener(r,n,s)}function patchEvent(t,r,n,s,o=null){const h=t._vei||(t._vei={}),l=h[r];if(s&&l)l.value=s;else{const[c,d]=parseName(r);if(s){const v=h[r]=createInvoker(s,o);addEventListener(t,c,v,d)}else l&&(removeEventListener(t,c,l,d),h[r]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(t){let r;if(optionsModifierRE.test(t)){r={};let n;for(;n=t.match(optionsModifierRE);)t=t.slice(0,t.length-n[0].length),r[n[0].toLowerCase()]=!0}return[hyphenate(t.slice(2)),r]}function createInvoker(t,r){const n=s=>{const o=s.timeStamp||_getNow();(skipTimestampCheck||o>=n.attached-1)&&callWithAsyncErrorHandling(patchStopImmediatePropagation(s,n.value),r,5,[s])};return n.value=t,n.attached=getNow(),n}function patchStopImmediatePropagation(t,r){if(isArray$3(r)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},r.map(s=>o=>!o._stopped&&s&&s(o))}else return r}const nativeOnRE=/^on[a-z]/,patchProp=(t,r,n,s,o=!1,h,l,c,d)=>{r==="class"?patchClass(t,s,o):r==="style"?patchStyle(t,n,s):isOn(r)?isModelListener(r)||patchEvent(t,r,n,s,l):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):shouldSetAsProp(t,r,s,o))?patchDOMProp(t,r,s,h,l,c,d):(r==="true-value"?t._trueValue=s:r==="false-value"&&(t._falseValue=s),patchAttr(t,r,s,o))};function shouldSetAsProp(t,r,n,s){return s?!!(r==="innerHTML"||r==="textContent"||r in t&&nativeOnRE.test(r)&&isFunction$1(n)):r==="spellcheck"||r==="draggable"||r==="form"||r==="list"&&t.tagName==="INPUT"||r==="type"&&t.tagName==="TEXTAREA"||nativeOnRE.test(r)&&isString$1(n)?!1:r in t}const rendererOptions=extend$1({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const createApp=(...t)=>{const r=ensureRenderer().createApp(...t),{mount:n}=r;return r.mount=s=>{const o=normalizeContainer(s);if(!o)return;const h=r._component;!isFunction$1(h)&&!h.render&&!h.template&&(h.template=o.innerHTML),o.innerHTML="";const l=n(o,!1,o instanceof SVGElement);return o instanceof Element&&(o.removeAttribute("v-cloak"),o.setAttribute("data-v-app","")),l},r};function normalizeContainer(t){return isString$1(t)?document.querySelector(t):t}var isVue2=!1;/*!
  * pinia v2.0.12
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const piniaSymbol=Symbol();var MutationType;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(MutationType||(MutationType={}));function createPinia(){const t=effectScope(!0),r=t.run(()=>ref({}));let n=[],s=[];const o=markRaw({install(h){o._a=h,h.provide(piniaSymbol,o),h.config.globalProperties.$pinia=o,s.forEach(l=>n.push(l)),s=[]},use(h){return!this._a&&!isVue2?s.push(h):n.push(h),this},_p:n,_a:null,_e:t,_s:new Map,state:r});return o}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function __awaiter$9(t,r,n,s){function o(h){return h instanceof n?h:new n(function(l){l(h)})}return new(n||(n=Promise))(function(h,l){function c(g){try{v(s.next(g))}catch(m){l(m)}}function d(g){try{v(s.throw(g))}catch(m){l(m)}}function v(g){g.done?h(g.value):o(g.value).then(c,d)}v((s=s.apply(t,r||[])).next())})}function ua$2(t){var r,n=typeof window!="undefined"&&((r=window==null?void 0:window.navigator)===null||r===void 0?void 0:r.userAgent)||"";return t?n.toLowerCase():n}function isIos(){return/iPad|iPhone|iPod/.test(ua$2())}function isAndroid(){return ua$2("l").indexOf("android")>-1}function isQQNews$1(){return/qqnews/.test(ua$2())}var Deferred$1=function(){function t(r){var n=this,s=r||{},o=s.timeout,h=s.timeoutError,l=h===void 0?{code:-1,message:"timeout"}:h,c;this.promise=new Promise(function(d,v){n.resolve=function(g){c&&clearTimeout(c),d(g)},n.reject=v,o&&(c=setTimeout(function(){v(l)},o))})}return t}();new Deferred$1;var ErrCode;(function(t){t.SUCCESS="0",t[t.SUCCESS_NUMBER=0]="SUCCESS_NUMBER",t[t.FAILED_NUMBER=-1]="FAILED_NUMBER",t[t.VAR_UNDEFINED=1001]="VAR_UNDEFINED",t[t.UNSUPPORTED_API=1002]="UNSUPPORTED_API",t[t.INVALID_PARAM=1003]="INVALID_PARAM",t[t.NOT_SUPPORT=1004]="NOT_SUPPORT",t[t.UNSUPPORTED_RUNTIME=1005]="UNSUPPORTED_RUNTIME",t[t.EXECUTION_FAILED=1006]="EXECUTION_FAILED",t[t.INJECTION_TIMINIG=1007]="INJECTION_TIMINIG",t.SHOW_CAPTURE_FAILED="-3000"})(ErrCode||(ErrCode={}));var PolyfillKey;(function(t){t.comment="comment",t.data="data",t.params="params",t.supportType="supportType",t.shareType="shareType",t.omgbizid="omgbizid",t.omgBizid="omgBizid",t.networkStatus="networkStatus",t.isWeakLogin="isWeakLogin",t.isLogin="isLogin"})(PolyfillKey||(PolyfillKey={}));var ApiName;(function(t){t.getAppInfo="getAppInfo",t.getConfigInfo="getConfigInfo",t.appConfig="appConfig",t.getABTestInfo="getABTestInfo",t.appUsedSeconds="appUsedSeconds",t.getRemoteConfig="getRemoteConfig",t.login="login",t.logout="logout",t.getUserInfo="getUserInfo",t.changeMainAccount="changeMainAccount",t.refreshWxAccessToken="refreshWxAccessToken",t.share="share",t.showActionMenu="showActionMenu",t.dismissShareDialog="dismissShareDialog",t.setShareArticleInfo="setShareArticleInfo",t.showBigImageShareMenu="showBigImageShareMenu",t.showCaptureBigImageShareMenu="showCaptureBigImageShareMenu",t.disableSnapshotShare="disableSnapshotShare",t.enableShare="enableShare",t.setNativeData="setNativeData",t.getNativeData="getNativeData",t.setAppLocalStorage="setAppletData",t.getAppLocalStorage="getAppletData",t.setLocalStorage="setLocalStorage",t.getLocalStorage="getLocalStorage",t.setNativeMutualData="setNativeMutualData",t.getNativeMutualData="getNativeMutualData",t.setTitle="setTitle",t.setClosePanelShow="setClosePanelShow",t.setStatusBarColor="setStatusBarColor",t.setActionBtn="setActionBtn",t.setReturnBtn="setReturnBtn",t.setReturnBtnActionType="setReturnBtnActionType",t.setGestureQuit="setGestureQuit",t.getGestureQuit="getGestureQuit",t.setLeftScrollEnable="setLeftScrollEnable",t.setBottomBarVisibility="setBottomBarVisibility",t.setOrientationEnable="setOrientationEnable",t.openUrl="openUrl",t.openWebViewWithType="openWebViewWithType",t.showNews="showNews",t.navigationWithItem="navigationWithItem",t.openMiniProgram="openMiniProgram",t.closeWebview="closeWebview",t.closePopupView="closePopupView",t.gotoPushHistoryPage="gotoPushHistoryPage",t.previewDetailImage="previewDetailImage",t.switchSearchTab="switchSearchTab",t.writeLog="writeLog",t.reportToBoss="reportToBoss",t.reportCellExposure="reportCellExposure",t.reportDuration="reportDuration",t.setReportParams="setReportParams",t.reportToDT="reportToDT",t.reportUserSensitive="reportUserSensitiveInfo",t.sendRequest="sendRequest",t.regReceiver="regReceiver",t.notifyAppMsg="notifyAppMsg",t.broadcastMsg="broadcastMsg",t.downloadMedia="downloadMedia",t.isAppInstalled="isAppInstalled",t.checkAppStatus="checkAppStatus",t.launchApp="launchApp",t.installApp="installApp",t.downloadApp="downloadApp",t.downloadApp_gdt="downloadApp_gdt",t.showToast="showToast",t.showAlert="showAlert",t.supportLauncherShortcut="supportLauncherShortcut",t.createLauncherShortcut="createLauncherShortcut",t.showImageBrowser="showImageBrowser",t.showH5Dialog="showH5Dialog",t.createMaskShortcut="createMaskShortcut",t.isNotificationEnabled="isNotificationEnabled",t.requestCalendarAuthority="requestCalendarAuthority",t.tryAddCalendarEvent="tryAddCalendarEvent",t.isAllPushClose="isAllPushClose",t.getCurrentLocationInfo="getCurrentLocationInfo",t.enableLocalPush="enableLocalPush",t.gotoPushSwitchSettingPage="gotoPushSwitchSettingPage",t.getUserPhotoLocations="getUserPhotoLocations",t.userPhotoAuthorization="userPhotoAuthorization",t.jumpToSysAuthorizationPage="jumpToSysAuthorizationPage",t.gotoSysPushSettingPage="gotoSysPushSettingPage",t.checkCalendarAuthority="checkCalendarAuthority",t.uploadImage="uploadImage",t.chooseMedia="chooseMedia",t.editVideo="editVideo",t.previewVideo="previewVideo",t.chooseVideoCover="chooseVideoCover",t.copy="copy",t.invokeBonBeanPanel="invokeBonBeanPanel",t.saveImageToLocal="saveImageToLocal",t.syncRedpacketUpdateInfo="syncRedpacketUpdateInfo",t.onReportSuccess="onReportSuccess",t.getSecurityRequestCheckCode="getSecurityRequestCheckCode",t.isFocus="isFocus",t.updateEditStatus="updateEditStatus",t.deleteFavoriteItems="deleteFavoriteItems",t.onWebCellReady="onWebCellReady",t.onWebCellError="onWebCellError",t.adjustWebViewInfo="adjustWebViewInfo",t.onWebCellUIChanged="onWebCellUIChanged",t.updatePubContent="updatePubContent",t.publishWeibo="publishWeibo",t.multiFollow="multiFollow",t.reportToBeacon="reportToBeacon",t.reLogin="reLogin",t.enableLogin="enableLogin",t.showOmAccountAlert="showOmAccountAlert",t.readOmAccountLocalDraft="readOmAccountLocalDraft",t.publishOmAccountLocalDraft="publishOmAccountArticleFromLocalDraft",t.deleteOmAccountLocalDraft="deleteOmAccountLocalDraft",t.broadcastEvent="broadcastEvent",t.setAppConfig="setAppConfig",t.hideKeyboard="hideKeyboard",t.preloadLottie="preloadLottie",t.fetchLocalData="fetchLocalData",t.setTmpObj="setTmpObj",t.getTmpObj="getTmpObj",t.isPageShowing="isPageShowing",t.traversePage="traversePage",t.pageRefreshStart="pageRefreshStart",t.pageRefreshEnd="pageRefreshEnd",t.hippyHasShowContent="hippyHasShowContent",t.openApp="openApp",t.handleCurDownloadGame="handleCurDownloadGame",t.sendRequestSpeed="sendRequestSpeed",t.navigateToNewMyFocus="navigateToNewMyFocus",t.navigateToAudioHistoryPage="navigateToAudioHistoryPage",t.closePage="closePage",t.changeCityChannel="changeCityChannel",t.showCitySelector="showCitySelector",t.queryChannelInfo="queryChannelInfo",t.navigateToUserCenter="navigateToUserCenter",t.navigateOrPreviewChannel="navigateOrPreviewChannel",t.showTipsDialog="showTipsDialog",t.pageOnBack="pageOnBack",t.showMedalView="showMedalView",t.navigateToTopicPage="navigateToTopicPage",t.navigateWithComment="navigateWithComment",t.navigateToUserPage="navigateToUserPage",t.openNativeUrl="openNativeUrl",t.removeTmpObj="removeTmpObj",t.isPublishForbidden="isPublishForbidden",t.addChatHistory="addChatHistory",t.encryptAiseeUrlParams="encryptAiseeUrlParams",t.uploadLogForAiSeeById="uploadLogForAiSeeById"})(ApiName||(ApiName={}));const NATIVE_MODULE_NAME="QNBridge",NATIVE_METHOD_NAME="callMethod";var ToSchemeOrWebType;(function(t){t.WebType="1",t.EntryIdType="3",t.BonBonType="9",t.TxShiPinType="19",t.FullScreenType="100"})(ToSchemeOrWebType||(ToSchemeOrWebType={}));const isHippy=()=>{try{return!!Hippy&&!!__ISHIPPY__}catch(t){return!1}},isHippyIos=()=>{var t;try{return isHippy()&&((t=Hippy==null?void 0:Hippy.device)===null||t===void 0?void 0:t.platform.OS)==="ios"}catch(r){return!1}},isHippyAndroid=()=>{var t;try{return isHippy()&&((t=Hippy==null?void 0:Hippy.device)===null||t===void 0?void 0:t.platform.OS)==="android"}catch(r){return!1}},hippyNotSupport=()=>Promise.reject({errCode:ErrCode.UNSUPPORTED_API,errStr:HIPPY_NOT_SUPPORT}),webNotSupport=()=>Promise.reject({errCode:ErrCode.UNSUPPORTED_API,errStr:WEB_NOT_SUPPORT}),iosNotSupportResult=()=>Promise.reject({errCode:ErrCode.UNSUPPORTED_API,errStr:IOS_NOT_SUPPORT}),iosNotSupport=()=>isIos()||isHippyIos()?iosNotSupportResult:void 0,androidNotSupportResult=()=>Promise.reject({errCode:ErrCode.UNSUPPORTED_API,errStr:ANDROID_NOT_SUPPORT}),androidNotSupport=()=>isAndroid()||isHippyAndroid()?androidNotSupportResult:void 0,versionNotSupportResult=()=>Promise.reject({errCode:ErrCode.UNSUPPORTED_API,errStr:VERSION_NOT_SUPPORT}),isCurrentVersionInvalid=t=>isHippy()?getHippyVersion()<t:getAppVersion()<t,versionNotSupport=t=>isCurrentVersionInvalid(t)?versionNotSupportResult:void 0,environmentVersionNotSupport=(t,r)=>t&&isCurrentVersionInvalid(r)?versionNotSupportResult:void 0,replaceKeyOrValueAttribute=({data:t})=>{if(!t)return t;const r={};return Object.entries(t).forEach(([n,s])=>{if(n in REPLACE_MAP){const o=()=>{var l;r[(l=REPLACE_MAP[n])===null||l===void 0?void 0:l.targetValue]=s},h=()=>{var l,c;isObject$1((l=REPLACE_MAP[n])===null||l===void 0?void 0:l.targetValue)?r[n]=(c=REPLACE_MAP[n].targetValue[s])!==null&&c!==void 0?c:s:r[n]=REPLACE_MAP[n].targetValue};REPLACE_MAP[n].isValue?h():o()}else r[n]=s}),r},stringToJson=t=>{if(typeof t!="string")return t;try{return JSON.parse(t)}catch(r){return t}},isObject$1=t=>String(t)==="[object Object]",isWindowEnvironment=()=>typeof window!="undefined",NoNetwork="Net-None",WiFi="wifi",MobileNetwork="gsm",NETWORK_STATUS={[NoNetwork]:"0",[WiFi]:"1",[MobileNetwork]:"2"},WEAK_LOGIN_STATUS={0:!1,1:!0},REPLACE_MAP={[PolyfillKey.networkStatus]:{targetValue:NETWORK_STATUS,isValue:!0},[PolyfillKey.omgbizid]:{targetValue:PolyfillKey.omgBizid,isValue:!1},[PolyfillKey.isWeakLogin]:{targetValue:WEAK_LOGIN_STATUS,isValue:!0},[PolyfillKey.isLogin]:{targetValue:WEAK_LOGIN_STATUS,isValue:!0}},IS_NOT_QQNEWS="\u5F53\u524D\u975E\u817E\u8BAF\u65B0\u95FB\u5BA2\u6237\u7AEF\u73AF\u5883",API_ERROR="JSAPI\u8C03\u7528\u5F02\u5E38",IOS_NOT_SUPPORT="iOS\u6682\u672A\u652F\u6301",ANDROID_NOT_SUPPORT="Android\u6682\u672A\u652F\u6301",VERSION_NOT_SUPPORT="\u5F53\u524D\u7248\u672C\u6682\u4E0D\u652F\u6301",HIPPY_NOT_SUPPORT="Hippy\u6682\u672A\u652F\u6301",WEB_NOT_SUPPORT="Web\u6682\u672A\u652F\u6301",ANDROID_JS_URL="https://mat1.gtimg.com/www/js/newsapp/jsapi/news.js?_tsid=1",IFRAME_SDK_URL="https://mat1.gtimg.com/qqcdn/news-h5/iframe-communicate-sdk.js",IOS_DELAYED_LOADING=800,API_SUPPORT_VERSION_MAP={disableCaptureImageShare:6160,createMaskShortcut:6290,setClosePanelShow:6290,getUserPhotoLocations:6350,getUserPhotoAuthorization:6350,openAuthorizationPage:6350,reportDT:6550,queryChannelInfo:6607,multiFollow:6670,navigateToNewMyFocus:6697,omAccountVersion:6797,isPublishForbidden:6857,addChatHistory:6867,encryptAiseeUrlParams:6877,uploadLogForAiSeeById:6887};ErrCode.SUCCESS_NUMBER;const loadJs=(t,r)=>{const n=document.createElement("script");n.type="text/javascript",n.async=!0,n.onload=()=>{r()},n.src=t;const s=document.getElementsByTagName("script")[0];s.parentNode&&s.parentNode.insertBefore(n,s)},isInclude=t=>{var r;const n=document==null?void 0:document.getElementsByTagName("script");if(!n||(n==null?void 0:n.length)===0)return!1;for(const s of n)if(((r=s==null?void 0:s.src)===null||r===void 0?void 0:r.indexOf(t))!==-1)return!0;return!1},onAndroidJsReady=t=>{window!=null&&window.TencentNews?t.resolve():loadJs(ANDROID_JS_URL,()=>{t.resolve()})},onIosJsReady=t=>{window!=null&&window.TencentNews?t.resolve():(document==null||document.addEventListener("TencentNewsJSInjectionComplete",()=>{t.resolve()}),setTimeout(()=>{t.resolve()},IOS_DELAYED_LOADING))},onJsReady=t=>{isAndroid()&&isQQNews$1()?onAndroidJsReady(t):isIos()&&isQQNews$1()?onIosJsReady(t):setTimeout(()=>{t.resolve()},IOS_DELAYED_LOADING)},jsApiReady=t=>{onJsReady(t)},callIframeCellInvoke=({eventName:t,param:r})=>{const n=()=>{var s,o;const h=r;h&&(h.url=window==null?void 0:window.location.href),(o=(s=window==null?void 0:window.iframeCommunicateSDK)===null||s===void 0?void 0:s.iframeInvoke)===null||o===void 0||o.call(s,{eventName:t,paramTemp:h})};isInclude(IFRAME_SDK_URL)?n():loadJs(IFRAME_SDK_URL,()=>{n()})},getAppVersion=()=>{if(!isWindowEnvironment())return 0;const r=window.navigator.userAgent.toLowerCase().match(/qqnews\/([\d.]+)/),n=r==null?void 0:r[1];return Number(n?n.replace(/\./g,""):0)},getHippyVersion=()=>{var t;try{const r=(t=__HIPPYNATIVEGLOBAL__==null?void 0:__HIPPYNATIVEGLOBAL__.Platform)===null||t===void 0?void 0:t.VersionName;if(!r)return-1;const n=parseInt(r.replace(/[^0-9]/gi,""),10);return isNaN(n)?-1:n}catch(r){return-1}};var _a$4,_b$2,_c$1;const hippyNotSupportMap={hippy:hippyNotSupport},webNotSupportMap={web:webNotSupport},hippyNotSupportList={[ApiName.appUsedSeconds]:hippyNotSupportMap,[ApiName.supportLauncherShortcut]:hippyNotSupportMap,[ApiName.createLauncherShortcut]:hippyNotSupportMap,[ApiName.showH5Dialog]:hippyNotSupportMap,[ApiName.downloadApp]:hippyNotSupportMap,[ApiName.uploadImage]:hippyNotSupportMap,[ApiName.chooseMedia]:hippyNotSupportMap,[ApiName.editVideo]:hippyNotSupportMap,[ApiName.chooseVideoCover]:hippyNotSupportMap,[ApiName.showNews]:hippyNotSupportMap,[ApiName.openMiniProgram]:hippyNotSupportMap,[ApiName.closeWebview]:hippyNotSupportMap,[ApiName.closePopupView]:hippyNotSupportMap,[ApiName.gotoPushHistoryPage]:hippyNotSupportMap,[ApiName.switchSearchTab]:hippyNotSupportMap,[ApiName.regReceiver]:hippyNotSupportMap,[ApiName.notifyAppMsg]:hippyNotSupportMap,[ApiName.setClosePanelShow]:hippyNotSupportMap,[ApiName.setReturnBtn]:hippyNotSupportMap,[ApiName.setReturnBtnActionType]:hippyNotSupportMap,[ApiName.requestCalendarAuthority]:hippyNotSupportMap,[ApiName.tryAddCalendarEvent]:hippyNotSupportMap,[ApiName.getCurrentLocationInfo]:hippyNotSupportMap,[ApiName.getUserPhotoLocations]:hippyNotSupportMap,[ApiName.userPhotoAuthorization]:hippyNotSupportMap,[ApiName.checkCalendarAuthority]:hippyNotSupportMap,[ApiName.setReportParams]:hippyNotSupportMap,[ApiName.changeMainAccount]:hippyNotSupportMap,[ApiName.showBigImageShareMenu]:hippyNotSupportMap,[ApiName.showCaptureBigImageShareMenu]:hippyNotSupportMap,[ApiName.disableSnapshotShare]:hippyNotSupportMap,[ApiName.setAppLocalStorage]:hippyNotSupportMap,[ApiName.getAppLocalStorage]:hippyNotSupportMap,[ApiName.setLocalStorage]:hippyNotSupportMap,[ApiName.getLocalStorage]:hippyNotSupportMap,[ApiName.copy]:hippyNotSupportMap,[ApiName.invokeBonBeanPanel]:hippyNotSupportMap,[ApiName.saveImageToLocal]:hippyNotSupportMap,[ApiName.syncRedpacketUpdateInfo]:hippyNotSupportMap,[ApiName.onReportSuccess]:hippyNotSupportMap,[ApiName.getSecurityRequestCheckCode]:hippyNotSupportMap,[ApiName.onWebCellReady]:hippyNotSupportMap,[ApiName.onWebCellError]:hippyNotSupportMap,[ApiName.adjustWebViewInfo]:hippyNotSupportMap,[ApiName.onWebCellUIChanged]:hippyNotSupportMap,[ApiName.reportUserSensitive]:hippyNotSupportMap},webNotSupportList={[ApiName.updateEditStatus]:webNotSupportMap,[ApiName.updatePubContent]:webNotSupportMap,[ApiName.deleteFavoriteItems]:webNotSupportMap,[ApiName.getABTestInfo]:webNotSupportMap,[ApiName.getRemoteConfig]:webNotSupportMap,[ApiName.enableShare]:webNotSupportMap,[ApiName.setNativeData]:webNotSupportMap,[ApiName.getNativeData]:webNotSupportMap,[ApiName.setNativeMutualData]:webNotSupportMap,[ApiName.getNativeMutualData]:webNotSupportMap,[ApiName.navigationWithItem]:webNotSupportMap,[ApiName.reportCellExposure]:webNotSupportMap,[ApiName.reportDuration]:webNotSupportMap,[ApiName.reLogin]:webNotSupportMap,[ApiName.enableLogin]:webNotSupportMap,[ApiName.broadcastEvent]:webNotSupportMap,[ApiName.setAppConfig]:webNotSupportMap,[ApiName.preloadLottie]:webNotSupportMap,[ApiName.fetchLocalData]:webNotSupportMap,[ApiName.setTmpObj]:webNotSupportMap,[ApiName.getTmpObj]:webNotSupportMap,[ApiName.isPageShowing]:webNotSupportMap,[ApiName.traversePage]:webNotSupportMap,[ApiName.pageRefreshStart]:webNotSupportMap,[ApiName.pageRefreshEnd]:webNotSupportMap,[ApiName.hippyHasShowContent]:webNotSupportMap,[ApiName.sendRequestSpeed]:webNotSupportMap,[ApiName.navigateToAudioHistoryPage]:webNotSupportMap,[ApiName.closePage]:webNotSupportMap,[ApiName.changeCityChannel]:webNotSupportMap,[ApiName.showCitySelector]:webNotSupportMap,[ApiName.navigateToUserCenter]:webNotSupportMap,[ApiName.navigateOrPreviewChannel]:webNotSupportMap,[ApiName.showTipsDialog]:webNotSupportMap,[ApiName.pageOnBack]:webNotSupportMap,[ApiName.showMedalView]:webNotSupportMap,[ApiName.navigateToTopicPage]:webNotSupportMap,[ApiName.navigateWithComment]:webNotSupportMap,[ApiName.navigateToUserPage]:webNotSupportMap,[ApiName.removeTmpObj]:webNotSupportMap},INTERCEPT_INVOKE_MAP=Object.assign(Object.assign(Object.assign({},hippyNotSupportList),webNotSupportList),{[ApiName.setAppLocalStorage]:{web:iosNotSupport()},[ApiName.checkAppStatus]:{web:iosNotSupport(),hippy:hippyNotSupport},[ApiName.launchApp]:{web:iosNotSupport(),hippy:hippyNotSupport},[ApiName.installApp]:{web:iosNotSupport(),hippy:hippyNotSupport},[ApiName.downloadApp_gdt]:{web:iosNotSupport(),hippy:hippyNotSupport},[ApiName.downloadApp_gdt]:{web:(_a$4=iosNotSupport())!==null&&_a$4!==void 0?_a$4:versionNotSupport(API_SUPPORT_VERSION_MAP.createMaskShortcut)},[ApiName.setClosePanelShow]:{web:(_b$2=iosNotSupport())!==null&&_b$2!==void 0?_b$2:versionNotSupport(API_SUPPORT_VERSION_MAP.setClosePanelShow)},[ApiName.getUserPhotoLocations]:{web:versionNotSupport(API_SUPPORT_VERSION_MAP.getUserPhotoLocations)},[ApiName.userPhotoAuthorization]:{web:versionNotSupport(API_SUPPORT_VERSION_MAP.getUserPhotoAuthorization)},[ApiName.jumpToSysAuthorizationPage]:{web:versionNotSupport(API_SUPPORT_VERSION_MAP.openAuthorizationPage)},[ApiName.disableSnapshotShare]:{web:(_c$1=androidNotSupport())!==null&&_c$1!==void 0?_c$1:versionNotSupport(API_SUPPORT_VERSION_MAP.disableCaptureImageShare)},[ApiName.multiFollow]:{web:versionNotSupport(API_SUPPORT_VERSION_MAP.multiFollow),hippy:hippyNotSupport},[ApiName.hideKeyboard]:{web:webNotSupport,hippy:androidNotSupport()},[ApiName.openApp]:{web:iosNotSupport(),hippy:iosNotSupport()},[ApiName.navigateToNewMyFocus]:{web:webNotSupport,hippy:versionNotSupport(API_SUPPORT_VERSION_MAP.navigateToNewMyFocus)},[ApiName.queryChannelInfo]:{web:webNotSupport,hippy:versionNotSupport(API_SUPPORT_VERSION_MAP.queryChannelInfo)},[ApiName.reportToDT]:{web:environmentVersionNotSupport(isQQNews$1()&&isAndroid(),API_SUPPORT_VERSION_MAP.reportDT),hippy:hippyNotSupport},[ApiName.showOmAccountAlert]:{web:versionNotSupport(API_SUPPORT_VERSION_MAP.omAccountVersion),hippy:hippyNotSupport},[ApiName.readOmAccountLocalDraft]:{web:versionNotSupport(API_SUPPORT_VERSION_MAP.omAccountVersion),hippy:hippyNotSupport},[ApiName.publishOmAccountLocalDraft]:{web:versionNotSupport(API_SUPPORT_VERSION_MAP.omAccountVersion),hippy:hippyNotSupport},[ApiName.deleteOmAccountLocalDraft]:{web:versionNotSupport(API_SUPPORT_VERSION_MAP.omAccountVersion),hippy:hippyNotSupport},[ApiName.isPublishForbidden]:{web:versionNotSupport(API_SUPPORT_VERSION_MAP.isPublishForbidden),hippy:hippyNotSupport},[ApiName.addChatHistory]:{web:versionNotSupport(API_SUPPORT_VERSION_MAP.addChatHistory),hippy:hippyNotSupport},[ApiName.encryptAiseeUrlParams]:{web:versionNotSupport(API_SUPPORT_VERSION_MAP.encryptAiseeUrlParams),hippy:hippyNotSupport},[ApiName.uploadLogForAiSeeById]:{web:versionNotSupport(API_SUPPORT_VERSION_MAP.uploadLogForAiSeeById),hippy:hippyNotSupport}});ApiName.adjustWebViewInfo+"";const hippyJsApiInvoke=(t,r={})=>new Promise((n,s)=>{var o;try{(o=Hippy==null?void 0:Hippy.bridge)===null||o===void 0||o.callNativeWithPromise(NATIVE_MODULE_NAME,NATIVE_METHOD_NAME,Object.assign(Object.assign({},r),{methodName:t})).then(h=>{n(stringToJson(h))},()=>{s({errCode:ErrCode.INJECTION_TIMINIG,errStr:""})})}catch(h){s({errCode:ErrCode.INJECTION_TIMINIG,errStr:h.message})}}),JSAPI={invoke(t,r={},n){return __awaiter$9(this,void 0,void 0,function*(){isQQNews$1()||n({errCode:ErrCode.INJECTION_TIMINIG,errStr:IS_NOT_QQNEWS});try{yield ensureJsBridgeReady();const{invoke:s}=TencentNews;s(t,r)}catch(s){n({errCode:ErrCode.INJECTION_TIMINIG,errStr:API_ERROR})}})}},webJsApiInvoke=(t,r={})=>new Promise((n,s)=>{JSAPI.invoke(t,Object.assign(Object.assign({},r),{onCallback:o=>{const{errCode:h}=o;String(h)!==ErrCode.SUCCESS?s(o):n(o)}}),s)}),reportDTInvoke=({eventName:t,param:r={}})=>{var n,s;if(!((n=INTERCEPT_INVOKE_MAP[t])===null||n===void 0)&&n.web)return INTERCEPT_INVOKE_MAP[t].web();if(!r)return Promise.reject({errCode:ErrCode.INVALID_PARAM,errStr:""});if(isAndroid()&&((s=window==null?void 0:window.DtJsReporter)===null||s===void 0?void 0:s.reportEvent)){const o=r;o.eventId=r.eventID,window.DtJsReporter.reportEvent(o);const h={errCode:ErrCode.SUCCESS,errStr:""};return Promise.resolve(h)}return webJsApiInvoke(t,r)},deferred=new Deferred$1;jsApiReady(deferred);const ensureJsBridgeReady=()=>deferred.promise,promiseInvoke=({eventName:t,param:r={}})=>{var n,s;return isHippy()?!((n=INTERCEPT_INVOKE_MAP[t])===null||n===void 0)&&n.hippy?INTERCEPT_INVOKE_MAP[t].hippy():hippyJsApiInvoke(t,r):!((s=INTERCEPT_INVOKE_MAP[t])===null||s===void 0)&&s.web?INTERCEPT_INVOKE_MAP[t].web():webJsApiInvoke(t,r)},getAppInfo=()=>new Promise((t,r)=>{promiseInvoke({eventName:ApiName.getAppInfo}).then(n=>{const s=replaceKeyOrValueAttribute({data:n});t(s)},n=>{r(n)})}),getUserInfo=()=>new Promise((t,r)=>{promiseInvoke({eventName:ApiName.getUserInfo,param:{ignorePhone:!1}}).then(n=>{const s=replaceKeyOrValueAttribute({data:n});t(s)},n=>{r(n)})}),reportToDT=t=>reportDTInvoke({eventName:ApiName.reportToDT,param:t});var IEvent;(function(t){t.themeChanged="themeChanged",t.loginStatueChanged="loginStatueChanged",t.onRefresh="onRefresh",t.OnShow="OnShow",t.OnHide="OnHide"})(IEvent||(IEvent={}));function ua$1(t){var r,n=typeof window!="undefined"&&((r=window==null?void 0:window.navigator)===null||r===void 0?void 0:r.userAgent)||"";return t?n.toLowerCase():n}function isWeixin(){return/MicroMessenger/i.test(ua$1("l"))}function isQQ(){return/qq\//.test(ua$1("l"))}function isQQNews(){return/qqnews/.test(ua$1())}var Deferred=function(){function t(r){var n=this,s=r||{},o=s.timeout,h=s.timeoutError,l=h===void 0?{code:-1,message:"timeout"}:h,c;this.promise=new Promise(function(d,v){n.resolve=function(g){c&&clearTimeout(c),d(g)},n.reject=v,o&&(c=setTimeout(function(){v(l)},o))})}return t}();new Deferred;var commonjsGlobal$1=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},axios$2={exports:{}},bind$3=function(r,n){return function(){for(var o=new Array(arguments.length),h=0;h<o.length;h++)o[h]=arguments[h];return r.apply(n,o)}},bind$2=bind$3,toString=Object.prototype.toString;function isArray$2(t){return Array.isArray(t)}function isUndefined(t){return typeof t=="undefined"}function isBuffer(t){return t!==null&&!isUndefined(t)&&t.constructor!==null&&!isUndefined(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function isArrayBuffer(t){return toString.call(t)==="[object ArrayBuffer]"}function isFormData(t){return toString.call(t)==="[object FormData]"}function isArrayBufferView(t){var r;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&isArrayBuffer(t.buffer),r}function isString(t){return typeof t=="string"}function isNumber$1(t){return typeof t=="number"}function isObject(t){return t!==null&&typeof t=="object"}function isPlainObject(t){if(toString.call(t)!=="[object Object]")return!1;var r=Object.getPrototypeOf(t);return r===null||r===Object.prototype}function isDate(t){return toString.call(t)==="[object Date]"}function isFile(t){return toString.call(t)==="[object File]"}function isBlob(t){return toString.call(t)==="[object Blob]"}function isFunction(t){return toString.call(t)==="[object Function]"}function isStream(t){return isObject(t)&&isFunction(t.pipe)}function isURLSearchParams(t){return toString.call(t)==="[object URLSearchParams]"}function trim(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function forEach(t,r){if(!(t===null||typeof t=="undefined"))if(typeof t!="object"&&(t=[t]),isArray$2(t))for(var n=0,s=t.length;n<s;n++)r.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&r.call(null,t[o],o,t)}function merge(){var t={};function r(o,h){isPlainObject(t[h])&&isPlainObject(o)?t[h]=merge(t[h],o):isPlainObject(o)?t[h]=merge({},o):isArray$2(o)?t[h]=o.slice():t[h]=o}for(var n=0,s=arguments.length;n<s;n++)forEach(arguments[n],r);return t}function extend(t,r,n){return forEach(r,function(o,h){n&&typeof o=="function"?t[h]=bind$2(o,n):t[h]=o}),t}function stripBOM(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}var utils$e={isArray:isArray$2,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber:isNumber$1,isObject,isPlainObject,isUndefined,isDate,isFile,isBlob,isFunction,isStream,isURLSearchParams,isStandardBrowserEnv,forEach,merge,extend,trim,stripBOM},utils$d=utils$e;function encode$2(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$2=function(r,n,s){if(!n)return r;var o;if(s)o=s(n);else if(utils$d.isURLSearchParams(n))o=n.toString();else{var h=[];utils$d.forEach(n,function(d,v){d===null||typeof d=="undefined"||(utils$d.isArray(d)?v=v+"[]":d=[d],utils$d.forEach(d,function(m){utils$d.isDate(m)?m=m.toISOString():utils$d.isObject(m)&&(m=JSON.stringify(m)),h.push(encode$2(v)+"="+encode$2(m))}))}),o=h.join("&")}if(o){var l=r.indexOf("#");l!==-1&&(r=r.slice(0,l)),r+=(r.indexOf("?")===-1?"?":"&")+o}return r},utils$c=utils$e;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function(r,n,s){return this.handlers.push({fulfilled:r,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)};InterceptorManager$1.prototype.forEach=function(r){utils$c.forEach(this.handlers,function(s){s!==null&&r(s)})};var InterceptorManager_1=InterceptorManager$1,utils$b=utils$e,normalizeHeaderName$1=function(r,n){utils$b.forEach(r,function(o,h){h!==n&&h.toUpperCase()===n.toUpperCase()&&(r[n]=o,delete r[h])})},enhanceError$2=function(r,n,s,o,h){return r.config=n,s&&(r.code=s),r.request=o,r.response=h,r.isAxiosError=!0,r.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},r},transitional={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},enhanceError$1=enhanceError$2,createError$2=function(r,n,s,o,h){var l=new Error(r);return enhanceError$1(l,n,s,o,h)},createError$1=createError$2,settle$1=function(r,n,s){var o=s.config.validateStatus;!s.status||!o||o(s.status)?r(s):n(createError$1("Request failed with status code "+s.status,s.config,null,s.request,s))},utils$a=utils$e,cookies$1=utils$a.isStandardBrowserEnv()?function(){return{write:function(n,s,o,h,l,c){var d=[];d.push(n+"="+encodeURIComponent(s)),utils$a.isNumber(o)&&d.push("expires="+new Date(o).toGMTString()),utils$a.isString(h)&&d.push("path="+h),utils$a.isString(l)&&d.push("domain="+l),c===!0&&d.push("secure"),document.cookie=d.join("; ")},read:function(n){var s=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return s?decodeURIComponent(s[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),isAbsoluteURL$1=function(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)},combineURLs$1=function(r,n){return n?r.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):r},isAbsoluteURL=isAbsoluteURL$1,combineURLs=combineURLs$1,buildFullPath$1=function(r,n){return r&&!isAbsoluteURL(n)?combineURLs(r,n):n},utils$9=utils$e,ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],parseHeaders$1=function(r){var n={},s,o,h;return r&&utils$9.forEach(r.split(`
`),function(c){if(h=c.indexOf(":"),s=utils$9.trim(c.substr(0,h)).toLowerCase(),o=utils$9.trim(c.substr(h+1)),s){if(n[s]&&ignoreDuplicateOf.indexOf(s)>=0)return;s==="set-cookie"?n[s]=(n[s]?n[s]:[]).concat([o]):n[s]=n[s]?n[s]+", "+o:o}}),n},utils$8=utils$e,isURLSameOrigin$1=utils$8.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),s;function o(h){var l=h;return r&&(n.setAttribute("href",l),l=n.href),n.setAttribute("href",l),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return s=o(window.location.href),function(l){var c=utils$8.isString(l)?o(l):l;return c.protocol===s.protocol&&c.host===s.host}}():function(){return function(){return!0}}();function Cancel$3(t){this.message=t}Cancel$3.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};Cancel$3.prototype.__CANCEL__=!0;var Cancel_1=Cancel$3,utils$7=utils$e,settle=settle$1,cookies=cookies$1,buildURL$1=buildURL$2,buildFullPath=buildFullPath$1,parseHeaders=parseHeaders$1,isURLSameOrigin=isURLSameOrigin$1,createError=createError$2,transitionalDefaults$1=transitional,Cancel$2=Cancel_1,xhr=function(r){return new Promise(function(s,o){var h=r.data,l=r.headers,c=r.responseType,d;function v(){r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}utils$7.isFormData(h)&&delete l["Content-Type"];var g=new XMLHttpRequest;if(r.auth){var m=r.auth.username||"",_=r.auth.password?unescape(encodeURIComponent(r.auth.password)):"";l.Authorization="Basic "+btoa(m+":"+_)}var y=buildFullPath(r.baseURL,r.url);g.open(r.method.toUpperCase(),buildURL$1(y,r.params,r.paramsSerializer),!0),g.timeout=r.timeout;function B(){if(!!g){var C="getAllResponseHeaders"in g?parseHeaders(g.getAllResponseHeaders()):null,b=!c||c==="text"||c==="json"?g.responseText:g.response,I={data:b,status:g.status,statusText:g.statusText,headers:C,config:r,request:g};settle(function(R){s(R),v()},function(R){o(R),v()},I),g=null}}if("onloadend"in g?g.onloadend=B:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(B)},g.onabort=function(){!g||(o(createError("Request aborted",r,"ECONNABORTED",g)),g=null)},g.onerror=function(){o(createError("Network Error",r,null,g)),g=null},g.ontimeout=function(){var b=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded",I=r.transitional||transitionalDefaults$1;r.timeoutErrorMessage&&(b=r.timeoutErrorMessage),o(createError(b,r,I.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",g)),g=null},utils$7.isStandardBrowserEnv()){var w=(r.withCredentials||isURLSameOrigin(y))&&r.xsrfCookieName?cookies.read(r.xsrfCookieName):void 0;w&&(l[r.xsrfHeaderName]=w)}"setRequestHeader"in g&&utils$7.forEach(l,function(b,I){typeof h=="undefined"&&I.toLowerCase()==="content-type"?delete l[I]:g.setRequestHeader(I,b)}),utils$7.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),c&&c!=="json"&&(g.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&g.addEventListener("progress",r.onDownloadProgress),typeof r.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",r.onUploadProgress),(r.cancelToken||r.signal)&&(d=function(C){!g||(o(!C||C&&C.type?new Cancel$2("canceled"):C),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d))),h||(h=null),g.send(h)})},utils$6=utils$e,normalizeHeaderName=normalizeHeaderName$1,enhanceError=enhanceError$2,transitionalDefaults=transitional,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(t,r){!utils$6.isUndefined(t)&&utils$6.isUndefined(t["Content-Type"])&&(t["Content-Type"]=r)}function getDefaultAdapter(){var t;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(t=xhr),t}function stringifySafely(t,r,n){if(utils$6.isString(t))try{return(r||JSON.parse)(t),utils$6.trim(t)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(t)}var defaults$4={transitional:transitionalDefaults,adapter:getDefaultAdapter(),transformRequest:[function(r,n){return normalizeHeaderName(n,"Accept"),normalizeHeaderName(n,"Content-Type"),utils$6.isFormData(r)||utils$6.isArrayBuffer(r)||utils$6.isBuffer(r)||utils$6.isStream(r)||utils$6.isFile(r)||utils$6.isBlob(r)?r:utils$6.isArrayBufferView(r)?r.buffer:utils$6.isURLSearchParams(r)?(setContentTypeIfUnset(n,"application/x-www-form-urlencoded;charset=utf-8"),r.toString()):utils$6.isObject(r)||n&&n["Content-Type"]==="application/json"?(setContentTypeIfUnset(n,"application/json"),stringifySafely(r)):r}],transformResponse:[function(r){var n=this.transitional||defaults$4.transitional,s=n&&n.silentJSONParsing,o=n&&n.forcedJSONParsing,h=!s&&this.responseType==="json";if(h||o&&utils$6.isString(r)&&r.length)try{return JSON.parse(r)}catch(l){if(h)throw l.name==="SyntaxError"?enhanceError(l,this,"E_JSON_PARSE"):l}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$6.forEach(["delete","get","head"],function(r){defaults$4.headers[r]={}});utils$6.forEach(["post","put","patch"],function(r){defaults$4.headers[r]=utils$6.merge(DEFAULT_CONTENT_TYPE)});var defaults_1$1=defaults$4,utils$5=utils$e,defaults$3=defaults_1$1,transformData$1=function(r,n,s){var o=this||defaults$3;return utils$5.forEach(s,function(l){r=l.call(o,r,n)}),r},isCancel$1=function(r){return!!(r&&r.__CANCEL__)},utils$4=utils$e,transformData=transformData$1,isCancel=isCancel$1,defaults$2=defaults_1$1,Cancel$1=Cancel_1;function throwIfCancellationRequested(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Cancel$1("canceled")}var dispatchRequest$1=function(r){throwIfCancellationRequested(r),r.headers=r.headers||{},r.data=transformData.call(r,r.data,r.headers,r.transformRequest),r.headers=utils$4.merge(r.headers.common||{},r.headers[r.method]||{},r.headers),utils$4.forEach(["delete","get","head","post","put","patch","common"],function(o){delete r.headers[o]});var n=r.adapter||defaults$2.adapter;return n(r).then(function(o){return throwIfCancellationRequested(r),o.data=transformData.call(r,o.data,o.headers,r.transformResponse),o},function(o){return isCancel(o)||(throwIfCancellationRequested(r),o&&o.response&&(o.response.data=transformData.call(r,o.response.data,o.response.headers,r.transformResponse))),Promise.reject(o)})},utils$3=utils$e,mergeConfig$2=function(r,n){n=n||{};var s={};function o(g,m){return utils$3.isPlainObject(g)&&utils$3.isPlainObject(m)?utils$3.merge(g,m):utils$3.isPlainObject(m)?utils$3.merge({},m):utils$3.isArray(m)?m.slice():m}function h(g){if(utils$3.isUndefined(n[g])){if(!utils$3.isUndefined(r[g]))return o(void 0,r[g])}else return o(r[g],n[g])}function l(g){if(!utils$3.isUndefined(n[g]))return o(void 0,n[g])}function c(g){if(utils$3.isUndefined(n[g])){if(!utils$3.isUndefined(r[g]))return o(void 0,r[g])}else return o(void 0,n[g])}function d(g){if(g in n)return o(r[g],n[g]);if(g in r)return o(void 0,r[g])}var v={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d};return utils$3.forEach(Object.keys(r).concat(Object.keys(n)),function(m){var _=v[m]||h,y=_(m);utils$3.isUndefined(y)&&_!==d||(s[m]=y)}),s},data={version:"0.26.1"},VERSION$2=data.version,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(t,r){validators$1[t]=function(s){return typeof s===t||"a"+(r<1?"n ":" ")+t}});var deprecatedWarnings={};validators$1.transitional=function(r,n,s){function o(h,l){return"[Axios v"+VERSION$2+"] Transitional option '"+h+"'"+l+(s?". "+s:"")}return function(h,l,c){if(r===!1)throw new Error(o(l," has been removed"+(n?" in "+n:"")));return n&&!deprecatedWarnings[l]&&(deprecatedWarnings[l]=!0,console.warn(o(l," has been deprecated since v"+n+" and will be removed in the near future"))),r?r(h,l,c):!0}};function assertOptions(t,r,n){if(typeof t!="object")throw new TypeError("options must be an object");for(var s=Object.keys(t),o=s.length;o-- >0;){var h=s[o],l=r[h];if(l){var c=t[h],d=c===void 0||l(c,h,t);if(d!==!0)throw new TypeError("option "+h+" must be "+d);continue}if(n!==!0)throw Error("Unknown option "+h)}}var validator$1={assertOptions,validators:validators$1},utils$2=utils$e,buildURL=buildURL$2,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,validator=validator$1,validators=validator.validators;function Axios$1(t){this.defaults=t,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function(r,n){typeof r=="string"?(n=n||{},n.url=r):n=r||{},n=mergeConfig$1(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var s=n.transitional;s!==void 0&&validator.assertOptions(s,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var o=[],h=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(h=h&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});var l=[];this.interceptors.response.forEach(function(y){l.push(y.fulfilled,y.rejected)});var c;if(!h){var d=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(d,o),d=d.concat(l),c=Promise.resolve(n);d.length;)c=c.then(d.shift(),d.shift());return c}for(var v=n;o.length;){var g=o.shift(),m=o.shift();try{v=g(v)}catch(_){m(_);break}}try{c=dispatchRequest(v)}catch(_){return Promise.reject(_)}for(;l.length;)c=c.then(l.shift(),l.shift());return c};Axios$1.prototype.getUri=function(r){return r=mergeConfig$1(this.defaults,r),buildURL(r.url,r.params,r.paramsSerializer).replace(/^\?/,"")};utils$2.forEach(["delete","get","head","options"],function(r){Axios$1.prototype[r]=function(n,s){return this.request(mergeConfig$1(s||{},{method:r,url:n,data:(s||{}).data}))}});utils$2.forEach(["post","put","patch"],function(r){Axios$1.prototype[r]=function(n,s,o){return this.request(mergeConfig$1(o||{},{method:r,url:n,data:s}))}});var Axios_1=Axios$1,Cancel=Cancel_1;function CancelToken(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var n=this;this.promise.then(function(s){if(!!n._listeners){var o,h=n._listeners.length;for(o=0;o<h;o++)n._listeners[o](s);n._listeners=null}}),this.promise.then=function(s){var o,h=new Promise(function(l){n.subscribe(l),o=l}).then(s);return h.cancel=function(){n.unsubscribe(o)},h},t(function(o){n.reason||(n.reason=new Cancel(o),r(n.reason))})}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};CancelToken.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]};CancelToken.prototype.unsubscribe=function(r){if(!!this._listeners){var n=this._listeners.indexOf(r);n!==-1&&this._listeners.splice(n,1)}};CancelToken.source=function(){var r,n=new CancelToken(function(o){r=o});return{token:n,cancel:r}};var CancelToken_1=CancelToken,spread=function(r){return function(s){return r.apply(null,s)}},utils$1=utils$e,isAxiosError=function(r){return utils$1.isObject(r)&&r.isAxiosError===!0},utils=utils$e,bind$1=bind$3,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults$1=defaults_1$1;function createInstance(t){var r=new Axios(t),n=bind$1(Axios.prototype.request,r);return utils.extend(n,Axios.prototype,r),utils.extend(n,r),n.create=function(o){return createInstance(mergeConfig(t,o))},n}var axios$1=createInstance(defaults$1);axios$1.Axios=Axios;axios$1.Cancel=Cancel_1;axios$1.CancelToken=CancelToken_1;axios$1.isCancel=isCancel$1;axios$1.VERSION=data.version;axios$1.all=function(r){return Promise.all(r)};axios$1.spread=spread;axios$1.isAxiosError=isAxiosError;axios$2.exports=axios$1;axios$2.exports.default=axios$1;var axios=axios$2.exports;/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics$o=function(t,r){return extendStatics$o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},extendStatics$o(t,r)};function __extends$x(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics$o(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}function __awaiter$8(t,r,n,s){function o(h){return h instanceof n?h:new n(function(l){l(h)})}return new(n||(n=Promise))(function(h,l){function c(g){try{v(s.next(g))}catch(m){l(m)}}function d(g){try{v(s.throw(g))}catch(m){l(m)}}function v(g){g.done?h(g.value):o(g.value).then(c,d)}v((s=s.apply(t,r||[])).next())})}function __generator$8(t,r){var n={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},s,o,h,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(v){return function(g){return d([v,g])}}function d(v){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(h=v[0]&2?o.return:v[0]?o.throw||((h=o.return)&&h.call(o),0):o.next)&&!(h=h.call(o,v[1])).done)return h;switch(o=0,h&&(v=[v[0]&2,h.value]),v[0]){case 0:case 1:h=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,o=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(h=n.trys,!(h=h.length>0&&h[h.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!h||v[1]>h[0]&&v[1]<h[3])){n.label=v[1];break}if(v[0]===6&&n.label<h[1]){n.label=h[1],h=v;break}if(h&&n.label<h[2]){n.label=h[2],n.ops.push(v);break}h[2]&&n.ops.pop(),n.trys.pop();continue}v=r.call(t,n)}catch(g){v=[6,g],o=0}finally{s=h=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}var Bounds$2=function(){function t(r,n,s,o){this.left=r,this.top=n,this.width=s,this.height=o}return t.prototype.add=function(r,n,s,o){return new t(this.left+r,this.top+n,this.width+s,this.height+o)},t.fromClientRect=function(r,n){return new t(n.left+r.windowBounds.left,n.top+r.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(r,n){var s=Array.from(n).find(function(o){return o.width!==0});return s?new t(s.left+r.windowBounds.left,s.top+r.windowBounds.top,s.width,s.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),parseBounds=function(t,r){return Bounds$2.fromClientRect(t,r.getBoundingClientRect())},toCodePoints$1=function(t){for(var r=[],n=0,s=t.length;n<s;){var o=t.charCodeAt(n++);if(o>=55296&&o<=56319&&n<s){var h=t.charCodeAt(n++);(h&64512)===56320?r.push(((o&1023)<<10)+(h&1023)+65536):(r.push(o),n--)}else r.push(o)}return r},fromCodePoint$1=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var s=[],o=-1,h="";++o<n;){var l=t[o];l<=65535?s.push(l):(l-=65536,s.push((l>>10)+55296,l%1024+56320)),(o+1===n||s.length>16384)&&(h+=String.fromCharCode.apply(String,s),s.length=0)}return h},chars$2="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$2=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var i$2=0;i$2<chars$2.length;i$2++)lookup$2[chars$2.charCodeAt(i$2)]=i$2;var chars$1$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1$1=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var i$1$1=0;i$1$1<chars$1$1.length;i$1$1++)lookup$1$1[chars$1$1.charCodeAt(i$1$1)]=i$1$1;var decode$1$1=function(t){var r=t.length*.75,n=t.length,s,o=0,h,l,c,d;t[t.length-1]==="="&&(r--,t[t.length-2]==="="&&r--);var v=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint8Array.prototype.slice!="undefined"?new ArrayBuffer(r):new Array(r),g=Array.isArray(v)?v:new Uint8Array(v);for(s=0;s<n;s+=4)h=lookup$1$1[t.charCodeAt(s)],l=lookup$1$1[t.charCodeAt(s+1)],c=lookup$1$1[t.charCodeAt(s+2)],d=lookup$1$1[t.charCodeAt(s+3)],g[o++]=h<<2|l>>4,g[o++]=(l&15)<<4|c>>2,g[o++]=(c&3)<<6|d&63;return v},polyUint16Array$1=function(t){for(var r=t.length,n=[],s=0;s<r;s+=2)n.push(t[s+1]<<8|t[s]);return n},polyUint32Array$1=function(t){for(var r=t.length,n=[],s=0;s<r;s+=4)n.push(t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s]);return n},UTRIE2_SHIFT_2$1=5,UTRIE2_SHIFT_1$1=6+5,UTRIE2_INDEX_SHIFT$1=2,UTRIE2_SHIFT_1_2$1=UTRIE2_SHIFT_1$1-UTRIE2_SHIFT_2$1,UTRIE2_LSCP_INDEX_2_OFFSET$1=65536>>UTRIE2_SHIFT_2$1,UTRIE2_DATA_BLOCK_LENGTH$1=1<<UTRIE2_SHIFT_2$1,UTRIE2_DATA_MASK$1=UTRIE2_DATA_BLOCK_LENGTH$1-1,UTRIE2_LSCP_INDEX_2_LENGTH$1=1024>>UTRIE2_SHIFT_2$1,UTRIE2_INDEX_2_BMP_LENGTH$1=UTRIE2_LSCP_INDEX_2_OFFSET$1+UTRIE2_LSCP_INDEX_2_LENGTH$1,UTRIE2_UTF8_2B_INDEX_2_OFFSET$1=UTRIE2_INDEX_2_BMP_LENGTH$1,UTRIE2_UTF8_2B_INDEX_2_LENGTH$1=32,UTRIE2_INDEX_1_OFFSET$1=UTRIE2_UTF8_2B_INDEX_2_OFFSET$1+UTRIE2_UTF8_2B_INDEX_2_LENGTH$1,UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1=65536>>UTRIE2_SHIFT_1$1,UTRIE2_INDEX_2_BLOCK_LENGTH$1=1<<UTRIE2_SHIFT_1_2$1,UTRIE2_INDEX_2_MASK$1=UTRIE2_INDEX_2_BLOCK_LENGTH$1-1,slice16$1=function(t,r,n){return t.slice?t.slice(r,n):new Uint16Array(Array.prototype.slice.call(t,r,n))},slice32$1=function(t,r,n){return t.slice?t.slice(r,n):new Uint32Array(Array.prototype.slice.call(t,r,n))},createTrieFromBase64$1=function(t,r){var n=decode$1$1(t),s=Array.isArray(n)?polyUint32Array$1(n):new Uint32Array(n),o=Array.isArray(n)?polyUint16Array$1(n):new Uint16Array(n),h=24,l=slice16$1(o,h/2,s[4]/2),c=s[5]===2?slice16$1(o,(h+s[4])/2):slice32$1(s,Math.ceil((h+s[4])/4));return new Trie$1(s[0],s[1],s[2],s[3],l,c)},Trie$1=function(){function t(r,n,s,o,h,l){this.initialValue=r,this.errorValue=n,this.highStart=s,this.highValueIndex=o,this.index=h,this.data=l}return t.prototype.get=function(r){var n;if(r>=0){if(r<55296||r>56319&&r<=65535)return n=this.index[r>>UTRIE2_SHIFT_2$1],n=(n<<UTRIE2_INDEX_SHIFT$1)+(r&UTRIE2_DATA_MASK$1),this.data[n];if(r<=65535)return n=this.index[UTRIE2_LSCP_INDEX_2_OFFSET$1+(r-55296>>UTRIE2_SHIFT_2$1)],n=(n<<UTRIE2_INDEX_SHIFT$1)+(r&UTRIE2_DATA_MASK$1),this.data[n];if(r<this.highStart)return n=UTRIE2_INDEX_1_OFFSET$1-UTRIE2_OMITTED_BMP_INDEX_1_LENGTH$1+(r>>UTRIE2_SHIFT_1$1),n=this.index[n],n+=r>>UTRIE2_SHIFT_2$1&UTRIE2_INDEX_2_MASK$1,n=this.index[n],n=(n<<UTRIE2_INDEX_SHIFT$1)+(r&UTRIE2_DATA_MASK$1),this.data[n];if(r<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),chars$3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$3=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var i$3=0;i$3<chars$3.length;i$3++)lookup$3[chars$3.charCodeAt(i$3)]=i$3;var base64$1="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",LETTER_NUMBER_MODIFIER=50,BK=1,CR$1=2,LF$1=3,CM=4,NL=5,WJ=7,ZW=8,GL=9,SP=10,ZWJ$1=11,B2=12,BA=13,BB=14,HY=15,CB=16,CL=17,CP=18,EX=19,IN=20,NS=21,OP=22,QU=23,IS=24,NU=25,PO=26,PR=27,SY=28,AI=29,AL=30,CJ=31,EB=32,EM=33,H2=34,H3=35,HL=36,ID=37,JL=38,JV=39,JT=40,RI$1=41,SA=42,XX=43,ea_OP=[9001,65288],BREAK_MANDATORY="!",BREAK_NOT_ALLOWED$1="\xD7",BREAK_ALLOWED$1="\xF7",UnicodeTrie$1=createTrieFromBase64$1(base64$1),ALPHABETICS=[AL,HL],HARD_LINE_BREAKS=[BK,CR$1,LF$1,NL],SPACE$1=[SP,ZW],PREFIX_POSTFIX=[PR,PO],LINE_BREAKS=HARD_LINE_BREAKS.concat(SPACE$1),KOREAN_SYLLABLE_BLOCK=[JL,JV,JT,H2,H3],HYPHEN=[HY,BA],codePointsToCharacterClasses=function(t,r){r===void 0&&(r="strict");var n=[],s=[],o=[];return t.forEach(function(h,l){var c=UnicodeTrie$1.get(h);if(c>LETTER_NUMBER_MODIFIER?(o.push(!0),c-=LETTER_NUMBER_MODIFIER):o.push(!1),["normal","auto","loose"].indexOf(r)!==-1&&[8208,8211,12316,12448].indexOf(h)!==-1)return s.push(l),n.push(CB);if(c===CM||c===ZWJ$1){if(l===0)return s.push(l),n.push(AL);var d=n[l-1];return LINE_BREAKS.indexOf(d)===-1?(s.push(s[l-1]),n.push(d)):(s.push(l),n.push(AL))}if(s.push(l),c===CJ)return n.push(r==="strict"?NS:ID);if(c===SA||c===AI)return n.push(AL);if(c===XX)return h>=131072&&h<=196605||h>=196608&&h<=262141?n.push(ID):n.push(AL);n.push(c)}),[s,n,o]},isAdjacentWithSpaceIgnored=function(t,r,n,s){var o=s[n];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var h=n;h<=s.length;){h++;var l=s[h];if(l===r)return!0;if(l!==SP)break}if(o===SP)for(var h=n;h>0;){h--;var c=s[h];if(Array.isArray(t)?t.indexOf(c)!==-1:t===c)for(var d=n;d<=s.length;){d++;var l=s[d];if(l===r)return!0;if(l!==SP)break}if(c!==SP)break}return!1},previousNonSpaceClassType=function(t,r){for(var n=t;n>=0;){var s=r[n];if(s===SP)n--;else return s}return 0},_lineBreakAtIndex=function(t,r,n,s,o){if(n[s]===0)return BREAK_NOT_ALLOWED$1;var h=s-1;if(Array.isArray(o)&&o[h]===!0)return BREAK_NOT_ALLOWED$1;var l=h-1,c=h+1,d=r[h],v=l>=0?r[l]:0,g=r[c];if(d===CR$1&&g===LF$1)return BREAK_NOT_ALLOWED$1;if(HARD_LINE_BREAKS.indexOf(d)!==-1)return BREAK_MANDATORY;if(HARD_LINE_BREAKS.indexOf(g)!==-1||SPACE$1.indexOf(g)!==-1)return BREAK_NOT_ALLOWED$1;if(previousNonSpaceClassType(h,r)===ZW)return BREAK_ALLOWED$1;if(UnicodeTrie$1.get(t[h])===ZWJ$1||(d===EB||d===EM)&&UnicodeTrie$1.get(t[c])===ZWJ$1||d===WJ||g===WJ||d===GL||[SP,BA,HY].indexOf(d)===-1&&g===GL||[CL,CP,EX,IS,SY].indexOf(g)!==-1||previousNonSpaceClassType(h,r)===OP||isAdjacentWithSpaceIgnored(QU,OP,h,r)||isAdjacentWithSpaceIgnored([CL,CP],NS,h,r)||isAdjacentWithSpaceIgnored(B2,B2,h,r))return BREAK_NOT_ALLOWED$1;if(d===SP)return BREAK_ALLOWED$1;if(d===QU||g===QU)return BREAK_NOT_ALLOWED$1;if(g===CB||d===CB)return BREAK_ALLOWED$1;if([BA,HY,NS].indexOf(g)!==-1||d===BB||v===HL&&HYPHEN.indexOf(d)!==-1||d===SY&&g===HL||g===IN||ALPHABETICS.indexOf(g)!==-1&&d===NU||ALPHABETICS.indexOf(d)!==-1&&g===NU||d===PR&&[ID,EB,EM].indexOf(g)!==-1||[ID,EB,EM].indexOf(d)!==-1&&g===PO||ALPHABETICS.indexOf(d)!==-1&&PREFIX_POSTFIX.indexOf(g)!==-1||PREFIX_POSTFIX.indexOf(d)!==-1&&ALPHABETICS.indexOf(g)!==-1||[PR,PO].indexOf(d)!==-1&&(g===NU||[OP,HY].indexOf(g)!==-1&&r[c+1]===NU)||[OP,HY].indexOf(d)!==-1&&g===NU||d===NU&&[NU,SY,IS].indexOf(g)!==-1)return BREAK_NOT_ALLOWED$1;if([NU,SY,IS,CL,CP].indexOf(g)!==-1)for(var m=h;m>=0;){var _=r[m];if(_===NU)return BREAK_NOT_ALLOWED$1;if([SY,IS].indexOf(_)!==-1)m--;else break}if([PR,PO].indexOf(g)!==-1)for(var m=[CL,CP].indexOf(d)!==-1?l:h;m>=0;){var _=r[m];if(_===NU)return BREAK_NOT_ALLOWED$1;if([SY,IS].indexOf(_)!==-1)m--;else break}if(JL===d&&[JL,JV,H2,H3].indexOf(g)!==-1||[JV,H2].indexOf(d)!==-1&&[JV,JT].indexOf(g)!==-1||[JT,H3].indexOf(d)!==-1&&g===JT||KOREAN_SYLLABLE_BLOCK.indexOf(d)!==-1&&[IN,PO].indexOf(g)!==-1||KOREAN_SYLLABLE_BLOCK.indexOf(g)!==-1&&d===PR||ALPHABETICS.indexOf(d)!==-1&&ALPHABETICS.indexOf(g)!==-1||d===IS&&ALPHABETICS.indexOf(g)!==-1||ALPHABETICS.concat(NU).indexOf(d)!==-1&&g===OP&&ea_OP.indexOf(t[c])===-1||ALPHABETICS.concat(NU).indexOf(g)!==-1&&d===CP)return BREAK_NOT_ALLOWED$1;if(d===RI$1&&g===RI$1){for(var y=n[h],B=1;y>0&&(y--,r[y]===RI$1);)B++;if(B%2!==0)return BREAK_NOT_ALLOWED$1}return d===EB&&g===EM?BREAK_NOT_ALLOWED$1:BREAK_ALLOWED$1},cssFormattedClasses=function(t,r){r||(r={lineBreak:"normal",wordBreak:"normal"});var n=codePointsToCharacterClasses(t,r.lineBreak),s=n[0],o=n[1],h=n[2];(r.wordBreak==="break-all"||r.wordBreak==="break-word")&&(o=o.map(function(c){return[NU,AL,SA].indexOf(c)!==-1?ID:c}));var l=r.wordBreak==="keep-all"?h.map(function(c,d){return c&&t[d]>=19968&&t[d]<=40959}):void 0;return[s,o,l]},Break=function(){function t(r,n,s,o){this.codePoints=r,this.required=n===BREAK_MANDATORY,this.start=s,this.end=o}return t.prototype.slice=function(){return fromCodePoint$1.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),LineBreaker=function(t,r){var n=toCodePoints$1(t),s=cssFormattedClasses(n,r),o=s[0],h=s[1],l=s[2],c=n.length,d=0,v=0;return{next:function(){if(v>=c)return{done:!0,value:null};for(var g=BREAK_NOT_ALLOWED$1;v<c&&(g=_lineBreakAtIndex(n,h,o,++v,l))===BREAK_NOT_ALLOWED$1;);if(g!==BREAK_NOT_ALLOWED$1||v===c){var m=new Break(n,g,d,v);return d=v,{value:m,done:!1}}return{done:!0,value:null}}}},FLAG_UNRESTRICTED=1<<0,FLAG_ID=1<<1,FLAG_INTEGER=1<<2,FLAG_NUMBER=1<<3,LINE_FEED=10,SOLIDUS=47,REVERSE_SOLIDUS=92,CHARACTER_TABULATION=9,SPACE=32,QUOTATION_MARK=34,EQUALS_SIGN=61,NUMBER_SIGN=35,DOLLAR_SIGN=36,PERCENTAGE_SIGN=37,APOSTROPHE=39,LEFT_PARENTHESIS=40,RIGHT_PARENTHESIS=41,LOW_LINE=95,HYPHEN_MINUS=45,EXCLAMATION_MARK=33,LESS_THAN_SIGN=60,GREATER_THAN_SIGN=62,COMMERCIAL_AT=64,LEFT_SQUARE_BRACKET=91,RIGHT_SQUARE_BRACKET=93,CIRCUMFLEX_ACCENT=61,LEFT_CURLY_BRACKET=123,QUESTION_MARK=63,RIGHT_CURLY_BRACKET=125,VERTICAL_LINE=124,TILDE=126,CONTROL=128,REPLACEMENT_CHARACTER=65533,ASTERISK=42,PLUS_SIGN=43,COMMA=44,COLON=58,SEMICOLON=59,FULL_STOP=46,NULL=0,BACKSPACE=8,LINE_TABULATION=11,SHIFT_OUT=14,INFORMATION_SEPARATOR_ONE=31,DELETE=127,EOF=-1,ZERO=48,a=97,e=101,f=102,u=117,z=122,A=65,E=69,F=70,U=85,Z=90,isDigit=function(t){return t>=ZERO&&t<=57},isSurrogateCodePoint=function(t){return t>=55296&&t<=57343},isHex=function(t){return isDigit(t)||t>=A&&t<=F||t>=a&&t<=f},isLowerCaseLetter=function(t){return t>=a&&t<=z},isUpperCaseLetter=function(t){return t>=A&&t<=Z},isLetter=function(t){return isLowerCaseLetter(t)||isUpperCaseLetter(t)},isNonASCIICodePoint=function(t){return t>=CONTROL},isWhiteSpace=function(t){return t===LINE_FEED||t===CHARACTER_TABULATION||t===SPACE},isNameStartCodePoint=function(t){return isLetter(t)||isNonASCIICodePoint(t)||t===LOW_LINE},isNameCodePoint=function(t){return isNameStartCodePoint(t)||isDigit(t)||t===HYPHEN_MINUS},isNonPrintableCodePoint=function(t){return t>=NULL&&t<=BACKSPACE||t===LINE_TABULATION||t>=SHIFT_OUT&&t<=INFORMATION_SEPARATOR_ONE||t===DELETE},isValidEscape=function(t,r){return t!==REVERSE_SOLIDUS?!1:r!==LINE_FEED},isIdentifierStart=function(t,r,n){return t===HYPHEN_MINUS?isNameStartCodePoint(r)||isValidEscape(r,n):isNameStartCodePoint(t)?!0:!!(t===REVERSE_SOLIDUS&&isValidEscape(t,r))},isNumberStart=function(t,r,n){return t===PLUS_SIGN||t===HYPHEN_MINUS?isDigit(r)?!0:r===FULL_STOP&&isDigit(n):isDigit(t===FULL_STOP?r:t)},stringToNumber=function(t){var r=0,n=1;(t[r]===PLUS_SIGN||t[r]===HYPHEN_MINUS)&&(t[r]===HYPHEN_MINUS&&(n=-1),r++);for(var s=[];isDigit(t[r]);)s.push(t[r++]);var o=s.length?parseInt(fromCodePoint$1.apply(void 0,s),10):0;t[r]===FULL_STOP&&r++;for(var h=[];isDigit(t[r]);)h.push(t[r++]);var l=h.length,c=l?parseInt(fromCodePoint$1.apply(void 0,h),10):0;(t[r]===E||t[r]===e)&&r++;var d=1;(t[r]===PLUS_SIGN||t[r]===HYPHEN_MINUS)&&(t[r]===HYPHEN_MINUS&&(d=-1),r++);for(var v=[];isDigit(t[r]);)v.push(t[r++]);var g=v.length?parseInt(fromCodePoint$1.apply(void 0,v),10):0;return n*(o+c*Math.pow(10,-l))*Math.pow(10,d*g)},LEFT_PARENTHESIS_TOKEN={type:2},RIGHT_PARENTHESIS_TOKEN={type:3},COMMA_TOKEN={type:4},SUFFIX_MATCH_TOKEN={type:13},PREFIX_MATCH_TOKEN={type:8},COLUMN_TOKEN={type:21},DASH_MATCH_TOKEN={type:9},INCLUDE_MATCH_TOKEN={type:10},LEFT_CURLY_BRACKET_TOKEN={type:11},RIGHT_CURLY_BRACKET_TOKEN={type:12},SUBSTRING_MATCH_TOKEN={type:14},BAD_URL_TOKEN={type:23},BAD_STRING_TOKEN={type:1},CDO_TOKEN={type:25},CDC_TOKEN={type:24},COLON_TOKEN={type:26},SEMICOLON_TOKEN={type:27},LEFT_SQUARE_BRACKET_TOKEN={type:28},RIGHT_SQUARE_BRACKET_TOKEN={type:29},WHITESPACE_TOKEN={type:31},EOF_TOKEN={type:32},Tokenizer=function(){function t(){this._value=[]}return t.prototype.write=function(r){this._value=this._value.concat(toCodePoints$1(r))},t.prototype.read=function(){for(var r=[],n=this.consumeToken();n!==EOF_TOKEN;)r.push(n),n=this.consumeToken();return r},t.prototype.consumeToken=function(){var r=this.consumeCodePoint();switch(r){case QUOTATION_MARK:return this.consumeStringToken(QUOTATION_MARK);case NUMBER_SIGN:var n=this.peekCodePoint(0),s=this.peekCodePoint(1),o=this.peekCodePoint(2);if(isNameCodePoint(n)||isValidEscape(s,o)){var h=isIdentifierStart(n,s,o)?FLAG_ID:FLAG_UNRESTRICTED,l=this.consumeName();return{type:5,value:l,flags:h}}break;case DOLLAR_SIGN:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),SUFFIX_MATCH_TOKEN;break;case APOSTROPHE:return this.consumeStringToken(APOSTROPHE);case LEFT_PARENTHESIS:return LEFT_PARENTHESIS_TOKEN;case RIGHT_PARENTHESIS:return RIGHT_PARENTHESIS_TOKEN;case ASTERISK:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),SUBSTRING_MATCH_TOKEN;break;case PLUS_SIGN:if(isNumberStart(r,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(r),this.consumeNumericToken();break;case COMMA:return COMMA_TOKEN;case HYPHEN_MINUS:var c=r,d=this.peekCodePoint(0),v=this.peekCodePoint(1);if(isNumberStart(c,d,v))return this.reconsumeCodePoint(r),this.consumeNumericToken();if(isIdentifierStart(c,d,v))return this.reconsumeCodePoint(r),this.consumeIdentLikeToken();if(d===HYPHEN_MINUS&&v===GREATER_THAN_SIGN)return this.consumeCodePoint(),this.consumeCodePoint(),CDC_TOKEN;break;case FULL_STOP:if(isNumberStart(r,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(r),this.consumeNumericToken();break;case SOLIDUS:if(this.peekCodePoint(0)===ASTERISK)for(this.consumeCodePoint();;){var g=this.consumeCodePoint();if(g===ASTERISK&&(g=this.consumeCodePoint(),g===SOLIDUS))return this.consumeToken();if(g===EOF)return this.consumeToken()}break;case COLON:return COLON_TOKEN;case SEMICOLON:return SEMICOLON_TOKEN;case LESS_THAN_SIGN:if(this.peekCodePoint(0)===EXCLAMATION_MARK&&this.peekCodePoint(1)===HYPHEN_MINUS&&this.peekCodePoint(2)===HYPHEN_MINUS)return this.consumeCodePoint(),this.consumeCodePoint(),CDO_TOKEN;break;case COMMERCIAL_AT:var m=this.peekCodePoint(0),_=this.peekCodePoint(1),y=this.peekCodePoint(2);if(isIdentifierStart(m,_,y)){var l=this.consumeName();return{type:7,value:l}}break;case LEFT_SQUARE_BRACKET:return LEFT_SQUARE_BRACKET_TOKEN;case REVERSE_SOLIDUS:if(isValidEscape(r,this.peekCodePoint(0)))return this.reconsumeCodePoint(r),this.consumeIdentLikeToken();break;case RIGHT_SQUARE_BRACKET:return RIGHT_SQUARE_BRACKET_TOKEN;case CIRCUMFLEX_ACCENT:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),PREFIX_MATCH_TOKEN;break;case LEFT_CURLY_BRACKET:return LEFT_CURLY_BRACKET_TOKEN;case RIGHT_CURLY_BRACKET:return RIGHT_CURLY_BRACKET_TOKEN;case u:case U:var B=this.peekCodePoint(0),w=this.peekCodePoint(1);return B===PLUS_SIGN&&(isHex(w)||w===QUESTION_MARK)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(r),this.consumeIdentLikeToken();case VERTICAL_LINE:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),DASH_MATCH_TOKEN;if(this.peekCodePoint(0)===VERTICAL_LINE)return this.consumeCodePoint(),COLUMN_TOKEN;break;case TILDE:if(this.peekCodePoint(0)===EQUALS_SIGN)return this.consumeCodePoint(),INCLUDE_MATCH_TOKEN;break;case EOF:return EOF_TOKEN}return isWhiteSpace(r)?(this.consumeWhiteSpace(),WHITESPACE_TOKEN):isDigit(r)?(this.reconsumeCodePoint(r),this.consumeNumericToken()):isNameStartCodePoint(r)?(this.reconsumeCodePoint(r),this.consumeIdentLikeToken()):{type:6,value:fromCodePoint$1(r)}},t.prototype.consumeCodePoint=function(){var r=this._value.shift();return typeof r=="undefined"?-1:r},t.prototype.reconsumeCodePoint=function(r){this._value.unshift(r)},t.prototype.peekCodePoint=function(r){return r>=this._value.length?-1:this._value[r]},t.prototype.consumeUnicodeRangeToken=function(){for(var r=[],n=this.consumeCodePoint();isHex(n)&&r.length<6;)r.push(n),n=this.consumeCodePoint();for(var s=!1;n===QUESTION_MARK&&r.length<6;)r.push(n),n=this.consumeCodePoint(),s=!0;if(s){var o=parseInt(fromCodePoint$1.apply(void 0,r.map(function(d){return d===QUESTION_MARK?ZERO:d})),16),h=parseInt(fromCodePoint$1.apply(void 0,r.map(function(d){return d===QUESTION_MARK?F:d})),16);return{type:30,start:o,end:h}}var l=parseInt(fromCodePoint$1.apply(void 0,r),16);if(this.peekCodePoint(0)===HYPHEN_MINUS&&isHex(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var c=[];isHex(n)&&c.length<6;)c.push(n),n=this.consumeCodePoint();var h=parseInt(fromCodePoint$1.apply(void 0,c),16);return{type:30,start:l,end:h}}else return{type:30,start:l,end:l}},t.prototype.consumeIdentLikeToken=function(){var r=this.consumeName();return r.toLowerCase()==="url"&&this.peekCodePoint(0)===LEFT_PARENTHESIS?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===LEFT_PARENTHESIS?(this.consumeCodePoint(),{type:19,value:r}):{type:20,value:r}},t.prototype.consumeUrlToken=function(){var r=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===APOSTROPHE||n===QUOTATION_MARK){var s=this.consumeStringToken(this.consumeCodePoint());return s.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF||this.peekCodePoint(0)===RIGHT_PARENTHESIS)?(this.consumeCodePoint(),{type:22,value:s.value}):(this.consumeBadUrlRemnants(),BAD_URL_TOKEN)}for(;;){var o=this.consumeCodePoint();if(o===EOF||o===RIGHT_PARENTHESIS)return{type:22,value:fromCodePoint$1.apply(void 0,r)};if(isWhiteSpace(o))return this.consumeWhiteSpace(),this.peekCodePoint(0)===EOF||this.peekCodePoint(0)===RIGHT_PARENTHESIS?(this.consumeCodePoint(),{type:22,value:fromCodePoint$1.apply(void 0,r)}):(this.consumeBadUrlRemnants(),BAD_URL_TOKEN);if(o===QUOTATION_MARK||o===APOSTROPHE||o===LEFT_PARENTHESIS||isNonPrintableCodePoint(o))return this.consumeBadUrlRemnants(),BAD_URL_TOKEN;if(o===REVERSE_SOLIDUS)if(isValidEscape(o,this.peekCodePoint(0)))r.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),BAD_URL_TOKEN;else r.push(o)}},t.prototype.consumeWhiteSpace=function(){for(;isWhiteSpace(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var r=this.consumeCodePoint();if(r===RIGHT_PARENTHESIS||r===EOF)return;isValidEscape(r,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(r){for(var n=5e4,s="";r>0;){var o=Math.min(n,r);s+=fromCodePoint$1.apply(void 0,this._value.splice(0,o)),r-=o}return this._value.shift(),s},t.prototype.consumeStringToken=function(r){var n="",s=0;do{var o=this._value[s];if(o===EOF||o===void 0||o===r)return n+=this.consumeStringSlice(s),{type:0,value:n};if(o===LINE_FEED)return this._value.splice(0,s),BAD_STRING_TOKEN;if(o===REVERSE_SOLIDUS){var h=this._value[s+1];h!==EOF&&h!==void 0&&(h===LINE_FEED?(n+=this.consumeStringSlice(s),s=-1,this._value.shift()):isValidEscape(o,h)&&(n+=this.consumeStringSlice(s),n+=fromCodePoint$1(this.consumeEscapedCodePoint()),s=-1))}s++}while(!0)},t.prototype.consumeNumber=function(){var r=[],n=FLAG_INTEGER,s=this.peekCodePoint(0);for((s===PLUS_SIGN||s===HYPHEN_MINUS)&&r.push(this.consumeCodePoint());isDigit(this.peekCodePoint(0));)r.push(this.consumeCodePoint());s=this.peekCodePoint(0);var o=this.peekCodePoint(1);if(s===FULL_STOP&&isDigit(o))for(r.push(this.consumeCodePoint(),this.consumeCodePoint()),n=FLAG_NUMBER;isDigit(this.peekCodePoint(0));)r.push(this.consumeCodePoint());s=this.peekCodePoint(0),o=this.peekCodePoint(1);var h=this.peekCodePoint(2);if((s===E||s===e)&&((o===PLUS_SIGN||o===HYPHEN_MINUS)&&isDigit(h)||isDigit(o)))for(r.push(this.consumeCodePoint(),this.consumeCodePoint()),n=FLAG_NUMBER;isDigit(this.peekCodePoint(0));)r.push(this.consumeCodePoint());return[stringToNumber(r),n]},t.prototype.consumeNumericToken=function(){var r=this.consumeNumber(),n=r[0],s=r[1],o=this.peekCodePoint(0),h=this.peekCodePoint(1),l=this.peekCodePoint(2);if(isIdentifierStart(o,h,l)){var c=this.consumeName();return{type:15,number:n,flags:s,unit:c}}return o===PERCENTAGE_SIGN?(this.consumeCodePoint(),{type:16,number:n,flags:s}):{type:17,number:n,flags:s}},t.prototype.consumeEscapedCodePoint=function(){var r=this.consumeCodePoint();if(isHex(r)){for(var n=fromCodePoint$1(r);isHex(this.peekCodePoint(0))&&n.length<6;)n+=fromCodePoint$1(this.consumeCodePoint());isWhiteSpace(this.peekCodePoint(0))&&this.consumeCodePoint();var s=parseInt(n,16);return s===0||isSurrogateCodePoint(s)||s>1114111?REPLACEMENT_CHARACTER:s}return r===EOF?REPLACEMENT_CHARACTER:r},t.prototype.consumeName=function(){for(var r="";;){var n=this.consumeCodePoint();if(isNameCodePoint(n))r+=fromCodePoint$1(n);else if(isValidEscape(n,this.peekCodePoint(0)))r+=fromCodePoint$1(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),r}},t}(),Parser=function(){function t(r){this._tokens=r}return t.create=function(r){var n=new Tokenizer;return n.write(r),new t(n.read())},t.parseValue=function(r){return t.create(r).parseComponentValue()},t.parseValues=function(r){return t.create(r).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var r=this.consumeToken();r.type===31;)r=this.consumeToken();if(r.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(r);var n=this.consumeComponentValue();do r=this.consumeToken();while(r.type===31);if(r.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var r=[];;){var n=this.consumeComponentValue();if(n.type===32)return r;r.push(n),r.push()}},t.prototype.consumeComponentValue=function(){var r=this.consumeToken();switch(r.type){case 11:case 28:case 2:return this.consumeSimpleBlock(r.type);case 19:return this.consumeFunction(r)}return r},t.prototype.consumeSimpleBlock=function(r){for(var n={type:r,values:[]},s=this.consumeToken();;){if(s.type===32||isEndingTokenFor(s,r))return n;this.reconsumeToken(s),n.values.push(this.consumeComponentValue()),s=this.consumeToken()}},t.prototype.consumeFunction=function(r){for(var n={name:r.value,values:[],type:18};;){var s=this.consumeToken();if(s.type===32||s.type===3)return n;this.reconsumeToken(s),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var r=this._tokens.shift();return typeof r=="undefined"?EOF_TOKEN:r},t.prototype.reconsumeToken=function(r){this._tokens.unshift(r)},t}(),isDimensionToken=function(t){return t.type===15},isNumberToken=function(t){return t.type===17},isIdentToken=function(t){return t.type===20},isIdentWithValue=function(t,r){return isIdentToken(t)&&t.value===r},nonFunctionArgSeparator=function(t){return t.type!==31&&t.type!==4},parseFunctionArgs=function(t){var r=[],n=[];return t.forEach(function(s){if(s.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");r.push(n),n=[];return}s.type!==31&&n.push(s)}),n.length&&r.push(n),r},isEndingTokenFor=function(t,r){return r===11&&t.type===12||r===28&&t.type===29?!0:r===2&&t.type===3},isLength=function(t){return t.type===17||t.type===15},isLengthPercentage=function(t){return t.type===16||isLength(t)},parseLengthPercentageTuple=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},ZERO_LENGTH={type:17,number:0,flags:FLAG_INTEGER},FIFTY_PERCENT={type:16,number:50,flags:FLAG_INTEGER},HUNDRED_PERCENT={type:16,number:100,flags:FLAG_INTEGER},getAbsoluteValueForTuple=function(t,r,n){var s=t[0],o=t[1];return[getAbsoluteValue(s,r),getAbsoluteValue(typeof o!="undefined"?o:s,n)]},getAbsoluteValue=function(t,r){if(t.type===16)return t.number/100*r;if(isDimensionToken(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},DEG="deg",GRAD="grad",RAD="rad",TURN="turn",angle={name:"angle",parse:function(t,r){if(r.type===15)switch(r.unit){case DEG:return Math.PI*r.number/180;case GRAD:return Math.PI/200*r.number;case RAD:return r.number;case TURN:return Math.PI*2*r.number}throw new Error("Unsupported angle type")}},isAngle=function(t){return t.type===15&&(t.unit===DEG||t.unit===GRAD||t.unit===RAD||t.unit===TURN)},parseNamedSide=function(t){var r=t.filter(isIdentToken).map(function(n){return n.value}).join(" ");switch(r){case"to bottom right":case"to right bottom":case"left top":case"top left":return[ZERO_LENGTH,ZERO_LENGTH];case"to top":case"bottom":return deg(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[ZERO_LENGTH,HUNDRED_PERCENT];case"to right":case"left":return deg(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[HUNDRED_PERCENT,HUNDRED_PERCENT];case"to bottom":case"top":return deg(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[HUNDRED_PERCENT,ZERO_LENGTH];case"to left":case"right":return deg(270)}return 0},deg=function(t){return Math.PI*t/180},color$1={name:"color",parse:function(t,r){if(r.type===18){var n=SUPPORTED_COLOR_FUNCTIONS[r.name];if(typeof n=="undefined")throw new Error('Attempting to parse an unsupported color function "'+r.name+'"');return n(t,r.values)}if(r.type===5){if(r.value.length===3){var s=r.value.substring(0,1),o=r.value.substring(1,2),h=r.value.substring(2,3);return pack(parseInt(s+s,16),parseInt(o+o,16),parseInt(h+h,16),1)}if(r.value.length===4){var s=r.value.substring(0,1),o=r.value.substring(1,2),h=r.value.substring(2,3),l=r.value.substring(3,4);return pack(parseInt(s+s,16),parseInt(o+o,16),parseInt(h+h,16),parseInt(l+l,16)/255)}if(r.value.length===6){var s=r.value.substring(0,2),o=r.value.substring(2,4),h=r.value.substring(4,6);return pack(parseInt(s,16),parseInt(o,16),parseInt(h,16),1)}if(r.value.length===8){var s=r.value.substring(0,2),o=r.value.substring(2,4),h=r.value.substring(4,6),l=r.value.substring(6,8);return pack(parseInt(s,16),parseInt(o,16),parseInt(h,16),parseInt(l,16)/255)}}if(r.type===20){var c=COLORS[r.value.toUpperCase()];if(typeof c!="undefined")return c}return COLORS.TRANSPARENT}},isTransparent=function(t){return(255&t)===0},asString=function(t){var r=255&t,n=255&t>>8,s=255&t>>16,o=255&t>>24;return r<255?"rgba("+o+","+s+","+n+","+r/255+")":"rgb("+o+","+s+","+n+")"},pack=function(t,r,n,s){return(t<<24|r<<16|n<<8|Math.round(s*255)<<0)>>>0},getTokenColorValue=function(t,r){if(t.type===17)return t.number;if(t.type===16){var n=r===3?1:255;return r===3?t.number/100*n:Math.round(t.number/100*n)}return 0},rgb=function(t,r){var n=r.filter(nonFunctionArgSeparator);if(n.length===3){var s=n.map(getTokenColorValue),o=s[0],h=s[1],l=s[2];return pack(o,h,l,1)}if(n.length===4){var c=n.map(getTokenColorValue),o=c[0],h=c[1],l=c[2],d=c[3];return pack(o,h,l,d)}return 0};function hue2rgb(t,r,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(r-t)*n*6+t:n<1/2?r:n<2/3?(r-t)*6*(2/3-n)+t:t}var hsl=function(t,r){var n=r.filter(nonFunctionArgSeparator),s=n[0],o=n[1],h=n[2],l=n[3],c=(s.type===17?deg(s.number):angle.parse(t,s))/(Math.PI*2),d=isLengthPercentage(o)?o.number/100:0,v=isLengthPercentage(h)?h.number/100:0,g=typeof l!="undefined"&&isLengthPercentage(l)?getAbsoluteValue(l,1):1;if(d===0)return pack(v*255,v*255,v*255,1);var m=v<=.5?v*(d+1):v+d-v*d,_=v*2-m,y=hue2rgb(_,m,c+1/3),B=hue2rgb(_,m,c),w=hue2rgb(_,m,c-1/3);return pack(y*255,B*255,w*255,g)},SUPPORTED_COLOR_FUNCTIONS={hsl,hsla:hsl,rgb,rgba:rgb},parseColor=function(t,r){return color$1.parse(t,Parser.create(r).parseComponentValue())},COLORS={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},backgroundClip={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,r){return r.map(function(n){if(isIdentToken(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},backgroundColor={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},parseColorStop=function(t,r){var n=color$1.parse(t,r[0]),s=r[1];return s&&isLengthPercentage(s)?{color:n,stop:s}:{color:n,stop:null}},processColorStops=function(t,r){var n=t[0],s=t[t.length-1];n.stop===null&&(n.stop=ZERO_LENGTH),s.stop===null&&(s.stop=HUNDRED_PERCENT);for(var o=[],h=0,l=0;l<t.length;l++){var c=t[l].stop;if(c!==null){var d=getAbsoluteValue(c,r);d>h?o.push(d):o.push(h),h=d}else o.push(null)}for(var v=null,l=0;l<o.length;l++){var g=o[l];if(g===null)v===null&&(v=l);else if(v!==null){for(var m=l-v,_=o[v-1],y=(g-_)/(m+1),B=1;B<=m;B++)o[v+B-1]=y*B;v=null}}return t.map(function(w,C){var b=w.color;return{color:b,stop:Math.max(Math.min(1,o[C]/r),0)}})},getAngleFromCorner=function(t,r,n){var s=r/2,o=n/2,h=getAbsoluteValue(t[0],r)-s,l=o-getAbsoluteValue(t[1],n);return(Math.atan2(l,h)+Math.PI*2)%(Math.PI*2)},calculateGradientDirection=function(t,r,n){var s=typeof t=="number"?t:getAngleFromCorner(t,r,n),o=Math.abs(r*Math.sin(s))+Math.abs(n*Math.cos(s)),h=r/2,l=n/2,c=o/2,d=Math.sin(s-Math.PI/2)*c,v=Math.cos(s-Math.PI/2)*c;return[o,h-v,h+v,l-d,l+d]},distance=function(t,r){return Math.sqrt(t*t+r*r)},findCorner=function(t,r,n,s,o){var h=[[0,0],[0,r],[t,0],[t,r]];return h.reduce(function(l,c){var d=c[0],v=c[1],g=distance(n-d,s-v);return(o?g<l.optimumDistance:g>l.optimumDistance)?{optimumCorner:c,optimumDistance:g}:l},{optimumDistance:o?1/0:-1/0,optimumCorner:null}).optimumCorner},calculateRadius=function(t,r,n,s,o){var h=0,l=0;switch(t.size){case 0:t.shape===0?h=l=Math.min(Math.abs(r),Math.abs(r-s),Math.abs(n),Math.abs(n-o)):t.shape===1&&(h=Math.min(Math.abs(r),Math.abs(r-s)),l=Math.min(Math.abs(n),Math.abs(n-o)));break;case 2:if(t.shape===0)h=l=Math.min(distance(r,n),distance(r,n-o),distance(r-s,n),distance(r-s,n-o));else if(t.shape===1){var c=Math.min(Math.abs(n),Math.abs(n-o))/Math.min(Math.abs(r),Math.abs(r-s)),d=findCorner(s,o,r,n,!0),v=d[0],g=d[1];h=distance(v-r,(g-n)/c),l=c*h}break;case 1:t.shape===0?h=l=Math.max(Math.abs(r),Math.abs(r-s),Math.abs(n),Math.abs(n-o)):t.shape===1&&(h=Math.max(Math.abs(r),Math.abs(r-s)),l=Math.max(Math.abs(n),Math.abs(n-o)));break;case 3:if(t.shape===0)h=l=Math.max(distance(r,n),distance(r,n-o),distance(r-s,n),distance(r-s,n-o));else if(t.shape===1){var c=Math.max(Math.abs(n),Math.abs(n-o))/Math.max(Math.abs(r),Math.abs(r-s)),m=findCorner(s,o,r,n,!1),v=m[0],g=m[1];h=distance(v-r,(g-n)/c),l=c*h}break}return Array.isArray(t.size)&&(h=getAbsoluteValue(t.size[0],s),l=t.size.length===2?getAbsoluteValue(t.size[1],o):h),[h,l]},linearGradient=function(t,r){var n=deg(180),s=[];return parseFunctionArgs(r).forEach(function(o,h){if(h===0){var l=o[0];if(l.type===20&&l.value==="to"){n=parseNamedSide(o);return}else if(isAngle(l)){n=angle.parse(t,l);return}}var c=parseColorStop(t,o);s.push(c)}),{angle:n,stops:s,type:1}},prefixLinearGradient=function(t,r){var n=deg(180),s=[];return parseFunctionArgs(r).forEach(function(o,h){if(h===0){var l=o[0];if(l.type===20&&["top","left","right","bottom"].indexOf(l.value)!==-1){n=parseNamedSide(o);return}else if(isAngle(l)){n=(angle.parse(t,l)+deg(270))%deg(360);return}}var c=parseColorStop(t,o);s.push(c)}),{angle:n,stops:s,type:1}},webkitGradient=function(t,r){var n=deg(180),s=[],o=1,h=0,l=3,c=[];return parseFunctionArgs(r).forEach(function(d,v){var g=d[0];if(v===0){if(isIdentToken(g)&&g.value==="linear"){o=1;return}else if(isIdentToken(g)&&g.value==="radial"){o=2;return}}if(g.type===18){if(g.name==="from"){var m=color$1.parse(t,g.values[0]);s.push({stop:ZERO_LENGTH,color:m})}else if(g.name==="to"){var m=color$1.parse(t,g.values[0]);s.push({stop:HUNDRED_PERCENT,color:m})}else if(g.name==="color-stop"){var _=g.values.filter(nonFunctionArgSeparator);if(_.length===2){var m=color$1.parse(t,_[1]),y=_[0];isNumberToken(y)&&s.push({stop:{type:16,number:y.number*100,flags:y.flags},color:m})}}}}),o===1?{angle:(n+deg(180))%deg(360),stops:s,type:o}:{size:l,shape:h,stops:s,position:c,type:o}},CLOSEST_SIDE="closest-side",FARTHEST_SIDE="farthest-side",CLOSEST_CORNER="closest-corner",FARTHEST_CORNER="farthest-corner",CIRCLE="circle",ELLIPSE="ellipse",COVER="cover",CONTAIN="contain",radialGradient=function(t,r){var n=0,s=3,o=[],h=[];return parseFunctionArgs(r).forEach(function(l,c){var d=!0;if(c===0){var v=!1;d=l.reduce(function(m,_){if(v)if(isIdentToken(_))switch(_.value){case"center":return h.push(FIFTY_PERCENT),m;case"top":case"left":return h.push(ZERO_LENGTH),m;case"right":case"bottom":return h.push(HUNDRED_PERCENT),m}else(isLengthPercentage(_)||isLength(_))&&h.push(_);else if(isIdentToken(_))switch(_.value){case CIRCLE:return n=0,!1;case ELLIPSE:return n=1,!1;case"at":return v=!0,!1;case CLOSEST_SIDE:return s=0,!1;case COVER:case FARTHEST_SIDE:return s=1,!1;case CONTAIN:case CLOSEST_CORNER:return s=2,!1;case FARTHEST_CORNER:return s=3,!1}else if(isLength(_)||isLengthPercentage(_))return Array.isArray(s)||(s=[]),s.push(_),!1;return m},d)}if(d){var g=parseColorStop(t,l);o.push(g)}}),{size:s,shape:n,stops:o,position:h,type:2}},prefixRadialGradient=function(t,r){var n=0,s=3,o=[],h=[];return parseFunctionArgs(r).forEach(function(l,c){var d=!0;if(c===0?d=l.reduce(function(g,m){if(isIdentToken(m))switch(m.value){case"center":return h.push(FIFTY_PERCENT),!1;case"top":case"left":return h.push(ZERO_LENGTH),!1;case"right":case"bottom":return h.push(HUNDRED_PERCENT),!1}else if(isLengthPercentage(m)||isLength(m))return h.push(m),!1;return g},d):c===1&&(d=l.reduce(function(g,m){if(isIdentToken(m))switch(m.value){case CIRCLE:return n=0,!1;case ELLIPSE:return n=1,!1;case CONTAIN:case CLOSEST_SIDE:return s=0,!1;case FARTHEST_SIDE:return s=1,!1;case CLOSEST_CORNER:return s=2,!1;case COVER:case FARTHEST_CORNER:return s=3,!1}else if(isLength(m)||isLengthPercentage(m))return Array.isArray(s)||(s=[]),s.push(m),!1;return g},d)),d){var v=parseColorStop(t,l);o.push(v)}}),{size:s,shape:n,stops:o,position:h,type:2}},isLinearGradient=function(t){return t.type===1},isRadialGradient=function(t){return t.type===2},image={name:"image",parse:function(t,r){if(r.type===22){var n={url:r.value,type:0};return t.cache.addImage(r.value),n}if(r.type===18){var s=SUPPORTED_IMAGE_FUNCTIONS[r.name];if(typeof s=="undefined")throw new Error('Attempting to parse an unsupported image function "'+r.name+'"');return s(t,r.values)}throw new Error("Unsupported image type "+r.type)}};function isSupportedImage(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!SUPPORTED_IMAGE_FUNCTIONS[t.name])}var SUPPORTED_IMAGE_FUNCTIONS={"linear-gradient":linearGradient,"-moz-linear-gradient":prefixLinearGradient,"-ms-linear-gradient":prefixLinearGradient,"-o-linear-gradient":prefixLinearGradient,"-webkit-linear-gradient":prefixLinearGradient,"radial-gradient":radialGradient,"-moz-radial-gradient":prefixRadialGradient,"-ms-radial-gradient":prefixRadialGradient,"-o-radial-gradient":prefixRadialGradient,"-webkit-radial-gradient":prefixRadialGradient,"-webkit-gradient":webkitGradient},backgroundImage={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,r){if(r.length===0)return[];var n=r[0];return n.type===20&&n.value==="none"?[]:r.filter(function(s){return nonFunctionArgSeparator(s)&&isSupportedImage(s)}).map(function(s){return image.parse(t,s)})}},backgroundOrigin={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,r){return r.map(function(n){if(isIdentToken(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},backgroundPosition={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,r){return parseFunctionArgs(r).map(function(n){return n.filter(isLengthPercentage)}).map(parseLengthPercentageTuple)}},backgroundRepeat={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,r){return parseFunctionArgs(r).map(function(n){return n.filter(isIdentToken).map(function(s){return s.value}).join(" ")}).map(parseBackgroundRepeat)}},parseBackgroundRepeat=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},BACKGROUND_SIZE;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(BACKGROUND_SIZE||(BACKGROUND_SIZE={}));var backgroundSize={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,r){return parseFunctionArgs(r).map(function(n){return n.filter(isBackgroundSizeInfoToken)})}},isBackgroundSizeInfoToken=function(t){return isIdentToken(t)||isLengthPercentage(t)},borderColorForSide=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},borderTopColor=borderColorForSide("top"),borderRightColor=borderColorForSide("right"),borderBottomColor=borderColorForSide("bottom"),borderLeftColor=borderColorForSide("left"),borderRadiusForSide=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(r,n){return parseLengthPercentageTuple(n.filter(isLengthPercentage))}}},borderTopLeftRadius=borderRadiusForSide("top-left"),borderTopRightRadius=borderRadiusForSide("top-right"),borderBottomRightRadius=borderRadiusForSide("bottom-right"),borderBottomLeftRadius=borderRadiusForSide("bottom-left"),borderStyleForSide=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(r,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},borderTopStyle=borderStyleForSide("top"),borderRightStyle=borderStyleForSide("right"),borderBottomStyle=borderStyleForSide("bottom"),borderLeftStyle=borderStyleForSide("left"),borderWidthForSide=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(r,n){return isDimensionToken(n)?n.number:0}}},borderTopWidth=borderWidthForSide("top"),borderRightWidth=borderWidthForSide("right"),borderBottomWidth=borderWidthForSide("bottom"),borderLeftWidth=borderWidthForSide("left"),color={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},direction={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,r){switch(r){case"rtl":return 1;case"ltr":default:return 0}}},display={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,r){return r.filter(isIdentToken).reduce(function(n,s){return n|parseDisplayValue(s.value)},0)}},parseDisplayValue=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},float={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,r){switch(r){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},letterSpacing={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,r){return r.type===20&&r.value==="normal"?0:r.type===17||r.type===15?r.number:0}},LINE_BREAK;(function(t){t.NORMAL="normal",t.STRICT="strict"})(LINE_BREAK||(LINE_BREAK={}));var lineBreak={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,r){switch(r){case"strict":return LINE_BREAK.STRICT;case"normal":default:return LINE_BREAK.NORMAL}}},lineHeight={name:"line-height",initialValue:"normal",prefix:!1,type:4},computeLineHeight=function(t,r){return isIdentToken(t)&&t.value==="normal"?1.2*r:t.type===17?r*t.number:isLengthPercentage(t)?getAbsoluteValue(t,r):r},listStyleImage={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,r){return r.type===20&&r.value==="none"?null:image.parse(t,r)}},listStylePosition={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,r){switch(r){case"inside":return 0;case"outside":default:return 1}}},listStyleType={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,r){switch(r){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},marginForSide=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},marginTop=marginForSide("top"),marginRight=marginForSide("right"),marginBottom=marginForSide("bottom"),marginLeft=marginForSide("left"),overflow={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,r){return r.filter(isIdentToken).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},overflowWrap={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,r){switch(r){case"break-word":return"break-word";case"normal":default:return"normal"}}},paddingForSide=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},paddingTop=paddingForSide("top"),paddingRight=paddingForSide("right"),paddingBottom=paddingForSide("bottom"),paddingLeft=paddingForSide("left"),textAlign={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,r){switch(r){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},position={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,r){switch(r){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},textShadow={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,r){return r.length===1&&isIdentWithValue(r[0],"none")?[]:parseFunctionArgs(r).map(function(n){for(var s={color:COLORS.TRANSPARENT,offsetX:ZERO_LENGTH,offsetY:ZERO_LENGTH,blur:ZERO_LENGTH},o=0,h=0;h<n.length;h++){var l=n[h];isLength(l)?(o===0?s.offsetX=l:o===1?s.offsetY=l:s.blur=l,o++):s.color=color$1.parse(t,l)}return s})}},textTransform={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,r){switch(r){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},transform$1={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,r){if(r.type===20&&r.value==="none")return null;if(r.type===18){var n=SUPPORTED_TRANSFORM_FUNCTIONS[r.name];if(typeof n=="undefined")throw new Error('Attempting to parse an unsupported transform function "'+r.name+'"');return n(r.values)}return null}},matrix=function(t){var r=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return r.length===6?r:null},matrix3d=function(t){var r=t.filter(function(d){return d.type===17}).map(function(d){return d.number}),n=r[0],s=r[1];r[2],r[3];var o=r[4],h=r[5];r[6],r[7],r[8],r[9],r[10],r[11];var l=r[12],c=r[13];return r[14],r[15],r.length===16?[n,s,o,h,l,c]:null},SUPPORTED_TRANSFORM_FUNCTIONS={matrix,matrix3d},DEFAULT_VALUE={type:16,number:50,flags:FLAG_INTEGER},DEFAULT=[DEFAULT_VALUE,DEFAULT_VALUE],transformOrigin={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,r){var n=r.filter(isLengthPercentage);return n.length!==2?DEFAULT:[n[0],n[1]]}},visibility$1={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,r){switch(r){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},WORD_BREAK;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(WORD_BREAK||(WORD_BREAK={}));var wordBreak={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,r){switch(r){case"break-all":return WORD_BREAK.BREAK_ALL;case"keep-all":return WORD_BREAK.KEEP_ALL;case"normal":default:return WORD_BREAK.NORMAL}}},zIndex={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,r){if(r.type===20)return{auto:!0,order:0};if(isNumberToken(r))return{auto:!1,order:r.number};throw new Error("Invalid z-index number parsed")}},time={name:"time",parse:function(t,r){if(r.type===15)switch(r.unit.toLowerCase()){case"s":return 1e3*r.number;case"ms":return r.number}throw new Error("Unsupported time type")}},opacity={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,r){return isNumberToken(r)?r.number:1}},textDecorationColor={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},textDecorationLine={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,r){return r.filter(isIdentToken).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},fontFamily={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,r){var n=[],s=[];return r.forEach(function(o){switch(o.type){case 20:case 0:n.push(o.value);break;case 17:n.push(o.number.toString());break;case 4:s.push(n.join(" ")),n.length=0;break}}),n.length&&s.push(n.join(" ")),s.map(function(o){return o.indexOf(" ")===-1?o:"'"+o+"'"})}},fontSize={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},fontWeight={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,r){if(isNumberToken(r))return r.number;if(isIdentToken(r))switch(r.value){case"bold":return 700;case"normal":default:return 400}return 400}},fontVariant={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,r){return r.filter(isIdentToken).map(function(n){return n.value})}},fontStyle={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,r){switch(r){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},contains=function(t,r){return(t&r)!==0},duration={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,r){return r.filter(isDimensionToken).map(function(n){return time.parse(t,n)})}},boxShadow={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,r){return r.length===1&&isIdentWithValue(r[0],"none")?[]:parseFunctionArgs(r).map(function(n){for(var s={color:255,offsetX:ZERO_LENGTH,offsetY:ZERO_LENGTH,blur:ZERO_LENGTH,spread:ZERO_LENGTH,inset:!1},o=0,h=0;h<n.length;h++){var l=n[h];isIdentWithValue(l,"inset")?s.inset=!0:isLength(l)?(o===0?s.offsetX=l:o===1?s.offsetY=l:o===2?s.blur=l:s.spread=l,o++):s.color=color$1.parse(t,l)}return s})}},paintOrder={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,r){var n=[0,1,2],s=[];return r.filter(isIdentToken).forEach(function(o){switch(o.value){case"stroke":s.push(1);break;case"fill":s.push(0);break;case"markers":s.push(2);break}}),n.forEach(function(o){s.indexOf(o)===-1&&s.push(o)}),s}},webkitTextStrokeColor={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},webkitTextStrokeWidth={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,r){return isDimensionToken(r)?r.number:0}},CSSParsedDeclaration=function(){function t(r,n){var s,o;this.animationDuration=parse$2(r,duration,n.animationDuration),this.backgroundClip=parse$2(r,backgroundClip,n.backgroundClip),this.backgroundColor=parse$2(r,backgroundColor,n.backgroundColor),this.backgroundImage=parse$2(r,backgroundImage,n.backgroundImage),this.backgroundOrigin=parse$2(r,backgroundOrigin,n.backgroundOrigin),this.backgroundPosition=parse$2(r,backgroundPosition,n.backgroundPosition),this.backgroundRepeat=parse$2(r,backgroundRepeat,n.backgroundRepeat),this.backgroundSize=parse$2(r,backgroundSize,n.backgroundSize),this.borderTopColor=parse$2(r,borderTopColor,n.borderTopColor),this.borderRightColor=parse$2(r,borderRightColor,n.borderRightColor),this.borderBottomColor=parse$2(r,borderBottomColor,n.borderBottomColor),this.borderLeftColor=parse$2(r,borderLeftColor,n.borderLeftColor),this.borderTopLeftRadius=parse$2(r,borderTopLeftRadius,n.borderTopLeftRadius),this.borderTopRightRadius=parse$2(r,borderTopRightRadius,n.borderTopRightRadius),this.borderBottomRightRadius=parse$2(r,borderBottomRightRadius,n.borderBottomRightRadius),this.borderBottomLeftRadius=parse$2(r,borderBottomLeftRadius,n.borderBottomLeftRadius),this.borderTopStyle=parse$2(r,borderTopStyle,n.borderTopStyle),this.borderRightStyle=parse$2(r,borderRightStyle,n.borderRightStyle),this.borderBottomStyle=parse$2(r,borderBottomStyle,n.borderBottomStyle),this.borderLeftStyle=parse$2(r,borderLeftStyle,n.borderLeftStyle),this.borderTopWidth=parse$2(r,borderTopWidth,n.borderTopWidth),this.borderRightWidth=parse$2(r,borderRightWidth,n.borderRightWidth),this.borderBottomWidth=parse$2(r,borderBottomWidth,n.borderBottomWidth),this.borderLeftWidth=parse$2(r,borderLeftWidth,n.borderLeftWidth),this.boxShadow=parse$2(r,boxShadow,n.boxShadow),this.color=parse$2(r,color,n.color),this.direction=parse$2(r,direction,n.direction),this.display=parse$2(r,display,n.display),this.float=parse$2(r,float,n.cssFloat),this.fontFamily=parse$2(r,fontFamily,n.fontFamily),this.fontSize=parse$2(r,fontSize,n.fontSize),this.fontStyle=parse$2(r,fontStyle,n.fontStyle),this.fontVariant=parse$2(r,fontVariant,n.fontVariant),this.fontWeight=parse$2(r,fontWeight,n.fontWeight),this.letterSpacing=parse$2(r,letterSpacing,n.letterSpacing),this.lineBreak=parse$2(r,lineBreak,n.lineBreak),this.lineHeight=parse$2(r,lineHeight,n.lineHeight),this.listStyleImage=parse$2(r,listStyleImage,n.listStyleImage),this.listStylePosition=parse$2(r,listStylePosition,n.listStylePosition),this.listStyleType=parse$2(r,listStyleType,n.listStyleType),this.marginTop=parse$2(r,marginTop,n.marginTop),this.marginRight=parse$2(r,marginRight,n.marginRight),this.marginBottom=parse$2(r,marginBottom,n.marginBottom),this.marginLeft=parse$2(r,marginLeft,n.marginLeft),this.opacity=parse$2(r,opacity,n.opacity);var h=parse$2(r,overflow,n.overflow);this.overflowX=h[0],this.overflowY=h[h.length>1?1:0],this.overflowWrap=parse$2(r,overflowWrap,n.overflowWrap),this.paddingTop=parse$2(r,paddingTop,n.paddingTop),this.paddingRight=parse$2(r,paddingRight,n.paddingRight),this.paddingBottom=parse$2(r,paddingBottom,n.paddingBottom),this.paddingLeft=parse$2(r,paddingLeft,n.paddingLeft),this.paintOrder=parse$2(r,paintOrder,n.paintOrder),this.position=parse$2(r,position,n.position),this.textAlign=parse$2(r,textAlign,n.textAlign),this.textDecorationColor=parse$2(r,textDecorationColor,(s=n.textDecorationColor)!==null&&s!==void 0?s:n.color),this.textDecorationLine=parse$2(r,textDecorationLine,(o=n.textDecorationLine)!==null&&o!==void 0?o:n.textDecoration),this.textShadow=parse$2(r,textShadow,n.textShadow),this.textTransform=parse$2(r,textTransform,n.textTransform),this.transform=parse$2(r,transform$1,n.transform),this.transformOrigin=parse$2(r,transformOrigin,n.transformOrigin),this.visibility=parse$2(r,visibility$1,n.visibility),this.webkitTextStrokeColor=parse$2(r,webkitTextStrokeColor,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=parse$2(r,webkitTextStrokeWidth,n.webkitTextStrokeWidth),this.wordBreak=parse$2(r,wordBreak,n.wordBreak),this.zIndex=parse$2(r,zIndex,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return isTransparent(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return contains(this.display,4)||contains(this.display,33554432)||contains(this.display,268435456)||contains(this.display,536870912)||contains(this.display,67108864)||contains(this.display,134217728)},t}(),parse$2=function(t,r,n){var s=new Tokenizer,o=n!==null&&typeof n!="undefined"?n.toString():r.initialValue;s.write(o);var h=new Parser(s.read());switch(r.type){case 2:var l=h.parseComponentValue();return r.parse(t,isIdentToken(l)?l.value:r.initialValue);case 0:return r.parse(t,h.parseComponentValue());case 1:return r.parse(t,h.parseComponentValues());case 4:return h.parseComponentValue();case 3:switch(r.format){case"angle":return angle.parse(t,h.parseComponentValue());case"color":return color$1.parse(t,h.parseComponentValue());case"image":return image.parse(t,h.parseComponentValue());case"length":var c=h.parseComponentValue();return isLength(c)?c:ZERO_LENGTH;case"length-percentage":var d=h.parseComponentValue();return isLengthPercentage(d)?d:ZERO_LENGTH;case"time":return time.parse(t,h.parseComponentValue())}break}},elementDebuggerAttribute="data-html2canvas-debug",getElementDebugType=function(t){var r=t.getAttribute(elementDebuggerAttribute);switch(r){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},isDebugging=function(t,r){var n=getElementDebugType(t);return n===1||r===n},ElementContainer=function(){function t(r,n){if(this.context=r,this.textNodes=[],this.elements=[],this.flags=0,isDebugging(n,3))debugger;this.styles=new CSSParsedDeclaration(r,window.getComputedStyle(n,null)),isHTMLElementNode(n)&&(this.styles.animationDuration.some(function(s){return s>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=parseBounds(this.context,n),isDebugging(n,4)&&(this.flags|=16)}return t}(),base64="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",chars$1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var i$1=0;i$1<chars$1.length;i$1++)lookup$1[chars$1.charCodeAt(i$1)]=i$1;var decode$2=function(t){var r=t.length*.75,n=t.length,s,o=0,h,l,c,d;t[t.length-1]==="="&&(r--,t[t.length-2]==="="&&r--);var v=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"&&typeof Uint8Array.prototype.slice!="undefined"?new ArrayBuffer(r):new Array(r),g=Array.isArray(v)?v:new Uint8Array(v);for(s=0;s<n;s+=4)h=lookup$1[t.charCodeAt(s)],l=lookup$1[t.charCodeAt(s+1)],c=lookup$1[t.charCodeAt(s+2)],d=lookup$1[t.charCodeAt(s+3)],g[o++]=h<<2|l>>4,g[o++]=(l&15)<<4|c>>2,g[o++]=(c&3)<<6|d&63;return v},polyUint16Array=function(t){for(var r=t.length,n=[],s=0;s<r;s+=2)n.push(t[s+1]<<8|t[s]);return n},polyUint32Array=function(t){for(var r=t.length,n=[],s=0;s<r;s+=4)n.push(t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s]);return n},UTRIE2_SHIFT_2=5,UTRIE2_SHIFT_1=6+5,UTRIE2_INDEX_SHIFT=2,UTRIE2_SHIFT_1_2=UTRIE2_SHIFT_1-UTRIE2_SHIFT_2,UTRIE2_LSCP_INDEX_2_OFFSET=65536>>UTRIE2_SHIFT_2,UTRIE2_DATA_BLOCK_LENGTH=1<<UTRIE2_SHIFT_2,UTRIE2_DATA_MASK=UTRIE2_DATA_BLOCK_LENGTH-1,UTRIE2_LSCP_INDEX_2_LENGTH=1024>>UTRIE2_SHIFT_2,UTRIE2_INDEX_2_BMP_LENGTH=UTRIE2_LSCP_INDEX_2_OFFSET+UTRIE2_LSCP_INDEX_2_LENGTH,UTRIE2_UTF8_2B_INDEX_2_OFFSET=UTRIE2_INDEX_2_BMP_LENGTH,UTRIE2_UTF8_2B_INDEX_2_LENGTH=32,UTRIE2_INDEX_1_OFFSET=UTRIE2_UTF8_2B_INDEX_2_OFFSET+UTRIE2_UTF8_2B_INDEX_2_LENGTH,UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=65536>>UTRIE2_SHIFT_1,UTRIE2_INDEX_2_BLOCK_LENGTH=1<<UTRIE2_SHIFT_1_2,UTRIE2_INDEX_2_MASK=UTRIE2_INDEX_2_BLOCK_LENGTH-1,slice16=function(t,r,n){return t.slice?t.slice(r,n):new Uint16Array(Array.prototype.slice.call(t,r,n))},slice32=function(t,r,n){return t.slice?t.slice(r,n):new Uint32Array(Array.prototype.slice.call(t,r,n))},createTrieFromBase64=function(t,r){var n=decode$2(t),s=Array.isArray(n)?polyUint32Array(n):new Uint32Array(n),o=Array.isArray(n)?polyUint16Array(n):new Uint16Array(n),h=24,l=slice16(o,h/2,s[4]/2),c=s[5]===2?slice16(o,(h+s[4])/2):slice32(s,Math.ceil((h+s[4])/4));return new Trie(s[0],s[1],s[2],s[3],l,c)},Trie=function(){function t(r,n,s,o,h,l){this.initialValue=r,this.errorValue=n,this.highStart=s,this.highValueIndex=o,this.index=h,this.data=l}return t.prototype.get=function(r){var n;if(r>=0){if(r<55296||r>56319&&r<=65535)return n=this.index[r>>UTRIE2_SHIFT_2],n=(n<<UTRIE2_INDEX_SHIFT)+(r&UTRIE2_DATA_MASK),this.data[n];if(r<=65535)return n=this.index[UTRIE2_LSCP_INDEX_2_OFFSET+(r-55296>>UTRIE2_SHIFT_2)],n=(n<<UTRIE2_INDEX_SHIFT)+(r&UTRIE2_DATA_MASK),this.data[n];if(r<this.highStart)return n=UTRIE2_INDEX_1_OFFSET-UTRIE2_OMITTED_BMP_INDEX_1_LENGTH+(r>>UTRIE2_SHIFT_1),n=this.index[n],n+=r>>UTRIE2_SHIFT_2&UTRIE2_INDEX_2_MASK,n=this.index[n],n=(n<<UTRIE2_INDEX_SHIFT)+(r&UTRIE2_DATA_MASK),this.data[n];if(r<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=typeof Uint8Array=="undefined"?[]:new Uint8Array(256);for(var i=0;i<chars.length;i++)lookup[chars.charCodeAt(i)]=i;var Prepend=1,CR=2,LF=3,Control=4,Extend=5,SpacingMark=7,L=8,V=9,T=10,LV=11,LVT=12,ZWJ=13,Extended_Pictographic=14,RI=15,toCodePoints=function(t){for(var r=[],n=0,s=t.length;n<s;){var o=t.charCodeAt(n++);if(o>=55296&&o<=56319&&n<s){var h=t.charCodeAt(n++);(h&64512)===56320?r.push(((o&1023)<<10)+(h&1023)+65536):(r.push(o),n--)}else r.push(o)}return r},fromCodePoint=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var s=[],o=-1,h="";++o<n;){var l=t[o];l<=65535?s.push(l):(l-=65536,s.push((l>>10)+55296,l%1024+56320)),(o+1===n||s.length>16384)&&(h+=String.fromCharCode.apply(String,s),s.length=0)}return h},UnicodeTrie=createTrieFromBase64(base64),BREAK_NOT_ALLOWED="\xD7",BREAK_ALLOWED="\xF7",codePointToClass=function(t){return UnicodeTrie.get(t)},_graphemeBreakAtIndex=function(t,r,n){var s=n-2,o=r[s],h=r[n-1],l=r[n];if(h===CR&&l===LF)return BREAK_NOT_ALLOWED;if(h===CR||h===LF||h===Control||l===CR||l===LF||l===Control)return BREAK_ALLOWED;if(h===L&&[L,V,LV,LVT].indexOf(l)!==-1||(h===LV||h===V)&&(l===V||l===T)||(h===LVT||h===T)&&l===T||l===ZWJ||l===Extend||l===SpacingMark||h===Prepend)return BREAK_NOT_ALLOWED;if(h===ZWJ&&l===Extended_Pictographic){for(;o===Extend;)o=r[--s];if(o===Extended_Pictographic)return BREAK_NOT_ALLOWED}if(h===RI&&l===RI){for(var c=0;o===RI;)c++,o=r[--s];if(c%2===0)return BREAK_NOT_ALLOWED}return BREAK_ALLOWED},GraphemeBreaker=function(t){var r=toCodePoints(t),n=r.length,s=0,o=0,h=r.map(codePointToClass);return{next:function(){if(s>=n)return{done:!0,value:null};for(var l=BREAK_NOT_ALLOWED;s<n&&(l=_graphemeBreakAtIndex(r,h,++s))===BREAK_NOT_ALLOWED;);if(l!==BREAK_NOT_ALLOWED||s===n){var c=fromCodePoint.apply(null,r.slice(o,s));return o=s,{value:c,done:!1}}return{done:!0,value:null}}}},splitGraphemes=function(t){for(var r=GraphemeBreaker(t),n=[],s;!(s=r.next()).done;)s.value&&n.push(s.value.slice());return n},testRangeBounds=function(t){var r=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var s=t.createElement("boundtest");s.style.height=r+"px",s.style.display="block",t.body.appendChild(s),n.selectNode(s);var o=n.getBoundingClientRect(),h=Math.round(o.height);if(t.body.removeChild(s),h===r)return!0}}return!1},testIOSLineBreak=function(t){var r=t.createElement("boundtest");r.style.width="50px",r.style.display="block",r.style.fontSize="12px",r.style.letterSpacing="0px",r.style.wordSpacing="0px",t.body.appendChild(r);var n=t.createRange();r.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var s=r.firstChild,o=toCodePoints$1(s.data).map(function(d){return fromCodePoint$1(d)}),h=0,l={},c=o.every(function(d,v){n.setStart(s,h),n.setEnd(s,h+d.length);var g=n.getBoundingClientRect();h+=d.length;var m=g.x>l.x||g.y>l.y;return l=g,v===0?!0:m});return t.body.removeChild(r),c},testCORS=function(){return typeof new Image().crossOrigin!="undefined"},testResponseType=function(){return typeof new XMLHttpRequest().responseType=="string"},testSVG=function(t){var r=new Image,n=t.createElement("canvas"),s=n.getContext("2d");if(!s)return!1;r.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{s.drawImage(r,0,0),n.toDataURL()}catch(o){return!1}return!0},isGreenPixel=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},testForeignObject=function(t){var r=t.createElement("canvas"),n=100;r.width=n,r.height=n;var s=r.getContext("2d");if(!s)return Promise.reject(!1);s.fillStyle="rgb(0, 255, 0)",s.fillRect(0,0,n,n);var o=new Image,h=r.toDataURL();o.src=h;var l=createForeignObjectSVG(n,n,0,0,o);return s.fillStyle="red",s.fillRect(0,0,n,n),loadSerializedSVG$1(l).then(function(c){s.drawImage(c,0,0);var d=s.getImageData(0,0,n,n).data;s.fillStyle="red",s.fillRect(0,0,n,n);var v=t.createElement("div");return v.style.backgroundImage="url("+h+")",v.style.height=n+"px",isGreenPixel(d)?loadSerializedSVG$1(createForeignObjectSVG(n,n,0,0,v)):Promise.reject(!1)}).then(function(c){return s.drawImage(c,0,0),isGreenPixel(s.getImageData(0,0,n,n).data)}).catch(function(){return!1})},createForeignObjectSVG=function(t,r,n,s,o){var h="http://www.w3.org/2000/svg",l=document.createElementNS(h,"svg"),c=document.createElementNS(h,"foreignObject");return l.setAttributeNS(null,"width",t.toString()),l.setAttributeNS(null,"height",r.toString()),c.setAttributeNS(null,"width","100%"),c.setAttributeNS(null,"height","100%"),c.setAttributeNS(null,"x",n.toString()),c.setAttributeNS(null,"y",s.toString()),c.setAttributeNS(null,"externalResourcesRequired","true"),l.appendChild(c),c.appendChild(o),l},loadSerializedSVG$1=function(t){return new Promise(function(r,n){var s=new Image;s.onload=function(){return r(s)},s.onerror=n,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},FEATURES={get SUPPORT_RANGE_BOUNDS(){var t=testRangeBounds(document);return Object.defineProperty(FEATURES,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=FEATURES.SUPPORT_RANGE_BOUNDS&&testIOSLineBreak(document);return Object.defineProperty(FEATURES,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=testSVG(document);return Object.defineProperty(FEATURES,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?testForeignObject(document):Promise.resolve(!1);return Object.defineProperty(FEATURES,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=testCORS();return Object.defineProperty(FEATURES,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=testResponseType();return Object.defineProperty(FEATURES,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(FEATURES,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl!="undefined"&&Intl.Segmenter);return Object.defineProperty(FEATURES,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},TextBounds=function(){function t(r,n){this.text=r,this.bounds=n}return t}(),parseTextBounds=function(t,r,n,s){var o=breakText(r,n),h=[],l=0;return o.forEach(function(c){if(n.textDecorationLine.length||c.trim().length>0)if(FEATURES.SUPPORT_RANGE_BOUNDS){var d=createRange(s,l,c.length).getClientRects();if(d.length>1){var v=segmentGraphemes(c),g=0;v.forEach(function(_){h.push(new TextBounds(_,Bounds$2.fromDOMRectList(t,createRange(s,g+l,_.length).getClientRects()))),g+=_.length})}else h.push(new TextBounds(c,Bounds$2.fromDOMRectList(t,d)))}else{var m=s.splitText(c.length);h.push(new TextBounds(c,getWrapperBounds(t,s))),s=m}else FEATURES.SUPPORT_RANGE_BOUNDS||(s=s.splitText(c.length));l+=c.length}),h},getWrapperBounds=function(t,r){var n=r.ownerDocument;if(n){var s=n.createElement("html2canvaswrapper");s.appendChild(r.cloneNode(!0));var o=r.parentNode;if(o){o.replaceChild(s,r);var h=parseBounds(t,s);return s.firstChild&&o.replaceChild(s.firstChild,s),h}}return Bounds$2.EMPTY},createRange=function(t,r,n){var s=t.ownerDocument;if(!s)throw new Error("Node has no owner document");var o=s.createRange();return o.setStart(t,r),o.setEnd(t,r+n),o},segmentGraphemes=function(t){if(FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return splitGraphemes(t)},segmentWords=function(t,r){if(FEATURES.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(s){return s.segment})}return breakWords(t,r)},breakText=function(t,r){return r.letterSpacing!==0?segmentGraphemes(t):segmentWords(t,r)},wordSeparators=[32,160,4961,65792,65793,4153,4241],breakWords=function(t,r){for(var n=LineBreaker(t,{lineBreak:r.lineBreak,wordBreak:r.overflowWrap==="break-word"?"break-word":r.wordBreak}),s=[],o,h=function(){if(o.value){var l=o.value.slice(),c=toCodePoints$1(l),d="";c.forEach(function(v){wordSeparators.indexOf(v)===-1?d+=fromCodePoint$1(v):(d.length&&s.push(d),s.push(fromCodePoint$1(v)),d="")}),d.length&&s.push(d)}};!(o=n.next()).done;)h();return s},TextContainer=function(){function t(r,n,s){this.text=transform(n.data,s.textTransform),this.textBounds=parseTextBounds(r,this.text,s,n)}return t}(),transform=function(t,r){switch(r){case 1:return t.toLowerCase();case 3:return t.replace(CAPITALIZE,capitalize);case 2:return t.toUpperCase();default:return t}},CAPITALIZE=/(^|\s|:|-|\(|\))([a-z])/g,capitalize=function(t,r,n){return t.length>0?r+n.toUpperCase():t},ImageElementContainer=function(t){__extends$x(r,t);function r(n,s){var o=t.call(this,n,s)||this;return o.src=s.currentSrc||s.src,o.intrinsicWidth=s.naturalWidth,o.intrinsicHeight=s.naturalHeight,o.context.cache.addImage(o.src),o}return r}(ElementContainer),CanvasElementContainer=function(t){__extends$x(r,t);function r(n,s){var o=t.call(this,n,s)||this;return o.canvas=s,o.intrinsicWidth=s.width,o.intrinsicHeight=s.height,o}return r}(ElementContainer),SVGElementContainer=function(t){__extends$x(r,t);function r(n,s){var o=t.call(this,n,s)||this,h=new XMLSerializer,l=parseBounds(n,s);return s.setAttribute("width",l.width+"px"),s.setAttribute("height",l.height+"px"),o.svg="data:image/svg+xml,"+encodeURIComponent(h.serializeToString(s)),o.intrinsicWidth=s.width.baseVal.value,o.intrinsicHeight=s.height.baseVal.value,o.context.cache.addImage(o.svg),o}return r}(ElementContainer),LIElementContainer=function(t){__extends$x(r,t);function r(n,s){var o=t.call(this,n,s)||this;return o.value=s.value,o}return r}(ElementContainer),OLElementContainer=function(t){__extends$x(r,t);function r(n,s){var o=t.call(this,n,s)||this;return o.start=s.start,o.reversed=typeof s.reversed=="boolean"&&s.reversed===!0,o}return r}(ElementContainer),CHECKBOX_BORDER_RADIUS=[{type:15,flags:0,unit:"px",number:3}],RADIO_BORDER_RADIUS=[{type:16,flags:0,number:50}],reformatInputBounds=function(t){return t.width>t.height?new Bounds$2(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Bounds$2(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},getInputValue=function(t){var r=t.type===PASSWORD?new Array(t.value.length+1).join("\u2022"):t.value;return r.length===0?t.placeholder||"":r},CHECKBOX="checkbox",RADIO="radio",PASSWORD="password",INPUT_COLOR=707406591,InputElementContainer=function(t){__extends$x(r,t);function r(n,s){var o=t.call(this,n,s)||this;switch(o.type=s.type.toLowerCase(),o.checked=s.checked,o.value=getInputValue(s),(o.type===CHECKBOX||o.type===RADIO)&&(o.styles.backgroundColor=3739148031,o.styles.borderTopColor=o.styles.borderRightColor=o.styles.borderBottomColor=o.styles.borderLeftColor=2779096575,o.styles.borderTopWidth=o.styles.borderRightWidth=o.styles.borderBottomWidth=o.styles.borderLeftWidth=1,o.styles.borderTopStyle=o.styles.borderRightStyle=o.styles.borderBottomStyle=o.styles.borderLeftStyle=1,o.styles.backgroundClip=[0],o.styles.backgroundOrigin=[0],o.bounds=reformatInputBounds(o.bounds)),o.type){case CHECKBOX:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=CHECKBOX_BORDER_RADIUS;break;case RADIO:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=RADIO_BORDER_RADIUS;break}return o}return r}(ElementContainer),SelectElementContainer=function(t){__extends$x(r,t);function r(n,s){var o=t.call(this,n,s)||this,h=s.options[s.selectedIndex||0];return o.value=h&&h.text||"",o}return r}(ElementContainer),TextareaElementContainer=function(t){__extends$x(r,t);function r(n,s){var o=t.call(this,n,s)||this;return o.value=s.value,o}return r}(ElementContainer),IFrameElementContainer=function(t){__extends$x(r,t);function r(n,s){var o=t.call(this,n,s)||this;o.src=s.src,o.width=parseInt(s.width,10)||0,o.height=parseInt(s.height,10)||0,o.backgroundColor=o.styles.backgroundColor;try{if(s.contentWindow&&s.contentWindow.document&&s.contentWindow.document.documentElement){o.tree=parseTree(n,s.contentWindow.document.documentElement);var h=s.contentWindow.document.documentElement?parseColor(n,getComputedStyle(s.contentWindow.document.documentElement).backgroundColor):COLORS.TRANSPARENT,l=s.contentWindow.document.body?parseColor(n,getComputedStyle(s.contentWindow.document.body).backgroundColor):COLORS.TRANSPARENT;o.backgroundColor=isTransparent(h)?isTransparent(l)?o.styles.backgroundColor:l:h}}catch(c){}return o}return r}(ElementContainer),LIST_OWNERS=["OL","UL","MENU"],parseNodeTree=function(t,r,n,s){for(var o=r.firstChild,h=void 0;o;o=h)if(h=o.nextSibling,isTextNode(o)&&o.data.trim().length>0)n.textNodes.push(new TextContainer(t,o,n.styles));else if(isElementNode(o))if(isSlotElement(o)&&o.assignedNodes)o.assignedNodes().forEach(function(c){return parseNodeTree(t,c,n,s)});else{var l=createContainer(t,o);l.styles.isVisible()&&(createsRealStackingContext(o,l,s)?l.flags|=4:createsStackingContext(l.styles)&&(l.flags|=2),LIST_OWNERS.indexOf(o.tagName)!==-1&&(l.flags|=8),n.elements.push(l),o.slot,o.shadowRoot?parseNodeTree(t,o.shadowRoot,l,s):!isTextareaElement(o)&&!isSVGElement(o)&&!isSelectElement(o)&&parseNodeTree(t,o,l,s))}},createContainer=function(t,r){return isImageElement(r)?new ImageElementContainer(t,r):isCanvasElement(r)?new CanvasElementContainer(t,r):isSVGElement(r)?new SVGElementContainer(t,r):isLIElement(r)?new LIElementContainer(t,r):isOLElement(r)?new OLElementContainer(t,r):isInputElement(r)?new InputElementContainer(t,r):isSelectElement(r)?new SelectElementContainer(t,r):isTextareaElement(r)?new TextareaElementContainer(t,r):isIFrameElement(r)?new IFrameElementContainer(t,r):new ElementContainer(t,r)},parseTree=function(t,r){var n=createContainer(t,r);return n.flags|=4,parseNodeTree(t,r,n,n),n},createsRealStackingContext=function(t,r,n){return r.styles.isPositionedWithZIndex()||r.styles.opacity<1||r.styles.isTransformed()||isBodyElement(t)&&n.styles.isTransparent()},createsStackingContext=function(t){return t.isPositioned()||t.isFloating()},isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},isHTMLElementNode=function(t){return isElementNode(t)&&typeof t.style!="undefined"&&!isSVGElementNode(t)},isSVGElementNode=function(t){return typeof t.className=="object"},isLIElement=function(t){return t.tagName==="LI"},isOLElement=function(t){return t.tagName==="OL"},isInputElement=function(t){return t.tagName==="INPUT"},isSVGElement=function(t){return t.tagName==="svg"},isBodyElement=function(t){return t.tagName==="BODY"},isCanvasElement=function(t){return t.tagName==="CANVAS"},isImageElement=function(t){return t.tagName==="IMG"},isIFrameElement=function(t){return t.tagName==="IFRAME"},isTextareaElement=function(t){return t.tagName==="TEXTAREA"},isSelectElement=function(t){return t.tagName==="SELECT"},isSlotElement=function(t){return t.tagName==="SLOT"},ROMAN_UPPER={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},ARMENIAN={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054F","\u054E","\u054D","\u054C","\u054B","\u054A","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053F","\u053E","\u053D","\u053C","\u053B","\u053A","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},HEBREW={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05D9\u05F3","\u05D8\u05F3","\u05D7\u05F3","\u05D6\u05F3","\u05D5\u05F3","\u05D4\u05F3","\u05D3\u05F3","\u05D2\u05F3","\u05D1\u05F3","\u05D0\u05F3","\u05EA","\u05E9","\u05E8","\u05E7","\u05E6","\u05E4","\u05E2","\u05E1","\u05E0","\u05DE","\u05DC","\u05DB","\u05D9\u05D8","\u05D9\u05D7","\u05D9\u05D6","\u05D8\u05D6","\u05D8\u05D5","\u05D9","\u05D8","\u05D7","\u05D6","\u05D5","\u05D4","\u05D3","\u05D2","\u05D1","\u05D0"]},GEORGIAN={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10F5","\u10F0","\u10EF","\u10F4","\u10EE","\u10ED","\u10EC","\u10EB","\u10EA","\u10E9","\u10E8","\u10E7","\u10E6","\u10E5","\u10E4","\u10F3","\u10E2","\u10E1","\u10E0","\u10DF","\u10DE","\u10DD","\u10F2","\u10DC","\u10DB","\u10DA","\u10D9","\u10D8","\u10D7","\u10F1","\u10D6","\u10D5","\u10D4","\u10D3","\u10D2","\u10D1","\u10D0"]},createAdditiveCounter=function(t,r,n,s,o,h){return t<r||t>n?createCounterText(t,o,h.length>0):s.integers.reduce(function(l,c,d){for(;t>=c;)t-=c,l+=s.values[d];return l},"")+h},createCounterStyleWithSymbolResolver=function(t,r,n,s){var o="";do n||t--,o=s(t)+o,t/=r;while(t*r>=r);return o},createCounterStyleFromRange=function(t,r,n,s,o){var h=n-r+1;return(t<0?"-":"")+(createCounterStyleWithSymbolResolver(Math.abs(t),h,s,function(l){return fromCodePoint$1(Math.floor(l%h)+r)})+o)},createCounterStyleFromSymbols=function(t,r,n){n===void 0&&(n=". ");var s=r.length;return createCounterStyleWithSymbolResolver(Math.abs(t),s,!1,function(o){return r[Math.floor(o%s)]})+n},CJK_ZEROS=1<<0,CJK_TEN_COEFFICIENTS=1<<1,CJK_TEN_HIGH_COEFFICIENTS=1<<2,CJK_HUNDRED_COEFFICIENTS=1<<3,createCJKCounter=function(t,r,n,s,o,h){if(t<-9999||t>9999)return createCounterText(t,4,o.length>0);var l=Math.abs(t),c=o;if(l===0)return r[0]+c;for(var d=0;l>0&&d<=4;d++){var v=l%10;v===0&&contains(h,CJK_ZEROS)&&c!==""?c=r[v]+c:v>1||v===1&&d===0||v===1&&d===1&&contains(h,CJK_TEN_COEFFICIENTS)||v===1&&d===1&&contains(h,CJK_TEN_HIGH_COEFFICIENTS)&&t>100||v===1&&d>1&&contains(h,CJK_HUNDRED_COEFFICIENTS)?c=r[v]+(d>0?n[d-1]:"")+c:v===1&&d>0&&(c=n[d-1]+c),l=Math.floor(l/10)}return(t<0?s:"")+c},CHINESE_INFORMAL_MULTIPLIERS="\u5341\u767E\u5343\u842C",CHINESE_FORMAL_MULTIPLIERS="\u62FE\u4F70\u4EDF\u842C",JAPANESE_NEGATIVE="\u30DE\u30A4\u30CA\u30B9",KOREAN_NEGATIVE="\uB9C8\uC774\uB108\uC2A4",createCounterText=function(t,r,n){var s=n?". ":"",o=n?"\u3001":"",h=n?", ":"",l=n?" ":"";switch(r){case 0:return"\u2022"+l;case 1:return"\u25E6"+l;case 2:return"\u25FE"+l;case 5:var c=createCounterStyleFromRange(t,48,57,!0,s);return c.length<4?"0"+c:c;case 4:return createCounterStyleFromSymbols(t,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",o);case 6:return createAdditiveCounter(t,1,3999,ROMAN_UPPER,3,s).toLowerCase();case 7:return createAdditiveCounter(t,1,3999,ROMAN_UPPER,3,s);case 8:return createCounterStyleFromRange(t,945,969,!1,s);case 9:return createCounterStyleFromRange(t,97,122,!1,s);case 10:return createCounterStyleFromRange(t,65,90,!1,s);case 11:return createCounterStyleFromRange(t,1632,1641,!0,s);case 12:case 49:return createAdditiveCounter(t,1,9999,ARMENIAN,3,s);case 35:return createAdditiveCounter(t,1,9999,ARMENIAN,3,s).toLowerCase();case 13:return createCounterStyleFromRange(t,2534,2543,!0,s);case 14:case 30:return createCounterStyleFromRange(t,6112,6121,!0,s);case 15:return createCounterStyleFromSymbols(t,"\u5B50\u4E11\u5BC5\u536F\u8FB0\u5DF3\u5348\u672A\u7533\u9149\u620C\u4EA5",o);case 16:return createCounterStyleFromSymbols(t,"\u7532\u4E59\u4E19\u4E01\u620A\u5DF1\u5E9A\u8F9B\u58EC\u7678",o);case 17:case 48:return createCJKCounter(t,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",CHINESE_INFORMAL_MULTIPLIERS,"\u8CA0",o,CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 47:return createCJKCounter(t,"\u96F6\u58F9\u8CB3\u53C3\u8086\u4F0D\u9678\u67D2\u634C\u7396",CHINESE_FORMAL_MULTIPLIERS,"\u8CA0",o,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 42:return createCJKCounter(t,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D",CHINESE_INFORMAL_MULTIPLIERS,"\u8D1F",o,CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 41:return createCJKCounter(t,"\u96F6\u58F9\u8D30\u53C1\u8086\u4F0D\u9646\u67D2\u634C\u7396",CHINESE_FORMAL_MULTIPLIERS,"\u8D1F",o,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS|CJK_HUNDRED_COEFFICIENTS);case 26:return createCJKCounter(t,"\u3007\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u4E07",JAPANESE_NEGATIVE,o,0);case 25:return createCJKCounter(t,"\u96F6\u58F1\u5F10\u53C2\u56DB\u4F0D\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343\u4E07",JAPANESE_NEGATIVE,o,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 31:return createCJKCounter(t,"\uC601\uC77C\uC774\uC0BC\uC0AC\uC624\uC721\uCE60\uD314\uAD6C","\uC2ED\uBC31\uCC9C\uB9CC",KOREAN_NEGATIVE,h,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 33:return createCJKCounter(t,"\u96F6\u4E00\u4E8C\u4E09\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u5341\u767E\u5343\u842C",KOREAN_NEGATIVE,h,0);case 32:return createCJKCounter(t,"\u96F6\u58F9\u8CB3\u53C3\u56DB\u4E94\u516D\u4E03\u516B\u4E5D","\u62FE\u767E\u5343",KOREAN_NEGATIVE,h,CJK_ZEROS|CJK_TEN_COEFFICIENTS|CJK_TEN_HIGH_COEFFICIENTS);case 18:return createCounterStyleFromRange(t,2406,2415,!0,s);case 20:return createAdditiveCounter(t,1,19999,GEORGIAN,3,s);case 21:return createCounterStyleFromRange(t,2790,2799,!0,s);case 22:return createCounterStyleFromRange(t,2662,2671,!0,s);case 22:return createAdditiveCounter(t,1,10999,HEBREW,3,s);case 23:return createCounterStyleFromSymbols(t,"\u3042\u3044\u3046\u3048\u304A\u304B\u304D\u304F\u3051\u3053\u3055\u3057\u3059\u305B\u305D\u305F\u3061\u3064\u3066\u3068\u306A\u306B\u306C\u306D\u306E\u306F\u3072\u3075\u3078\u307B\u307E\u307F\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308A\u308B\u308C\u308D\u308F\u3090\u3091\u3092\u3093");case 24:return createCounterStyleFromSymbols(t,"\u3044\u308D\u306F\u306B\u307B\u3078\u3068\u3061\u308A\u306C\u308B\u3092\u308F\u304B\u3088\u305F\u308C\u305D\u3064\u306D\u306A\u3089\u3080\u3046\u3090\u306E\u304A\u304F\u3084\u307E\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304D\u3086\u3081\u307F\u3057\u3091\u3072\u3082\u305B\u3059");case 27:return createCounterStyleFromRange(t,3302,3311,!0,s);case 28:return createCounterStyleFromSymbols(t,"\u30A2\u30A4\u30A6\u30A8\u30AA\u30AB\u30AD\u30AF\u30B1\u30B3\u30B5\u30B7\u30B9\u30BB\u30BD\u30BF\u30C1\u30C4\u30C6\u30C8\u30CA\u30CB\u30CC\u30CD\u30CE\u30CF\u30D2\u30D5\u30D8\u30DB\u30DE\u30DF\u30E0\u30E1\u30E2\u30E4\u30E6\u30E8\u30E9\u30EA\u30EB\u30EC\u30ED\u30EF\u30F0\u30F1\u30F2\u30F3",o);case 29:return createCounterStyleFromSymbols(t,"\u30A4\u30ED\u30CF\u30CB\u30DB\u30D8\u30C8\u30C1\u30EA\u30CC\u30EB\u30F2\u30EF\u30AB\u30E8\u30BF\u30EC\u30BD\u30C4\u30CD\u30CA\u30E9\u30E0\u30A6\u30F0\u30CE\u30AA\u30AF\u30E4\u30DE\u30B1\u30D5\u30B3\u30A8\u30C6\u30A2\u30B5\u30AD\u30E6\u30E1\u30DF\u30B7\u30F1\u30D2\u30E2\u30BB\u30B9",o);case 34:return createCounterStyleFromRange(t,3792,3801,!0,s);case 37:return createCounterStyleFromRange(t,6160,6169,!0,s);case 38:return createCounterStyleFromRange(t,4160,4169,!0,s);case 39:return createCounterStyleFromRange(t,2918,2927,!0,s);case 40:return createCounterStyleFromRange(t,1776,1785,!0,s);case 43:return createCounterStyleFromRange(t,3046,3055,!0,s);case 44:return createCounterStyleFromRange(t,3174,3183,!0,s);case 45:return createCounterStyleFromRange(t,3664,3673,!0,s);case 46:return createCounterStyleFromRange(t,3872,3881,!0,s);case 3:default:return createCounterStyleFromRange(t,48,57,!0,s)}},PseudoElementType;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(PseudoElementType||(PseudoElementType={}));var CacheStorage=function(){function t(){}return t.getOrigin=function(r){var n=t._link;return n?(n.href=r,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(r){return t.getOrigin(r)===t._origin},t.setContext=function(r){t._link=r.document.createElement("a"),t._origin=t.getOrigin(r.location.href)},t._origin="about:blank",t}(),Vector=function(){function t(r,n){this.type=0,this.x=r,this.y=n}return t.prototype.add=function(r,n){return new t(this.x+r,this.y+n)},t}(),lerp=function(t,r,n){return new Vector(t.x+(r.x-t.x)*n,t.y+(r.y-t.y)*n)},BezierCurve=function(){function t(r,n,s,o){this.type=1,this.start=r,this.startControl=n,this.endControl=s,this.end=o}return t.prototype.subdivide=function(r,n){var s=lerp(this.start,this.startControl,r),o=lerp(this.startControl,this.endControl,r),h=lerp(this.endControl,this.end,r),l=lerp(s,o,r),c=lerp(o,h,r),d=lerp(l,c,r);return n?new t(this.start,s,l,d):new t(d,c,h,this.end)},t.prototype.add=function(r,n){return new t(this.start.add(r,n),this.startControl.add(r,n),this.endControl.add(r,n),this.end.add(r,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),isBezierCurve=function(t){return t.type===1},BoundCurves=function(){function t(r){var n=r.styles,s=r.bounds,o=getAbsoluteValueForTuple(n.borderTopLeftRadius,s.width,s.height),h=o[0],l=o[1],c=getAbsoluteValueForTuple(n.borderTopRightRadius,s.width,s.height),d=c[0],v=c[1],g=getAbsoluteValueForTuple(n.borderBottomRightRadius,s.width,s.height),m=g[0],_=g[1],y=getAbsoluteValueForTuple(n.borderBottomLeftRadius,s.width,s.height),B=y[0],w=y[1],C=[];C.push((h+d)/s.width),C.push((B+m)/s.width),C.push((l+w)/s.height),C.push((v+_)/s.height);var b=Math.max.apply(Math,C);b>1&&(h/=b,l/=b,d/=b,v/=b,m/=b,_/=b,B/=b,w/=b);var I=s.width-d,S=s.height-_,R=s.width-m,O=s.height-w,P=n.borderTopWidth,N=n.borderRightWidth,M=n.borderBottomWidth,H=n.borderLeftWidth,Y=getAbsoluteValue(n.paddingTop,r.bounds.width),J=getAbsoluteValue(n.paddingRight,r.bounds.width),ee=getAbsoluteValue(n.paddingBottom,r.bounds.width),te=getAbsoluteValue(n.paddingLeft,r.bounds.width);this.topLeftBorderDoubleOuterBox=h>0||l>0?getCurvePoints(s.left+H/3,s.top+P/3,h-H/3,l-P/3,CORNER.TOP_LEFT):new Vector(s.left+H/3,s.top+P/3),this.topRightBorderDoubleOuterBox=h>0||l>0?getCurvePoints(s.left+I,s.top+P/3,d-N/3,v-P/3,CORNER.TOP_RIGHT):new Vector(s.left+s.width-N/3,s.top+P/3),this.bottomRightBorderDoubleOuterBox=m>0||_>0?getCurvePoints(s.left+R,s.top+S,m-N/3,_-M/3,CORNER.BOTTOM_RIGHT):new Vector(s.left+s.width-N/3,s.top+s.height-M/3),this.bottomLeftBorderDoubleOuterBox=B>0||w>0?getCurvePoints(s.left+H/3,s.top+O,B-H/3,w-M/3,CORNER.BOTTOM_LEFT):new Vector(s.left+H/3,s.top+s.height-M/3),this.topLeftBorderDoubleInnerBox=h>0||l>0?getCurvePoints(s.left+H*2/3,s.top+P*2/3,h-H*2/3,l-P*2/3,CORNER.TOP_LEFT):new Vector(s.left+H*2/3,s.top+P*2/3),this.topRightBorderDoubleInnerBox=h>0||l>0?getCurvePoints(s.left+I,s.top+P*2/3,d-N*2/3,v-P*2/3,CORNER.TOP_RIGHT):new Vector(s.left+s.width-N*2/3,s.top+P*2/3),this.bottomRightBorderDoubleInnerBox=m>0||_>0?getCurvePoints(s.left+R,s.top+S,m-N*2/3,_-M*2/3,CORNER.BOTTOM_RIGHT):new Vector(s.left+s.width-N*2/3,s.top+s.height-M*2/3),this.bottomLeftBorderDoubleInnerBox=B>0||w>0?getCurvePoints(s.left+H*2/3,s.top+O,B-H*2/3,w-M*2/3,CORNER.BOTTOM_LEFT):new Vector(s.left+H*2/3,s.top+s.height-M*2/3),this.topLeftBorderStroke=h>0||l>0?getCurvePoints(s.left+H/2,s.top+P/2,h-H/2,l-P/2,CORNER.TOP_LEFT):new Vector(s.left+H/2,s.top+P/2),this.topRightBorderStroke=h>0||l>0?getCurvePoints(s.left+I,s.top+P/2,d-N/2,v-P/2,CORNER.TOP_RIGHT):new Vector(s.left+s.width-N/2,s.top+P/2),this.bottomRightBorderStroke=m>0||_>0?getCurvePoints(s.left+R,s.top+S,m-N/2,_-M/2,CORNER.BOTTOM_RIGHT):new Vector(s.left+s.width-N/2,s.top+s.height-M/2),this.bottomLeftBorderStroke=B>0||w>0?getCurvePoints(s.left+H/2,s.top+O,B-H/2,w-M/2,CORNER.BOTTOM_LEFT):new Vector(s.left+H/2,s.top+s.height-M/2),this.topLeftBorderBox=h>0||l>0?getCurvePoints(s.left,s.top,h,l,CORNER.TOP_LEFT):new Vector(s.left,s.top),this.topRightBorderBox=d>0||v>0?getCurvePoints(s.left+I,s.top,d,v,CORNER.TOP_RIGHT):new Vector(s.left+s.width,s.top),this.bottomRightBorderBox=m>0||_>0?getCurvePoints(s.left+R,s.top+S,m,_,CORNER.BOTTOM_RIGHT):new Vector(s.left+s.width,s.top+s.height),this.bottomLeftBorderBox=B>0||w>0?getCurvePoints(s.left,s.top+O,B,w,CORNER.BOTTOM_LEFT):new Vector(s.left,s.top+s.height),this.topLeftPaddingBox=h>0||l>0?getCurvePoints(s.left+H,s.top+P,Math.max(0,h-H),Math.max(0,l-P),CORNER.TOP_LEFT):new Vector(s.left+H,s.top+P),this.topRightPaddingBox=d>0||v>0?getCurvePoints(s.left+Math.min(I,s.width-N),s.top+P,I>s.width+N?0:Math.max(0,d-N),Math.max(0,v-P),CORNER.TOP_RIGHT):new Vector(s.left+s.width-N,s.top+P),this.bottomRightPaddingBox=m>0||_>0?getCurvePoints(s.left+Math.min(R,s.width-H),s.top+Math.min(S,s.height-M),Math.max(0,m-N),Math.max(0,_-M),CORNER.BOTTOM_RIGHT):new Vector(s.left+s.width-N,s.top+s.height-M),this.bottomLeftPaddingBox=B>0||w>0?getCurvePoints(s.left+H,s.top+Math.min(O,s.height-M),Math.max(0,B-H),Math.max(0,w-M),CORNER.BOTTOM_LEFT):new Vector(s.left+H,s.top+s.height-M),this.topLeftContentBox=h>0||l>0?getCurvePoints(s.left+H+te,s.top+P+Y,Math.max(0,h-(H+te)),Math.max(0,l-(P+Y)),CORNER.TOP_LEFT):new Vector(s.left+H+te,s.top+P+Y),this.topRightContentBox=d>0||v>0?getCurvePoints(s.left+Math.min(I,s.width+H+te),s.top+P+Y,I>s.width+H+te?0:d-H+te,v-(P+Y),CORNER.TOP_RIGHT):new Vector(s.left+s.width-(N+J),s.top+P+Y),this.bottomRightContentBox=m>0||_>0?getCurvePoints(s.left+Math.min(R,s.width-(H+te)),s.top+Math.min(S,s.height+P+Y),Math.max(0,m-(N+J)),_-(M+ee),CORNER.BOTTOM_RIGHT):new Vector(s.left+s.width-(N+J),s.top+s.height-(M+ee)),this.bottomLeftContentBox=B>0||w>0?getCurvePoints(s.left+H+te,s.top+O,Math.max(0,B-(H+te)),w-(M+ee),CORNER.BOTTOM_LEFT):new Vector(s.left+H+te,s.top+s.height-(M+ee))}return t}(),CORNER;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(CORNER||(CORNER={}));var getCurvePoints=function(t,r,n,s,o){var h=4*((Math.sqrt(2)-1)/3),l=n*h,c=s*h,d=t+n,v=r+s;switch(o){case CORNER.TOP_LEFT:return new BezierCurve(new Vector(t,v),new Vector(t,v-c),new Vector(d-l,r),new Vector(d,r));case CORNER.TOP_RIGHT:return new BezierCurve(new Vector(t,r),new Vector(t+l,r),new Vector(d,v-c),new Vector(d,v));case CORNER.BOTTOM_RIGHT:return new BezierCurve(new Vector(d,r),new Vector(d,r+c),new Vector(t+l,v),new Vector(t,v));case CORNER.BOTTOM_LEFT:default:return new BezierCurve(new Vector(d,v),new Vector(d-l,v),new Vector(t,r+c),new Vector(t,r))}},calculateBorderBoxPath=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},calculateContentBoxPath=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},calculatePaddingBoxPath=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},TransformEffect=function(){function t(r,n,s){this.offsetX=r,this.offsetY=n,this.matrix=s,this.type=0,this.target=6}return t}(),ClipEffect=function(){function t(r,n){this.path=r,this.target=n,this.type=1}return t}(),OpacityEffect=function(){function t(r){this.opacity=r,this.type=2,this.target=6}return t}(),isTransformEffect=function(t){return t.type===0},isClipEffect=function(t){return t.type===1},isOpacityEffect=function(t){return t.type===2},equalPath=function(t,r){return t.length===r.length?t.some(function(n,s){return n===r[s]}):!1},transformPath=function(t,r,n,s,o){return t.map(function(h,l){switch(l){case 0:return h.add(r,n);case 1:return h.add(r+s,n);case 2:return h.add(r+s,n+o);case 3:return h.add(r,n+o)}return h})},StackingContext=function(){function t(r){this.element=r,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),ElementPaint=function(){function t(r,n){if(this.container=r,this.parent=n,this.effects=[],this.curves=new BoundCurves(this.container),this.container.styles.opacity<1&&this.effects.push(new OpacityEffect(this.container.styles.opacity)),this.container.styles.transform!==null){var s=this.container.bounds.left+this.container.styles.transformOrigin[0].number,o=this.container.bounds.top+this.container.styles.transformOrigin[1].number,h=this.container.styles.transform;this.effects.push(new TransformEffect(s,o,h))}if(this.container.styles.overflowX!==0){var l=calculateBorderBoxPath(this.curves),c=calculatePaddingBoxPath(this.curves);equalPath(l,c)?this.effects.push(new ClipEffect(l,6)):(this.effects.push(new ClipEffect(l,2)),this.effects.push(new ClipEffect(c,4)))}}return t.prototype.getEffects=function(r){for(var n=[2,3].indexOf(this.container.styles.position)===-1,s=this.parent,o=this.effects.slice(0);s;){var h=s.effects.filter(function(d){return!isClipEffect(d)});if(n||s.container.styles.position!==0||!s.parent){if(o.unshift.apply(o,h),n=[2,3].indexOf(s.container.styles.position)===-1,s.container.styles.overflowX!==0){var l=calculateBorderBoxPath(s.curves),c=calculatePaddingBoxPath(s.curves);equalPath(l,c)||o.unshift(new ClipEffect(c,6))}}else o.unshift.apply(o,h);s=s.parent}return o.filter(function(d){return contains(d.target,r)})},t}(),parseStackTree=function(t,r,n,s){t.container.elements.forEach(function(o){var h=contains(o.flags,4),l=contains(o.flags,2),c=new ElementPaint(o,t);contains(o.styles.display,2048)&&s.push(c);var d=contains(o.flags,8)?[]:s;if(h||l){var v=h||o.styles.isPositioned()?n:r,g=new StackingContext(c);if(o.styles.isPositioned()||o.styles.opacity<1||o.styles.isTransformed()){var m=o.styles.zIndex.order;if(m<0){var _=0;v.negativeZIndex.some(function(B,w){return m>B.element.container.styles.zIndex.order?(_=w,!1):_>0}),v.negativeZIndex.splice(_,0,g)}else if(m>0){var y=0;v.positiveZIndex.some(function(B,w){return m>=B.element.container.styles.zIndex.order?(y=w+1,!1):y>0}),v.positiveZIndex.splice(y,0,g)}else v.zeroOrAutoZIndexOrTransformedOrOpacity.push(g)}else o.styles.isFloating()?v.nonPositionedFloats.push(g):v.nonPositionedInlineLevel.push(g);parseStackTree(c,g,h?g:n,d)}else o.styles.isInlineLevel()?r.inlineLevel.push(c):r.nonInlineLevel.push(c),parseStackTree(c,r,n,d);contains(o.flags,8)&&processListItems(o,d)})},processListItems=function(t,r){for(var n=t instanceof OLElementContainer?t.start:1,s=t instanceof OLElementContainer?t.reversed:!1,o=0;o<r.length;o++){var h=r[o];h.container instanceof LIElementContainer&&typeof h.container.value=="number"&&h.container.value!==0&&(n=h.container.value),h.listValue=createCounterText(n,h.container.styles.listStyleType,!0),n+=s?-1:1}},parseStackingContexts=function(t){var r=new ElementPaint(t,null),n=new StackingContext(r),s=[];return parseStackTree(r,n,n,s),processListItems(r.container,s),n},parsePathForBorder=function(t,r){switch(r){case 0:return createPathFromCurves(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return createPathFromCurves(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return createPathFromCurves(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return createPathFromCurves(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},parsePathForBorderDoubleOuter=function(t,r){switch(r){case 0:return createPathFromCurves(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return createPathFromCurves(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return createPathFromCurves(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return createPathFromCurves(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},parsePathForBorderDoubleInner=function(t,r){switch(r){case 0:return createPathFromCurves(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return createPathFromCurves(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return createPathFromCurves(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return createPathFromCurves(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},parsePathForBorderStroke=function(t,r){switch(r){case 0:return createStrokePathFromCurves(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return createStrokePathFromCurves(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return createStrokePathFromCurves(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return createStrokePathFromCurves(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},createStrokePathFromCurves=function(t,r){var n=[];return isBezierCurve(t)?n.push(t.subdivide(.5,!1)):n.push(t),isBezierCurve(r)?n.push(r.subdivide(.5,!0)):n.push(r),n},createPathFromCurves=function(t,r,n,s){var o=[];return isBezierCurve(t)?o.push(t.subdivide(.5,!1)):o.push(t),isBezierCurve(n)?o.push(n.subdivide(.5,!0)):o.push(n),isBezierCurve(s)?o.push(s.subdivide(.5,!0).reverse()):o.push(s),isBezierCurve(r)?o.push(r.subdivide(.5,!1).reverse()):o.push(r),o},paddingBox=function(t){var r=t.bounds,n=t.styles;return r.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},contentBox=function(t){var r=t.styles,n=t.bounds,s=getAbsoluteValue(r.paddingLeft,n.width),o=getAbsoluteValue(r.paddingRight,n.width),h=getAbsoluteValue(r.paddingTop,n.width),l=getAbsoluteValue(r.paddingBottom,n.width);return n.add(s+r.borderLeftWidth,h+r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth+s+o),-(r.borderTopWidth+r.borderBottomWidth+h+l))},calculateBackgroundPositioningArea=function(t,r){return t===0?r.bounds:t===2?contentBox(r):paddingBox(r)},calculateBackgroundPaintingArea=function(t,r){return t===0?r.bounds:t===2?contentBox(r):paddingBox(r)},calculateBackgroundRendering=function(t,r,n){var s=calculateBackgroundPositioningArea(getBackgroundValueForIndex(t.styles.backgroundOrigin,r),t),o=calculateBackgroundPaintingArea(getBackgroundValueForIndex(t.styles.backgroundClip,r),t),h=calculateBackgroundSize(getBackgroundValueForIndex(t.styles.backgroundSize,r),n,s),l=h[0],c=h[1],d=getAbsoluteValueForTuple(getBackgroundValueForIndex(t.styles.backgroundPosition,r),s.width-l,s.height-c),v=calculateBackgroundRepeatPath(getBackgroundValueForIndex(t.styles.backgroundRepeat,r),d,h,s,o),g=Math.round(s.left+d[0]),m=Math.round(s.top+d[1]);return[v,g,m,l,c]},isAuto=function(t){return isIdentToken(t)&&t.value===BACKGROUND_SIZE.AUTO},hasIntrinsicValue=function(t){return typeof t=="number"},calculateBackgroundSize=function(t,r,n){var s=r[0],o=r[1],h=r[2],l=t[0],c=t[1];if(!l)return[0,0];if(isLengthPercentage(l)&&c&&isLengthPercentage(c))return[getAbsoluteValue(l,n.width),getAbsoluteValue(c,n.height)];var d=hasIntrinsicValue(h);if(isIdentToken(l)&&(l.value===BACKGROUND_SIZE.CONTAIN||l.value===BACKGROUND_SIZE.COVER)){if(hasIntrinsicValue(h)){var v=n.width/n.height;return v<h!=(l.value===BACKGROUND_SIZE.COVER)?[n.width,n.width/h]:[n.height*h,n.height]}return[n.width,n.height]}var g=hasIntrinsicValue(s),m=hasIntrinsicValue(o),_=g||m;if(isAuto(l)&&(!c||isAuto(c))){if(g&&m)return[s,o];if(!d&&!_)return[n.width,n.height];if(_&&d){var y=g?s:o*h,B=m?o:s/h;return[y,B]}var w=g?s:n.width,C=m?o:n.height;return[w,C]}if(d){var b=0,I=0;return isLengthPercentage(l)?b=getAbsoluteValue(l,n.width):isLengthPercentage(c)&&(I=getAbsoluteValue(c,n.height)),isAuto(l)?b=I*h:(!c||isAuto(c))&&(I=b/h),[b,I]}var S=null,R=null;if(isLengthPercentage(l)?S=getAbsoluteValue(l,n.width):c&&isLengthPercentage(c)&&(R=getAbsoluteValue(c,n.height)),S!==null&&(!c||isAuto(c))&&(R=g&&m?S/s*o:n.height),R!==null&&isAuto(l)&&(S=g&&m?R/o*s:n.width),S!==null&&R!==null)return[S,R];throw new Error("Unable to calculate background-size for element")},getBackgroundValueForIndex=function(t,r){var n=t[r];return typeof n=="undefined"?t[0]:n},calculateBackgroundRepeatPath=function(t,r,n,s,o){var h=r[0],l=r[1],c=n[0],d=n[1];switch(t){case 2:return[new Vector(Math.round(s.left),Math.round(s.top+l)),new Vector(Math.round(s.left+s.width),Math.round(s.top+l)),new Vector(Math.round(s.left+s.width),Math.round(d+s.top+l)),new Vector(Math.round(s.left),Math.round(d+s.top+l))];case 3:return[new Vector(Math.round(s.left+h),Math.round(s.top)),new Vector(Math.round(s.left+h+c),Math.round(s.top)),new Vector(Math.round(s.left+h+c),Math.round(s.height+s.top)),new Vector(Math.round(s.left+h),Math.round(s.height+s.top))];case 1:return[new Vector(Math.round(s.left+h),Math.round(s.top+l)),new Vector(Math.round(s.left+h+c),Math.round(s.top+l)),new Vector(Math.round(s.left+h+c),Math.round(s.top+l+d)),new Vector(Math.round(s.left+h),Math.round(s.top+l+d))];default:return[new Vector(Math.round(o.left),Math.round(o.top)),new Vector(Math.round(o.left+o.width),Math.round(o.top)),new Vector(Math.round(o.left+o.width),Math.round(o.height+o.top)),new Vector(Math.round(o.left),Math.round(o.height+o.top))]}},SMALL_IMAGE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",SAMPLE_TEXT="Hidden Text",FontMetrics=function(){function t(r){this._data={},this._document=r}return t.prototype.parseMetrics=function(r,n){var s=this._document.createElement("div"),o=this._document.createElement("img"),h=this._document.createElement("span"),l=this._document.body;s.style.visibility="hidden",s.style.fontFamily=r,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.style.whiteSpace="nowrap",l.appendChild(s),o.src=SMALL_IMAGE,o.width=1,o.height=1,o.style.margin="0",o.style.padding="0",o.style.verticalAlign="baseline",h.style.fontFamily=r,h.style.fontSize=n,h.style.margin="0",h.style.padding="0",h.appendChild(this._document.createTextNode(SAMPLE_TEXT)),s.appendChild(h),s.appendChild(o);var c=o.offsetTop-h.offsetTop+2;s.removeChild(h),s.appendChild(this._document.createTextNode(SAMPLE_TEXT)),s.style.lineHeight="normal",o.style.verticalAlign="super";var d=o.offsetTop-s.offsetTop+2;return l.removeChild(s),{baseline:c,middle:d}},t.prototype.getMetrics=function(r,n){var s=r+" "+n;return typeof this._data[s]=="undefined"&&(this._data[s]=this.parseMetrics(r,n)),this._data[s]},t}(),Renderer$1=function(){function t(r,n){this.context=r,this.options=n}return t}(),MASK_OFFSET=1e4;(function(t){__extends$x(r,t);function r(n,s){var o=t.call(this,n,s)||this;return o._activeEffects=[],o.canvas=s.canvas?s.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),s.canvas||(o.canvas.width=Math.floor(s.width*s.scale),o.canvas.height=Math.floor(s.height*s.scale),o.canvas.style.width=s.width+"px",o.canvas.style.height=s.height+"px"),o.fontMetrics=new FontMetrics(document),o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-s.x,-s.y),o.ctx.textBaseline="bottom",o._activeEffects=[],o.context.logger.debug("Canvas renderer initialized ("+s.width+"x"+s.height+") with scale "+s.scale),o}return r.prototype.applyEffects=function(n){for(var s=this;this._activeEffects.length;)this.popEffect();n.forEach(function(o){return s.applyEffect(o)})},r.prototype.applyEffect=function(n){this.ctx.save(),isOpacityEffect(n)&&(this.ctx.globalAlpha=n.opacity),isTransformEffect(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),isClipEffect(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},r.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},r.prototype.renderStack=function(n){return __awaiter$8(this,void 0,void 0,function(){var s;return __generator$8(this,function(o){switch(o.label){case 0:return s=n.element.container.styles,s.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})},r.prototype.renderNode=function(n){return __awaiter$8(this,void 0,void 0,function(){return __generator$8(this,function(s){switch(s.label){case 0:if(contains(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return s.sent(),[4,this.renderNodeContent(n)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},r.prototype.renderTextWithLetterSpacing=function(n,s,o){var h=this;if(s===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+o);else{var l=segmentGraphemes(n.text);l.reduce(function(c,d){return h.ctx.fillText(d,c,n.bounds.top+o),c+h.ctx.measureText(d).width},n.bounds.left)}},r.prototype.createFontStyle=function(n){var s=n.fontVariant.filter(function(l){return l==="normal"||l==="small-caps"}).join(""),o=fixIOSSystemFonts(n.fontFamily).join(", "),h=isDimensionToken(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,s,n.fontWeight,h,o].join(" "),o,h]},r.prototype.renderTextNode=function(n,s){return __awaiter$8(this,void 0,void 0,function(){var o,h,l,c,d,v,g,m,_=this;return __generator$8(this,function(y){return o=this.createFontStyle(s),h=o[0],l=o[1],c=o[2],this.ctx.font=h,this.ctx.direction=s.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",d=this.fontMetrics.getMetrics(l,c),v=d.baseline,g=d.middle,m=s.paintOrder,n.textBounds.forEach(function(B){m.forEach(function(w){switch(w){case 0:_.ctx.fillStyle=asString(s.color),_.renderTextWithLetterSpacing(B,s.letterSpacing,v);var C=s.textShadow;C.length&&B.text.trim().length&&(C.slice(0).reverse().forEach(function(b){_.ctx.shadowColor=asString(b.color),_.ctx.shadowOffsetX=b.offsetX.number*_.options.scale,_.ctx.shadowOffsetY=b.offsetY.number*_.options.scale,_.ctx.shadowBlur=b.blur.number,_.renderTextWithLetterSpacing(B,s.letterSpacing,v)}),_.ctx.shadowColor="",_.ctx.shadowOffsetX=0,_.ctx.shadowOffsetY=0,_.ctx.shadowBlur=0),s.textDecorationLine.length&&(_.ctx.fillStyle=asString(s.textDecorationColor||s.color),s.textDecorationLine.forEach(function(b){switch(b){case 1:_.ctx.fillRect(B.bounds.left,Math.round(B.bounds.top+v),B.bounds.width,1);break;case 2:_.ctx.fillRect(B.bounds.left,Math.round(B.bounds.top),B.bounds.width,1);break;case 3:_.ctx.fillRect(B.bounds.left,Math.ceil(B.bounds.top+g),B.bounds.width,1);break}}));break;case 1:s.webkitTextStrokeWidth&&B.text.trim().length&&(_.ctx.strokeStyle=asString(s.webkitTextStrokeColor),_.ctx.lineWidth=s.webkitTextStrokeWidth,_.ctx.lineJoin=window.chrome?"miter":"round",_.ctx.strokeText(B.text,B.bounds.left,B.bounds.top+v)),_.ctx.strokeStyle="",_.ctx.lineWidth=0,_.ctx.lineJoin="miter";break}})}),[2]})})},r.prototype.renderReplacedElement=function(n,s,o){if(o&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var h=contentBox(n),l=calculatePaddingBoxPath(s);this.path(l),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(o,0,0,n.intrinsicWidth,n.intrinsicHeight,h.left,h.top,h.width,h.height),this.ctx.restore()}},r.prototype.renderNodeContent=function(n){return __awaiter$8(this,void 0,void 0,function(){var s,o,h,l,c,d,I,I,v,g,m,_,R,y,B,O,w,C,b,I,S,R,O;return __generator$8(this,function(P){switch(P.label){case 0:this.applyEffects(n.getEffects(4)),s=n.container,o=n.curves,h=s.styles,l=0,c=s.textNodes,P.label=1;case 1:return l<c.length?(d=c[l],[4,this.renderTextNode(d,h)]):[3,4];case 2:P.sent(),P.label=3;case 3:return l++,[3,1];case 4:if(!(s instanceof ImageElementContainer))return[3,8];P.label=5;case 5:return P.trys.push([5,7,,8]),[4,this.context.cache.match(s.src)];case 6:return I=P.sent(),this.renderReplacedElement(s,o,I),[3,8];case 7:return P.sent(),this.context.logger.error("Error loading image "+s.src),[3,8];case 8:if(s instanceof CanvasElementContainer&&this.renderReplacedElement(s,o,s.canvas),!(s instanceof SVGElementContainer))return[3,12];P.label=9;case 9:return P.trys.push([9,11,,12]),[4,this.context.cache.match(s.svg)];case 10:return I=P.sent(),this.renderReplacedElement(s,o,I),[3,12];case 11:return P.sent(),this.context.logger.error("Error loading svg "+s.svg.substring(0,255)),[3,12];case 12:return s instanceof IFrameElementContainer&&s.tree?(v=new r(this.context,{scale:this.options.scale,backgroundColor:s.backgroundColor,x:0,y:0,width:s.width,height:s.height}),[4,v.render(s.tree)]):[3,14];case 13:g=P.sent(),s.width&&s.height&&this.ctx.drawImage(g,0,0,s.width,s.height,s.bounds.left,s.bounds.top,s.bounds.width,s.bounds.height),P.label=14;case 14:if(s instanceof InputElementContainer&&(m=Math.min(s.bounds.width,s.bounds.height),s.type===CHECKBOX?s.checked&&(this.ctx.save(),this.path([new Vector(s.bounds.left+m*.39363,s.bounds.top+m*.79),new Vector(s.bounds.left+m*.16,s.bounds.top+m*.5549),new Vector(s.bounds.left+m*.27347,s.bounds.top+m*.44071),new Vector(s.bounds.left+m*.39694,s.bounds.top+m*.5649),new Vector(s.bounds.left+m*.72983,s.bounds.top+m*.23),new Vector(s.bounds.left+m*.84,s.bounds.top+m*.34085),new Vector(s.bounds.left+m*.39363,s.bounds.top+m*.79)]),this.ctx.fillStyle=asString(INPUT_COLOR),this.ctx.fill(),this.ctx.restore()):s.type===RADIO&&s.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(s.bounds.left+m/2,s.bounds.top+m/2,m/4,0,Math.PI*2,!0),this.ctx.fillStyle=asString(INPUT_COLOR),this.ctx.fill(),this.ctx.restore())),isTextInputElement(s)&&s.value.length){switch(_=this.createFontStyle(h),R=_[0],y=_[1],B=this.fontMetrics.getMetrics(R,y).baseline,this.ctx.font=R,this.ctx.fillStyle=asString(h.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=canvasTextAlign(s.styles.textAlign),O=contentBox(s),w=0,s.styles.textAlign){case 1:w+=O.width/2;break;case 2:w+=O.width;break}C=O.add(w,0,0,-O.height/2+1),this.ctx.save(),this.path([new Vector(O.left,O.top),new Vector(O.left+O.width,O.top),new Vector(O.left+O.width,O.top+O.height),new Vector(O.left,O.top+O.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new TextBounds(s.value,C),h.letterSpacing,B),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!contains(s.styles.display,2048))return[3,20];if(s.styles.listStyleImage===null)return[3,19];if(b=s.styles.listStyleImage,b.type!==0)return[3,18];I=void 0,S=b.url,P.label=15;case 15:return P.trys.push([15,17,,18]),[4,this.context.cache.match(S)];case 16:return I=P.sent(),this.ctx.drawImage(I,s.bounds.left-(I.width+10),s.bounds.top),[3,18];case 17:return P.sent(),this.context.logger.error("Error loading list-style-image "+S),[3,18];case 18:return[3,20];case 19:n.listValue&&s.styles.listStyleType!==-1&&(R=this.createFontStyle(h)[0],this.ctx.font=R,this.ctx.fillStyle=asString(h.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",O=new Bounds$2(s.bounds.left,s.bounds.top+getAbsoluteValue(s.styles.paddingTop,s.bounds.width),s.bounds.width,computeLineHeight(h.lineHeight,h.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new TextBounds(n.listValue,O),h.letterSpacing,computeLineHeight(h.lineHeight,h.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),P.label=20;case 20:return[2]}})})},r.prototype.renderStackContent=function(n){return __awaiter$8(this,void 0,void 0,function(){var s,o,b,h,l,b,c,d,b,v,g,b,m,_,b,y,B,b,w,C,b;return __generator$8(this,function(I){switch(I.label){case 0:if(contains(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:I.sent(),s=0,o=n.negativeZIndex,I.label=2;case 2:return s<o.length?(b=o[s],[4,this.renderStack(b)]):[3,5];case 3:I.sent(),I.label=4;case 4:return s++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:I.sent(),h=0,l=n.nonInlineLevel,I.label=7;case 7:return h<l.length?(b=l[h],[4,this.renderNode(b)]):[3,10];case 8:I.sent(),I.label=9;case 9:return h++,[3,7];case 10:c=0,d=n.nonPositionedFloats,I.label=11;case 11:return c<d.length?(b=d[c],[4,this.renderStack(b)]):[3,14];case 12:I.sent(),I.label=13;case 13:return c++,[3,11];case 14:v=0,g=n.nonPositionedInlineLevel,I.label=15;case 15:return v<g.length?(b=g[v],[4,this.renderStack(b)]):[3,18];case 16:I.sent(),I.label=17;case 17:return v++,[3,15];case 18:m=0,_=n.inlineLevel,I.label=19;case 19:return m<_.length?(b=_[m],[4,this.renderNode(b)]):[3,22];case 20:I.sent(),I.label=21;case 21:return m++,[3,19];case 22:y=0,B=n.zeroOrAutoZIndexOrTransformedOrOpacity,I.label=23;case 23:return y<B.length?(b=B[y],[4,this.renderStack(b)]):[3,26];case 24:I.sent(),I.label=25;case 25:return y++,[3,23];case 26:w=0,C=n.positiveZIndex,I.label=27;case 27:return w<C.length?(b=C[w],[4,this.renderStack(b)]):[3,30];case 28:I.sent(),I.label=29;case 29:return w++,[3,27];case 30:return[2]}})})},r.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},r.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},r.prototype.formatPath=function(n){var s=this;n.forEach(function(o,h){var l=isBezierCurve(o)?o.start:o;h===0?s.ctx.moveTo(l.x,l.y):s.ctx.lineTo(l.x,l.y),isBezierCurve(o)&&s.ctx.bezierCurveTo(o.startControl.x,o.startControl.y,o.endControl.x,o.endControl.y,o.end.x,o.end.y)})},r.prototype.renderRepeat=function(n,s,o,h){this.path(n),this.ctx.fillStyle=s,this.ctx.translate(o,h),this.ctx.fill(),this.ctx.translate(-o,-h)},r.prototype.resizeImage=function(n,s,o){var h;if(n.width===s&&n.height===o)return n;var l=(h=this.canvas.ownerDocument)!==null&&h!==void 0?h:document,c=l.createElement("canvas");c.width=Math.max(1,s),c.height=Math.max(1,o);var d=c.getContext("2d");return d.drawImage(n,0,0,n.width,n.height,0,0,s,o),c},r.prototype.renderBackgroundImage=function(n){return __awaiter$8(this,void 0,void 0,function(){var s,o,h,l,c,d;return __generator$8(this,function(v){switch(v.label){case 0:s=n.styles.backgroundImage.length-1,o=function(g){var m,_,y,Y,k,Q,te,se,M,B,Y,k,Q,te,se,w,C,b,I,S,R,O,P,N,M,H,Y,J,ee,te,se,W,k,Q,D,K,X,j,ie,ae,oe,ve;return __generator$8(this,function(ce){switch(ce.label){case 0:if(g.type!==0)return[3,5];m=void 0,_=g.url,ce.label=1;case 1:return ce.trys.push([1,3,,4]),[4,h.context.cache.match(_)];case 2:return m=ce.sent(),[3,4];case 3:return ce.sent(),h.context.logger.error("Error loading background-image "+_),[3,4];case 4:return m&&(y=calculateBackgroundRendering(n,s,[m.width,m.height,m.width/m.height]),Y=y[0],k=y[1],Q=y[2],te=y[3],se=y[4],M=h.ctx.createPattern(h.resizeImage(m,te,se),"repeat"),h.renderRepeat(Y,M,k,Q)),[3,6];case 5:isLinearGradient(g)?(B=calculateBackgroundRendering(n,s,[null,null,null]),Y=B[0],k=B[1],Q=B[2],te=B[3],se=B[4],w=calculateGradientDirection(g.angle,te,se),C=w[0],b=w[1],I=w[2],S=w[3],R=w[4],O=document.createElement("canvas"),O.width=te,O.height=se,P=O.getContext("2d"),N=P.createLinearGradient(b,S,I,R),processColorStops(g.stops,C).forEach(function(ge){return N.addColorStop(ge.stop,asString(ge.color))}),P.fillStyle=N,P.fillRect(0,0,te,se),te>0&&se>0&&(M=h.ctx.createPattern(O,"repeat"),h.renderRepeat(Y,M,k,Q))):isRadialGradient(g)&&(H=calculateBackgroundRendering(n,s,[null,null,null]),Y=H[0],J=H[1],ee=H[2],te=H[3],se=H[4],W=g.position.length===0?[FIFTY_PERCENT]:g.position,k=getAbsoluteValue(W[0],te),Q=getAbsoluteValue(W[W.length-1],se),D=calculateRadius(g,k,Q,te,se),K=D[0],X=D[1],K>0&&X>0&&(j=h.ctx.createRadialGradient(J+k,ee+Q,0,J+k,ee+Q,K),processColorStops(g.stops,K*2).forEach(function(ge){return j.addColorStop(ge.stop,asString(ge.color))}),h.path(Y),h.ctx.fillStyle=j,K!==X?(ie=n.bounds.left+.5*n.bounds.width,ae=n.bounds.top+.5*n.bounds.height,oe=X/K,ve=1/oe,h.ctx.save(),h.ctx.translate(ie,ae),h.ctx.transform(1,0,0,oe,0,0),h.ctx.translate(-ie,-ae),h.ctx.fillRect(J,ve*(ee-ae)+ae,te,se*ve),h.ctx.restore()):h.ctx.fill())),ce.label=6;case 6:return s--,[2]}})},h=this,l=0,c=n.styles.backgroundImage.slice(0).reverse(),v.label=1;case 1:return l<c.length?(d=c[l],[5,o(d)]):[3,4];case 2:v.sent(),v.label=3;case 3:return l++,[3,1];case 4:return[2]}})})},r.prototype.renderSolidBorder=function(n,s,o){return __awaiter$8(this,void 0,void 0,function(){return __generator$8(this,function(h){return this.path(parsePathForBorder(o,s)),this.ctx.fillStyle=asString(n),this.ctx.fill(),[2]})})},r.prototype.renderDoubleBorder=function(n,s,o,h){return __awaiter$8(this,void 0,void 0,function(){var l,c;return __generator$8(this,function(d){switch(d.label){case 0:return s<3?[4,this.renderSolidBorder(n,o,h)]:[3,2];case 1:return d.sent(),[2];case 2:return l=parsePathForBorderDoubleOuter(h,o),this.path(l),this.ctx.fillStyle=asString(n),this.ctx.fill(),c=parsePathForBorderDoubleInner(h,o),this.path(c),this.ctx.fill(),[2]}})})},r.prototype.renderNodeBackgroundAndBorders=function(n){return __awaiter$8(this,void 0,void 0,function(){var s,o,h,l,c,d,v,g,m=this;return __generator$8(this,function(_){switch(_.label){case 0:return this.applyEffects(n.getEffects(2)),s=n.container.styles,o=!isTransparent(s.backgroundColor)||s.backgroundImage.length,h=[{style:s.borderTopStyle,color:s.borderTopColor,width:s.borderTopWidth},{style:s.borderRightStyle,color:s.borderRightColor,width:s.borderRightWidth},{style:s.borderBottomStyle,color:s.borderBottomColor,width:s.borderBottomWidth},{style:s.borderLeftStyle,color:s.borderLeftColor,width:s.borderLeftWidth}],l=calculateBackgroundCurvedPaintingArea(getBackgroundValueForIndex(s.backgroundClip,0),n.curves),o||s.boxShadow.length?(this.ctx.save(),this.path(l),this.ctx.clip(),isTransparent(s.backgroundColor)||(this.ctx.fillStyle=asString(s.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:_.sent(),this.ctx.restore(),s.boxShadow.slice(0).reverse().forEach(function(y){m.ctx.save();var B=calculateBorderBoxPath(n.curves),w=y.inset?0:MASK_OFFSET,C=transformPath(B,-w+(y.inset?1:-1)*y.spread.number,(y.inset?1:-1)*y.spread.number,y.spread.number*(y.inset?-2:2),y.spread.number*(y.inset?-2:2));y.inset?(m.path(B),m.ctx.clip(),m.mask(C)):(m.mask(B),m.ctx.clip(),m.path(C)),m.ctx.shadowOffsetX=y.offsetX.number+w,m.ctx.shadowOffsetY=y.offsetY.number,m.ctx.shadowColor=asString(y.color),m.ctx.shadowBlur=y.blur.number,m.ctx.fillStyle=y.inset?asString(y.color):"rgba(0,0,0,1)",m.ctx.fill(),m.ctx.restore()}),_.label=2;case 2:c=0,d=0,v=h,_.label=3;case 3:return d<v.length?(g=v[d],g.style!==0&&!isTransparent(g.color)&&g.width>0?g.style!==2?[3,5]:[4,this.renderDashedDottedBorder(g.color,g.width,c,n.curves,2)]:[3,11]):[3,13];case 4:return _.sent(),[3,11];case 5:return g.style!==3?[3,7]:[4,this.renderDashedDottedBorder(g.color,g.width,c,n.curves,3)];case 6:return _.sent(),[3,11];case 7:return g.style!==4?[3,9]:[4,this.renderDoubleBorder(g.color,g.width,c,n.curves)];case 8:return _.sent(),[3,11];case 9:return[4,this.renderSolidBorder(g.color,c,n.curves)];case 10:_.sent(),_.label=11;case 11:c++,_.label=12;case 12:return d++,[3,3];case 13:return[2]}})})},r.prototype.renderDashedDottedBorder=function(n,s,o,h,l){return __awaiter$8(this,void 0,void 0,function(){var c,d,v,g,m,_,y,B,w,C,b,I,S,R,O,P,O,P;return __generator$8(this,function(N){return this.ctx.save(),c=parsePathForBorderStroke(h,o),d=parsePathForBorder(h,o),l===2&&(this.path(d),this.ctx.clip()),isBezierCurve(d[0])?(v=d[0].start.x,g=d[0].start.y):(v=d[0].x,g=d[0].y),isBezierCurve(d[1])?(m=d[1].end.x,_=d[1].end.y):(m=d[1].x,_=d[1].y),o===0||o===2?y=Math.abs(v-m):y=Math.abs(g-_),this.ctx.beginPath(),l===3?this.formatPath(c):this.formatPath(d.slice(0,2)),B=s<3?s*3:s*2,w=s<3?s*2:s,l===3&&(B=s,w=s),C=!0,y<=B*2?C=!1:y<=B*2+w?(b=y/(2*B+w),B*=b,w*=b):(I=Math.floor((y+w)/(B+w)),S=(y-I*B)/(I-1),R=(y-(I+1)*B)/I,w=R<=0||Math.abs(w-S)<Math.abs(w-R)?S:R),C&&(l===3?this.ctx.setLineDash([0,B+w]):this.ctx.setLineDash([B,w])),l===3?(this.ctx.lineCap="round",this.ctx.lineWidth=s):this.ctx.lineWidth=s*2+1.1,this.ctx.strokeStyle=asString(n),this.ctx.stroke(),this.ctx.setLineDash([]),l===2&&(isBezierCurve(d[0])&&(O=d[3],P=d[0],this.ctx.beginPath(),this.formatPath([new Vector(O.end.x,O.end.y),new Vector(P.start.x,P.start.y)]),this.ctx.stroke()),isBezierCurve(d[1])&&(O=d[1],P=d[2],this.ctx.beginPath(),this.formatPath([new Vector(O.end.x,O.end.y),new Vector(P.start.x,P.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},r.prototype.render=function(n){return __awaiter$8(this,void 0,void 0,function(){var s;return __generator$8(this,function(o){switch(o.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=asString(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),s=parseStackingContexts(n),[4,this.renderStack(s)];case 1:return o.sent(),this.applyEffects([]),[2,this.canvas]}})})},r})(Renderer$1);var isTextInputElement=function(t){return t instanceof TextareaElementContainer||t instanceof SelectElementContainer?!0:t instanceof InputElementContainer&&t.type!==RADIO&&t.type!==CHECKBOX},calculateBackgroundCurvedPaintingArea=function(t,r){switch(t){case 0:return calculateBorderBoxPath(r);case 2:return calculateContentBoxPath(r);case 1:default:return calculatePaddingBoxPath(r)}},canvasTextAlign=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},iOSBrokenFonts=["-apple-system","system-ui"],fixIOSSystemFonts=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(r){return iOSBrokenFonts.indexOf(r)===-1}):t};(function(t){__extends$x(r,t);function r(n,s){var o=t.call(this,n,s)||this;return o.canvas=s.canvas?s.canvas:document.createElement("canvas"),o.ctx=o.canvas.getContext("2d"),o.options=s,o.canvas.width=Math.floor(s.width*s.scale),o.canvas.height=Math.floor(s.height*s.scale),o.canvas.style.width=s.width+"px",o.canvas.style.height=s.height+"px",o.ctx.scale(o.options.scale,o.options.scale),o.ctx.translate(-s.x,-s.y),o.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+s.width+"x"+s.height+" at "+s.x+","+s.y+") with scale "+s.scale),o}return r.prototype.render=function(n){return __awaiter$8(this,void 0,void 0,function(){var s,o;return __generator$8(this,function(h){switch(h.label){case 0:return s=createForeignObjectSVG(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,loadSerializedSVG(s)];case 1:return o=h.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=asString(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(o,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},r})(Renderer$1);var loadSerializedSVG=function(t){return new Promise(function(r,n){var s=new Image;s.onload=function(){r(s)},s.onerror=n,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})};typeof window!="undefined"&&CacheStorage.setContext(window);var dist$1={},defaults={},dist={},visibility={};Object.defineProperty(visibility,"__esModule",{value:!0});var keyWithPrefix=function(t,r){return t!==""?t+r.slice(0,1).toUpperCase()+r.slice(1):r},PageVisibility=function(){function t(){this.supportHidden=!1,this.supportState=!1,this.hidden="",this.state="",this.prefixSupport="",this.bindFn=function(){},this.supportHidden=this.isPageHiddenSupport(),this.supportState=this.isPageVisibilitySupport()}return t.prototype.visibilityChange=function(r,n){if(n===void 0&&(n=!1),(this.supportHidden||this.supportState)&&typeof r=="function"){var s=this;return this.bindFn=function(){r.call(null,s.isShow())}.bind(this),this.destory(),document.addEventListener("".concat(this.prefixSupport,"visibilitychange"),this.bindFn,n)}},t.prototype.destory=function(){document.removeEventListener("".concat(this.prefixSupport,"visibilitychange"),this.bindFn)},t.prototype.isShow=function(){return this.supportState?document[this.state]==="visible":this.supportHidden?!document[this.hidden]:!0},t.prototype.isPageHiddenSupport=function(){var r=this,n=!1;return typeof(window==null?void 0:window.screenX)!="number"||["","webkit","moz","ms","o"].forEach(function(s){var o=keyWithPrefix(s,"hidden");!n&&o in document&&(r.hidden=o,r.prefixSupport=s,n=!0)}),n},t.prototype.isPageVisibilitySupport=function(){var r=this,n=!1;return typeof(window==null?void 0:window.screenX)!="number"||["","webkit","moz","ms","o"].forEach(function(s){var o=keyWithPrefix(s,"visibilityState");!n&&o in document&&(r.state=keyWithPrefix(s,"visibilityState"),n=!0)}),n},t}();visibility.default=PageVisibility;var date={},type={};Object.defineProperty(type,"__esModule",{value:!0});type.isArray=type.isNumber=void 0;var isNumber=function(t){return!t||typeof t=="undefined"?!1:typeof t=="number"?!0:typeof Number.isNaN=="function"?!Number.isNaN(Number(t)):Number(t)===Number(t)};type.isNumber=isNumber;var isArray$1=function(t){return!t||typeof t=="undefined"?!1:typeof Array.isArray=="function"?Array.isArray(t):Object.prototype.toString.call(t).toLowerCase()==="[object array]"};type.isArray=isArray$1;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sleep=t.getWeekStartAndEnd=t.formatTime=t.isSameDay=void 0;var r=type,n=function(c,d){d===void 0&&(d=Date.now());var v=function(g){var m=(0,r.isNumber)(g)?parseInt(g.toString(),10):g.toString().replace(/-/g,"/");return new Date(m).toLocaleDateString()};return v(c)===v(d)};t.isSameDay=n;var s=function(c,d){d===void 0&&(d="yyyy/MM/dd hh:mm:ss");var v=new Date(c),g={"y+":v.getFullYear(),"M+":v.getMonth()+1,"d+":v.getDate(),"h+":v.getHours(),"m+":v.getMinutes(),"s+":v.getSeconds()},m=/(y+)/i.test(d)?d.replace(RegExp.$1,"".concat(g["y+"]).substr(4-RegExp.$1.length)):d;for(var _ in g)new RegExp("(".concat(_,")")).test(d)&&(m=m.replace(RegExp.$1,RegExp.$1.length===1?g[_]:"00".concat(g[_]).substr("".concat(g[_]).length)));return m};t.formatTime=s;var o=function(c,d,v){var g=864e5,m=v?new Date(v):new Date,_=m.getTime(),y=m.getDay()===0?7:m.getDay(),B=new Date(_-g*(y-1)),w=new Date(_+g*(7-y));return{startDate:(0,t.formatTime)(B.getTime(),c),endDate:(0,t.formatTime)(w.getTime(),d)}};t.getWeekStartAndEnd=o;var h=function(c){return new Promise(function(d){return setTimeout(d,c)})};t.sleep=h;var l={isSameDay:t.isSameDay,formatTime:t.formatTime,getWeekStartAndEnd:t.getWeekStartAndEnd,sleep:t.sleep};t.default=l})(date);var url$2={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.buildFullPath=t.combineURLs=t.http2https=t.isAbsolute=t.getQueryString=void 0;var r=function(c,d){if(d===void 0&&(d=window.location.search),!d||!c)return null;if(typeof URLSearchParams=="function"){var v=new URLSearchParams(d);return v.get(c)}var g=new RegExp("(^|&)".concat(c,"=([^&]*)(&|$)"),"i"),m=d.slice(1).match(g)||[],_=m[0],y=m[1],B=m[2];return _||y?decodeURIComponent(B):null};t.getQueryString=r;var n=function(c){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(c)};t.isAbsolute=n;var s=function(c){return/^http:\/\//.test(c)?c.replace("http://","https://"):c};t.http2https=s;var o=function(c,d){return d?"".concat(c.replace(/\/+$/,""),"/").concat(d.replace(/^\/+/,"")):c};t.combineURLs=o;var h=function(c,d){return c&&!(0,t.isAbsolute)(d)?(0,t.combineURLs)(c,d):d};t.buildFullPath=h;var l={getQueryString:t.getQueryString,isAbsolute:t.isAbsolute,http2https:t.http2https,combineURLs:t.combineURLs,buildFullPath:t.buildFullPath};t.default=l})(url$2);var string={};(function(t){var r=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return r=Object.assign||function(c){for(var d,v=1,g=arguments.length;v<g;v++){d=arguments[v];for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(c[m]=d[m])}return c},r.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.getScript=t.loadScript=t.truncate=t.strReplace=t.getRandom=void 0;var n=function(){var c=16;if(typeof crypto=="object"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function"){var d=crypto==null?void 0:crypto.randomUUID();return d.replace(/-/g,"").substring(0,c)}var v=Date.now().toString(32),g=Math.random().toString(32);return"".concat(v).concat(g.slice(v.length-c))};t.getRandom=n;var s=function(c,d){d===void 0&&(d={});var v=new RegExp("{(.+?)}","g");return c.replace(v,function(g,m){return g&&d.hasOwnProperty(m)?d[m]:g})};t.strReplace=s;var o=function(c,d,v){function g(C){return typeof C!="string"||C===""}function m(C){return g(C)?C:C.replace(/(^\s*)|(\s*$)/g,"")}if(g(c))return c;var _=m(c),y=Array.from(_),B=y.length,w=d<=0?B:d;return w>=B||(_=y.slice(0,w).join(""),_+=v||"..."),_};t.truncate=o;var h=function(c,d){var v={iframe:!1,charset:"UTF-8",timeout:6e3},g=r(r({},v),d),m=g.iframe&&window.top?window.top.document:document,_=m.getElementsByTagName("head")[0],y=m.createElement("script"),B=null;y.setAttribute("type","text/javascript"),y.setAttribute("charset",g.charset),y.setAttribute("src",c);var w=function(){y.parentNode&&y.parentNode.removeChild(y),B&&clearTimeout(B)};return _.appendChild(y),new Promise(function(C,b){var I=function(){B&&clearTimeout(B),C(null)};y.onload=function(){I()},y.onerror=b,g.timeout&&(B=setTimeout(function(){w(),b(new Error("[loadScript] get ".concat(c," timeout in ").concat(g.timeout,"ms")))},g.timeout))})};t.loadScript=h,t.getScript=t.loadScript;var l={strReplace:t.strReplace,truncate:t.truncate,loadScript:t.loadScript,getScript:t.getScript};t.default=l})(string);var ua={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isLiteNewsApp=t.isNewsApp=t.isAndroid=t.getBrowserInfo=t.getSystemInfo=void 0;var r=function(c){var d={name:"",version:"",ios:!1,android:!1,manufacture:"",model:"",build:"",nettype:""};if(typeof window=="undefined")return d;var v=(c||window.navigator.userAgent).toLowerCase(),g={iphone:v.match(/(iphone)\s(os\s)?([\d_]+)/i),ipad:v.match(/(ipad).*\s([\d_]+)/i),ipod:v.match(/(ipod).*\s([\d_]+)/i),android:v.match(/(android)\s([\d.]+)/i),windows:v.match(/windows(\s+\w+)?\s+?(\d+\.\d+)/),ios:/(iphone|ipad|ipod|ios)/i.test(v)};if(g.iphone)d.name="iphone",d.version=g.iphone[3].replace(/_/g,"."),d.ios=!0;else if(g.android){d.name="android",d.version=g.android[2],d.android=!0;var m={samsung:v.match(/(gt|sm|sch)-(.*)\s+/),huawei:/huawei|honor/.test(v),honor:/honor/.test(v),vivo:/vivo/.test(v),redmi:/redmi/.test(v),xiaomi:/hm|mi/i.test(v)&&!/redmi/.test(v),oppo:/oppo/.test(v),oneplus:/oneplus/.test(v)};for(var _ in m)if(m[_]){d.manufacture=_;break}var y=v.match(/;(\szh-cn;)?\s(.*)\sbuild/i);if(y&&y.length>=3){var B=y[2].split(";");d.model=B[B.length-1].replace(d.manufacture,"").replace(/(^\s*)|(\s*$)/g,"")}var w=v.match(new RegExp("build/(".concat(d.manufacture,")?(.*?)[()|;)$]")));w&&w.length>=3&&(d.build=w[2])}else g.ipad?(d.name="ipad",d.version=g.ipad[2].replace(/_/g,"."),d.ios=!0):g.windows&&(d.name="windows",d.version=g.windows[2]);var C=v.match(/nettype\/(.*)\s+/);return C&&(d.nettype=C[1]),d};t.getSystemInfo=r;var n=function(c){var d={name:"",version:"",weibo:{name:"",version:"",is:!1},qqnewslite:{name:"",version:"",is:!1},qqnews:{name:"",version:"",is:!1},weixin:{name:"",version:"",is:!1},wxwork:{name:"",version:"",is:!1},mqqbrowser:{name:"",version:"",is:!1},qq:{name:"",version:"",is:!1},tenvideo:{name:"",version:"",is:!1},qqmusic:{name:"",version:"",is:!1},qqac:{name:"",version:"",is:!1},tadchid:{name:"",version:"",is:!1},ucbrowser:{name:"",version:"",is:!1},chrome:{name:"",version:"",is:!1},safari:{name:"",version:"",is:!1},hwbrowser:{name:"",version:"",is:!1},qzone:{name:"",version:"",is:!1},weishi:{name:"",version:"",is:!1},miuibrowser:{name:"",version:"",is:!1}};if(typeof window=="undefined")return d;for(var v=(c||window.navigator.userAgent).toLowerCase(),g={qqnewslite:/tadchid/.test(v)?null:v.match(/qqnewslite\/(\d+\.\d+\.\d+)/),qqnews:/tadchid/.test(v)?null:v.match(/qqnews\/(\d+\.\d+\.\d+)/),weixin:/wxwork/i.test(v)?null:v.match(/MicroMessenger\/((\d+)\.(\d+)\.(\d+))/i),wxwork:v.match(/wxwork\/(\d+\.\d+\.\d+)/i),qq:v.match(/qq\/(\d+\.\d+)/),tenvideo:v.match(/qqlivebrowser/),qqmusic:v.match(/qqmusic/),qqac:v.match(/qqac_client/),weibo:v.match(/weibo/),tadchid:/qqnews/i.test(v)?v.match(/tadchid\/(\d+)/):null,ucbrowser:v.match(/ucbrowser\/(\d+\.\d+)/i),mqqbrowser:v.match(/mqqbrowser\/(\d+\.\d+)/),chrome:/android/.test(v)?v.match(/chrome\/(\d+\.\d+)/):v.match(/crios\/(\d+\.\d+)/),safari:v.match(/safari\/(\d+\.\d+)/),hwbrowser:v.match(/huawei|honor/),qzone:v.match(/qzone\/[\w\d_]*(\d\.\d)[.\w\d_]*/i),weishi:v.match(/weishi_(\d+?\.\d+?\.\d+?)/i),miuibrowser:v.match(/miuibrowser\/(\d+?\.\d+?\.\d+?)/i)},m=Object.keys(g),_=0,y=m.length;_<y;_++){var B=m[_],w=g[B];if(w){d.version=w[1]||"0",d.name=B;break}}var C="mqqbrowser";for(C in g){var b=g[C];b&&(d[C]={name:C,version:b[1]||"0",is:!0})}return d};t.getBrowserInfo=n;var s=function(c){return(0,t.getSystemInfo)(c).android};t.isAndroid=s;var o=function(c){return(0,t.getBrowserInfo)(c).name==="qqnews"};t.isNewsApp=o;var h=function(c){return(0,t.getBrowserInfo)(c).name==="qqnewslite"};t.isLiteNewsApp=h;var l={getBrowserInfo:t.getBrowserInfo,getSystemInfo:t.getSystemInfo,isAndroid:t.isAndroid,isNewsApp:t.isNewsApp,isLiteNewsApp:t.isLiteNewsApp};t.default=l})(ua);var cookie={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.delCookie=t.getCookie=t.setCookie=void 0;var r=function(o,h,l){l===void 0&&(l=30);var c=new Date;c.setTime(c.getTime()+l*24*60*60*1e3),document.cookie="".concat(o,"=").concat(encodeURI(h.toString()),";path=/;expires=").concat(c.toUTCString())};t.setCookie=r;var n=function(o,h){h===void 0&&(h=0);var l=new RegExp("(^| )".concat(o,"=([^;]*)(;|$)")),c=document.cookie.match(l);return c?h?c[2]:decodeURI(c[2]):null};t.getCookie=n;var s=function(o){if(!!o){var h=new Date;h.setTime(h.getTime()-1),document.cookie="".concat(o,"=; expires=").concat(h.toUTCString(),";path=/")}};t.delCookie=s,t.default={setCookie:t.setCookie,getCookie:t.getCookie,delCookie:t.delCookie}})(cookie);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.PageVisibility=t.delCookie=t.getCookie=t.setCookie=t.isLiteNewsApp=t.isNewsApp=t.isAndroid=t.getSystemInfo=t.getBrowserInfo=t.getScript=t.loadScript=t.truncate=t.strReplace=t.getRandom=t.buildFullPath=t.combineURLs=t.http2https=t.isAbsolute=t.getQueryString=t.sleep=t.getWeekStartAndEnd=t.formatTime=t.isSameDay=void 0;var r=visibility;t.PageVisibility=r.default;var n=date;Object.defineProperty(t,"isSameDay",{enumerable:!0,get:function(){return n.isSameDay}}),Object.defineProperty(t,"formatTime",{enumerable:!0,get:function(){return n.formatTime}}),Object.defineProperty(t,"getWeekStartAndEnd",{enumerable:!0,get:function(){return n.getWeekStartAndEnd}}),Object.defineProperty(t,"sleep",{enumerable:!0,get:function(){return n.sleep}});var s=url$2;Object.defineProperty(t,"getQueryString",{enumerable:!0,get:function(){return s.getQueryString}}),Object.defineProperty(t,"isAbsolute",{enumerable:!0,get:function(){return s.isAbsolute}}),Object.defineProperty(t,"http2https",{enumerable:!0,get:function(){return s.http2https}}),Object.defineProperty(t,"combineURLs",{enumerable:!0,get:function(){return s.combineURLs}}),Object.defineProperty(t,"buildFullPath",{enumerable:!0,get:function(){return s.buildFullPath}});var o=string;Object.defineProperty(t,"getRandom",{enumerable:!0,get:function(){return o.getRandom}}),Object.defineProperty(t,"strReplace",{enumerable:!0,get:function(){return o.strReplace}}),Object.defineProperty(t,"truncate",{enumerable:!0,get:function(){return o.truncate}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return o.loadScript}}),Object.defineProperty(t,"getScript",{enumerable:!0,get:function(){return o.getScript}});var h=ua;Object.defineProperty(t,"getBrowserInfo",{enumerable:!0,get:function(){return h.getBrowserInfo}}),Object.defineProperty(t,"getSystemInfo",{enumerable:!0,get:function(){return h.getSystemInfo}}),Object.defineProperty(t,"isAndroid",{enumerable:!0,get:function(){return h.isAndroid}}),Object.defineProperty(t,"isNewsApp",{enumerable:!0,get:function(){return h.isNewsApp}}),Object.defineProperty(t,"isLiteNewsApp",{enumerable:!0,get:function(){return h.isLiteNewsApp}});var l=cookie;Object.defineProperty(t,"setCookie",{enumerable:!0,get:function(){return l.setCookie}}),Object.defineProperty(t,"getCookie",{enumerable:!0,get:function(){return l.getCookie}}),Object.defineProperty(t,"delCookie",{enumerable:!0,get:function(){return l.delCookie}})})(dist);var weixin={},eventemitter3$2={exports:{}};(function(t){var r=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function o(d,v,g){this.fn=d,this.context=v,this.once=g||!1}function h(d,v,g,m,_){if(typeof g!="function")throw new TypeError("The listener must be a function");var y=new o(g,m||d,_),B=n?n+v:v;return d._events[B]?d._events[B].fn?d._events[B]=[d._events[B],y]:d._events[B].push(y):(d._events[B]=y,d._eventsCount++),d}function l(d,v){--d._eventsCount===0?d._events=new s:delete d._events[v]}function c(){this._events=new s,this._eventsCount=0}c.prototype.eventNames=function(){var v=[],g,m;if(this._eventsCount===0)return v;for(m in g=this._events)r.call(g,m)&&v.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(g)):v},c.prototype.listeners=function(v){var g=n?n+v:v,m=this._events[g];if(!m)return[];if(m.fn)return[m.fn];for(var _=0,y=m.length,B=new Array(y);_<y;_++)B[_]=m[_].fn;return B},c.prototype.listenerCount=function(v){var g=n?n+v:v,m=this._events[g];return m?m.fn?1:m.length:0},c.prototype.emit=function(v,g,m,_,y,B){var w=n?n+v:v;if(!this._events[w])return!1;var C=this._events[w],b=arguments.length,I,S;if(C.fn){switch(C.once&&this.removeListener(v,C.fn,void 0,!0),b){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,g),!0;case 3:return C.fn.call(C.context,g,m),!0;case 4:return C.fn.call(C.context,g,m,_),!0;case 5:return C.fn.call(C.context,g,m,_,y),!0;case 6:return C.fn.call(C.context,g,m,_,y,B),!0}for(S=1,I=new Array(b-1);S<b;S++)I[S-1]=arguments[S];C.fn.apply(C.context,I)}else{var R=C.length,O;for(S=0;S<R;S++)switch(C[S].once&&this.removeListener(v,C[S].fn,void 0,!0),b){case 1:C[S].fn.call(C[S].context);break;case 2:C[S].fn.call(C[S].context,g);break;case 3:C[S].fn.call(C[S].context,g,m);break;case 4:C[S].fn.call(C[S].context,g,m,_);break;default:if(!I)for(O=1,I=new Array(b-1);O<b;O++)I[O-1]=arguments[O];C[S].fn.apply(C[S].context,I)}}return!0},c.prototype.on=function(v,g,m){return h(this,v,g,m,!1)},c.prototype.once=function(v,g,m){return h(this,v,g,m,!0)},c.prototype.removeListener=function(v,g,m,_){var y=n?n+v:v;if(!this._events[y])return this;if(!g)return l(this,y),this;var B=this._events[y];if(B.fn)B.fn===g&&(!_||B.once)&&(!m||B.context===m)&&l(this,y);else{for(var w=0,C=[],b=B.length;w<b;w++)(B[w].fn!==g||_&&!B[w].once||m&&B[w].context!==m)&&C.push(B[w]);C.length?this._events[y]=C.length===1?C[0]:C:l(this,y)}return this},c.prototype.removeAllListeners=function(v){var g;return v?(g=n?n+v:v,this._events[g]&&l(this,g)):(this._events=new s,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(eventemitter3$2);var request$1={};Object.defineProperty(request$1,"__esModule",{value:!0});var request=function(t,r){var n=[];for(var s in r)n.push("".concat(encodeURIComponent(s),"=").concat(encodeURIComponent(r[s])));var o=n.join("&");return new Promise(function(h,l){if(window.XMLHttpRequest){var c=new window.XMLHttpRequest;c.onreadystatechange=function(){c.readyState===4&&(c.status>=200&&c.status<=304?h(JSON.parse(c.responseText)):l(c.status))},c.open("POST",t,!0),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),c.withCredentials=!0,c.send(o)}})};request$1.default=request;var DownloadListener={};Object.defineProperty(DownloadListener,"__esModule",{value:!0});DownloadListener.DOWNLOADER=void 0;DownloadListener.DOWNLOADER={DOWNLOADSTART:"downloadStart",DOWNLOADING:"downloadIng",DOWNLOADSTEPS:"downloadSteps",DOWNLOADSUCCESS:"downloadSuccess",INSTALLPENDING:"installPending",INSTALLSUCCESS:"installSuccess",CANCEl:"cancel",REMOVED:"removed",ERROR:"error",UNKNOWN:"unknown"};var __extends$w=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(s[h]=o[h])},t(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(r,n);function s(){this.constructor=r}r.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),__assign$b=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return __assign$b=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},__assign$b.apply(this,arguments)},__awaiter$7=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(t,r,n,s){function o(h){return h instanceof n?h:new n(function(l){l(h)})}return new(n||(n=Promise))(function(h,l){function c(g){try{v(s.next(g))}catch(m){l(m)}}function d(g){try{v(s.throw(g))}catch(m){l(m)}}function v(g){g.done?h(g.value):o(g.value).then(c,d)}v((s=s.apply(t,r||[])).next())})},__generator$7=commonjsGlobal$1&&commonjsGlobal$1.__generator||function(t,r){var n={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},s,o,h,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(v){return function(g){return d([v,g])}}function d(v){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(h=v[0]&2?o.return:v[0]?o.throw||((h=o.return)&&h.call(o),0):o.next)&&!(h=h.call(o,v[1])).done)return h;switch(o=0,h&&(v=[v[0]&2,h.value]),v[0]){case 0:case 1:h=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,o=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(h=n.trys,!(h=h.length>0&&h[h.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!h||v[1]>h[0]&&v[1]<h[3])){n.label=v[1];break}if(v[0]===6&&n.label<h[1]){n.label=h[1],h=v;break}if(h&&n.label<h[2]){n.label=h[2],n.ops.push(v);break}h[2]&&n.ops.pop(),n.trys.pop();continue}v=r.call(t,n)}catch(g){v=[6,g],o=0}finally{s=h=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(weixin,"__esModule",{value:!0});var eventemitter3_1$8=eventemitter3$2.exports,gh_qqnews_utils_1$7=dist,request_1$1=request$1,DownloadListener_1$3=DownloadListener,WeixinAppDownloader=function(t){__extends$w(r,t);function r(n){var s=t.call(this)||this;return s.isReady=!1,s.data={openUrl:"qqnews://article_9527",packageName:"com.tencent.news",downloadUrl:"",wxAppId:"",appleStoreId:"",appName:"App",downLogo:"",developer:"",appVersion:"",privacyUrl:"",permissionUrl:""},s.version=0,s.WeixinJSBridge=null,s.data=__assign$b(__assign$b({},s.data),n),s}return r.prototype.ready=function(){var n=this;if(this.WeixinJSBridge||this.isReady)return Promise.resolve(this.WeixinJSBridge);if(typeof window.WeixinJSBridge!="undefined")return this.WeixinJSBridge=window.WeixinJSBridge,Promise.resolve(window.WeixinJSBridge);if(window.self!==window.top)return window.top&&typeof window.top.WeixinJSBridge!="undefined"?(this.isReady=!0,this.WeixinJSBridge=window.top.WeixinJSBridge,Promise.resolve(window.top.WeixinJSBridge)):new Promise(function(o,h){var l=20,c=setInterval(function(){l-=1,l<=0?(clearInterval(c),h(new Error("[@tencent/gh-qqnews-downapp] get WeixinJSBridge error in ready"))):typeof window.top.WeixinJSBridge!="undefined"&&(clearInterval(c),n.isReady=!0,n.WeixinJSBridge=window.top.WeixinJSBridge,o(window.top.WeixinJSBridge))},300)});var s=6e3;return new Promise(function(o,h){var l=setTimeout(function(){h(new Error("[@tencent/gh-qqnews-downapp] get WeixinJSBridge timeout in ".concat(s,"ms")))},s);window.WeixinJSBridgeReady=function(){n.isReady=!0,n.WeixinJSBridge=window.WeixinJSBridge,clearTimeout(l),o(window.WeixinJSBridge)},document.addEventListener("WeixinJSBridgeReady",window.WeixinJSBridgeReady,!1)})},r.prototype.getVersion=function(){if(this.version)return this.version;var n=navigator.userAgent.toLowerCase().match(/micromessenger\/(\d+)\.(\d+)\.(\d+)/)||["",0,0,0],s=n[0],o=n[1],h=n[2],l=n[3];return s?(this.version=Number(o)*100+Number(h)+Number(l)/1e3,this.version):0},r.prototype.getNetworkType=function(n){return __awaiter$7(this,void 0,void 0,function(){var s,o=this;return __generator$7(this,function(h){switch(h.label){case 0:return[4,this.ready()];case 1:return h.sent(),s={fail:"none",edge:"wwan",wwan:"wwan",wifi:"wifi"},[2,new Promise(function(l){o.WeixinJSBridge.invoke("getNetworkType",{},function(c){var d=c.err_msg,v=(d.match(/(wifi|wwan|edge|fail)/)||["fail"])[0];typeof n=="function"&&n(s[v]),l(s[v])})})]}})})},r.prototype.run=function(n){var s=this;n===void 0&&(n="");var o=n||this.data.openUrl;this.checkAppIsInstalled(function(h){h?s.openApp(o):s.download()})},r.prototype.checkAppIsInstalled=function(n){return __awaiter$7(this,void 0,void 0,function(){var s,o=this;return __generator$7(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,this.ready()];case 1:return h.sent(),[3,3];case 2:return s=h.sent(),console.error(s),[2,!1];case 3:return[2,new Promise(function(l){o.WeixinJSBridge.invoke("getInstallState",{packageName:o.data.packageName,packageUrl:o.data.openUrl},function(c){var d=c.err_msg,v=!1;return d&&d.indexOf("yes")>-1&&(v=!0),typeof n=="function"&&n(v),l(v),v})})]}})})},r.prototype.openApp=function(n){return n===void 0&&(n=""),__awaiter$7(this,void 0,void 0,function(){var s,o,h,l=this;return __generator$7(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this.ready()];case 1:return c.sent(),[3,3];case 2:return s=c.sent(),console.error(s),[2,Promise.reject(new Error("WeixinAppDownloader.openApp ready error"))];case 3:if(o=n||this.data.openUrl||"",!o&&!this.data.wxAppId)throw new Error("openUrl or wxAppId must need at least one");return h={schemeUrl:o},this.data.wxAppId&&(h={appID:this.data.wxAppId,parameter:o,extInfo:o}),this.getVersion()>=605.006?[2,new Promise(function(d,v){l.WeixinJSBridge.invoke("launchApplication",h,function(g){var m=g.err_msg;m==="launchApplication:ok"?d(!0):m==="launchApplication:fail"&&v(new Error("WeixinAppDownloader.openApp faied"))})})]:(window.location.href=o,[2,Promise.resolve(!0)])}})})},r.prototype.getDownloadConfig=function(){return __awaiter$7(this,void 0,void 0,function(){var n,s,o,h,l,c;return __generator$7(this,function(d){switch(d.label){case 0:if(this.data.appVersion)return[2,this.data];if(n="gh.downapp",s=window.sessionStorage.getItem(n),s)try{return o=JSON.parse(s),[2,__assign$b(__assign$b({},this.data),{developer:o.name.txt,appVersion:o.ver.txt,privacyUrl:o.yinsi.url,permissionUrl:o.quanxian.url})]}catch(v){}return h="https://api.prize.qq.com/v1/newsapp/answer/other/config?actname=download_app_info",[4,(0,request_1$1.default)(h)];case 1:return l=d.sent(),l.code===0&&l.data&&(c=l.data.data.peizhi.app_info,c)?(window.sessionStorage&&window.sessionStorage.setItem(n,JSON.stringify(c)),[2,__assign$b(__assign$b({},this.data),{developer:c.name.txt,appVersion:c.ver.txt,privacyUrl:c.yinsi.url,permissionUrl:c.quanxian.url})]):[2,this.data]}})})},r.prototype.download=function(){return __awaiter$7(this,void 0,void 0,function(){var n,s,o,h=this;return __generator$7(this,function(l){switch(l.label){case 0:if(!(0,gh_qqnews_utils_1$7.getSystemInfo)().android)return[3,6];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.ready()];case 2:return l.sent(),[3,4];case 3:return n=l.sent(),[2,console.error(n)];case 4:return[4,this.getDownloadConfig()];case 5:return s=l.sent(),this.WeixinJSBridge.invoke("addDownloadTask",{task_name:s.appName,task_url:s.downloadUrl,thumb_url:s.downLogo,developer:s.developer,app_version:s.appVersion,privacy_agreement_url:s.privacyUrl,permission_url:s.permissionUrl},function(c){var d=c.err_msg,v=c.download_id;if(h.getVersion()>=605.007)if(d==="addDownloadTask:ok"||d==="add_download_task:ok")h.emit(DownloadListener_1$3.DOWNLOADER.DOWNLOADSTART),h.addDownloadLister();else if(d==="addDownloadTask:cancel"||d==="add_download_task:cancel")h.emit(DownloadListener_1$3.DOWNLOADER.CANCEl);else throw new Error("WeixinAppDownloader.download error, err_msg: ".concat(d));else h.install(v)}),this.fallbackDownload(),[3,7];case 6:o=this.data.appleStoreId,window.location.href="http://itunes.apple.com/cn/app/id".concat(o),l.label=7;case 7:return[2]}})})},r.prototype.fallbackDownload=function(){var n=this,s=setTimeout(function(){window.location.href=n.data.downloadUrl||""},2e3),o=function(){clearTimeout(s),window.removeEventListener("blur",o)};setTimeout(function(){window.removeEventListener("blur",o)},3e3),window.addEventListener("blur",o)},r.prototype.addDownloadLister=function(){var n=this;this.WeixinJSBridge.on("wxdownload:state_change",function(s){var o=s.err_code,h=s.state;switch(h){case"download_start":{n.emit(DownloadListener_1$3.DOWNLOADER.DOWNLOADSTART);break}case"downloading":{n.emit(DownloadListener_1$3.DOWNLOADER.DOWNLOADING);break}case"download_fail":{n.emit(DownloadListener_1$3.DOWNLOADER.ERROR,{err_code:o});break}case"download_removed":{n.emit(DownloadListener_1$3.DOWNLOADER.REMOVED);break}case"download_succ":{n.emit(DownloadListener_1$3.DOWNLOADER.DOWNLOADSUCCESS);break}default:console.error("WeixinAppDownloader.addDownloadLister: unkown state: ".concat(h))}})},r.prototype.install=function(n){this.WeixinJSBridge.invoke("installDownloadTask",{download_id:n})},r}(eventemitter3_1$8.EventEmitter);weixin.default=WeixinAppDownloader;var qq={},__extends$v=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(s[h]=o[h])},t(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(r,n);function s(){this.constructor=r}r.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),__assign$a=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return __assign$a=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},__assign$a.apply(this,arguments)},__awaiter$6=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(t,r,n,s){function o(h){return h instanceof n?h:new n(function(l){l(h)})}return new(n||(n=Promise))(function(h,l){function c(g){try{v(s.next(g))}catch(m){l(m)}}function d(g){try{v(s.throw(g))}catch(m){l(m)}}function v(g){g.done?h(g.value):o(g.value).then(c,d)}v((s=s.apply(t,r||[])).next())})},__generator$6=commonjsGlobal$1&&commonjsGlobal$1.__generator||function(t,r){var n={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},s,o,h,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(v){return function(g){return d([v,g])}}function d(v){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(h=v[0]&2?o.return:v[0]?o.throw||((h=o.return)&&h.call(o),0):o.next)&&!(h=h.call(o,v[1])).done)return h;switch(o=0,h&&(v=[v[0]&2,h.value]),v[0]){case 0:case 1:h=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,o=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(h=n.trys,!(h=h.length>0&&h[h.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!h||v[1]>h[0]&&v[1]<h[3])){n.label=v[1];break}if(v[0]===6&&n.label<h[1]){n.label=h[1],h=v;break}if(h&&n.label<h[2]){n.label=h[2],n.ops.push(v);break}h[2]&&n.ops.pop(),n.trys.pop();continue}v=r.call(t,n)}catch(g){v=[6,g],o=0}finally{s=h=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(qq,"__esModule",{value:!0});var eventemitter3_1$7=eventemitter3$2.exports,gh_qqnews_utils_1$6=dist,DownloadListener_1$2=DownloadListener,QQAppDownloader=function(t){__extends$v(r,t);function r(n){var s=t.call(this)||this;return s.isReady=!1,s.data={openUrl:"qqnews://article_9527",packageName:"com.tencent.news",downloadUrl:"",wxAppId:"",appleStoreId:"",appName:"App",downLogo:""},s.mqq=null,s.data=__assign$a(__assign$a({},s.data),n),s}return r.prototype.ready=function(){var n,s;return __awaiter$6(this,void 0,void 0,function(){var o,h,l=this;return __generator$6(this,function(c){switch(c.label){case 0:if(this.isReady||this.mqq)return[2,!0];if(window.mqq||((n=window.top)===null||n===void 0?void 0:n.mqq))return this.isReady=!0,this.mqq=window.mqq||((s=window.top)===null||s===void 0?void 0:s.mqq),[2,!0];o=function(){var d="//open.mobile.qq.com/sdk/qqapi.js?_bid=152";return new Promise(function(v,g){(0,gh_qqnews_utils_1$6.loadScript)(d,{iframe:window.top!==window.self}).then(function(){var m;l.isReady=!0,l.mqq=window.mqq||((m=window.top)===null||m===void 0?void 0:m.mqq),v(!0)}).catch(g)})},c.label=1;case 1:return c.trys.push([1,3,,4]),[4,o()];case 2:return[2,c.sent()];case 3:return c.sent(),[3,4];case 4:return c.trys.push([4,6,,7]),[4,o()];case 5:return[2,c.sent()];case 6:return h=c.sent(),console.error("[@tencent/gh-qqnews-downapp] get qqapi error, ".concat(h.message)),[2,!1];case 7:return[2]}})})},r.prototype.getNetworkType=function(n){return __awaiter$6(this,void 0,void 0,function(){var s,o=this;return __generator$6(this,function(h){switch(h.label){case 0:return[4,this.ready()];case 1:return h.sent(),s={"-1":"none",0:"none",1:"wifi",2:"wwan",3:"wwan",4:"wwan"},[2,new Promise(function(l){o.mqq.device.getNetworkType(function(c){typeof n=="function"&&n(s[c]),l(s[c])})})]}})})},r.prototype.downloadApp=function(n,s){this.mqq.app.downloadApp({appid:this.data.appleStoreId,url:this.data.downloadUrl,packageName:this.data.packageName,actionCode:n,via:"ANDROIDQQ.TXREADING",appName:this.data.appName},function(o){typeof s=="function"&&s(o)})},r.prototype.run=function(n){var s=this;n===void 0&&(n=""),this.checkAppIsInstalled(function(o){o?s.openApp(n):s.download()})},r.prototype.checkAppIsInstalled=function(n){return __awaiter$6(this,void 0,void 0,function(){var s=this;return __generator$6(this,function(o){switch(o.label){case 0:return[4,this.ready()];case 1:return o.sent(),[2,new Promise(function(h){var l=(0,gh_qqnews_utils_1$6.getSystemInfo)().android?s.data.packageName:s.data.openUrl;s.mqq.app.isAppInstalled(l,function(c){var d=!1;typeof c=="object"?Number(c.code)===0&&c.result&&(d=!0):c&&(d=!0),typeof n=="function"&&n(d),h(d)})})]}})})},r.prototype.openApp=function(n){return n===void 0&&(n=""),__awaiter$6(this,void 0,void 0,function(){var s;return __generator$6(this,function(o){switch(o.label){case 0:return[4,this.ready()];case 1:if(o.sent(),s=n||this.data.openUrl||"",!s)throw new TypeError("QQAppDownloader.openApp: openUrl is needed");return(0,gh_qqnews_utils_1$6.getSystemInfo)().android?window.location.href=s:this.mqq.app.launchApp(s),[2,Promise.resolve(!0)]}})})},r.prototype.download=function(){return __awaiter$6(this,void 0,void 0,function(){var n=this;return __generator$6(this,function(s){switch(s.label){case 0:return(0,gh_qqnews_utils_1$6.getSystemInfo)().android?[4,this.ready()]:[3,2];case 1:return s.sent(),this.emit(DownloadListener_1$2.DOWNLOADER.DOWNLOADSTART),this.downloadApp(2,function(o){var h=o.state,l=o.pro;h===4&&(l=100),n.emit(DownloadListener_1$2.DOWNLOADER.DOWNLOADSTEPS,l),l>=100&&setTimeout(function(){n.install()},200)}),[3,3];case 2:if(!this.data.appleStoreId)throw new TypeError("WeixinAppDownloader.download error: appleStoreId is needed");window.location.href="http://itunes.apple.com/cn/app/id".concat(this.data.appleStoreId),s.label=3;case 3:return[2]}})})},r.prototype.install=function(){var n=this;this.emit(DownloadListener_1$2.DOWNLOADER.INSTALLPENDING),this.downloadApp(5,function(s){var o=s.state;o===9&&n.emit(DownloadListener_1$2.DOWNLOADER.INSTALLSUCCESS)})},r}(eventemitter3_1$7.EventEmitter);qq.default=QQAppDownloader;var tadchid={},__extends$u=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(s[h]=o[h])},t(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(r,n);function s(){this.constructor=r}r.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),__assign$9=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return __assign$9=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},__assign$9.apply(this,arguments)};Object.defineProperty(tadchid,"__esModule",{value:!0});var eventemitter3_1$6=eventemitter3$2.exports,TadChidAppDownloader=function(t){__extends$u(r,t);function r(n){var s=t.call(this)||this;return s.data={openUrl:"qqnews://article_9527",packageName:"com.tencent.news",downloadUrl:"",wxAppId:"",appleStoreId:"",appName:"App",downLogo:""},s.data=__assign$9(__assign$9({},s.data),n),s}return r.prototype.getNetworkType=function(n){return typeof n=="function"&&n("none"),Promise.resolve("none")},r.prototype.run=function(n){n===void 0&&(n=""),this.openApp(n)},r.prototype.checkAppIsInstalled=function(n){return typeof n=="function"&&n(!0),Promise.resolve(!0)},r.prototype.openApp=function(n){return n===void 0&&(n=""),window.location.href=n||this.data.openUrl||"",Promise.resolve(!0)},r.prototype.download=function(){console.log("not nedd download")},r}(eventemitter3_1$6.EventEmitter);tadchid.default=TadChidAppDownloader;var qqnews={},rAF={};Object.defineProperty(rAF,"__esModule",{value:!0});rAF.createCbName=void 0;var createCbName=function(t){return t===void 0&&(t="cb"),"".concat(t,"_").concat(Math.random().toString(36).slice(2))};rAF.createCbName=createCbName;var __extends$t=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(s[h]=o[h])},t(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(r,n);function s(){this.constructor=r}r.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),__assign$8=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return __assign$8=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},__assign$8.apply(this,arguments)},__awaiter$5=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(t,r,n,s){function o(h){return h instanceof n?h:new n(function(l){l(h)})}return new(n||(n=Promise))(function(h,l){function c(g){try{v(s.next(g))}catch(m){l(m)}}function d(g){try{v(s.throw(g))}catch(m){l(m)}}function v(g){g.done?h(g.value):o(g.value).then(c,d)}v((s=s.apply(t,r||[])).next())})},__generator$5=commonjsGlobal$1&&commonjsGlobal$1.__generator||function(t,r){var n={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},s,o,h,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(v){return function(g){return d([v,g])}}function d(v){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(h=v[0]&2?o.return:v[0]?o.throw||((h=o.return)&&h.call(o),0):o.next)&&!(h=h.call(o,v[1])).done)return h;switch(o=0,h&&(v=[v[0]&2,h.value]),v[0]){case 0:case 1:h=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,o=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(h=n.trys,!(h=h.length>0&&h[h.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!h||v[1]>h[0]&&v[1]<h[3])){n.label=v[1];break}if(v[0]===6&&n.label<h[1]){n.label=h[1],h=v;break}if(h&&n.label<h[2]){n.label=h[2],n.ops.push(v);break}h[2]&&n.ops.pop(),n.trys.pop();continue}v=r.call(t,n)}catch(g){v=[6,g],o=0}finally{s=h=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(qqnews,"__esModule",{value:!0});var eventemitter3_1$5=eventemitter3$2.exports,rAF_1=rAF,gh_qqnews_utils_1$5=dist,os=(0,gh_qqnews_utils_1$5.getSystemInfo)(),QQNewsAppDownloader=function(t){__extends$t(r,t);function r(n){var s=t.call(this)||this;return s.isReady=!1,s.data={openUrl:"qqnews://article_9527",packageName:"com.tencent.news",downloadUrl:"",wxAppId:"",appleStoreId:"",appName:"App",downLogo:""},s.data=__assign$8(__assign$8({},s.data),n),s}return r.prototype.ready=function(){var n=this;return this.isReady?Promise.resolve(!0):window.TencentNews?(this.isReady=!0,Promise.resolve(!0)):os.android?new Promise(function(s,o){(0,gh_qqnews_utils_1$5.loadScript)("https://mat1.gtimg.com/www/js/newsapp/jsapi/news.js?_tsid=1",{iframe:window.top!==window.self}).then(function(){n.isReady=!0,s(!0)}).catch(o)}):new Promise(function(s,o){var h=15,l=setInterval(function(){h-=1,h<=0?(clearInterval(l),o(new Error("get TencentNews error"))):window.TencentNews&&window.jsBridge&&(clearInterval(l),n.isReady=!0,s(window.TencentNews))},300);document.addEventListener("TencentNewsJSInjectionComplete",function(){clearInterval(l),n.isReady=!0,s(!0)})})},r.prototype.getNetworkType=function(n){return __awaiter$5(this,void 0,void 0,function(){var s,o;return __generator$5(this,function(h){switch(h.label){case 0:return[4,this.ready()];case 1:return h.sent(),s=(0,rAF_1.createCbName)("networkCallback"),o={0:"none",1:"wifi",2:"wwan",3:"wwan"},[2,new Promise(function(l){window[s]=function(c){typeof n=="function"&&n(o[c]),l(o[c]),delete window[s]},(0,gh_qqnews_utils_1$5.getSystemInfo)().android?window.TencentNews.getNetworkStatus(s):window.TencentNews.getNetworkStatus(window[s])})]}})})},r.prototype.run=function(n){var s=this;n===void 0&&(n="");var o=n||this.data.openUrl||"";o.indexOf("http://")===0||o.indexOf("https://")===0||(0,gh_qqnews_utils_1$5.getBrowserInfo)().name==="qqnews"&&o.indexOf("qqnews://")===0||(0,gh_qqnews_utils_1$5.getBrowserInfo)().name==="qqnewslite"&&o.indexOf("qqnewslite://")===0?this.openApp(o):this.checkAppIsInstalled(function(h){if(h)s.openApp(n);else{s.openApp(n);var l=new Date().valueOf();setTimeout(function(){var c=new Date().valueOf();new gh_qqnews_utils_1$5.PageVisibility().isShow()&&1560>c-l&&s.download()},1500)}})},r.prototype.checkAppIsInstalled=function(n){return __awaiter$5(this,void 0,void 0,function(){var s=this;return __generator$5(this,function(o){switch(o.label){case 0:return[4,this.ready()];case 1:return o.sent(),[2,new Promise(function(h){var l=os.android?s.data.packageName:s.data.openUrl,c=(0,rAF_1.createCbName)();window[c]=function(d,v){var g=!!(os.android?d:v);typeof n=="function"&&n(g),h(g)},os.android?window.TencentNews.checkCanOpenNativeUrl(l,c):window.TencentNews.checkCanOpenNativeUrl(l,window[c])})]}})})},r.prototype.openApp=function(n){return n===void 0&&(n=""),__awaiter$5(this,void 0,void 0,function(){var s;return __generator$5(this,function(o){switch(o.label){case 0:return s=n||this.data.openUrl||"",s.indexOf("http://")===0||s.indexOf("https://")===0||(0,gh_qqnews_utils_1$5.getBrowserInfo)().name==="qqnews"&&s.indexOf("qqnews://")===0||(0,gh_qqnews_utils_1$5.getBrowserInfo)().name==="qqnewslite"&&s.indexOf("qqnewslite://")===0?(window.location.href=s,[2,!0]):[4,this.ready()];case 1:return o.sent(),os.android?window.TencentNews.openApp(s,this.data.packageName):window.TencentNews.openNativeUrl(s,null,null),[2,!0]}})})},r.prototype.download=function(){return __awaiter$5(this,void 0,void 0,function(){return __generator$5(this,function(n){switch(n.label){case 0:return[4,this.ready()];case 1:return n.sent(),os.android?window.TencentNews.downloadApp(this.data.downloadUrl,this.data.packageName,this.data.appName):window.location.href="http://itunes.apple.com/cn/app/id".concat(this.data.appleStoreId),[2]}})})},r}(eventemitter3_1$5.EventEmitter);qqnews.default=QQNewsAppDownloader;var qqvideo={},__extends$s=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(s[h]=o[h])},t(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(r,n);function s(){this.constructor=r}r.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),__assign$7=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return __assign$7=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},__assign$7.apply(this,arguments)},__awaiter$4=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(t,r,n,s){function o(h){return h instanceof n?h:new n(function(l){l(h)})}return new(n||(n=Promise))(function(h,l){function c(g){try{v(s.next(g))}catch(m){l(m)}}function d(g){try{v(s.throw(g))}catch(m){l(m)}}function v(g){g.done?h(g.value):o(g.value).then(c,d)}v((s=s.apply(t,r||[])).next())})},__generator$4=commonjsGlobal$1&&commonjsGlobal$1.__generator||function(t,r){var n={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},s,o,h,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(v){return function(g){return d([v,g])}}function d(v){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(h=v[0]&2?o.return:v[0]?o.throw||((h=o.return)&&h.call(o),0):o.next)&&!(h=h.call(o,v[1])).done)return h;switch(o=0,h&&(v=[v[0]&2,h.value]),v[0]){case 0:case 1:h=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,o=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(h=n.trys,!(h=h.length>0&&h[h.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!h||v[1]>h[0]&&v[1]<h[3])){n.label=v[1];break}if(v[0]===6&&n.label<h[1]){n.label=h[1],h=v;break}if(h&&n.label<h[2]){n.label=h[2],n.ops.push(v);break}h[2]&&n.ops.pop(),n.trys.pop();continue}v=r.call(t,n)}catch(g){v=[6,g],o=0}finally{s=h=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(qqvideo,"__esModule",{value:!0});var eventemitter3_1$4=eventemitter3$2.exports,DownloadListener_1$1=DownloadListener,QQVideoAppDownloader=function(t){__extends$s(r,t);function r(n){var s=t.call(this)||this;return s.isReady=!1,s.data={openUrl:"qqnews://article_9527",packageName:"com.tencent.news",downloadUrl:"",wxAppId:"",appleStoreId:"",appName:"App",downLogo:""},s.data=__assign$7(__assign$7({},s.data),n),s}return r.prototype.ready=function(){var n=this;return typeof window.TenvideoJSBridge!="undefined"||this.isReady?Promise.resolve(window.TenvideoJSBridge):new Promise(function(s){window.TenVideoReadyCallback=function(){n.isReady=!0,s(window.TenvideoJSBridge),delete window.TenVideoReadyCallback},document.addEventListener("onTenvideoJSBridgeReady",window.TenVideoReadyCallback,!1)})},r.prototype.getNetworkType=function(n){return __awaiter$4(this,void 0,void 0,function(){var s;return __generator$4(this,function(o){switch(o.label){case 0:return[4,this.ready()];case 1:return o.sent(),s={0:"none",1:"wifi",2:"wwan",3:"wwan",4:"wwan",5:"wwan"},[2,new Promise(function(h){window.TenvideoJSBridge.invoke("getNetworkState",null,function(l){var c=JSON.parse(l).result.state;typeof n=="function"&&n(s[c]),h(s[c])})})]}})})},r.prototype.run=function(n){var s=this;n===void 0&&(n=""),this.checkAppIsInstalled(function(o){o?s.openApp(n):s.download()})},r.prototype.checkAppIsInstalled=function(n){return __awaiter$4(this,void 0,void 0,function(){var s=this;return __generator$4(this,function(o){switch(o.label){case 0:return[4,this.ready()];case 1:return o.sent(),[2,new Promise(function(h){window.TenvideoJSBridge.invoke("isInstalled",{pkgName:s.data.packageName,pkgUrl:s.data.openUrl},function(l){var c=JSON.parse(l),d=c.errCode,v=c.result.installed,g=String(d)==="0"?!!v:!1;typeof n=="function"&&n(g),h(g),String(d)!=="0"&&console.error("QQVideoAppDownloader.checkAppInstall get error: ".concat(d))})})]}})})},r.prototype.openApp=function(n){n===void 0&&(n="");var s=n||this.data.openUrl||"";if(s)window.location.href=s;else throw new TypeError("QQVideoAppDownloader.openApp: openUrl is needed");return Promise.resolve(!0)},r.prototype.download=function(){return __awaiter$4(this,void 0,void 0,function(){var n,s,o,h,l,c,d;return __generator$4(this,function(v){switch(v.label){case 0:return[4,this.ready()];case 1:return v.sent(),n=this.data,s=n.openUrl,o=n.downloadUrl,h=n.packageName,l=n.downLogo,c=n.appName,d=n.appleStoreId,window.TenvideoJSBridge.invoke("download3rdApp",{downloadUrl:o,packageName:h,iconUrl:l,appName:c,itunesUrl:"http://itunes.apple.com/cn/app/id".concat(d),packageUrl:s}),[2]}})})},r.prototype.addDownloadLister=function(){var n=this;window.TenvideoJSBridge.on("onDownloadTaskStateChanged",function(s){var o=s.state;switch(o){case 10:{n.emit(DownloadListener_1$1.DOWNLOADER.INSTALLSUCCESS);break}case 11:case 12:{n.emit(DownloadListener_1$1.DOWNLOADER.DOWNLOADSTART);break}case 13:{n.emit(DownloadListener_1$1.DOWNLOADER.DOWNLOADING);break}case 17:{n.emit(DownloadListener_1$1.DOWNLOADER.ERROR);break}}}),window.TenvideoJSBridge.on("onDownloadTaskProgressChanged",function(s){var o=s.progress;n.emit(DownloadListener_1$1.DOWNLOADER.DOWNLOADSTEPS,o)})},r}(eventemitter3_1$4.EventEmitter);qqvideo.default=QQVideoAppDownloader;var qqmusic={},__extends$r=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(s[h]=o[h])},t(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(r,n);function s(){this.constructor=r}r.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),__assign$6=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return __assign$6=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},__assign$6.apply(this,arguments)},__awaiter$3=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(t,r,n,s){function o(h){return h instanceof n?h:new n(function(l){l(h)})}return new(n||(n=Promise))(function(h,l){function c(g){try{v(s.next(g))}catch(m){l(m)}}function d(g){try{v(s.throw(g))}catch(m){l(m)}}function v(g){g.done?h(g.value):o(g.value).then(c,d)}v((s=s.apply(t,r||[])).next())})},__generator$3=commonjsGlobal$1&&commonjsGlobal$1.__generator||function(t,r){var n={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},s,o,h,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(v){return function(g){return d([v,g])}}function d(v){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(h=v[0]&2?o.return:v[0]?o.throw||((h=o.return)&&h.call(o),0):o.next)&&!(h=h.call(o,v[1])).done)return h;switch(o=0,h&&(v=[v[0]&2,h.value]),v[0]){case 0:case 1:h=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,o=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(h=n.trys,!(h=h.length>0&&h[h.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!h||v[1]>h[0]&&v[1]<h[3])){n.label=v[1];break}if(v[0]===6&&n.label<h[1]){n.label=h[1],h=v;break}if(h&&n.label<h[2]){n.label=h[2],n.ops.push(v);break}h[2]&&n.ops.pop(),n.trys.pop();continue}v=r.call(t,n)}catch(g){v=[6,g],o=0}finally{s=h=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(qqmusic,"__esModule",{value:!0});var eventemitter3_1$3=eventemitter3$2.exports,DownloadListener_1=DownloadListener,gh_qqnews_utils_1$4=dist,QQMusicAppDownloader=function(t){__extends$r(r,t);function r(n){var s=t.call(this)||this;return s.isReady=!1,s.data={openUrl:"qqnews://article_9527",packageName:"com.tencent.news",downloadUrl:"",wxAppId:"",appleStoreId:"",appName:"App",downLogo:""},s.data=__assign$6(__assign$6({},s.data),n),s}return r.prototype.ready=function(){var n=this;return typeof window.M!="undefined"||this.isReady?Promise.resolve(window.M):new Promise(function(s){window.TenMusicReadyCallback=function(){n.isReady=!0,s(window.TenMusicReadyCallback),delete window.TenMusicReadyCallback},document.addEventListener("WebViewJavascriptBridgeReady",window.TenMusicReadyCallback,!1)})},r.prototype.run=function(n){var s=this;n===void 0&&(n=""),(0,gh_qqnews_utils_1$4.getSystemInfo)().android?this.checkAppIsInstalled(function(o){o?s.openApp(n):s.download()}):this.openApp(n).catch(function(){s.download()})},r.prototype.getNetworkType=function(n){return __awaiter$3(this,void 0,void 0,function(){var s;return __generator$3(this,function(o){switch(o.label){case 0:return[4,this.ready()];case 1:return o.sent(),s={unknown:"none",none:"none",wifi:"wifi","2G":"wwan","3G":"wwan","4G":"wwan","5G":"wwan"},[2,new Promise(function(h){window.M.client.invoke("device","getNetworkType",{},function(l){var c=l.code,d=l.data.type;if(c===0)typeof n=="function"&&n(s[d]),h(s[d]);else throw new Error("QQMusicAppDownloader.getNetworkType error: ".concat(c))})})]}})})},r.prototype.checkAppIsInstalled=function(n){return __awaiter$3(this,void 0,void 0,function(){var s=this;return __generator$3(this,function(o){switch(o.label){case 0:return[4,this.ready()];case 1:return o.sent(),[2,new Promise(function(h){window.M.client.invoke("app","isInstalled",{android:[s.data.packageName],ios:[s.data.openUrl]},function(l){var c=l.code,d=l.data.installed,v=Number(c)===0&&d.length>0?Number(d[0])===1:!1;typeof n=="function"&&n(v),h(v),Number(c)!==0&&console.error("QQMusicAppDownloader.checkAppInstall get error: ".concat(c))})})]}})})},r.prototype.openApp=function(n){return n===void 0&&(n=""),__awaiter$3(this,void 0,void 0,function(){var s;return __generator$3(this,function(o){switch(o.label){case 0:return s=n||this.data.openUrl||"",(0,gh_qqnews_utils_1$4.getSystemInfo)().android?(window.location.href=s,[2,Promise.resolve(!0)]):[4,this.ready()];case 1:return o.sent(),[2,new Promise(function(h,l){window.M.client.invoke("ui","openUrl",{url:s,target:"app",type:"default"},function(c){var d=c.code;d===0?h(!0):d===1&&l(new Error("QQMusicAppDownloader.openApp error: ".concat(d)))})})]}})})},r.prototype.downloadApp=function(n){var s=this;return new Promise(function(o){window.M.client.invoke("app","downloadApp",{appid:s.data.appleStoreId,url:s.data.downloadUrl,packageName:s.data.packageName,actionCode:n,appName:s.data.appName},function(h){var l=h.code;o(l)})})},r.prototype.download=function(){return __awaiter$3(this,void 0,void 0,function(){var n,s;return __generator$3(this,function(o){switch(o.label){case 0:return[4,this.ready()];case 1:o.sent(),(0,gh_qqnews_utils_1$4.getSystemInfo)().android&&this.addDownloadLister(),o.label=2;case 2:return o.trys.push([2,4,,5]),[4,this.downloadApp("0")];case 3:return n=o.sent(),n===0&&this.downloadApp("1"),[3,5];case 4:return s=o.sent(),[2,Promise.reject(s)];case 5:return[2]}})})},r.prototype.addDownloadLister=function(){var n=this;window.M.client.invoke("app","downloadAppState",{action:1},function(s){var o=s.code,h=s.data,l=h.state,c=h.progress;if(o===0)l&&(n.emit(DownloadListener_1.DOWNLOADER.DOWNLOADING),n.emit(DownloadListener_1.DOWNLOADER.DOWNLOADSTEPS,c));else throw new Error("QQMusicAppDownloader.addDownloadLister error: ".concat(o))})},r}(eventemitter3_1$3.EventEmitter);qqmusic.default=QQMusicAppDownloader;var browser={},checkOpenedTime$1={};Object.defineProperty(checkOpenedTime$1,"__esModule",{value:!0});var gh_qqnews_utils_1$3=dist,checkOpenedTime=function(){var t=new gh_qqnews_utils_1$3.PageVisibility,r=2210,n=!1;return new Promise(function(s){var o=new Date().getTime(),h=setTimeout(function(){if(n)return s(!1);s(new Date().getTime()-o<r+80&&t.isShow())},r),l=function(){clearTimeout(h),n=!0,s(!1)};t.visibilityChange(function(c){c||l()}),window.removeEventListener("pagehide",l),window.addEventListener("pagehide",l)})};checkOpenedTime$1.default=checkOpenedTime;var __extends$q=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(s[h]=o[h])},t(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(r,n);function s(){this.constructor=r}r.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),__assign$5=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return __assign$5=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},__assign$5.apply(this,arguments)};Object.defineProperty(browser,"__esModule",{value:!0});var eventemitter3_1$2=eventemitter3$2.exports,gh_qqnews_utils_1$2=dist,checkOpenedTime_1$1=checkOpenedTime$1,BrowserAppDownloader=function(t){__extends$q(r,t);function r(n){var s=t.call(this)||this;return s.data={openUrl:"qqnews://article_9500",packageName:"com.tencent.news",downloadUrl:"",wxAppId:"",appleStoreId:"",appName:"App",downLogo:""},s.data=__assign$5(__assign$5({},s.data),n),s}return r.prototype.run=function(n){var s=this;n===void 0&&(n=""),this.openApp(n),(0,checkOpenedTime_1$1.default)().then(function(o){o&&s.download()})},r.prototype.getNetworkType=function(n){return typeof n=="function"&&n("none"),Promise.resolve("none")},r.prototype.checkAppIsInstalled=function(n){return new Promise(function(s){var o=!1;typeof n=="function"&&n(o),s(o)})},r.prototype.openApp=function(n){n===void 0&&(n="");var s=n||this.data.openUrl||"";if(!s)throw new TypeError("BrowserDownloader.openApp: openUrl is needed");if((0,gh_qqnews_utils_1$2.getSystemInfo)().android){var o=document.createElement("iframe");o.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;",o.src=s,document.body.appendChild(o)}else window.location.href=s;return Promise.resolve(!0)},r.prototype.download=function(){(0,gh_qqnews_utils_1$2.getSystemInfo)().android?window.location.href=this.data.downloadUrl||"":window.location.href="http://itunes.apple.com/cn/app/id".concat(this.data.appleStoreId)},r}(eventemitter3_1$2.EventEmitter);browser.default=BrowserAppDownloader;var isClient$1={};Object.defineProperty(isClient$1,"__esModule",{value:!0});var isClient=function(){return typeof window!="undefined"};isClient$1.default=isClient;var wxwork={},createDownGuide$1={};Object.defineProperty(createDownGuide$1,"__esModule",{value:!0});var guideStyle=`
#tencent-downapp-guide{background-color: rgba(0, 0, 0, 0.6);backdrop-filter:blur(8px);position: fixed; top:0;left: 0; width: 100%; height: 100%;z-index: 199;}
#tencent-downapp-guide > div {position: absolute;top: 5px;right: 22px;}
#tencent-downapp-guide img {width:266px;}`,createDownGuide=function(){var t="tencent-downapp-guide",r=document.getElementById(t);if(r){r.style.display="block";return}var n=document.createElement("div"),s=document.createElement("div"),o=document.createElement("style");o.id="".concat(t,"-style"),o.innerHTML=guideStyle,s.innerHTML='<img src="https://mat1.gtimg.com/qqcdn/tupload/1652759144335.png" />',n.appendChild(s),n.id=t,document.head.appendChild(o),document.body.appendChild(n);var h=document.getElementById(t);h&&h.addEventListener("click",function(){h.style.display="none"})};createDownGuide$1.default=createDownGuide;var __extends$p=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(s[h]=o[h])},t(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(r,n);function s(){this.constructor=r}r.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),__assign$4=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return __assign$4=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},__assign$4.apply(this,arguments)};Object.defineProperty(wxwork,"__esModule",{value:!0});var eventemitter3_1$1=eventemitter3$2.exports,gh_qqnews_utils_1$1=dist,create_down_guide_1$2=createDownGuide$1,checkOpenedTime_1=checkOpenedTime$1,WXWorkAppDownloader=function(t){__extends$p(r,t);function r(n){var s=t.call(this)||this;return s.data={openUrl:"qqnews://article_9527",packageName:"com.tencent.news",downloadUrl:"",wxAppId:"",appleStoreId:"",appName:"App",downLogo:""},s.data=__assign$4(__assign$4({},s.data),n),s}return r.prototype.run=function(n){var s=this;n===void 0&&(n=""),this.openApp(n),(0,checkOpenedTime_1.default)().then(function(o){o&&s.download()})},r.prototype.getNetworkType=function(n){return typeof n=="function"&&n("none"),Promise.resolve("none")},r.prototype.checkAppIsInstalled=function(n){return new Promise(function(s){var o=!1;typeof n=="function"&&n(o),s(o)})},r.prototype.openApp=function(n){n===void 0&&(n="");var s=n||this.data.openUrl||"";return window.location.href=s,Promise.resolve(!0)},r.prototype.download=function(){(0,gh_qqnews_utils_1$1.getSystemInfo)().android?window.location.href=this.data.downloadUrl||"":(0,create_down_guide_1$2.default)()},r}(eventemitter3_1$1.EventEmitter);wxwork.default=WXWorkAppDownloader;var weibo={},__extends$o=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,o){s.__proto__=o}||function(s,o){for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(s[h]=o[h])},t(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(r,n);function s(){this.constructor=r}r.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),__assign$3=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return __assign$3=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},__assign$3.apply(this,arguments)};Object.defineProperty(weibo,"__esModule",{value:!0});var eventemitter3_1=eventemitter3$2.exports,create_down_guide_1$1=createDownGuide$1,WeiboAppDownloader=function(t){__extends$o(r,t);function r(n){var s=t.call(this)||this;return s.data={openUrl:"qqnews://article_9500",packageName:"com.tencent.news",downloadUrl:"",wxAppId:"",appleStoreId:"",appName:"App",downLogo:""},s.data=__assign$3(__assign$3({},s.data),n),s}return r.prototype.run=function(){(0,create_down_guide_1$1.default)()},r.prototype.getNetworkType=function(n){return typeof n=="function"&&n("none"),Promise.resolve("none")},r.prototype.checkAppIsInstalled=function(n){return new Promise(function(s){var o=!1;typeof n=="function"&&n(o),s(o)})},r.prototype.openApp=function(){(0,create_down_guide_1$1.default)()},r.prototype.download=function(){(0,create_down_guide_1$1.default)()},r}(eventemitter3_1.EventEmitter);weibo.default=WeiboAppDownloader;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.downloadParams=t.getDefaultDownloader=void 0;var r=dist,n=weixin,s=qq,o=tadchid,h=qqnews,l=qqvideo,c=qqmusic,d=browser,v=isClient$1,g=wxwork,m=weibo,_=function(){if(!v.default)return null;var B=(0,r.getBrowserInfo)();switch(B.name){case"weixin":return n.default;case"qq":return s.default;case"tadchid":return o.default;case"qqnews":case"qqnewslite":return h.default;case"tenvideo":return l.default;case"qqmusic":return c.default;case"wxwork":return g.default;case"weibo":return m.default;default:return d.default}};t.getDefaultDownloader=_,t.downloadParams={openUrl:"qqnews://article_9500",packageName:"com.tencent.news",downloadUrl:"https://dldir1v6.qq.com/dlomg/inews/TencentNews_14035.apk",wxAppId:"wx073f4a4daff0abe8",appleStoreId:"399363156",appName:"\u817E\u8BAF\u65B0\u95FB--\u767E\u4E07\u73B0\u91D1\u7EA2\u5305\u6D3E\u53D1\u4E2D...",downLogo:"https://mat1.gtimg.com/qqcdn/tupload/1638432859238.png",developer:"\u817E\u8BAF\u79D1\u6280(\u5317\u4EAC)\u6709\u9650\u516C\u53F8",appVersion:"",privacyUrl:"https://privacy.qq.com/document/priview/4bd0bd84be654afe8c1a545ea9b64ec8",permissionUrl:"https://dldir1.qq.com/weixin/android/wechat_webview_download_appinfo_new.html?fun=permission&package=com.tencent.news"};var y={Downloader:(0,t.getDefaultDownloader)(),params:t.downloadParams};t.default=y})(defaults);var isQQHost$1={};Object.defineProperty(isQQHost$1,"__esModule",{value:!0});var isClient_1=isClient$1,isQQHost=function(t){t===void 0&&(t="");var r=!t&&(0,isClient_1.default)()?window.location.hostname:t;return/\.qq\.com$/.test(r)};isQQHost$1.default=isQQHost;var showAppInfo$1={},__awaiter$2=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(t,r,n,s){function o(h){return h instanceof n?h:new n(function(l){l(h)})}return new(n||(n=Promise))(function(h,l){function c(g){try{v(s.next(g))}catch(m){l(m)}}function d(g){try{v(s.throw(g))}catch(m){l(m)}}function v(g){g.done?h(g.value):o(g.value).then(c,d)}v((s=s.apply(t,r||[])).next())})},__generator$2=commonjsGlobal$1&&commonjsGlobal$1.__generator||function(t,r){var n={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},s,o,h,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(v){return function(g){return d([v,g])}}function d(v){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(h=v[0]&2?o.return:v[0]?o.throw||((h=o.return)&&h.call(o),0):o.next)&&!(h=h.call(o,v[1])).done)return h;switch(o=0,h&&(v=[v[0]&2,h.value]),v[0]){case 0:case 1:h=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,o=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(h=n.trys,!(h=h.length>0&&h[h.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!h||v[1]>h[0]&&v[1]<h[3])){n.label=v[1];break}if(v[0]===6&&n.label<h[1]){n.label=h[1],h=v;break}if(h&&n.label<h[2]){n.label=h[2],n.ops.push(v);break}h[2]&&n.ops.pop(),n.trys.pop();continue}v=r.call(t,n)}catch(g){v=[6,g],o=0}finally{s=h=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(showAppInfo$1,"__esModule",{value:!0});var gh_qqnews_utils_1=dist,request_1=request$1,getAppConfig=function(t){return __awaiter$2(void 0,void 0,void 0,function(){var r,n,s,o,h,l,c;return __generator$2(this,function(d){switch(d.label){case 0:if(t||!(0,gh_qqnews_utils_1.isAndroid)())return[2,t!=null?t:null];if(r="ghh5.showappinfo",typeof((l=window==null?void 0:window.sessionStorage)===null||l===void 0?void 0:l.getItem)=="function"&&(n=window.sessionStorage.getItem(r),n))try{return[2,JSON.parse(n)]}catch(v){}return s="https://api.prize.qq.com/v1/newsapp/answer/other/config?actname=download_app_info",[4,(0,request_1.default)(s)];case 1:return o=d.sent(),o.code===0?(h=o.data.data.peizhi.app_info,typeof((c=window==null?void 0:window.sessionStorage)===null||c===void 0?void 0:c.setItem)=="function"&&window.sessionStorage.setItem(r,JSON.stringify(h)),[2,h]):[2,null]}})})},renderHtml=function(t,r){var n=`<div class="btn-c">
    <div class="btn">`.concat(t,`</div>
  </div>`);return(0,gh_qqnews_utils_1.isAndroid)()&&r&&(n+="<div>".concat(r.appname.txt,"&nbsp;").concat(r.ver.txt,`</div>
    <div>
      <p>\u5F00\u53D1\u8005\uFF1A`).concat(r.name.txt,`</p>
      <p>\u8FD0\u8425\u8005\uFF1A`).concat(r.name.txt,`</p>
    </div>
    <div>
      <a href="`).concat(r.yinsi.url,'">').concat(r.yinsi.txt,`</a>
      <span>|</span>
      <a href="`).concat(r.quanxian.url,'">').concat(r.quanxian.txt,`</a>
    </div>`)),n.replace(/>(\s*)</g,"><")},$=function(t,r){return r===void 0&&(r=document),r.querySelector(t)},getProps=function(t){return __awaiter$2(void 0,void 0,void 0,function(){var r,n,s,o,h,l,c,d,v,g,m,_;return __generator$2(this,function(y){switch(y.label){case 0:return r=t.container,n=t.color,s=t.btnText,o=t.config,h=t.onClick,l=t.onAfterClick,c=n!=null?n:"#03cebe",d=s!=null?s:"\u6253\u5F00\u817E\u8BAF\u65B0\u95FB",v=h!=null?h:function(){},g=l!=null?l:function(){},m=null,r?typeof r=="string"?(m=document.querySelector(r),m||(console.error("[@tencent/gh-qqnews-downapp] not found container `".concat(r,"`, show info in body insteadly")),m=document.body)):m=r:m=document.body,[4,getAppConfig(o)];case 1:return _=y.sent(),[2,{color:c,btnText:d,container:null,onClick:v,onAfterClick:g,root:m,config:_}]}})})},showAppInfo=function(t){return __awaiter$2(void 0,void 0,void 0,function(){var r,n,s,o,h,l,c,d,v,g,m,_,y;return __generator$2(this,function(B){switch(B.label){case 0:return $(".appInfo .btn")?[2]:[4,getProps(t)];case 1:return r=B.sent(),n=r.root,s=r.color,o=r.btnText,h=r.onClick,l=r.onAfterClick,c=r.config,$(".appInfo .btn")?[2]:(d=document.createElement("style"),v=document.createElement("div"),v.setAttribute("class","appInfo"),d.innerHTML=`.appInfo{ width: 100%;padding:10px 0;overflow: hidden;position:fixed;left: 0;bottom: 0;background: rgba(0, 0, 0, 0.6); box-sizing: border-box;font-size:11px;z-index:19;color:#fff;text-align:center;}
  .appInfo > div{overflow: hidden;margin: 0 auto;margin-bottom: 7px;}
  .appInfo p { margin: 0 }
  .appInfo span{color: #e0e0e0;margin: 0 10px;}
  .appInfo a{color: `.concat(s,`;text-decoration: none;}
  .appInfo .btn-c{padding: 0 10px;}
  .appInfo .btn{height: 44px;background: `).concat(s,";line-height: 44px;border-radius: 44px;color: #fff;width: 100%;font-size: 16px;text-align: center;}"),v.innerHTML=renderHtml(o,c),(_=$("head"))===null||_===void 0||_.appendChild(d),n.appendChild(v),n.style.paddingBottom="".concat(((y=$(".appInfo"))===null||y===void 0?void 0:y.offsetHeight)||0,"px"),g=$(".appInfo .btn"),g&&(m=function(){typeof h=="function"&&h(),typeof l=="function"&&l()},g.addEventListener("click",m,!1)),[2])}})})};showAppInfo$1.default=showAppInfo;var __assign$2=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return __assign$2=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},__assign$2.apply(this,arguments)},__awaiter$1=commonjsGlobal$1&&commonjsGlobal$1.__awaiter||function(t,r,n,s){function o(h){return h instanceof n?h:new n(function(l){l(h)})}return new(n||(n=Promise))(function(h,l){function c(g){try{v(s.next(g))}catch(m){l(m)}}function d(g){try{v(s.throw(g))}catch(m){l(m)}}function v(g){g.done?h(g.value):o(g.value).then(c,d)}v((s=s.apply(t,r||[])).next())})},__generator$1=commonjsGlobal$1&&commonjsGlobal$1.__generator||function(t,r){var n={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},s,o,h,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(v){return function(g){return d([v,g])}}function d(v){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(h=v[0]&2?o.return:v[0]?o.throw||((h=o.return)&&h.call(o),0):o.next)&&!(h=h.call(o,v[1])).done)return h;switch(o=0,h&&(v=[v[0]&2,h.value]),v[0]){case 0:case 1:h=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,o=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(h=n.trys,!(h=h.length>0&&h[h.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!h||v[1]>h[0]&&v[1]<h[3])){n.label=v[1];break}if(v[0]===6&&n.label<h[1]){n.label=h[1],h=v;break}if(h&&n.label<h[2]){n.label=h[2],n.ops.push(v);break}h[2]&&n.ops.pop(),n.trys.pop();continue}v=r.call(t,n)}catch(g){v=[6,g],o=0}finally{s=h=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}};Object.defineProperty(dist$1,"__esModule",{value:!0});var defaults_1=defaults,isQQHost_1=isQQHost$1,create_down_guide_1=createDownGuide$1,show_app_info_1=showAppInfo$1,AppDownload=function(){function t(r){this.ins=null,this.init(r)}return t.prototype.run=function(r){return this.ins.run(r)},t.prototype.on=function(r,n){return this.ins.on(r,n)},t.prototype.getNetworkType=function(r){return this.ins.getNetworkType(r)},t.prototype.checkAppIsInstalled=function(r){return this.ins.checkAppIsInstalled(r)},t.prototype.openApp=function(r){return this.ins.openApp(r)},t.prototype.download=function(){return this.ins.download()},t.prototype.showBrowserGuide=function(){(0,create_down_guide_1.default)()},t.prototype.showAppInfo=function(r){return __awaiter$1(this,void 0,void 0,function(){var n,s,o,h,l,c,d=this;return __generator$1(this,function(v){switch(v.label){case 0:return n=r!=null?r:{},s=n.btnText,o=n.onClick,h="",s?(h=s,[3,3]):[3,1];case 1:return[4,this.ins.checkAppIsInstalled()];case 2:l=v.sent(),h="".concat(l?"\u6253\u5F00":"\u4E0B\u8F7D","\u817E\u8BAF\u65B0\u95FB"),v.label=3;case 3:return c=function(){typeof o=="function"?o():d.run()},(0,show_app_info_1.default)(__assign$2(__assign$2({},r),{btnText:h,onClick:c})),[2]}})})},t.prototype.init=function(r){var n=defaults_1.default.Downloader;if(n){var s=r?Object.assign({},defaults_1.downloadParams,r):defaults_1.downloadParams;this.ins=new n(s)}(0,isQQHost_1.default)()||console.warn("AppDownload should be used in *.qq.com")},t}();dist$1.default=AppDownload;var lottie={exports:{}};(function(module,exports){typeof navigator!="undefined"&&function(t,r){module.exports=r()}(commonjsGlobal$1,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(r){_useWebWorker=!!r},getWebWorker=function(){return _useWebWorker},setLocationHref=function(r){locationHref=r},getLocationHref=function(){return locationHref};function createTag(t){return document.createElement(t)}function extendPrototype(t,r){var n,s=t.length,o;for(n=0;n<s;n+=1){o=t[n].prototype;for(var h in o)Object.prototype.hasOwnProperty.call(o,h)&&(r.prototype[h]=o[h])}}function getDescriptor(t,r){return Object.getOwnPropertyDescriptor(t,r)}function createProxyFunction(t){function r(){}return r.prototype=t,r}var audioControllerFactory=function(){function t(r){this.audios=[],this.audioFactory=r,this._volume=1,this._isMuted=!1}return t.prototype={addAudio:function(n){this.audios.push(n)},pause:function(){var n,s=this.audios.length;for(n=0;n<s;n+=1)this.audios[n].pause()},resume:function(){var n,s=this.audios.length;for(n=0;n<s;n+=1)this.audios[n].resume()},setRate:function(n){var s,o=this.audios.length;for(s=0;s<o;s+=1)this.audios[s].setRate(n)},createAudio:function(n){return this.audioFactory?this.audioFactory(n):window.Howl?new window.Howl({src:[n]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(n){this.audioFactory=n},setVolume:function(n){this._volume=n,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var n,s=this.audios.length;for(n=0;n<s;n+=1)this.audios[n].volume(this._volume*(this._isMuted?0:1))}},function(){return new t}}(),createTypedArray=function(){function t(n,s){var o=0,h=[],l;switch(n){case"int16":case"uint8c":l=1;break;default:l=1.1;break}for(o=0;o<s;o+=1)h.push(l);return h}function r(n,s){return n==="float32"?new Float32Array(s):n==="int16"?new Int16Array(s):n==="uint8c"?new Uint8ClampedArray(s):t(n,s)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?r:t}();function createSizedArray(t){return Array.apply(null,{length:t})}function _typeof$6(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(n){return typeof n}:_typeof$6=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$6(t)}var subframeEnabled=!0,expressionsPlugin=null,idPrefix="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r,n=t.length;for(r=0;r<n;r+=1)BMMath[t[r]]=Math[t[r]]})(),BMMath.random=Math.random,BMMath.abs=function(t){var r=_typeof$6(t);if(r==="object"&&t.length){var n=createSizedArray(t.length),s,o=t.length;for(s=0;s<o;s+=1)n[s]=Math.abs(t[s]);return n}return Math.abs(t)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(t){t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.display="block",t.style.transformOrigin="0 0",t.style.webkitTransformOrigin="0 0",t.style.backfaceVisibility="visible",t.style.webkitBackfaceVisibility="visible",t.style.transformStyle="preserve-3d",t.style.webkitTransformStyle="preserve-3d",t.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(t,r,n,s){this.type=t,this.currentTime=r,this.totalTime=n,this.direction=s<0?-1:1}function BMCompleteEvent(t,r){this.type=t,this.direction=r<0?-1:1}function BMCompleteLoopEvent(t,r,n,s){this.type=t,this.currentLoop=n,this.totalLoops=r,this.direction=s<0?-1:1}function BMSegmentStartEvent(t,r,n){this.type=t,this.firstFrame=r,this.totalFrames=n}function BMDestroyEvent(t,r){this.type=t,this.target=r}function BMRenderFrameErrorEvent(t,r){this.type="renderFrameError",this.nativeError=t,this.currentTime=r}function BMConfigErrorEvent(t){this.type="configError",this.nativeError=t}var createElementID=function(){var t=0;return function(){return t+=1,idPrefix+"__lottie_element_"+t}}();function HSVtoRGB(t,r,n){var s,o,h,l,c,d,v,g;switch(l=Math.floor(t*6),c=t*6-l,d=n*(1-r),v=n*(1-c*r),g=n*(1-(1-c)*r),l%6){case 0:s=n,o=g,h=d;break;case 1:s=v,o=n,h=d;break;case 2:s=d,o=n,h=g;break;case 3:s=d,o=v,h=n;break;case 4:s=g,o=d,h=n;break;case 5:s=n,o=d,h=v;break}return[s,o,h]}function RGBtoHSV(t,r,n){var s=Math.max(t,r,n),o=Math.min(t,r,n),h=s-o,l,c=s===0?0:h/s,d=s/255;switch(s){case o:l=0;break;case t:l=r-n+h*(r<n?6:0),l/=6*h;break;case r:l=n-t+h*2,l/=6*h;break;case n:l=t-r+h*4,l/=6*h;break}return[l,c,d]}function addSaturationToRGB(t,r){var n=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return n[1]+=r,n[1]>1?n[1]=1:n[1]<=0&&(n[1]=0),HSVtoRGB(n[0],n[1],n[2])}function addBrightnessToRGB(t,r){var n=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return n[2]+=r,n[2]>1?n[2]=1:n[2]<0&&(n[2]=0),HSVtoRGB(n[0],n[1],n[2])}function addHueToRGB(t,r){var n=RGBtoHSV(t[0]*255,t[1]*255,t[2]*255);return n[0]+=r/360,n[0]>1?n[0]-=1:n[0]<0&&(n[0]+=1),HSVtoRGB(n[0],n[1],n[2])}var rgbToHex=function(){var t=[],r,n;for(r=0;r<256;r+=1)n=r.toString(16),t[r]=n.length===1?"0"+n:n;return function(s,o,h){return s<0&&(s=0),o<0&&(o=0),h<0&&(h=0),"#"+t[s]+t[o]+t[h]}}(),setSubframeEnabled=function(r){subframeEnabled=!!r},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(r){expressionsPlugin=r},getExpressionsPlugin=function(){return expressionsPlugin},setDefaultCurveSegments=function(r){defaultCurveSegments=r},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(r){idPrefix=r};function createNS(t){return document.createElementNS(svgNS,t)}function _typeof$5(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(n){return typeof n}:_typeof$5=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$5(t)}var dataManager=function(){var t=1,r=[],n,s,o={onmessage:function(){},postMessage:function(y){n({data:y})}},h={postMessage:function(y){o.onmessage({data:y})}};function l(_){if(window.Worker&&window.Blob&&getWebWorker()){var y=new Blob(["var _workerSelf = self; self.onmessage = ",_.toString()],{type:"text/javascript"}),B=URL.createObjectURL(y);return new Worker(B)}return n=_,o}function c(){s||(s=l(function(y){function B(){function C(W,k){var Q,D,K=W.length,X,j,ie,ae;for(D=0;D<K;D+=1)if(Q=W[D],"ks"in Q&&!Q.completed){if(Q.completed=!0,Q.tt&&(W[D-1].td=Q.tt),Q.hasMask){var oe=Q.masksProperties;for(j=oe.length,X=0;X<j;X+=1)if(oe[X].pt.k.i)O(oe[X].pt.k);else for(ae=oe[X].pt.k.length,ie=0;ie<ae;ie+=1)oe[X].pt.k[ie].s&&O(oe[X].pt.k[ie].s[0]),oe[X].pt.k[ie].e&&O(oe[X].pt.k[ie].e[0])}Q.ty===0?(Q.layers=S(Q.refId,k),C(Q.layers,k)):Q.ty===4?R(Q.shapes):Q.ty===5&&te(Q)}}function b(W,k){if(W){var Q=0,D=W.length;for(Q=0;Q<D;Q+=1)W[Q].t===1&&(W[Q].data.layers=S(W[Q].data.refId,k),C(W[Q].data.layers,k))}}function I(W,k){for(var Q=0,D=k.length;Q<D;){if(k[Q].id===W)return k[Q];Q+=1}return null}function S(W,k){var Q=I(W,k);return Q?Q.layers.__used?JSON.parse(JSON.stringify(Q.layers)):(Q.layers.__used=!0,Q.layers):null}function R(W){var k,Q=W.length,D,K;for(k=Q-1;k>=0;k-=1)if(W[k].ty==="sh")if(W[k].ks.k.i)O(W[k].ks.k);else for(K=W[k].ks.k.length,D=0;D<K;D+=1)W[k].ks.k[D].s&&O(W[k].ks.k[D].s[0]),W[k].ks.k[D].e&&O(W[k].ks.k[D].e[0]);else W[k].ty==="gr"&&R(W[k].it)}function O(W){var k,Q=W.i.length;for(k=0;k<Q;k+=1)W.i[k][0]+=W.v[k][0],W.i[k][1]+=W.v[k][1],W.o[k][0]+=W.v[k][0],W.o[k][1]+=W.v[k][1]}function P(W,k){var Q=k?k.split("."):[100,100,100];return W[0]>Q[0]?!0:Q[0]>W[0]?!1:W[1]>Q[1]?!0:Q[1]>W[1]?!1:W[2]>Q[2]?!0:Q[2]>W[2]?!1:null}var N=function(){var W=[4,4,14];function k(D){var K=D.t.d;D.t.d={k:[{s:K,t:0}]}}function Q(D){var K,X=D.length;for(K=0;K<X;K+=1)D[K].ty===5&&k(D[K])}return function(D){if(P(W,D.v)&&(Q(D.layers),D.assets)){var K,X=D.assets.length;for(K=0;K<X;K+=1)D.assets[K].layers&&Q(D.assets[K].layers)}}}(),M=function(){var W=[4,7,99];return function(k){if(k.chars&&!P(W,k.v)){var Q,D=k.chars.length;for(Q=0;Q<D;Q+=1){var K=k.chars[Q];K.data&&K.data.shapes&&(R(K.data.shapes),K.data.ip=0,K.data.op=99999,K.data.st=0,K.data.sr=1,K.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},k.chars[Q].t||(K.data.shapes.push({ty:"no"}),K.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),H=function(){var W=[5,7,15];function k(D){var K=D.t.p;typeof K.a=="number"&&(K.a={a:0,k:K.a}),typeof K.p=="number"&&(K.p={a:0,k:K.p}),typeof K.r=="number"&&(K.r={a:0,k:K.r})}function Q(D){var K,X=D.length;for(K=0;K<X;K+=1)D[K].ty===5&&k(D[K])}return function(D){if(P(W,D.v)&&(Q(D.layers),D.assets)){var K,X=D.assets.length;for(K=0;K<X;K+=1)D.assets[K].layers&&Q(D.assets[K].layers)}}}(),Y=function(){var W=[4,1,9];function k(D){var K,X=D.length,j,ie;for(K=0;K<X;K+=1)if(D[K].ty==="gr")k(D[K].it);else if(D[K].ty==="fl"||D[K].ty==="st")if(D[K].c.k&&D[K].c.k[0].i)for(ie=D[K].c.k.length,j=0;j<ie;j+=1)D[K].c.k[j].s&&(D[K].c.k[j].s[0]/=255,D[K].c.k[j].s[1]/=255,D[K].c.k[j].s[2]/=255,D[K].c.k[j].s[3]/=255),D[K].c.k[j].e&&(D[K].c.k[j].e[0]/=255,D[K].c.k[j].e[1]/=255,D[K].c.k[j].e[2]/=255,D[K].c.k[j].e[3]/=255);else D[K].c.k[0]/=255,D[K].c.k[1]/=255,D[K].c.k[2]/=255,D[K].c.k[3]/=255}function Q(D){var K,X=D.length;for(K=0;K<X;K+=1)D[K].ty===4&&k(D[K].shapes)}return function(D){if(P(W,D.v)&&(Q(D.layers),D.assets)){var K,X=D.assets.length;for(K=0;K<X;K+=1)D.assets[K].layers&&Q(D.assets[K].layers)}}}(),J=function(){var W=[4,4,18];function k(D){var K,X=D.length,j,ie;for(K=X-1;K>=0;K-=1)if(D[K].ty==="sh")if(D[K].ks.k.i)D[K].ks.k.c=D[K].closed;else for(ie=D[K].ks.k.length,j=0;j<ie;j+=1)D[K].ks.k[j].s&&(D[K].ks.k[j].s[0].c=D[K].closed),D[K].ks.k[j].e&&(D[K].ks.k[j].e[0].c=D[K].closed);else D[K].ty==="gr"&&k(D[K].it)}function Q(D){var K,X,j=D.length,ie,ae,oe,ve;for(X=0;X<j;X+=1){if(K=D[X],K.hasMask){var ce=K.masksProperties;for(ae=ce.length,ie=0;ie<ae;ie+=1)if(ce[ie].pt.k.i)ce[ie].pt.k.c=ce[ie].cl;else for(ve=ce[ie].pt.k.length,oe=0;oe<ve;oe+=1)ce[ie].pt.k[oe].s&&(ce[ie].pt.k[oe].s[0].c=ce[ie].cl),ce[ie].pt.k[oe].e&&(ce[ie].pt.k[oe].e[0].c=ce[ie].cl)}K.ty===4&&k(K.shapes)}}return function(D){if(P(W,D.v)&&(Q(D.layers),D.assets)){var K,X=D.assets.length;for(K=0;K<X;K+=1)D.assets[K].layers&&Q(D.assets[K].layers)}}}();function ee(W){W.__complete||(Y(W),N(W),M(W),H(W),J(W),C(W.layers,W.assets),b(W.chars,W.assets),W.__complete=!0)}function te(W){W.t.a.length===0&&"m"in W.t.p}var se={};return se.completeData=ee,se.checkColors=Y,se.checkChars=M,se.checkPathProperties=H,se.checkShapes=J,se.completeLayers=C,se}if(h.dataManager||(h.dataManager=B()),h.assetLoader||(h.assetLoader=function(){function C(I){var S=I.getResponseHeader("content-type");return S&&I.responseType==="json"&&S.indexOf("json")!==-1||I.response&&_typeof$5(I.response)==="object"?I.response:I.response&&typeof I.response=="string"?JSON.parse(I.response):I.responseText?JSON.parse(I.responseText):null}function b(I,S,R,O){var P,N=new XMLHttpRequest;try{N.responseType="json"}catch(M){}N.onreadystatechange=function(){if(N.readyState===4)if(N.status===200)P=C(N),R(P);else try{P=C(N),R(P)}catch(M){O&&O(M)}};try{N.open("GET",I,!0)}catch(M){N.open("GET",S+"/"+I,!0)}N.send()}return{load:b}}()),y.data.type==="loadAnimation")h.assetLoader.load(y.data.path,y.data.fullPath,function(C){h.dataManager.completeData(C),h.postMessage({id:y.data.id,payload:C,status:"success"})},function(){h.postMessage({id:y.data.id,status:"error"})});else if(y.data.type==="complete"){var w=y.data.animation;h.dataManager.completeData(w),h.postMessage({id:y.data.id,payload:w,status:"success"})}else y.data.type==="loadData"&&h.assetLoader.load(y.data.path,y.data.fullPath,function(C){h.postMessage({id:y.data.id,payload:C,status:"success"})},function(){h.postMessage({id:y.data.id,status:"error"})})}),s.onmessage=function(_){var y=_.data,B=y.id,w=r[B];r[B]=null,y.status==="success"?w.onComplete(y.payload):w.onError&&w.onError()})}function d(_,y){t+=1;var B="processId_"+t;return r[B]={onComplete:_,onError:y},B}function v(_,y,B){c();var w=d(y,B);s.postMessage({type:"loadAnimation",path:_,fullPath:window.location.origin+window.location.pathname,id:w})}function g(_,y,B){c();var w=d(y,B);s.postMessage({type:"loadData",path:_,fullPath:window.location.origin+window.location.pathname,id:w})}function m(_,y,B){c();var w=d(y,B);s.postMessage({type:"complete",animation:_,id:w})}return{loadAnimation:v,loadData:g,completeAnimation:m}}(),ImagePreloader=function(){var t=function(){var b=createTag("canvas");b.width=1,b.height=1;var I=b.getContext("2d");return I.fillStyle="rgba(0,0,0,0)",I.fillRect(0,0,1,1),b}();function r(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function n(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function s(b,I,S){var R="";if(b.e)R=b.p;else if(I){var O=b.p;O.indexOf("images/")!==-1&&(O=O.split("/")[1]),R=I+O}else R=S,R+=b.u?b.u:"",R+=b.p;return R}function o(b){var I=0,S=setInterval(function(){var R=b.getBBox();(R.width||I>500)&&(this._imageLoaded(),clearInterval(S)),I+=1}.bind(this),50)}function h(b){var I=s(b,this.assetsPath,this.path),S=createNS("image");isSafari?this.testImageLoaded(S):S.addEventListener("load",this._imageLoaded,!1),S.addEventListener("error",function(){R.img=t,this._imageLoaded()}.bind(this),!1),S.setAttributeNS("http://www.w3.org/1999/xlink","href",I),this._elementHelper.append?this._elementHelper.append(S):this._elementHelper.appendChild(S);var R={img:S,assetData:b};return R}function l(b){var I=s(b,this.assetsPath,this.path),S=createTag("img");S.crossOrigin="anonymous",S.addEventListener("load",this._imageLoaded,!1),S.addEventListener("error",function(){R.img=t,this._imageLoaded()}.bind(this),!1),S.src=I;var R={img:S,assetData:b};return R}function c(b){var I={assetData:b},S=s(b,this.assetsPath,this.path);return dataManager.loadData(S,function(R){I.img=R,this._footageLoaded()}.bind(this),function(){I.img={},this._footageLoaded()}.bind(this)),I}function d(b,I){this.imagesLoadedCb=I;var S,R=b.length;for(S=0;S<R;S+=1)b[S].layers||(!b[S].t||b[S].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(b[S]))):b[S].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(b[S]))))}function v(b){this.path=b||""}function g(b){this.assetsPath=b||""}function m(b){for(var I=0,S=this.images.length;I<S;){if(this.images[I].assetData===b)return this.images[I].img;I+=1}return null}function _(){this.imagesLoadedCb=null,this.images.length=0}function y(){return this.totalImages===this.loadedAssets}function B(){return this.totalFootages===this.loadedFootagesCount}function w(b,I){b==="svg"?(this._elementHelper=I,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function C(){this._imageLoaded=r.bind(this),this._footageLoaded=n.bind(this),this.testImageLoaded=o.bind(this),this.createFootageData=c.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return C.prototype={loadAssets:d,setAssetsPath:g,setPath:v,loadedImages:y,loadedFootages:B,destroy:_,getAsset:m,createImgData:l,createImageData:h,imageLoaded:r,footageLoaded:n,setCacheType:w},C}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(r,n){if(this._cbs[r])for(var s=this._cbs[r],o=0;o<s.length;o+=1)s[o](n)},addEventListener:function(r,n){return this._cbs[r]||(this._cbs[r]=[]),this._cbs[r].push(n),function(){this.removeEventListener(r,n)}.bind(this)},removeEventListener:function(r,n){if(!n)this._cbs[r]=null;else if(this._cbs[r]){for(var s=0,o=this._cbs[r].length;s<o;)this._cbs[r][s]===n&&(this._cbs[r].splice(s,1),s-=1,o-=1),s+=1;this._cbs[r].length||(this._cbs[r]=null)}}};var markerParser=function(){function t(r){for(var n=r.split(`\r
`),s={},o,h=0,l=0;l<n.length;l+=1)o=n[l].split(":"),o.length===2&&(s[o[0]]=o[1].trim(),h+=1);if(h===0)throw new Error;return s}return function(r){for(var n=[],s=0;s<r.length;s+=1){var o=r[s],h={time:o.tm,duration:o.dr};try{h.payload=JSON.parse(r[s].cm)}catch(l){try{h.payload=t(r[s].cm)}catch(c){h.payload={name:r[s]}}}n.push(h)}return n}}(),ProjectInterface=function(){function t(r){this.compositions.push(r)}return function(){function r(n){for(var s=0,o=this.compositions.length;s<o;){if(this.compositions[s].data&&this.compositions[s].data.nm===n)return this.compositions[s].prepareFrame&&this.compositions[s].data.xt&&this.compositions[s].prepareFrame(this.currentFrame),this.compositions[s].compInterface;s+=1}return null}return r.compositions=[],r.currentFrame=0,r.registerComposition=t,r}}(),renderers={},registerRenderer=function(r,n){renderers[r]=n};function getRenderer(t){return renderers[t]}function _typeof$4(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(n){return typeof n}:_typeof$4=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$4(t)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this)};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(t){(t.wrapper||t.container)&&(this.wrapper=t.wrapper||t.container);var r="svg";t.animType?r=t.animType:t.renderer&&(r=t.renderer);var n=getRenderer(r);this.renderer=new n(this,t.rendererSettings),this.imagePreloader.setCacheType(r,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=r,t.loop===""||t.loop===null||t.loop===void 0||t.loop===!0?this.loop=!0:t.loop===!1?this.loop=!1:this.loop=parseInt(t.loop,10),this.autoplay="autoplay"in t?t.autoplay:!0,this.name=t.name?t.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(t,"autoloadSegments")?t.autoloadSegments:!0,this.assetsPath=t.assetsPath,this.initialSegment=t.initialSegment,t.audioFactory&&this.audioController.setAudioFactory(t.audioFactory),t.animationData?this.setupAnimation(t.animationData):t.path&&(t.path.lastIndexOf("\\")!==-1?this.path=t.path.substr(0,t.path.lastIndexOf("\\")+1):this.path=t.path.substr(0,t.path.lastIndexOf("/")+1),this.fileName=t.path.substr(t.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(t.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(t){dataManager.completeAnimation(t,this.configAnimation)},AnimationItem.prototype.setData=function(t,r){r&&_typeof$4(r)!=="object"&&(r=JSON.parse(r));var n={wrapper:t,animationData:r},s=t.attributes;n.path=s.getNamedItem("data-animation-path")?s.getNamedItem("data-animation-path").value:s.getNamedItem("data-bm-path")?s.getNamedItem("data-bm-path").value:s.getNamedItem("bm-path")?s.getNamedItem("bm-path").value:"",n.animType=s.getNamedItem("data-anim-type")?s.getNamedItem("data-anim-type").value:s.getNamedItem("data-bm-type")?s.getNamedItem("data-bm-type").value:s.getNamedItem("bm-type")?s.getNamedItem("bm-type").value:s.getNamedItem("data-bm-renderer")?s.getNamedItem("data-bm-renderer").value:s.getNamedItem("bm-renderer")?s.getNamedItem("bm-renderer").value:"canvas";var o=s.getNamedItem("data-anim-loop")?s.getNamedItem("data-anim-loop").value:s.getNamedItem("data-bm-loop")?s.getNamedItem("data-bm-loop").value:s.getNamedItem("bm-loop")?s.getNamedItem("bm-loop").value:"";o==="false"?n.loop=!1:o==="true"?n.loop=!0:o!==""&&(n.loop=parseInt(o,10));var h=s.getNamedItem("data-anim-autoplay")?s.getNamedItem("data-anim-autoplay").value:s.getNamedItem("data-bm-autoplay")?s.getNamedItem("data-bm-autoplay").value:s.getNamedItem("bm-autoplay")?s.getNamedItem("bm-autoplay").value:!0;n.autoplay=h!=="false",n.name=s.getNamedItem("data-name")?s.getNamedItem("data-name").value:s.getNamedItem("data-bm-name")?s.getNamedItem("data-bm-name").value:s.getNamedItem("bm-name")?s.getNamedItem("bm-name").value:"";var l=s.getNamedItem("data-anim-prerender")?s.getNamedItem("data-anim-prerender").value:s.getNamedItem("data-bm-prerender")?s.getNamedItem("data-bm-prerender").value:s.getNamedItem("bm-prerender")?s.getNamedItem("bm-prerender").value:"";l==="false"&&(n.prerender=!1),this.setParams(n)},AnimationItem.prototype.includeLayers=function(t){t.op>this.animationData.op&&(this.animationData.op=t.op,this.totalFrames=Math.floor(t.op-this.animationData.ip));var r=this.animationData.layers,n,s=r.length,o=t.layers,h,l=o.length;for(h=0;h<l;h+=1)for(n=0;n<s;){if(r[n].id===o[h].id){r[n]=o[h];break}n+=1}if((t.chars||t.fonts)&&(this.renderer.globalData.fontManager.addChars(t.chars),this.renderer.globalData.fontManager.addFonts(t.fonts,this.renderer.globalData.defs)),t.assets)for(s=t.assets.length,n=0;n<s;n+=1)this.animationData.assets.push(t.assets[n]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(t){this.animationData=t;var r=getExpressionsPlugin();r&&r.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var t=this.animationData.segments;if(!t||t.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var r=t.shift();this.timeCompleted=r.time*this.frameRate;var n=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(n,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){var t=this.animationData.segments;t||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(t){if(!!this.renderer)try{this.animationData=t,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(t),t.assets||(t.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(t.assets),this.markers=markerParser(t.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(r){this.triggerConfigError(r)}},AnimationItem.prototype.waitForFontsLoaded=function(){!this.renderer||(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(){this.renderer.updateContainerSize()},AnimationItem.prototype.setSubframe=function(t){this.isSubframeEnabled=!!t},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(t){this.triggerRenderFrameError(t)}},AnimationItem.prototype.play=function(t){t&&this.name!==t||this.isPaused===!0&&(this.isPaused=!1,this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(t){t&&this.name!==t||this.isPaused===!1&&(this.isPaused=!0,this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(t){t&&this.name!==t||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(t){t&&this.name!==t||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(t){for(var r,n=0;n<this.markers.length;n+=1)if(r=this.markers[n],r.payload&&r.payload.name===t)return r;return null},AnimationItem.prototype.goToAndStop=function(t,r,n){if(!(n&&this.name!==n)){var s=Number(t);if(isNaN(s)){var o=this.getMarkerData(t);o&&this.goToAndStop(o.time,!0)}else r?this.setCurrentRawFrameValue(t):this.setCurrentRawFrameValue(t*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(t,r,n){if(!(n&&this.name!==n)){var s=Number(t);if(isNaN(s)){var o=this.getMarkerData(t);o&&(o.duration?this.playSegments([o.time,o.time+o.duration],!0):this.goToAndStop(o.time,!0))}else this.goToAndStop(s,r,n);this.play()}},AnimationItem.prototype.advanceTime=function(t){if(!(this.isPaused===!0||this.isLoaded===!1)){var r=this.currentRawFrame+t*this.frameModifier,n=!1;r>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(r>this.totalFrames?r%this.totalFrames:0)||(n=!0,r=this.totalFrames-1):r>=this.totalFrames?(this.playCount+=1,this.checkSegments(r%this.totalFrames)||(this.setCurrentRawFrameValue(r%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(r):r<0?this.checkSegments(r%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+r%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(n=!0,r=0)):this.setCurrentRawFrameValue(r),n&&(this.setCurrentRawFrameValue(r),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(t,r){this.playCount=0,t[1]<t[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=t[0]-t[1],this.timeCompleted=this.totalFrames,this.firstFrame=t[1],this.setCurrentRawFrameValue(this.totalFrames-.001-r)):t[1]>t[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=t[1]-t[0],this.timeCompleted=this.totalFrames,this.firstFrame=t[0],this.setCurrentRawFrameValue(.001+r)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(t,r){var n=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<t?n=t:this.currentRawFrame+this.firstFrame>r&&(n=r-t)),this.firstFrame=t,this.totalFrames=r-t,this.timeCompleted=this.totalFrames,n!==-1&&this.goToAndStop(n,!0)},AnimationItem.prototype.playSegments=function(t,r){if(r&&(this.segments.length=0),_typeof$4(t[0])==="object"){var n,s=t.length;for(n=0;n<s;n+=1)this.segments.push(t[n])}else this.segments.push(t);this.segments.length&&r&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(t){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),t&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(t){return this.segments.length?(this.adjustSegment(this.segments.shift(),t),!0):!1},AnimationItem.prototype.destroy=function(t){t&&this.name!==t||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.renderer=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(t){this.currentRawFrame=t,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(t){this.playSpeed=t,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(t){this.playDirection=t<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setVolume=function(t,r){r&&this.name!==r||this.audioController.setVolume(t)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(t){t&&this.name!==t||this.audioController.mute()},AnimationItem.prototype.unmute=function(t){t&&this.name!==t||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(t){var r="";if(t.e)r=t.p;else if(this.assetsPath){var n=t.p;n.indexOf("images/")!==-1&&(n=n.split("/")[1]),r=this.assetsPath+n}else r=this.path,r+=t.u?t.u:"",r+=t.p;return r},AnimationItem.prototype.getAssetData=function(t){for(var r=0,n=this.assets.length;r<n;){if(t===this.assets[r].id)return this.assets[r];r+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(t){return t?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.trigger=function(t){if(this._cbs&&this._cbs[t])switch(t){case"enterFrame":case"drawnFrame":this.triggerEvent(t,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameModifier));break;case"loopComplete":this.triggerEvent(t,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(t,new BMCompleteEvent(t,this.frameMult));break;case"segmentStart":this.triggerEvent(t,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(t,new BMDestroyEvent(t,this));break;default:this.triggerEvent(t)}t==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(t,this.currentFrame,this.totalFrames,this.frameMult)),t==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(t,this.loop,this.playCount,this.frameMult)),t==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(t,this.frameMult)),t==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(t,this.firstFrame,this.totalFrames)),t==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(t,this))},AnimationItem.prototype.triggerRenderFrameError=function(t){var r=new BMRenderFrameErrorEvent(t,this.currentFrame);this.triggerEvent("error",r),this.onError&&this.onError.call(this,r)},AnimationItem.prototype.triggerConfigError=function(t){var r=new BMConfigErrorEvent(t,this.currentFrame);this.triggerEvent("error",r),this.onError&&this.onError.call(this,r)};var animationManager=function(){var t={},r=[],n=0,s=0,o=0,h=!0,l=!1;function c(k){for(var Q=0,D=k.target;Q<s;)r[Q].animation===D&&(r.splice(Q,1),Q-=1,s-=1,D.isPaused||m()),Q+=1}function d(k,Q){if(!k)return null;for(var D=0;D<s;){if(r[D].elem===k&&r[D].elem!==null)return r[D].animation;D+=1}var K=new AnimationItem;return _(K,k),K.setData(k,Q),K}function v(){var k,Q=r.length,D=[];for(k=0;k<Q;k+=1)D.push(r[k].animation);return D}function g(){o+=1,Y()}function m(){o-=1}function _(k,Q){k.addEventListener("destroy",c),k.addEventListener("_active",g),k.addEventListener("_idle",m),r.push({elem:Q,animation:k}),s+=1}function y(k){var Q=new AnimationItem;return _(Q,null),Q.setParams(k),Q}function B(k,Q){var D;for(D=0;D<s;D+=1)r[D].animation.setSpeed(k,Q)}function w(k,Q){var D;for(D=0;D<s;D+=1)r[D].animation.setDirection(k,Q)}function C(k){var Q;for(Q=0;Q<s;Q+=1)r[Q].animation.play(k)}function b(k){var Q=k-n,D;for(D=0;D<s;D+=1)r[D].animation.advanceTime(Q);n=k,o&&!l?window.requestAnimationFrame(b):h=!0}function I(k){n=k,window.requestAnimationFrame(b)}function S(k){var Q;for(Q=0;Q<s;Q+=1)r[Q].animation.pause(k)}function R(k,Q,D){var K;for(K=0;K<s;K+=1)r[K].animation.goToAndStop(k,Q,D)}function O(k){var Q;for(Q=0;Q<s;Q+=1)r[Q].animation.stop(k)}function P(k){var Q;for(Q=0;Q<s;Q+=1)r[Q].animation.togglePause(k)}function N(k){var Q;for(Q=s-1;Q>=0;Q-=1)r[Q].animation.destroy(k)}function M(k,Q,D){var K=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),X,j=K.length;for(X=0;X<j;X+=1)D&&K[X].setAttribute("data-bm-type",D),d(K[X],k);if(Q&&j===0){D||(D="svg");var ie=document.getElementsByTagName("body")[0];ie.innerText="";var ae=createTag("div");ae.style.width="100%",ae.style.height="100%",ae.setAttribute("data-bm-type",D),ie.appendChild(ae),d(ae,k)}}function H(){var k;for(k=0;k<s;k+=1)r[k].animation.resize()}function Y(){!l&&o&&h&&(window.requestAnimationFrame(I),h=!1)}function J(){l=!0}function ee(){l=!1,Y()}function te(k,Q){var D;for(D=0;D<s;D+=1)r[D].animation.setVolume(k,Q)}function se(k){var Q;for(Q=0;Q<s;Q+=1)r[Q].animation.mute(k)}function W(k){var Q;for(Q=0;Q<s;Q+=1)r[Q].animation.unmute(k)}return t.registerAnimation=d,t.loadAnimation=y,t.setSpeed=B,t.setDirection=w,t.play=C,t.pause=S,t.stop=O,t.togglePause=P,t.searchAnimations=M,t.resize=H,t.goToAndStop=R,t.destroy=N,t.freeze=J,t.unfreeze=ee,t.setVolume=te,t.mute=se,t.unmute=W,t.getRegisteredAnimations=v,t}(),BezierFactory=function(){var t={};t.getBezierEasing=n;var r={};function n(I,S,R,O,P){var N=P||("bez_"+I+"_"+S+"_"+R+"_"+O).replace(/\./g,"p");if(r[N])return r[N];var M=new b([I,S,R,O]);return r[N]=M,M}var s=4,o=.001,h=1e-7,l=10,c=11,d=1/(c-1),v=typeof Float32Array=="function";function g(I,S){return 1-3*S+3*I}function m(I,S){return 3*S-6*I}function _(I){return 3*I}function y(I,S,R){return((g(S,R)*I+m(S,R))*I+_(S))*I}function B(I,S,R){return 3*g(S,R)*I*I+2*m(S,R)*I+_(S)}function w(I,S,R,O,P){var N,M,H=0;do M=S+(R-S)/2,N=y(M,O,P)-I,N>0?R=M:S=M;while(Math.abs(N)>h&&++H<l);return M}function C(I,S,R,O){for(var P=0;P<s;++P){var N=B(S,R,O);if(N===0)return S;var M=y(S,R,O)-I;S-=M/N}return S}function b(I){this._p=I,this._mSampleValues=v?new Float32Array(c):new Array(c),this._precomputed=!1,this.get=this.get.bind(this)}return b.prototype={get:function(S){var R=this._p[0],O=this._p[1],P=this._p[2],N=this._p[3];return this._precomputed||this._precompute(),R===O&&P===N?S:S===0?0:S===1?1:y(this._getTForX(S),O,N)},_precompute:function(){var S=this._p[0],R=this._p[1],O=this._p[2],P=this._p[3];this._precomputed=!0,(S!==R||O!==P)&&this._calcSampleValues()},_calcSampleValues:function(){for(var S=this._p[0],R=this._p[2],O=0;O<c;++O)this._mSampleValues[O]=y(O*d,S,R)},_getTForX:function(S){for(var R=this._p[0],O=this._p[2],P=this._mSampleValues,N=0,M=1,H=c-1;M!==H&&P[M]<=S;++M)N+=d;--M;var Y=(S-P[M])/(P[M+1]-P[M]),J=N+Y*d,ee=B(J,R,O);return ee>=o?C(S,J,R,O):ee===0?J:w(S,N,N+d,R,O)}},t}(),pooling=function(){function t(r){return r.concat(createSizedArray(r.length))}return{double:t}}(),poolFactory=function(){return function(t,r,n){var s=0,o=t,h=createSizedArray(o),l={newElement:c,release:d};function c(){var v;return s?(s-=1,v=h[s]):v=r(),v}function d(v){s===o&&(h=pooling.double(h),o*=2),n&&n(v),h[s]=v,s+=1}return l}}(),bezierLengthPool=function(){function t(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,t)}(),segmentsLengthPool=function(){function t(){return{lengths:[],totalLength:0}}function r(n){var s,o=n.lengths.length;for(s=0;s<o;s+=1)bezierLengthPool.release(n.lengths[s]);n.lengths.length=0}return poolFactory(8,t,r)}();function bezFunction(){var t=Math;function r(_,y,B,w,C,b){var I=_*w+y*C+B*b-C*w-b*_-B*y;return I>-.001&&I<.001}function n(_,y,B,w,C,b,I,S,R){if(B===0&&b===0&&R===0)return r(_,y,w,C,I,S);var O=t.sqrt(t.pow(w-_,2)+t.pow(C-y,2)+t.pow(b-B,2)),P=t.sqrt(t.pow(I-_,2)+t.pow(S-y,2)+t.pow(R-B,2)),N=t.sqrt(t.pow(I-w,2)+t.pow(S-C,2)+t.pow(R-b,2)),M;return O>P?O>N?M=O-P-N:M=N-P-O:N>P?M=N-P-O:M=P-O-N,M>-1e-4&&M<1e-4}var s=function(){return function(_,y,B,w){var C=getDefaultCurveSegments(),b,I,S,R,O,P=0,N,M=[],H=[],Y=bezierLengthPool.newElement();for(S=B.length,b=0;b<C;b+=1){for(O=b/(C-1),N=0,I=0;I<S;I+=1)R=bmPow(1-O,3)*_[I]+3*bmPow(1-O,2)*O*B[I]+3*(1-O)*bmPow(O,2)*w[I]+bmPow(O,3)*y[I],M[I]=R,H[I]!==null&&(N+=bmPow(M[I]-H[I],2)),H[I]=M[I];N&&(N=bmSqrt(N),P+=N),Y.percents[b]=O,Y.lengths[b]=P}return Y.addedLength=P,Y}}();function o(_){var y=segmentsLengthPool.newElement(),B=_.c,w=_.v,C=_.o,b=_.i,I,S=_._length,R=y.lengths,O=0;for(I=0;I<S-1;I+=1)R[I]=s(w[I],w[I+1],C[I],b[I+1]),O+=R[I].addedLength;return B&&S&&(R[I]=s(w[I],w[0],C[I],b[0]),O+=R[I].addedLength),y.totalLength=O,y}function h(_){this.segmentLength=0,this.points=new Array(_)}function l(_,y){this.partialLength=_,this.point=y}var c=function(){var _={};return function(y,B,w,C){var b=(y[0]+"_"+y[1]+"_"+B[0]+"_"+B[1]+"_"+w[0]+"_"+w[1]+"_"+C[0]+"_"+C[1]).replace(/\./g,"p");if(!_[b]){var I=getDefaultCurveSegments(),S,R,O,P,N,M=0,H,Y,J=null;y.length===2&&(y[0]!==B[0]||y[1]!==B[1])&&r(y[0],y[1],B[0],B[1],y[0]+w[0],y[1]+w[1])&&r(y[0],y[1],B[0],B[1],B[0]+C[0],B[1]+C[1])&&(I=2);var ee=new h(I);for(O=w.length,S=0;S<I;S+=1){for(Y=createSizedArray(O),N=S/(I-1),H=0,R=0;R<O;R+=1)P=bmPow(1-N,3)*y[R]+3*bmPow(1-N,2)*N*(y[R]+w[R])+3*(1-N)*bmPow(N,2)*(B[R]+C[R])+bmPow(N,3)*B[R],Y[R]=P,J!==null&&(H+=bmPow(Y[R]-J[R],2));H=bmSqrt(H),M+=H,ee.points[S]=new l(H,Y),J=Y}ee.segmentLength=M,_[b]=ee}return _[b]}}();function d(_,y){var B=y.percents,w=y.lengths,C=B.length,b=bmFloor((C-1)*_),I=_*y.addedLength,S=0;if(b===C-1||b===0||I===w[b])return B[b];for(var R=w[b]>I?-1:1,O=!0;O;)if(w[b]<=I&&w[b+1]>I?(S=(I-w[b])/(w[b+1]-w[b]),O=!1):b+=R,b<0||b>=C-1){if(b===C-1)return B[b];O=!1}return B[b]+(B[b+1]-B[b])*S}function v(_,y,B,w,C,b){var I=d(C,b),S=1-I,R=t.round((S*S*S*_[0]+(I*S*S+S*I*S+S*S*I)*B[0]+(I*I*S+S*I*I+I*S*I)*w[0]+I*I*I*y[0])*1e3)/1e3,O=t.round((S*S*S*_[1]+(I*S*S+S*I*S+S*S*I)*B[1]+(I*I*S+S*I*I+I*S*I)*w[1]+I*I*I*y[1])*1e3)/1e3;return[R,O]}var g=createTypedArray("float32",8);function m(_,y,B,w,C,b,I){C<0?C=0:C>1&&(C=1);var S=d(C,I);b=b>1?1:b;var R=d(b,I),O,P=_.length,N=1-S,M=1-R,H=N*N*N,Y=S*N*N*3,J=S*S*N*3,ee=S*S*S,te=N*N*M,se=S*N*M+N*S*M+N*N*R,W=S*S*M+N*S*R+S*N*R,k=S*S*R,Q=N*M*M,D=S*M*M+N*R*M+N*M*R,K=S*R*M+N*R*R+S*M*R,X=S*R*R,j=M*M*M,ie=R*M*M+M*R*M+M*M*R,ae=R*R*M+M*R*R+R*M*R,oe=R*R*R;for(O=0;O<P;O+=1)g[O*4]=t.round((H*_[O]+Y*B[O]+J*w[O]+ee*y[O])*1e3)/1e3,g[O*4+1]=t.round((te*_[O]+se*B[O]+W*w[O]+k*y[O])*1e3)/1e3,g[O*4+2]=t.round((Q*_[O]+D*B[O]+K*w[O]+X*y[O])*1e3)/1e3,g[O*4+3]=t.round((j*_[O]+ie*B[O]+ae*w[O]+oe*y[O])*1e3)/1e3;return g}return{getSegmentsLength:o,getNewSegment:m,getPointInSegment:v,buildBezierData:c,pointOnLine2D:r,pointOnLine3D:n}}var bez=bezFunction(),PropertyFactory=function(){var t=initialDefaultFrame,r=Math.abs;function n(C,b){var I=this.offsetTime,S;this.propType==="multidimensional"&&(S=createTypedArray("float32",this.pv.length));for(var R=b.lastIndex,O=R,P=this.keyframes.length-1,N=!0,M,H,Y;N;){if(M=this.keyframes[O],H=this.keyframes[O+1],O===P-1&&C>=H.t-I){M.h&&(M=H),R=0;break}if(H.t-I>C){R=O;break}O<P-1?O+=1:(R=0,N=!1)}Y=this.keyframesMetadata[O]||{};var J,ee,te,se,W,k,Q=H.t-I,D=M.t-I,K;if(M.to){Y.bezierData||(Y.bezierData=bez.buildBezierData(M.s,H.s||M.e,M.to,M.ti));var X=Y.bezierData;if(C>=Q||C<D){var j=C>=Q?X.points.length-1:0;for(ee=X.points[j].point.length,J=0;J<ee;J+=1)S[J]=X.points[j].point[J]}else{Y.__fnct?k=Y.__fnct:(k=BezierFactory.getBezierEasing(M.o.x,M.o.y,M.i.x,M.i.y,M.n).get,Y.__fnct=k),te=k((C-D)/(Q-D));var ie=X.segmentLength*te,ae,oe=b.lastFrame<C&&b._lastKeyframeIndex===O?b._lastAddedLength:0;for(W=b.lastFrame<C&&b._lastKeyframeIndex===O?b._lastPoint:0,N=!0,se=X.points.length;N;){if(oe+=X.points[W].partialLength,ie===0||te===0||W===X.points.length-1){for(ee=X.points[W].point.length,J=0;J<ee;J+=1)S[J]=X.points[W].point[J];break}else if(ie>=oe&&ie<oe+X.points[W+1].partialLength){for(ae=(ie-oe)/X.points[W+1].partialLength,ee=X.points[W].point.length,J=0;J<ee;J+=1)S[J]=X.points[W].point[J]+(X.points[W+1].point[J]-X.points[W].point[J])*ae;break}W<se-1?W+=1:N=!1}b._lastPoint=W,b._lastAddedLength=oe-X.points[W].partialLength,b._lastKeyframeIndex=O}}else{var ve,ce,ge,Te,we;if(P=M.s.length,K=H.s||M.e,this.sh&&M.h!==1)if(C>=Q)S[0]=K[0],S[1]=K[1],S[2]=K[2];else if(C<=D)S[0]=M.s[0],S[1]=M.s[1],S[2]=M.s[2];else{var _e=h(M.s),pe=h(K),ye=(C-D)/(Q-D);o(S,s(_e,pe,ye))}else for(O=0;O<P;O+=1)M.h!==1&&(C>=Q?te=1:C<D?te=0:(M.o.x.constructor===Array?(Y.__fnct||(Y.__fnct=[]),Y.__fnct[O]?k=Y.__fnct[O]:(ve=M.o.x[O]===void 0?M.o.x[0]:M.o.x[O],ce=M.o.y[O]===void 0?M.o.y[0]:M.o.y[O],ge=M.i.x[O]===void 0?M.i.x[0]:M.i.x[O],Te=M.i.y[O]===void 0?M.i.y[0]:M.i.y[O],k=BezierFactory.getBezierEasing(ve,ce,ge,Te).get,Y.__fnct[O]=k)):Y.__fnct?k=Y.__fnct:(ve=M.o.x,ce=M.o.y,ge=M.i.x,Te=M.i.y,k=BezierFactory.getBezierEasing(ve,ce,ge,Te).get,M.keyframeMetadata=k),te=k((C-D)/(Q-D)))),K=H.s||M.e,we=M.h===1?M.s[O]:M.s[O]+(K[O]-M.s[O])*te,this.propType==="multidimensional"?S[O]=we:S=we}return b.lastIndex=R,S}function s(C,b,I){var S=[],R=C[0],O=C[1],P=C[2],N=C[3],M=b[0],H=b[1],Y=b[2],J=b[3],ee,te,se,W,k;return te=R*M+O*H+P*Y+N*J,te<0&&(te=-te,M=-M,H=-H,Y=-Y,J=-J),1-te>1e-6?(ee=Math.acos(te),se=Math.sin(ee),W=Math.sin((1-I)*ee)/se,k=Math.sin(I*ee)/se):(W=1-I,k=I),S[0]=W*R+k*M,S[1]=W*O+k*H,S[2]=W*P+k*Y,S[3]=W*N+k*J,S}function o(C,b){var I=b[0],S=b[1],R=b[2],O=b[3],P=Math.atan2(2*S*O-2*I*R,1-2*S*S-2*R*R),N=Math.asin(2*I*S+2*R*O),M=Math.atan2(2*I*O-2*S*R,1-2*I*I-2*R*R);C[0]=P/degToRads,C[1]=N/degToRads,C[2]=M/degToRads}function h(C){var b=C[0]*degToRads,I=C[1]*degToRads,S=C[2]*degToRads,R=Math.cos(b/2),O=Math.cos(I/2),P=Math.cos(S/2),N=Math.sin(b/2),M=Math.sin(I/2),H=Math.sin(S/2),Y=R*O*P-N*M*H,J=N*M*P+R*O*H,ee=N*O*P+R*M*H,te=R*M*P-N*O*H;return[J,ee,te,Y]}function l(){var C=this.comp.renderedFrame-this.offsetTime,b=this.keyframes[0].t-this.offsetTime,I=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(C===this._caching.lastFrame||this._caching.lastFrame!==t&&(this._caching.lastFrame>=I&&C>=I||this._caching.lastFrame<b&&C<b))){this._caching.lastFrame>=C&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var S=this.interpolateValue(C,this._caching);this.pv=S}return this._caching.lastFrame=C,this.pv}function c(C){var b;if(this.propType==="unidimensional")b=C*this.mult,r(this.v-b)>1e-5&&(this.v=b,this._mdf=!0);else for(var I=0,S=this.v.length;I<S;)b=C[I]*this.mult,r(this.v[I]-b)>1e-5&&(this.v[I]=b,this._mdf=!0),I+=1}function d(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var C,b=this.effectsSequence.length,I=this.kf?this.pv:this.data.k;for(C=0;C<b;C+=1)I=this.effectsSequence[C](I);this.setVValue(I),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function v(C){this.effectsSequence.push(C),this.container.addDynamicProperty(this)}function g(C,b,I,S){this.propType="unidimensional",this.mult=I||1,this.data=b,this.v=I?b.k*I:b.k,this.pv=b.k,this._mdf=!1,this.elem=C,this.container=S,this.comp=C.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=d,this.setVValue=c,this.addEffect=v}function m(C,b,I,S){this.propType="multidimensional",this.mult=I||1,this.data=b,this._mdf=!1,this.elem=C,this.container=S,this.comp=C.comp,this.k=!1,this.kf=!1,this.frameId=-1;var R,O=b.k.length;for(this.v=createTypedArray("float32",O),this.pv=createTypedArray("float32",O),this.vel=createTypedArray("float32",O),R=0;R<O;R+=1)this.v[R]=b.k[R]*this.mult,this.pv[R]=b.k[R];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=d,this.setVValue=c,this.addEffect=v}function _(C,b,I,S){this.propType="unidimensional",this.keyframes=b.k,this.keyframesMetadata=[],this.offsetTime=C.data.st,this.frameId=-1,this._caching={lastFrame:t,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=b,this.mult=I||1,this.elem=C,this.container=S,this.comp=C.comp,this.v=t,this.pv=t,this._isFirstFrame=!0,this.getValue=d,this.setVValue=c,this.interpolateValue=n,this.effectsSequence=[l.bind(this)],this.addEffect=v}function y(C,b,I,S){this.propType="multidimensional";var R,O=b.k.length,P,N,M,H;for(R=0;R<O-1;R+=1)b.k[R].to&&b.k[R].s&&b.k[R+1]&&b.k[R+1].s&&(P=b.k[R].s,N=b.k[R+1].s,M=b.k[R].to,H=b.k[R].ti,(P.length===2&&!(P[0]===N[0]&&P[1]===N[1])&&bez.pointOnLine2D(P[0],P[1],N[0],N[1],P[0]+M[0],P[1]+M[1])&&bez.pointOnLine2D(P[0],P[1],N[0],N[1],N[0]+H[0],N[1]+H[1])||P.length===3&&!(P[0]===N[0]&&P[1]===N[1]&&P[2]===N[2])&&bez.pointOnLine3D(P[0],P[1],P[2],N[0],N[1],N[2],P[0]+M[0],P[1]+M[1],P[2]+M[2])&&bez.pointOnLine3D(P[0],P[1],P[2],N[0],N[1],N[2],N[0]+H[0],N[1]+H[1],N[2]+H[2]))&&(b.k[R].to=null,b.k[R].ti=null),P[0]===N[0]&&P[1]===N[1]&&M[0]===0&&M[1]===0&&H[0]===0&&H[1]===0&&(P.length===2||P[2]===N[2]&&M[2]===0&&H[2]===0)&&(b.k[R].to=null,b.k[R].ti=null));this.effectsSequence=[l.bind(this)],this.data=b,this.keyframes=b.k,this.keyframesMetadata=[],this.offsetTime=C.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=I||1,this.elem=C,this.container=S,this.comp=C.comp,this.getValue=d,this.setVValue=c,this.interpolateValue=n,this.frameId=-1;var Y=b.k[0].s.length;for(this.v=createTypedArray("float32",Y),this.pv=createTypedArray("float32",Y),R=0;R<Y;R+=1)this.v[R]=t,this.pv[R]=t;this._caching={lastFrame:t,lastIndex:0,value:createTypedArray("float32",Y)},this.addEffect=v}function B(C,b,I,S,R){var O;if(!b.k.length)O=new g(C,b,S,R);else if(typeof b.k[0]=="number")O=new m(C,b,S,R);else switch(I){case 0:O=new _(C,b,S,R);break;case 1:O=new y(C,b,S,R);break}return O.effectsSequence.length&&R.addDynamicProperty(O),O}var w={getProp:B};return w}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(r){this.dynamicProperties.indexOf(r)===-1&&(this.dynamicProperties.push(r),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var r,n=this.dynamicProperties.length;for(r=0;r<n;r+=1)this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(r){this.container=r,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function t(){return createTypedArray("float32",2)}return poolFactory(8,t)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(t,r){this.c=t,this.setLength(r);for(var n=0;n<r;)this.v[n]=pointPool.newElement(),this.o[n]=pointPool.newElement(),this.i[n]=pointPool.newElement(),n+=1},ShapePath.prototype.setLength=function(t){for(;this._maxLength<t;)this.doubleArrayLength();this._length=t},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(t,r,n,s,o){var h;switch(this._length=Math.max(this._length,s+1),this._length>=this._maxLength&&this.doubleArrayLength(),n){case"v":h=this.v;break;case"i":h=this.i;break;case"o":h=this.o;break;default:h=[];break}(!h[s]||h[s]&&!o)&&(h[s]=pointPool.newElement()),h[s][0]=t,h[s][1]=r},ShapePath.prototype.setTripleAt=function(t,r,n,s,o,h,l,c){this.setXYAt(t,r,"v",l,c),this.setXYAt(n,s,"o",l,c),this.setXYAt(o,h,"i",l,c)},ShapePath.prototype.reverse=function(){var t=new ShapePath;t.setPathData(this.c,this._length);var r=this.v,n=this.o,s=this.i,o=0;this.c&&(t.setTripleAt(r[0][0],r[0][1],s[0][0],s[0][1],n[0][0],n[0][1],0,!1),o=1);var h=this._length-1,l=this._length,c;for(c=o;c<l;c+=1)t.setTripleAt(r[h][0],r[h][1],s[h][0],s[h][1],n[h][0],n[h][1],c,!1),h-=1;return t};var shapePool=function(){function t(){return new ShapePath}function r(o){var h=o._length,l;for(l=0;l<h;l+=1)pointPool.release(o.v[l]),pointPool.release(o.i[l]),pointPool.release(o.o[l]),o.v[l]=null,o.i[l]=null,o.o[l]=null;o._length=0,o.c=!1}function n(o){var h=s.newElement(),l,c=o._length===void 0?o.v.length:o._length;for(h.setLength(c),h.c=o.c,l=0;l<c;l+=1)h.setTripleAt(o.v[l][0],o.v[l][1],o.o[l][0],o.o[l][1],o.i[l][0],o.i[l][1],l);return h}var s=poolFactory(4,t,r);return s.clone=n,s}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(t){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=t,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var t;for(t=0;t<this._length;t+=1)shapePool.release(this.shapes[t]);this._length=0};var shapeCollectionPool=function(){var t={newShapeCollection:o,release:h},r=0,n=4,s=createSizedArray(n);function o(){var l;return r?(r-=1,l=s[r]):l=new ShapeCollection,l}function h(l){var c,d=l._length;for(c=0;c<d;c+=1)shapePool.release(l.shapes[c]);l._length=0,r===n&&(s=pooling.double(s),n*=2),s[r]=l,r+=1}return t}(),ShapePropertyFactory=function(){var t=-999999;function r(b,I,S){var R=S.lastIndex,O,P,N,M,H,Y,J,ee,te,se=this.keyframes;if(b<se[0].t-this.offsetTime)O=se[0].s[0],N=!0,R=0;else if(b>=se[se.length-1].t-this.offsetTime)O=se[se.length-1].s?se[se.length-1].s[0]:se[se.length-2].e[0],N=!0;else{for(var W=R,k=se.length-1,Q=!0,D,K,X;Q&&(D=se[W],K=se[W+1],!(K.t-this.offsetTime>b));)W<k-1?W+=1:Q=!1;if(X=this.keyframesMetadata[W]||{},N=D.h===1,R=W,!N){if(b>=K.t-this.offsetTime)ee=1;else if(b<D.t-this.offsetTime)ee=0;else{var j;X.__fnct?j=X.__fnct:(j=BezierFactory.getBezierEasing(D.o.x,D.o.y,D.i.x,D.i.y).get,X.__fnct=j),ee=j((b-(D.t-this.offsetTime))/(K.t-this.offsetTime-(D.t-this.offsetTime)))}P=K.s?K.s[0]:D.e[0]}O=D.s[0]}for(Y=I._length,J=O.i[0].length,S.lastIndex=R,M=0;M<Y;M+=1)for(H=0;H<J;H+=1)te=N?O.i[M][H]:O.i[M][H]+(P.i[M][H]-O.i[M][H])*ee,I.i[M][H]=te,te=N?O.o[M][H]:O.o[M][H]+(P.o[M][H]-O.o[M][H])*ee,I.o[M][H]=te,te=N?O.v[M][H]:O.v[M][H]+(P.v[M][H]-O.v[M][H])*ee,I.v[M][H]=te}function n(){var b=this.comp.renderedFrame-this.offsetTime,I=this.keyframes[0].t-this.offsetTime,S=this.keyframes[this.keyframes.length-1].t-this.offsetTime,R=this._caching.lastFrame;return R!==t&&(R<I&&b<I||R>S&&b>S)||(this._caching.lastIndex=R<b?this._caching.lastIndex:0,this.interpolateShape(b,this.pv,this._caching)),this._caching.lastFrame=b,this.pv}function s(){this.paths=this.localShapeCollection}function o(b,I){if(b._length!==I._length||b.c!==I.c)return!1;var S,R=b._length;for(S=0;S<R;S+=1)if(b.v[S][0]!==I.v[S][0]||b.v[S][1]!==I.v[S][1]||b.o[S][0]!==I.o[S][0]||b.o[S][1]!==I.o[S][1]||b.i[S][0]!==I.i[S][0]||b.i[S][1]!==I.i[S][1])return!1;return!0}function h(b){o(this.v,b)||(this.v=shapePool.clone(b),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function l(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var b;this.kf?b=this.pv:this.data.ks?b=this.data.ks.k:b=this.data.pt.k;var I,S=this.effectsSequence.length;for(I=0;I<S;I+=1)b=this.effectsSequence[I](b);this.setVValue(b),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function c(b,I,S){this.propType="shape",this.comp=b.comp,this.container=b,this.elem=b,this.data=I,this.k=!1,this.kf=!1,this._mdf=!1;var R=S===3?I.pt.k:I.ks.k;this.v=shapePool.clone(R),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=s,this.effectsSequence=[]}function d(b){this.effectsSequence.push(b),this.container.addDynamicProperty(this)}c.prototype.interpolateShape=r,c.prototype.getValue=l,c.prototype.setVValue=h,c.prototype.addEffect=d;function v(b,I,S){this.propType="shape",this.comp=b.comp,this.elem=b,this.container=b,this.offsetTime=b.data.st,this.keyframes=S===3?I.pt.k:I.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var R=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,R),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=t,this.reset=s,this._caching={lastFrame:t,lastIndex:0},this.effectsSequence=[n.bind(this)]}v.prototype.getValue=l,v.prototype.interpolateShape=r,v.prototype.setVValue=h,v.prototype.addEffect=d;var g=function(){var b=roundCorner;function I(S,R){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=R.d,this.elem=S,this.comp=S.comp,this.frameId=-1,this.initDynamicPropertyContainer(S),this.p=PropertyFactory.getProp(S,R.p,1,0,this),this.s=PropertyFactory.getProp(S,R.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return I.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var R=this.p.v[0],O=this.p.v[1],P=this.s.v[0]/2,N=this.s.v[1]/2,M=this.d!==3,H=this.v;H.v[0][0]=R,H.v[0][1]=O-N,H.v[1][0]=M?R+P:R-P,H.v[1][1]=O,H.v[2][0]=R,H.v[2][1]=O+N,H.v[3][0]=M?R-P:R+P,H.v[3][1]=O,H.i[0][0]=M?R-P*b:R+P*b,H.i[0][1]=O-N,H.i[1][0]=M?R+P:R-P,H.i[1][1]=O-N*b,H.i[2][0]=M?R+P*b:R-P*b,H.i[2][1]=O+N,H.i[3][0]=M?R-P:R+P,H.i[3][1]=O+N*b,H.o[0][0]=M?R+P*b:R-P*b,H.o[0][1]=O-N,H.o[1][0]=M?R+P:R-P,H.o[1][1]=O+N*b,H.o[2][0]=M?R-P*b:R+P*b,H.o[2][1]=O+N,H.o[3][0]=M?R-P:R+P,H.o[3][1]=O-N*b}},extendPrototype([DynamicPropertyContainer],I),I}(),m=function(){function b(I,S){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=I,this.comp=I.comp,this.data=S,this.frameId=-1,this.d=S.d,this.initDynamicPropertyContainer(I),S.sy===1?(this.ir=PropertyFactory.getProp(I,S.ir,0,0,this),this.is=PropertyFactory.getProp(I,S.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(I,S.pt,0,0,this),this.p=PropertyFactory.getProp(I,S.p,1,0,this),this.r=PropertyFactory.getProp(I,S.r,0,degToRads,this),this.or=PropertyFactory.getProp(I,S.or,0,0,this),this.os=PropertyFactory.getProp(I,S.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return b.prototype={reset:s,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var S=Math.floor(this.pt.v)*2,R=Math.PI*2/S,O=!0,P=this.or.v,N=this.ir.v,M=this.os.v,H=this.is.v,Y=2*Math.PI*P/(S*2),J=2*Math.PI*N/(S*2),ee,te,se,W,k=-Math.PI/2;k+=this.r.v;var Q=this.data.d===3?-1:1;for(this.v._length=0,ee=0;ee<S;ee+=1){te=O?P:N,se=O?M:H,W=O?Y:J;var D=te*Math.cos(k),K=te*Math.sin(k),X=D===0&&K===0?0:K/Math.sqrt(D*D+K*K),j=D===0&&K===0?0:-D/Math.sqrt(D*D+K*K);D+=+this.p.v[0],K+=+this.p.v[1],this.v.setTripleAt(D,K,D-X*W*se*Q,K-j*W*se*Q,D+X*W*se*Q,K+j*W*se*Q,ee,!0),O=!O,k+=R*Q}},convertPolygonToPath:function(){var S=Math.floor(this.pt.v),R=Math.PI*2/S,O=this.or.v,P=this.os.v,N=2*Math.PI*O/(S*4),M,H=-Math.PI*.5,Y=this.data.d===3?-1:1;for(H+=this.r.v,this.v._length=0,M=0;M<S;M+=1){var J=O*Math.cos(H),ee=O*Math.sin(H),te=J===0&&ee===0?0:ee/Math.sqrt(J*J+ee*ee),se=J===0&&ee===0?0:-J/Math.sqrt(J*J+ee*ee);J+=+this.p.v[0],ee+=+this.p.v[1],this.v.setTripleAt(J,ee,J-te*N*P*Y,ee-se*N*P*Y,J+te*N*P*Y,ee+se*N*P*Y,M,!0),H+=R*Y}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],b),b}(),_=function(){function b(I,S){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=I,this.comp=I.comp,this.frameId=-1,this.d=S.d,this.initDynamicPropertyContainer(I),this.p=PropertyFactory.getProp(I,S.p,1,0,this),this.s=PropertyFactory.getProp(I,S.s,1,0,this),this.r=PropertyFactory.getProp(I,S.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return b.prototype={convertRectToPath:function(){var S=this.p.v[0],R=this.p.v[1],O=this.s.v[0]/2,P=this.s.v[1]/2,N=bmMin(O,P,this.r.v),M=N*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(S+O,R-P+N,S+O,R-P+N,S+O,R-P+M,0,!0),this.v.setTripleAt(S+O,R+P-N,S+O,R+P-M,S+O,R+P-N,1,!0),N!==0?(this.v.setTripleAt(S+O-N,R+P,S+O-N,R+P,S+O-M,R+P,2,!0),this.v.setTripleAt(S-O+N,R+P,S-O+M,R+P,S-O+N,R+P,3,!0),this.v.setTripleAt(S-O,R+P-N,S-O,R+P-N,S-O,R+P-M,4,!0),this.v.setTripleAt(S-O,R-P+N,S-O,R-P+M,S-O,R-P+N,5,!0),this.v.setTripleAt(S-O+N,R-P,S-O+N,R-P,S-O+M,R-P,6,!0),this.v.setTripleAt(S+O-N,R-P,S+O-M,R-P,S+O-N,R-P,7,!0)):(this.v.setTripleAt(S-O,R+P,S-O+M,R+P,S-O,R+P,2),this.v.setTripleAt(S-O,R-P,S-O,R-P+M,S-O,R-P,3))):(this.v.setTripleAt(S+O,R-P+N,S+O,R-P+M,S+O,R-P+N,0,!0),N!==0?(this.v.setTripleAt(S+O-N,R-P,S+O-N,R-P,S+O-M,R-P,1,!0),this.v.setTripleAt(S-O+N,R-P,S-O+M,R-P,S-O+N,R-P,2,!0),this.v.setTripleAt(S-O,R-P+N,S-O,R-P+N,S-O,R-P+M,3,!0),this.v.setTripleAt(S-O,R+P-N,S-O,R+P-M,S-O,R+P-N,4,!0),this.v.setTripleAt(S-O+N,R+P,S-O+N,R+P,S-O+M,R+P,5,!0),this.v.setTripleAt(S+O-N,R+P,S+O-M,R+P,S+O-N,R+P,6,!0),this.v.setTripleAt(S+O,R+P-N,S+O,R+P-N,S+O,R+P-M,7,!0)):(this.v.setTripleAt(S-O,R-P,S-O+M,R-P,S-O,R-P,1,!0),this.v.setTripleAt(S-O,R+P,S-O,R+P-M,S-O,R+P,2,!0),this.v.setTripleAt(S+O,R+P,S+O-M,R+P,S+O,R+P,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:s},extendPrototype([DynamicPropertyContainer],b),b}();function y(b,I,S){var R;if(S===3||S===4){var O=S===3?I.pt:I.ks,P=O.k;P.length?R=new v(b,I,S):R=new c(b,I,S)}else S===5?R=new _(b,I):S===6?R=new g(b,I):S===7&&(R=new m(b,I));return R.k&&b.addDynamicProperty(R),R}function B(){return c}function w(){return v}var C={};return C.getShapeProp=y,C.getConstructorFunction=B,C.getKeyframedConstructorFunction=w,C}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var t=Math.cos,r=Math.sin,n=Math.tan,s=Math.round;function o(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function h(Q){if(Q===0)return this;var D=t(Q),K=r(Q);return this._t(D,-K,0,0,K,D,0,0,0,0,1,0,0,0,0,1)}function l(Q){if(Q===0)return this;var D=t(Q),K=r(Q);return this._t(1,0,0,0,0,D,-K,0,0,K,D,0,0,0,0,1)}function c(Q){if(Q===0)return this;var D=t(Q),K=r(Q);return this._t(D,0,K,0,0,1,0,0,-K,0,D,0,0,0,0,1)}function d(Q){if(Q===0)return this;var D=t(Q),K=r(Q);return this._t(D,-K,0,0,K,D,0,0,0,0,1,0,0,0,0,1)}function v(Q,D){return this._t(1,D,Q,1,0,0)}function g(Q,D){return this.shear(n(Q),n(D))}function m(Q,D){var K=t(D),X=r(D);return this._t(K,X,0,0,-X,K,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,n(Q),1,0,0,0,0,1,0,0,0,0,1)._t(K,-X,0,0,X,K,0,0,0,0,1,0,0,0,0,1)}function _(Q,D,K){return!K&&K!==0&&(K=1),Q===1&&D===1&&K===1?this:this._t(Q,0,0,0,0,D,0,0,0,0,K,0,0,0,0,1)}function y(Q,D,K,X,j,ie,ae,oe,ve,ce,ge,Te,we,_e,pe,ye){return this.props[0]=Q,this.props[1]=D,this.props[2]=K,this.props[3]=X,this.props[4]=j,this.props[5]=ie,this.props[6]=ae,this.props[7]=oe,this.props[8]=ve,this.props[9]=ce,this.props[10]=ge,this.props[11]=Te,this.props[12]=we,this.props[13]=_e,this.props[14]=pe,this.props[15]=ye,this}function B(Q,D,K){return K=K||0,Q!==0||D!==0||K!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,Q,D,K,1):this}function w(Q,D,K,X,j,ie,ae,oe,ve,ce,ge,Te,we,_e,pe,ye){var G=this.props;if(Q===1&&D===0&&K===0&&X===0&&j===0&&ie===1&&ae===0&&oe===0&&ve===0&&ce===0&&ge===1&&Te===0)return G[12]=G[12]*Q+G[15]*we,G[13]=G[13]*ie+G[15]*_e,G[14]=G[14]*ge+G[15]*pe,G[15]*=ye,this._identityCalculated=!1,this;var q=G[0],re=G[1],ne=G[2],Ae=G[3],le=G[4],de=G[5],ue=G[6],fe=G[7],he=G[8],Ee=G[9],me=G[10],Be=G[11],Ce=G[12],be=G[13],Se=G[14],Ie=G[15];return G[0]=q*Q+re*j+ne*ve+Ae*we,G[1]=q*D+re*ie+ne*ce+Ae*_e,G[2]=q*K+re*ae+ne*ge+Ae*pe,G[3]=q*X+re*oe+ne*Te+Ae*ye,G[4]=le*Q+de*j+ue*ve+fe*we,G[5]=le*D+de*ie+ue*ce+fe*_e,G[6]=le*K+de*ae+ue*ge+fe*pe,G[7]=le*X+de*oe+ue*Te+fe*ye,G[8]=he*Q+Ee*j+me*ve+Be*we,G[9]=he*D+Ee*ie+me*ce+Be*_e,G[10]=he*K+Ee*ae+me*ge+Be*pe,G[11]=he*X+Ee*oe+me*Te+Be*ye,G[12]=Ce*Q+be*j+Se*ve+Ie*we,G[13]=Ce*D+be*ie+Se*ce+Ie*_e,G[14]=Ce*K+be*ae+Se*ge+Ie*pe,G[15]=Ce*X+be*oe+Se*Te+Ie*ye,this._identityCalculated=!1,this}function C(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function b(Q){for(var D=0;D<16;){if(Q.props[D]!==this.props[D])return!1;D+=1}return!0}function I(Q){var D;for(D=0;D<16;D+=1)Q.props[D]=this.props[D];return Q}function S(Q){var D;for(D=0;D<16;D+=1)this.props[D]=Q[D]}function R(Q,D,K){return{x:Q*this.props[0]+D*this.props[4]+K*this.props[8]+this.props[12],y:Q*this.props[1]+D*this.props[5]+K*this.props[9]+this.props[13],z:Q*this.props[2]+D*this.props[6]+K*this.props[10]+this.props[14]}}function O(Q,D,K){return Q*this.props[0]+D*this.props[4]+K*this.props[8]+this.props[12]}function P(Q,D,K){return Q*this.props[1]+D*this.props[5]+K*this.props[9]+this.props[13]}function N(Q,D,K){return Q*this.props[2]+D*this.props[6]+K*this.props[10]+this.props[14]}function M(){var Q=this.props[0]*this.props[5]-this.props[1]*this.props[4],D=this.props[5]/Q,K=-this.props[1]/Q,X=-this.props[4]/Q,j=this.props[0]/Q,ie=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/Q,ae=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/Q,oe=new Matrix;return oe.props[0]=D,oe.props[1]=K,oe.props[4]=X,oe.props[5]=j,oe.props[12]=ie,oe.props[13]=ae,oe}function H(Q){var D=this.getInverseMatrix();return D.applyToPointArray(Q[0],Q[1],Q[2]||0)}function Y(Q){var D,K=Q.length,X=[];for(D=0;D<K;D+=1)X[D]=H(Q[D]);return X}function J(Q,D,K){var X=createTypedArray("float32",6);if(this.isIdentity())X[0]=Q[0],X[1]=Q[1],X[2]=D[0],X[3]=D[1],X[4]=K[0],X[5]=K[1];else{var j=this.props[0],ie=this.props[1],ae=this.props[4],oe=this.props[5],ve=this.props[12],ce=this.props[13];X[0]=Q[0]*j+Q[1]*ae+ve,X[1]=Q[0]*ie+Q[1]*oe+ce,X[2]=D[0]*j+D[1]*ae+ve,X[3]=D[0]*ie+D[1]*oe+ce,X[4]=K[0]*j+K[1]*ae+ve,X[5]=K[0]*ie+K[1]*oe+ce}return X}function ee(Q,D,K){var X;return this.isIdentity()?X=[Q,D,K]:X=[Q*this.props[0]+D*this.props[4]+K*this.props[8]+this.props[12],Q*this.props[1]+D*this.props[5]+K*this.props[9]+this.props[13],Q*this.props[2]+D*this.props[6]+K*this.props[10]+this.props[14]],X}function te(Q,D){if(this.isIdentity())return Q+","+D;var K=this.props;return Math.round((Q*K[0]+D*K[4]+K[12])*100)/100+","+Math.round((Q*K[1]+D*K[5]+K[13])*100)/100}function se(){for(var Q=0,D=this.props,K="matrix3d(",X=1e4;Q<16;)K+=s(D[Q]*X)/X,K+=Q===15?")":",",Q+=1;return K}function W(Q){var D=1e4;return Q<1e-6&&Q>0||Q>-1e-6&&Q<0?s(Q*D)/D:Q}function k(){var Q=this.props,D=W(Q[0]),K=W(Q[1]),X=W(Q[4]),j=W(Q[5]),ie=W(Q[12]),ae=W(Q[13]);return"matrix("+D+","+K+","+X+","+j+","+ie+","+ae+")"}return function(){this.reset=o,this.rotate=h,this.rotateX=l,this.rotateY=c,this.rotateZ=d,this.skew=g,this.skewFromAxis=m,this.shear=v,this.scale=_,this.setTransform=y,this.translate=B,this.transform=w,this.applyToPoint=R,this.applyToX=O,this.applyToY=P,this.applyToZ=N,this.applyToPointArray=ee,this.applyToTriplePoints=J,this.applyToPointStringified=te,this.toCSS=se,this.to2dCSS=k,this.clone=I,this.cloneFromProps=S,this.equals=b,this.inversePoints=Y,this.inversePoint=H,this.getInverseMatrix=M,this._t=this.transform,this.isIdentity=C,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(n){return typeof n}:_typeof$3=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$3(t)}var lottie={};function setLocation(t){setLocationHref(t)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(t){setSubframeEnabled(t)}function setPrefix(t){setIdPrefix(t)}function loadAnimation(t){return animationManager.loadAnimation(t)}function setQuality(t){if(typeof t=="string")switch(t){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(t)&&t>1&&setDefaultCurveSegments(t)}function inBrowser(){return typeof navigator!="undefined"}function installPlugin(t,r){t==="expressions"&&setExpressionsPlugin(r)}function getFactory(t){switch(t){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.9.1";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(t){for(var r=queryString.split("&"),n=0;n<r.length;n+=1){var s=r[n].split("=");if(decodeURIComponent(s[0])==t)return decodeURIComponent(s[1])}return null}var queryString;{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src.replace(/^[^\?]+\??/,""),getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(t){}var ShapeModifiers=function(){var t={},r={};t.registerModifier=n,t.getModifier=s;function n(o,h){r[o]||(r[o]=h)}function s(o,h,l){return new r[o](h,l)}return t}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(t){if(!this.closed){t.sh.container.addDynamicProperty(t.sh);var r={shape:t.sh,data:t,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(r),this.addShapeToModifier(r),this._isAnimated&&t.setAsAnimated()}},ShapeModifier.prototype.init=function(t,r){this.shapes=[],this.elem=t,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,r),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(t,r){this.s=PropertyFactory.getProp(t,r.s,0,.01,this),this.e=PropertyFactory.getProp(t,r.e,0,.01,this),this.o=PropertyFactory.getProp(t,r.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=r.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(t){t.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(t,r,n,s,o){var h=[];r<=1?h.push({s:t,e:r}):t>=1?h.push({s:t-1,e:r-1}):(h.push({s:t,e:1}),h.push({s:0,e:r-1}));var l=[],c,d=h.length,v;for(c=0;c<d;c+=1)if(v=h[c],!(v.e*o<s||v.s*o>s+n)){var g,m;v.s*o<=s?g=0:g=(v.s*o-s)/n,v.e*o>=s+n?m=1:m=(v.e*o-s)/n,l.push([g,m])}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(t){var r,n=t.length;for(r=0;r<n;r+=1)segmentsLengthPool.release(t[r]);return t.length=0,t},TrimModifier.prototype.processShapes=function(t){var r,n;if(this._mdf||t){var s=this.o.v%360/360;if(s<0&&(s+=1),this.s.v>1?r=1+s:this.s.v<0?r=0+s:r=this.s.v+s,this.e.v>1?n=1+s:this.e.v<0?n=0+s:n=this.e.v+s,r>n){var o=r;r=n,n=o}r=Math.round(r*1e4)*1e-4,n=Math.round(n*1e4)*1e-4,this.sValue=r,this.eValue=n}else r=this.sValue,n=this.eValue;var h,l,c=this.shapes.length,d,v,g,m,_,y=0;if(n===r)for(l=0;l<c;l+=1)this.shapes[l].localShapeCollection.releaseShapes(),this.shapes[l].shape._mdf=!0,this.shapes[l].shape.paths=this.shapes[l].localShapeCollection,this._mdf&&(this.shapes[l].pathsData.length=0);else if(n===1&&r===0||n===0&&r===1){if(this._mdf)for(l=0;l<c;l+=1)this.shapes[l].pathsData.length=0,this.shapes[l].shape._mdf=!0}else{var B=[],w,C;for(l=0;l<c;l+=1)if(w=this.shapes[l],!w.shape._mdf&&!this._mdf&&!t&&this.m!==2)w.shape.paths=w.localShapeCollection;else{if(h=w.shape.paths,v=h._length,_=0,!w.shape._mdf&&w.pathsData.length)_=w.totalShapeLength;else{for(g=this.releasePathsData(w.pathsData),d=0;d<v;d+=1)m=bez.getSegmentsLength(h.shapes[d]),g.push(m),_+=m.totalLength;w.totalShapeLength=_,w.pathsData=g}y+=_,w.shape._mdf=!0}var b=r,I=n,S=0,R;for(l=c-1;l>=0;l-=1)if(w=this.shapes[l],w.shape._mdf){for(C=w.localShapeCollection,C.releaseShapes(),this.m===2&&c>1?(R=this.calculateShapeEdges(r,n,w.totalShapeLength,S,y),S+=w.totalShapeLength):R=[[b,I]],v=R.length,d=0;d<v;d+=1){b=R[d][0],I=R[d][1],B.length=0,I<=1?B.push({s:w.totalShapeLength*b,e:w.totalShapeLength*I}):b>=1?B.push({s:w.totalShapeLength*(b-1),e:w.totalShapeLength*(I-1)}):(B.push({s:w.totalShapeLength*b,e:w.totalShapeLength}),B.push({s:0,e:w.totalShapeLength*(I-1)}));var O=this.addShapes(w,B[0]);if(B[0].s!==B[0].e){if(B.length>1){var P=w.shape.paths.shapes[w.shape.paths._length-1];if(P.c){var N=O.pop();this.addPaths(O,C),O=this.addShapes(w,B[1],N)}else this.addPaths(O,C),O=this.addShapes(w,B[1])}this.addPaths(O,C)}}w.shape.paths=C}}},TrimModifier.prototype.addPaths=function(t,r){var n,s=t.length;for(n=0;n<s;n+=1)r.addShape(t[n])},TrimModifier.prototype.addSegment=function(t,r,n,s,o,h,l){o.setXYAt(r[0],r[1],"o",h),o.setXYAt(n[0],n[1],"i",h+1),l&&o.setXYAt(t[0],t[1],"v",h),o.setXYAt(s[0],s[1],"v",h+1)},TrimModifier.prototype.addSegmentFromArray=function(t,r,n,s){r.setXYAt(t[1],t[5],"o",n),r.setXYAt(t[2],t[6],"i",n+1),s&&r.setXYAt(t[0],t[4],"v",n),r.setXYAt(t[3],t[7],"v",n+1)},TrimModifier.prototype.addShapes=function(t,r,n){var s=t.pathsData,o=t.shape.paths.shapes,h,l=t.shape.paths._length,c,d,v=0,g,m,_,y,B=[],w,C=!0;for(n?(m=n._length,w=n._length):(n=shapePool.newElement(),m=0,w=0),B.push(n),h=0;h<l;h+=1){for(_=s[h].lengths,n.c=o[h].c,d=o[h].c?_.length:_.length+1,c=1;c<d;c+=1)if(g=_[c-1],v+g.addedLength<r.s)v+=g.addedLength,n.c=!1;else if(v>r.e){n.c=!1;break}else r.s<=v&&r.e>=v+g.addedLength?(this.addSegment(o[h].v[c-1],o[h].o[c-1],o[h].i[c],o[h].v[c],n,m,C),C=!1):(y=bez.getNewSegment(o[h].v[c-1],o[h].v[c],o[h].o[c-1],o[h].i[c],(r.s-v)/g.addedLength,(r.e-v)/g.addedLength,_[c-1]),this.addSegmentFromArray(y,n,m,C),C=!1,n.c=!1),v+=g.addedLength,m+=1;if(o[h].c&&_.length){if(g=_[c-1],v<=r.e){var b=_[c-1].addedLength;r.s<=v&&r.e>=v+b?(this.addSegment(o[h].v[c-1],o[h].o[c-1],o[h].i[0],o[h].v[0],n,m,C),C=!1):(y=bez.getNewSegment(o[h].v[c-1],o[h].v[0],o[h].o[c-1],o[h].i[0],(r.s-v)/b,(r.e-v)/b,_[c-1]),this.addSegmentFromArray(y,n,m,C),C=!1,n.c=!1)}else n.c=!1;v+=g.addedLength,m+=1}if(n._length&&(n.setXYAt(n.v[w][0],n.v[w][1],"i",w),n.setXYAt(n.v[n._length-1][0],n.v[n._length-1][1],"o",n._length-1)),v>r.e)break;h<l-1&&(n=shapePool.newElement(),C=!0,B.push(n),m=0)}return B};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(t,r){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(t,r.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(t,r){var n=r/100,s=[0,0],o=t._length,h=0;for(h=0;h<o;h+=1)s[0]+=t.v[h][0],s[1]+=t.v[h][1];s[0]/=o,s[1]/=o;var l=shapePool.newElement();l.c=t.c;var c,d,v,g,m,_;for(h=0;h<o;h+=1)c=t.v[h][0]+(s[0]-t.v[h][0])*n,d=t.v[h][1]+(s[1]-t.v[h][1])*n,v=t.o[h][0]+(s[0]-t.o[h][0])*-n,g=t.o[h][1]+(s[1]-t.o[h][1])*-n,m=t.i[h][0]+(s[0]-t.i[h][0])*-n,_=t.i[h][1]+(s[1]-t.i[h][1])*-n,l.setTripleAt(c,d,v,g,m,_,h);return l},PuckerAndBloatModifier.prototype.processShapes=function(t){var r,n,s=this.shapes.length,o,h,l=this.amount.v;if(l!==0){var c,d;for(n=0;n<s;n+=1){if(c=this.shapes[n],d=c.localShapeCollection,!(!c.shape._mdf&&!this._mdf&&!t))for(d.releaseShapes(),c.shape._mdf=!0,r=c.shape.paths.shapes,h=c.shape.paths._length,o=0;o<h;o+=1)d.addShape(this.processPath(r[o],l));c.shape.paths=c.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var t=[0,0];function r(d){var v=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||v,this.a&&d.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&d.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&d.skewFromAxis(-this.sk.v,this.sa.v),this.r?d.rotate(-this.r.v):d.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?d.translate(this.px.v,this.py.v,-this.pz.v):d.translate(this.px.v,this.py.v,0):d.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function n(d){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||d){var v;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var g,m;if(v=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(g=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/v,0),m=this.p.getValueAtTime(this.p.keyframes[0].t/v,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(g=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/v,0),m=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/v,0)):(g=this.p.pv,m=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/v,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){g=[],m=[];var _=this.px,y=this.py;_._caching.lastFrame+_.offsetTime<=_.keyframes[0].t?(g[0]=_.getValueAtTime((_.keyframes[0].t+.01)/v,0),g[1]=y.getValueAtTime((y.keyframes[0].t+.01)/v,0),m[0]=_.getValueAtTime(_.keyframes[0].t/v,0),m[1]=y.getValueAtTime(y.keyframes[0].t/v,0)):_._caching.lastFrame+_.offsetTime>=_.keyframes[_.keyframes.length-1].t?(g[0]=_.getValueAtTime(_.keyframes[_.keyframes.length-1].t/v,0),g[1]=y.getValueAtTime(y.keyframes[y.keyframes.length-1].t/v,0),m[0]=_.getValueAtTime((_.keyframes[_.keyframes.length-1].t-.01)/v,0),m[1]=y.getValueAtTime((y.keyframes[y.keyframes.length-1].t-.01)/v,0)):(g=[_.pv,y.pv],m[0]=_.getValueAtTime((_._caching.lastFrame+_.offsetTime-.01)/v,_.offsetTime),m[1]=y.getValueAtTime((y._caching.lastFrame+y.offsetTime-.01)/v,y.offsetTime))}else m=t,g=m;this.v.rotate(-Math.atan2(g[1]-m[1],g[0]-m[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function s(){if(!this.a.k)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function o(){}function h(d){this._addDynamicProperty(d),this.elem.addDynamicProperty(d),this._isDirty=!0}function l(d,v,g){if(this.elem=d,this.frameId=-1,this.propType="transform",this.data=v,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(g||d),v.p&&v.p.s?(this.px=PropertyFactory.getProp(d,v.p.x,0,0,this),this.py=PropertyFactory.getProp(d,v.p.y,0,0,this),v.p.z&&(this.pz=PropertyFactory.getProp(d,v.p.z,0,0,this))):this.p=PropertyFactory.getProp(d,v.p||{k:[0,0,0]},1,0,this),v.rx){if(this.rx=PropertyFactory.getProp(d,v.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(d,v.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(d,v.rz,0,degToRads,this),v.or.k[0].ti){var m,_=v.or.k.length;for(m=0;m<_;m+=1)v.or.k[m].to=null,v.or.k[m].ti=null}this.or=PropertyFactory.getProp(d,v.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(d,v.r||{k:0},0,degToRads,this);v.sk&&(this.sk=PropertyFactory.getProp(d,v.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(d,v.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(d,v.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(d,v.s||{k:[100,100,100]},1,.01,this),v.o?this.o=PropertyFactory.getProp(d,v.o,0,.01,d):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}l.prototype={applyToMatrix:r,getValue:n,precalculateMatrix:s,autoOrient:o},extendPrototype([DynamicPropertyContainer],l),l.prototype.addDynamicProperty=h,l.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function c(d,v,g){return new l(d,v,g)}return{getTransformProperty:c}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(t,r){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(t,r.c,0,null,this),this.o=PropertyFactory.getProp(t,r.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(t,r.tr,this),this.so=PropertyFactory.getProp(t,r.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(t,r.tr.eo,0,.01,this),this.data=r,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(t,r,n,s,o,h){var l=h?-1:1,c=s.s.v[0]+(1-s.s.v[0])*(1-o),d=s.s.v[1]+(1-s.s.v[1])*(1-o);t.translate(s.p.v[0]*l*o,s.p.v[1]*l*o,s.p.v[2]),r.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),r.rotate(-s.r.v*l*o),r.translate(s.a.v[0],s.a.v[1],s.a.v[2]),n.translate(-s.a.v[0],-s.a.v[1],s.a.v[2]),n.scale(h?1/c:c,h?1/d:d),n.translate(s.a.v[0],s.a.v[1],s.a.v[2])},RepeaterModifier.prototype.init=function(t,r,n,s){for(this.elem=t,this.arr=r,this.pos=n,this.elemsData=s,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(t),this.initModifierProperties(t,r[n]);n>0;)n-=1,this._elements.unshift(r[n]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(t){var r,n=t.length;for(r=0;r<n;r+=1)t[r]._processed=!1,t[r].ty==="gr"&&this.resetElements(t[r].it)},RepeaterModifier.prototype.cloneElements=function(t){var r=JSON.parse(JSON.stringify(t));return this.resetElements(r),r},RepeaterModifier.prototype.changeGroupRender=function(t,r){var n,s=t.length;for(n=0;n<s;n+=1)t[n]._render=r,t[n].ty==="gr"&&this.changeGroupRender(t[n].it,r)},RepeaterModifier.prototype.processShapes=function(t){var r,n,s,o,h,l=!1;if(this._mdf||t){var c=Math.ceil(this.c.v);if(this._groups.length<c){for(;this._groups.length<c;){var d={it:this.cloneElements(this._elements),ty:"gr"};d.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,d),this._groups.splice(0,0,d),this._currentCopies+=1}this.elem.reloadShapes(),l=!0}h=0;var v;for(s=0;s<=this._groups.length-1;s+=1){if(v=h<c,this._groups[s]._render=v,this.changeGroupRender(this._groups[s].it,v),!v){var g=this.elemsData[s].it,m=g[g.length-1];m.transform.op.v!==0?(m.transform.op._mdf=!0,m.transform.op.v=0):m.transform.op._mdf=!1}h+=1}this._currentCopies=c;var _=this.o.v,y=_%1,B=_>0?Math.floor(_):Math.ceil(_),w=this.pMatrix.props,C=this.rMatrix.props,b=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var I=0;if(_>0){for(;I<B;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),I+=1;y&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,y,!1),I+=y)}else if(_<0){for(;I>B;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),I-=1;y&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-y,!0),I-=y)}s=this.data.m===1?0:this._currentCopies-1,o=this.data.m===1?1:-1,h=this._currentCopies;for(var S,R;h;){if(r=this.elemsData[s].it,n=r[r.length-1].transform.mProps.v.props,R=n.length,r[r.length-1].transform.mProps._mdf=!0,r[r.length-1].transform.op._mdf=!0,r[r.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(s/(this._currentCopies-1)),I!==0){for((s!==0&&o===1||s!==this._currentCopies-1&&o===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(C[0],C[1],C[2],C[3],C[4],C[5],C[6],C[7],C[8],C[9],C[10],C[11],C[12],C[13],C[14],C[15]),this.matrix.transform(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7],b[8],b[9],b[10],b[11],b[12],b[13],b[14],b[15]),this.matrix.transform(w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],w[8],w[9],w[10],w[11],w[12],w[13],w[14],w[15]),S=0;S<R;S+=1)n[S]=this.matrix.props[S];this.matrix.reset()}else for(this.matrix.reset(),S=0;S<R;S+=1)n[S]=this.matrix.props[S];I+=1,h-=1,s+=o}}else for(h=this._currentCopies,s=0,o=1;h;)r=this.elemsData[s].it,n=r[r.length-1].transform.mProps.v.props,r[r.length-1].transform.mProps._mdf=!1,r[r.length-1].transform.op._mdf=!1,h-=1,s+=o;return l},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(t,r){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(t,r.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(t,r){var n=shapePool.newElement();n.c=t.c;var s,o=t._length,h,l,c,d,v,g,m=0,_,y,B,w,C,b;for(s=0;s<o;s+=1)h=t.v[s],c=t.o[s],l=t.i[s],h[0]===c[0]&&h[1]===c[1]&&h[0]===l[0]&&h[1]===l[1]?(s===0||s===o-1)&&!t.c?(n.setTripleAt(h[0],h[1],c[0],c[1],l[0],l[1],m),m+=1):(s===0?d=t.v[o-1]:d=t.v[s-1],v=Math.sqrt(Math.pow(h[0]-d[0],2)+Math.pow(h[1]-d[1],2)),g=v?Math.min(v/2,r)/v:0,C=h[0]+(d[0]-h[0])*g,_=C,b=h[1]-(h[1]-d[1])*g,y=b,B=_-(_-h[0])*roundCorner,w=y-(y-h[1])*roundCorner,n.setTripleAt(_,y,B,w,C,b,m),m+=1,s===o-1?d=t.v[0]:d=t.v[s+1],v=Math.sqrt(Math.pow(h[0]-d[0],2)+Math.pow(h[1]-d[1],2)),g=v?Math.min(v/2,r)/v:0,B=h[0]+(d[0]-h[0])*g,_=B,w=h[1]+(d[1]-h[1])*g,y=w,C=_-(_-h[0])*roundCorner,b=y-(y-h[1])*roundCorner,n.setTripleAt(_,y,B,w,C,b,m),m+=1):(n.setTripleAt(t.v[s][0],t.v[s][1],t.o[s][0],t.o[s][1],t.i[s][0],t.i[s][1],m),m+=1);return n},RoundCornersModifier.prototype.processShapes=function(t){var r,n,s=this.shapes.length,o,h,l=this.rd.v;if(l!==0){var c,d;for(n=0;n<s;n+=1){if(c=this.shapes[n],d=c.localShapeCollection,!(!c.shape._mdf&&!this._mdf&&!t))for(d.releaseShapes(),c.shape._mdf=!0,r=c.shape.paths.shapes,h=c.shape.paths._length,o=0;o<h;o+=1)d.addShape(this.processPath(r[o],l));c.shape.paths=c.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(t){for(var r=t.fStyle?t.fStyle.split(" "):[],n="normal",s="normal",o=r.length,h,l=0;l<o;l+=1)switch(h=r[l].toLowerCase(),h){case"italic":s="italic";break;case"bold":n="700";break;case"black":n="900";break;case"medium":n="500";break;case"regular":case"normal":n="400";break;case"light":case"thin":n="200";break}return{style:s,weight:t.fWeight||n}}var FontManager=function(){var t=5e3,r={w:0,size:0,shapes:[],data:{shapes:[]}},n=[];n=n.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var s=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"],o=[65039,8205];function h(R){var O=R.split(","),P,N=O.length,M=[];for(P=0;P<N;P+=1)O[P]!=="sans-serif"&&O[P]!=="monospace"&&M.push(O[P]);return M.join(",")}function l(R,O){var P=createTag("span");P.setAttribute("aria-hidden",!0),P.style.fontFamily=O;var N=createTag("span");N.innerText="giItT1WQy@!-/#",P.style.position="absolute",P.style.left="-10000px",P.style.top="-10000px",P.style.fontSize="300px",P.style.fontVariant="normal",P.style.fontStyle="normal",P.style.fontWeight="normal",P.style.letterSpacing="0",P.appendChild(N),document.body.appendChild(P);var M=N.offsetWidth;return N.style.fontFamily=h(R)+", "+O,{node:N,w:M,parent:P}}function c(){var R,O=this.fonts.length,P,N,M=O;for(R=0;R<O;R+=1)this.fonts[R].loaded?M-=1:this.fonts[R].fOrigin==="n"||this.fonts[R].origin===0?this.fonts[R].loaded=!0:(P=this.fonts[R].monoCase.node,N=this.fonts[R].monoCase.w,P.offsetWidth!==N?(M-=1,this.fonts[R].loaded=!0):(P=this.fonts[R].sansCase.node,N=this.fonts[R].sansCase.w,P.offsetWidth!==N&&(M-=1,this.fonts[R].loaded=!0)),this.fonts[R].loaded&&(this.fonts[R].sansCase.parent.parentNode.removeChild(this.fonts[R].sansCase.parent),this.fonts[R].monoCase.parent.parentNode.removeChild(this.fonts[R].monoCase.parent)));M!==0&&Date.now()-this.initTime<t?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function d(R,O){var P=createNS("text");P.style.fontSize="100px";var N=getFontProperties(O);P.setAttribute("font-family",O.fFamily),P.setAttribute("font-style",N.style),P.setAttribute("font-weight",N.weight),P.textContent="1",O.fClass?(P.style.fontFamily="inherit",P.setAttribute("class",O.fClass)):P.style.fontFamily=O.fFamily,R.appendChild(P);var M=createTag("canvas").getContext("2d");return M.font=O.fWeight+" "+O.fStyle+" 100px "+O.fFamily,P}function v(R,O){if(!R){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=R.list;return}var P=R.list,N,M=P.length,H=M;for(N=0;N<M;N+=1){var Y=!0,J,ee;if(P[N].loaded=!1,P[N].monoCase=l(P[N].fFamily,"monospace"),P[N].sansCase=l(P[N].fFamily,"sans-serif"),!P[N].fPath)P[N].loaded=!0,H-=1;else if(P[N].fOrigin==="p"||P[N].origin===3){if(J=document.querySelectorAll('style[f-forigin="p"][f-family="'+P[N].fFamily+'"], style[f-origin="3"][f-family="'+P[N].fFamily+'"]'),J.length>0&&(Y=!1),Y){var te=createTag("style");te.setAttribute("f-forigin",P[N].fOrigin),te.setAttribute("f-origin",P[N].origin),te.setAttribute("f-family",P[N].fFamily),te.type="text/css",te.innerText="@font-face {font-family: "+P[N].fFamily+"; font-style: normal; src: url('"+P[N].fPath+"');}",O.appendChild(te)}}else if(P[N].fOrigin==="g"||P[N].origin===1){for(J=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),ee=0;ee<J.length;ee+=1)J[ee].href.indexOf(P[N].fPath)!==-1&&(Y=!1);if(Y){var se=createTag("link");se.setAttribute("f-forigin",P[N].fOrigin),se.setAttribute("f-origin",P[N].origin),se.type="text/css",se.rel="stylesheet",se.href=P[N].fPath,document.body.appendChild(se)}}else if(P[N].fOrigin==="t"||P[N].origin===2){for(J=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),ee=0;ee<J.length;ee+=1)P[N].fPath===J[ee].src&&(Y=!1);if(Y){var W=createTag("link");W.setAttribute("f-forigin",P[N].fOrigin),W.setAttribute("f-origin",P[N].origin),W.setAttribute("rel","stylesheet"),W.setAttribute("href",P[N].fPath),O.appendChild(W)}}P[N].helper=d(O,P[N]),P[N].cache={},this.fonts.push(P[N])}H===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function g(R){if(!!R){this.chars||(this.chars=[]);var O,P=R.length,N,M=this.chars.length,H;for(O=0;O<P;O+=1){for(N=0,H=!1;N<M;)this.chars[N].style===R[O].style&&this.chars[N].fFamily===R[O].fFamily&&this.chars[N].ch===R[O].ch&&(H=!0),N+=1;H||(this.chars.push(R[O]),M+=1)}}}function m(R,O,P){for(var N=0,M=this.chars.length;N<M;){if(this.chars[N].ch===R&&this.chars[N].style===O&&this.chars[N].fFamily===P)return this.chars[N];N+=1}return(typeof R=="string"&&R.charCodeAt(0)!==13||!R)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",R,O,P)),r}function _(R,O,P){var N=this.getFontByName(O),M=R.charCodeAt(0);if(!N.cache[M+1]){var H=N.helper;if(R===" "){H.textContent="|"+R+"|";var Y=H.getComputedTextLength();H.textContent="||";var J=H.getComputedTextLength();N.cache[M+1]=(Y-J)/100}else H.textContent=R,N.cache[M+1]=H.getComputedTextLength()/100}return N.cache[M+1]*P}function y(R){for(var O=0,P=this.fonts.length;O<P;){if(this.fonts[O].fName===R)return this.fonts[O];O+=1}return this.fonts[0]}function B(R,O){var P=R.toString(16)+O.toString(16);return s.indexOf(P)!==-1}function w(R,O){return O?R===o[0]&&O===o[1]:R===o[1]}function C(R){return n.indexOf(R)!==-1}function b(){this.isLoaded=!0}var I=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};I.isModifier=B,I.isZeroWidthJoiner=w,I.isCombinedCharacter=C;var S={addChars:g,addFonts:v,getCharData:m,getFontByName:y,measureText:_,checkLoadedFonts:c,setIsLoaded:b};return I.prototype=S,I}();function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(r){this.renderableComponents.indexOf(r)===-1&&this.renderableComponents.push(r)},removeRenderableComponent:function(r){this.renderableComponents.indexOf(r)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(r),1)},prepareRenderableFrame:function(r){this.checkLayerLimits(r)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(r){this.data.ip-this.data.st<=r&&this.data.op-this.data.st>r?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var r,n=this.renderableComponents.length;for(r=0;r<n;r+=1)this.renderableComponents[r].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var MaskManagerInterface=function(){function t(n,s){this._mask=n,this._data=s}Object.defineProperty(t.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(t.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var r=function(s){var o=createSizedArray(s.viewData.length),h,l=s.viewData.length;for(h=0;h<l;h+=1)o[h]=new t(s.viewData[h],s.masksProperties[h]);var c=function(v){for(h=0;h<l;){if(s.masksProperties[h].nm===v)return o[h];h+=1}return null};return c};return r}(),ExpressionPropertyInterface=function(){var t={pv:0,v:0,mult:1},r={pv:[0,0,0],v:[0,0,0],mult:1};function n(l,c,d){Object.defineProperty(l,"velocity",{get:function(){return c.getVelocityAtTime(c.comp.currentFrame)}}),l.numKeys=c.keyframes?c.keyframes.length:0,l.key=function(v){if(!l.numKeys)return 0;var g="";"s"in c.keyframes[v-1]?g=c.keyframes[v-1].s:"e"in c.keyframes[v-2]?g=c.keyframes[v-2].e:g=c.keyframes[v-2].s;var m=d==="unidimensional"?new Number(g):Object.assign({},g);return m.time=c.keyframes[v-1].t/c.elem.comp.globalData.frameRate,m.value=d==="unidimensional"?g[0]:g,m},l.valueAtTime=c.getValueAtTime,l.speedAtTime=c.getSpeedAtTime,l.velocityAtTime=c.getVelocityAtTime,l.propertyGroup=c.propertyGroup}function s(l){(!l||!("pv"in l))&&(l=t);var c=1/l.mult,d=l.pv*c,v=new Number(d);return v.value=d,n(v,l,"unidimensional"),function(){return l.k&&l.getValue(),d=l.v*c,v.value!==d&&(v=new Number(d),v.value=d,n(v,l,"unidimensional")),v}}function o(l){(!l||!("pv"in l))&&(l=r);var c=1/l.mult,d=l.data&&l.data.l||l.pv.length,v=createTypedArray("float32",d),g=createTypedArray("float32",d);return v.value=g,n(v,l,"multidimensional"),function(){l.k&&l.getValue();for(var m=0;m<d;m+=1)g[m]=l.v[m]*c,v[m]=g[m];return v}}function h(){return t}return function(l){return l?l.propType==="unidimensional"?s(l):o(l):h}}(),TransformExpressionInterface=function(){return function(t){function r(l){switch(l){case"scale":case"Scale":case"ADBE Scale":case 6:return r.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return r.rotation;case"ADBE Rotate X":return r.xRotation;case"ADBE Rotate Y":return r.yRotation;case"position":case"Position":case"ADBE Position":case 2:return r.position;case"ADBE Position_0":return r.xPosition;case"ADBE Position_1":return r.yPosition;case"ADBE Position_2":return r.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return r.anchorPoint;case"opacity":case"Opacity":case 11:return r.opacity;default:return null}}Object.defineProperty(r,"rotation",{get:ExpressionPropertyInterface(t.r||t.rz)}),Object.defineProperty(r,"zRotation",{get:ExpressionPropertyInterface(t.rz||t.r)}),Object.defineProperty(r,"xRotation",{get:ExpressionPropertyInterface(t.rx)}),Object.defineProperty(r,"yRotation",{get:ExpressionPropertyInterface(t.ry)}),Object.defineProperty(r,"scale",{get:ExpressionPropertyInterface(t.s)});var n,s,o,h;return t.p?h=ExpressionPropertyInterface(t.p):(n=ExpressionPropertyInterface(t.px),s=ExpressionPropertyInterface(t.py),t.pz&&(o=ExpressionPropertyInterface(t.pz))),Object.defineProperty(r,"position",{get:function(){return t.p?h():[n(),s(),o?o():0]}}),Object.defineProperty(r,"xPosition",{get:ExpressionPropertyInterface(t.px)}),Object.defineProperty(r,"yPosition",{get:ExpressionPropertyInterface(t.py)}),Object.defineProperty(r,"zPosition",{get:ExpressionPropertyInterface(t.pz)}),Object.defineProperty(r,"anchorPoint",{get:ExpressionPropertyInterface(t.a)}),Object.defineProperty(r,"opacity",{get:ExpressionPropertyInterface(t.o)}),Object.defineProperty(r,"skew",{get:ExpressionPropertyInterface(t.sk)}),Object.defineProperty(r,"skewAxis",{get:ExpressionPropertyInterface(t.sa)}),Object.defineProperty(r,"orientation",{get:ExpressionPropertyInterface(t.or)}),r}}(),LayerExpressionInterface=function(){function t(v){var g=new Matrix;if(v!==void 0){var m=this._elem.finalTransform.mProp.getValueAtTime(v);m.clone(g)}else{var _=this._elem.finalTransform.mProp;_.applyToMatrix(g)}return g}function r(v,g){var m=this.getMatrix(g);return m.props[12]=0,m.props[13]=0,m.props[14]=0,this.applyPoint(m,v)}function n(v,g){var m=this.getMatrix(g);return this.applyPoint(m,v)}function s(v,g){var m=this.getMatrix(g);return m.props[12]=0,m.props[13]=0,m.props[14]=0,this.invertPoint(m,v)}function o(v,g){var m=this.getMatrix(g);return this.invertPoint(m,v)}function h(v,g){if(this._elem.hierarchy&&this._elem.hierarchy.length){var m,_=this._elem.hierarchy.length;for(m=0;m<_;m+=1)this._elem.hierarchy[m].finalTransform.mProp.applyToMatrix(v)}return v.applyToPointArray(g[0],g[1],g[2]||0)}function l(v,g){if(this._elem.hierarchy&&this._elem.hierarchy.length){var m,_=this._elem.hierarchy.length;for(m=0;m<_;m+=1)this._elem.hierarchy[m].finalTransform.mProp.applyToMatrix(v)}return v.inversePoint(g)}function c(v){var g=new Matrix;if(g.reset(),this._elem.finalTransform.mProp.applyToMatrix(g),this._elem.hierarchy&&this._elem.hierarchy.length){var m,_=this._elem.hierarchy.length;for(m=0;m<_;m+=1)this._elem.hierarchy[m].finalTransform.mProp.applyToMatrix(g);return g.inversePoint(v)}return g.inversePoint(v)}function d(){return[1,1,1,1]}return function(v){var g;function m(w){y.mask=new MaskManagerInterface(w,v)}function _(w){y.effect=w}function y(w){switch(w){case"ADBE Root Vectors Group":case"Contents":case 2:return y.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return g;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return y.effect;case"ADBE Text Properties":return y.textInterface;default:return null}}y.getMatrix=t,y.invertPoint=l,y.applyPoint=h,y.toWorld=n,y.toWorldVec=r,y.fromWorld=o,y.fromWorldVec=s,y.toComp=n,y.fromComp=c,y.sampleImage=d,y.sourceRectAtTime=v.sourceRectAtTime.bind(v),y._elem=v,g=TransformExpressionInterface(v.finalTransform.mProp);var B=getDescriptor(g,"anchorPoint");return Object.defineProperties(y,{hasParent:{get:function(){return v.hierarchy.length}},parent:{get:function(){return v.hierarchy[0].layerInterface}},rotation:getDescriptor(g,"rotation"),scale:getDescriptor(g,"scale"),position:getDescriptor(g,"position"),opacity:getDescriptor(g,"opacity"),anchorPoint:B,anchor_point:B,transform:{get:function(){return g}},active:{get:function(){return v.isInRange}}}),y.startTime=v.data.st,y.index=v.data.ind,y.source=v.data.refId,y.height=v.data.ty===0?v.data.h:100,y.width=v.data.ty===0?v.data.w:100,y.inPoint=v.data.ip/v.comp.globalData.frameRate,y.outPoint=v.data.op/v.comp.globalData.frameRate,y._name=v.data.nm,y.registerMaskInterface=m,y.registerEffectsInterface=_,y}}(),propertyGroupFactory=function(){return function(t,r){return function(n){return n=n===void 0?1:n,n<=0?t:r(n-1)}}}(),PropertyInterface=function(){return function(t,r){var n={_name:t};function s(o){return o=o===void 0?1:o,o<=0?n:r(o-1)}return s}}(),EffectsExpressionInterface=function(){var t={createEffectsInterface:r};function r(o,h){if(o.effectsManager){var l=[],c=o.data.ef,d,v=o.effectsManager.effectElements.length;for(d=0;d<v;d+=1)l.push(n(c[d],o.effectsManager.effectElements[d],h,o));var g=o.data.ef||[],m=function(y){for(d=0,v=g.length;d<v;){if(y===g[d].nm||y===g[d].mn||y===g[d].ix)return l[d];d+=1}return null};return Object.defineProperty(m,"numProperties",{get:function(){return g.length}}),m}return null}function n(o,h,l,c){function d(y){for(var B=o.ef,w=0,C=B.length;w<C;){if(y===B[w].nm||y===B[w].mn||y===B[w].ix)return B[w].ty===5?g[w]:g[w]();w+=1}throw new Error}var v=propertyGroupFactory(d,l),g=[],m,_=o.ef.length;for(m=0;m<_;m+=1)o.ef[m].ty===5?g.push(n(o.ef[m],h.effectElements[m],h.effectElements[m].propertyGroup,c)):g.push(s(h.effectElements[m],o.ef[m].ty,c,v));return o.mn==="ADBE Color Control"&&Object.defineProperty(d,"color",{get:function(){return g[0]()}}),Object.defineProperties(d,{numProperties:{get:function(){return o.np}},_name:{value:o.nm},propertyGroup:{value:v}}),d.enabled=o.en!==0,d.active=d.enabled,d}function s(o,h,l,c){var d=ExpressionPropertyInterface(o.p);function v(){return h===10?l.comp.compInterface(o.p.v):d()}return o.p.setGroupProperty&&o.p.setGroupProperty(PropertyInterface("",c)),v}return t}(),CompExpressionInterface=function(){return function(t){function r(n){for(var s=0,o=t.layers.length;s<o;){if(t.layers[s].nm===n||t.layers[s].ind===n)return t.elements[s].layerInterface;s+=1}return null}return Object.defineProperty(r,"_name",{value:t.data.nm}),r.layer=r,r.pixelAspect=1,r.height=t.data.h||t.globalData.compSize.h,r.width=t.data.w||t.globalData.compSize.w,r.pixelAspect=1,r.frameDuration=1/t.globalData.frameRate,r.displayStartTime=0,r.numLayers=t.layers.length,r}}(),ShapePathInterface=function(){return function(r,n,s){var o=n.sh;function h(c){return c==="Shape"||c==="shape"||c==="Path"||c==="path"||c==="ADBE Vector Shape"||c===2?h.path:null}var l=propertyGroupFactory(h,s);return o.setGroupProperty(PropertyInterface("Path",l)),Object.defineProperties(h,{path:{get:function(){return o.k&&o.getValue(),o}},shape:{get:function(){return o.k&&o.getValue(),o}},_name:{value:r.nm},ix:{value:r.ix},propertyIndex:{value:r.ix},mn:{value:r.mn},propertyGroup:{value:s}}),h}}(),ShapeExpressionInterface=function(){function t(B,w,C){var b=[],I,S=B?B.length:0;for(I=0;I<S;I+=1)B[I].ty==="gr"?b.push(n(B[I],w[I],C)):B[I].ty==="fl"?b.push(s(B[I],w[I],C)):B[I].ty==="st"?b.push(l(B[I],w[I],C)):B[I].ty==="tm"?b.push(c(B[I],w[I],C)):B[I].ty==="tr"||(B[I].ty==="el"?b.push(v(B[I],w[I],C)):B[I].ty==="sr"?b.push(g(B[I],w[I],C)):B[I].ty==="sh"?b.push(ShapePathInterface(B[I],w[I],C)):B[I].ty==="rc"?b.push(m(B[I],w[I],C)):B[I].ty==="rd"?b.push(_(B[I],w[I],C)):B[I].ty==="rp"?b.push(y(B[I],w[I],C)):B[I].ty==="gf"?b.push(o(B[I],w[I],C)):b.push(h(B[I],w[I])));return b}function r(B,w,C){var b,I=function(O){for(var P=0,N=b.length;P<N;){if(b[P]._name===O||b[P].mn===O||b[P].propertyIndex===O||b[P].ix===O||b[P].ind===O)return b[P];P+=1}return typeof O=="number"?b[O-1]:null};I.propertyGroup=propertyGroupFactory(I,C),b=t(B.it,w.it,I.propertyGroup),I.numProperties=b.length;var S=d(B.it[B.it.length-1],w.it[w.it.length-1],I.propertyGroup);return I.transform=S,I.propertyIndex=B.cix,I._name=B.nm,I}function n(B,w,C){var b=function(O){switch(O){case"ADBE Vectors Group":case"Contents":case 2:return b.content;default:return b.transform}};b.propertyGroup=propertyGroupFactory(b,C);var I=r(B,w,b.propertyGroup),S=d(B.it[B.it.length-1],w.it[w.it.length-1],b.propertyGroup);return b.content=I,b.transform=S,Object.defineProperty(b,"_name",{get:function(){return B.nm}}),b.numProperties=B.np,b.propertyIndex=B.ix,b.nm=B.nm,b.mn=B.mn,b}function s(B,w,C){function b(I){return I==="Color"||I==="color"?b.color:I==="Opacity"||I==="opacity"?b.opacity:null}return Object.defineProperties(b,{color:{get:ExpressionPropertyInterface(w.c)},opacity:{get:ExpressionPropertyInterface(w.o)},_name:{value:B.nm},mn:{value:B.mn}}),w.c.setGroupProperty(PropertyInterface("Color",C)),w.o.setGroupProperty(PropertyInterface("Opacity",C)),b}function o(B,w,C){function b(I){return I==="Start Point"||I==="start point"?b.startPoint:I==="End Point"||I==="end point"?b.endPoint:I==="Opacity"||I==="opacity"?b.opacity:null}return Object.defineProperties(b,{startPoint:{get:ExpressionPropertyInterface(w.s)},endPoint:{get:ExpressionPropertyInterface(w.e)},opacity:{get:ExpressionPropertyInterface(w.o)},type:{get:function(){return"a"}},_name:{value:B.nm},mn:{value:B.mn}}),w.s.setGroupProperty(PropertyInterface("Start Point",C)),w.e.setGroupProperty(PropertyInterface("End Point",C)),w.o.setGroupProperty(PropertyInterface("Opacity",C)),b}function h(){function B(){return null}return B}function l(B,w,C){var b=propertyGroupFactory(N,C),I=propertyGroupFactory(P,b);function S(M){Object.defineProperty(P,B.d[M].nm,{get:ExpressionPropertyInterface(w.d.dataProps[M].p)})}var R,O=B.d?B.d.length:0,P={};for(R=0;R<O;R+=1)S(R),w.d.dataProps[R].p.setGroupProperty(I);function N(M){return M==="Color"||M==="color"?N.color:M==="Opacity"||M==="opacity"?N.opacity:M==="Stroke Width"||M==="stroke width"?N.strokeWidth:null}return Object.defineProperties(N,{color:{get:ExpressionPropertyInterface(w.c)},opacity:{get:ExpressionPropertyInterface(w.o)},strokeWidth:{get:ExpressionPropertyInterface(w.w)},dash:{get:function(){return P}},_name:{value:B.nm},mn:{value:B.mn}}),w.c.setGroupProperty(PropertyInterface("Color",b)),w.o.setGroupProperty(PropertyInterface("Opacity",b)),w.w.setGroupProperty(PropertyInterface("Stroke Width",b)),N}function c(B,w,C){function b(S){return S===B.e.ix||S==="End"||S==="end"?b.end:S===B.s.ix?b.start:S===B.o.ix?b.offset:null}var I=propertyGroupFactory(b,C);return b.propertyIndex=B.ix,w.s.setGroupProperty(PropertyInterface("Start",I)),w.e.setGroupProperty(PropertyInterface("End",I)),w.o.setGroupProperty(PropertyInterface("Offset",I)),b.propertyIndex=B.ix,b.propertyGroup=C,Object.defineProperties(b,{start:{get:ExpressionPropertyInterface(w.s)},end:{get:ExpressionPropertyInterface(w.e)},offset:{get:ExpressionPropertyInterface(w.o)},_name:{value:B.nm}}),b.mn=B.mn,b}function d(B,w,C){function b(S){return B.a.ix===S||S==="Anchor Point"?b.anchorPoint:B.o.ix===S||S==="Opacity"?b.opacity:B.p.ix===S||S==="Position"?b.position:B.r.ix===S||S==="Rotation"||S==="ADBE Vector Rotation"?b.rotation:B.s.ix===S||S==="Scale"?b.scale:B.sk&&B.sk.ix===S||S==="Skew"?b.skew:B.sa&&B.sa.ix===S||S==="Skew Axis"?b.skewAxis:null}var I=propertyGroupFactory(b,C);return w.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",I)),w.transform.mProps.p.setGroupProperty(PropertyInterface("Position",I)),w.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",I)),w.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",I)),w.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",I)),w.transform.mProps.sk&&(w.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",I)),w.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",I))),w.transform.op.setGroupProperty(PropertyInterface("Opacity",I)),Object.defineProperties(b,{opacity:{get:ExpressionPropertyInterface(w.transform.mProps.o)},position:{get:ExpressionPropertyInterface(w.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(w.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(w.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(w.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(w.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(w.transform.mProps.sa)},_name:{value:B.nm}}),b.ty="tr",b.mn=B.mn,b.propertyGroup=C,b}function v(B,w,C){function b(R){return B.p.ix===R?b.position:B.s.ix===R?b.size:null}var I=propertyGroupFactory(b,C);b.propertyIndex=B.ix;var S=w.sh.ty==="tm"?w.sh.prop:w.sh;return S.s.setGroupProperty(PropertyInterface("Size",I)),S.p.setGroupProperty(PropertyInterface("Position",I)),Object.defineProperties(b,{size:{get:ExpressionPropertyInterface(S.s)},position:{get:ExpressionPropertyInterface(S.p)},_name:{value:B.nm}}),b.mn=B.mn,b}function g(B,w,C){function b(R){return B.p.ix===R?b.position:B.r.ix===R?b.rotation:B.pt.ix===R?b.points:B.or.ix===R||R==="ADBE Vector Star Outer Radius"?b.outerRadius:B.os.ix===R?b.outerRoundness:B.ir&&(B.ir.ix===R||R==="ADBE Vector Star Inner Radius")?b.innerRadius:B.is&&B.is.ix===R?b.innerRoundness:null}var I=propertyGroupFactory(b,C),S=w.sh.ty==="tm"?w.sh.prop:w.sh;return b.propertyIndex=B.ix,S.or.setGroupProperty(PropertyInterface("Outer Radius",I)),S.os.setGroupProperty(PropertyInterface("Outer Roundness",I)),S.pt.setGroupProperty(PropertyInterface("Points",I)),S.p.setGroupProperty(PropertyInterface("Position",I)),S.r.setGroupProperty(PropertyInterface("Rotation",I)),B.ir&&(S.ir.setGroupProperty(PropertyInterface("Inner Radius",I)),S.is.setGroupProperty(PropertyInterface("Inner Roundness",I))),Object.defineProperties(b,{position:{get:ExpressionPropertyInterface(S.p)},rotation:{get:ExpressionPropertyInterface(S.r)},points:{get:ExpressionPropertyInterface(S.pt)},outerRadius:{get:ExpressionPropertyInterface(S.or)},outerRoundness:{get:ExpressionPropertyInterface(S.os)},innerRadius:{get:ExpressionPropertyInterface(S.ir)},innerRoundness:{get:ExpressionPropertyInterface(S.is)},_name:{value:B.nm}}),b.mn=B.mn,b}function m(B,w,C){function b(R){return B.p.ix===R?b.position:B.r.ix===R?b.roundness:B.s.ix===R||R==="Size"||R==="ADBE Vector Rect Size"?b.size:null}var I=propertyGroupFactory(b,C),S=w.sh.ty==="tm"?w.sh.prop:w.sh;return b.propertyIndex=B.ix,S.p.setGroupProperty(PropertyInterface("Position",I)),S.s.setGroupProperty(PropertyInterface("Size",I)),S.r.setGroupProperty(PropertyInterface("Rotation",I)),Object.defineProperties(b,{position:{get:ExpressionPropertyInterface(S.p)},roundness:{get:ExpressionPropertyInterface(S.r)},size:{get:ExpressionPropertyInterface(S.s)},_name:{value:B.nm}}),b.mn=B.mn,b}function _(B,w,C){function b(R){return B.r.ix===R||R==="Round Corners 1"?b.radius:null}var I=propertyGroupFactory(b,C),S=w;return b.propertyIndex=B.ix,S.rd.setGroupProperty(PropertyInterface("Radius",I)),Object.defineProperties(b,{radius:{get:ExpressionPropertyInterface(S.rd)},_name:{value:B.nm}}),b.mn=B.mn,b}function y(B,w,C){function b(R){return B.c.ix===R||R==="Copies"?b.copies:B.o.ix===R||R==="Offset"?b.offset:null}var I=propertyGroupFactory(b,C),S=w;return b.propertyIndex=B.ix,S.c.setGroupProperty(PropertyInterface("Copies",I)),S.o.setGroupProperty(PropertyInterface("Offset",I)),Object.defineProperties(b,{copies:{get:ExpressionPropertyInterface(S.c)},offset:{get:ExpressionPropertyInterface(S.o)},_name:{value:B.nm}}),b.mn=B.mn,b}return function(B,w,C){var b;function I(R){if(typeof R=="number")return R=R===void 0?1:R,R===0?C:b[R-1];for(var O=0,P=b.length;O<P;){if(b[O]._name===R)return b[O];O+=1}return null}function S(){return C}return I.propertyGroup=propertyGroupFactory(I,S),b=t(B,w,I.propertyGroup),I.numProperties=b.length,I._name="Contents",I}}(),TextExpressionInterface=function(){return function(t){var r,n;function s(o){switch(o){case"ADBE Text Document":return s.sourceText;default:return null}}return Object.defineProperty(s,"sourceText",{get:function(){t.textProperty.getValue();var h=t.textProperty.currentData.t;return h!==r&&(t.textProperty.currentData.t=r,n=new String(h),n.value=h||new String(h)),n}}),s}}(),getBlendMode=function(){var t={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(r){return t[r]||""}}();function SliderEffect(t,r,n){this.p=PropertyFactory.getProp(r,t.v,0,0,n)}function AngleEffect(t,r,n){this.p=PropertyFactory.getProp(r,t.v,0,0,n)}function ColorEffect(t,r,n){this.p=PropertyFactory.getProp(r,t.v,1,0,n)}function PointEffect(t,r,n){this.p=PropertyFactory.getProp(r,t.v,1,0,n)}function LayerIndexEffect(t,r,n){this.p=PropertyFactory.getProp(r,t.v,0,0,n)}function MaskIndexEffect(t,r,n){this.p=PropertyFactory.getProp(r,t.v,0,0,n)}function CheckboxEffect(t,r,n){this.p=PropertyFactory.getProp(r,t.v,0,0,n)}function NoValueEffect(){this.p={}}function EffectsManager(t,r){var n=t.ef||[];this.effectElements=[];var s,o=n.length,h;for(s=0;s<o;s+=1)h=new GroupEffect(n[s],r),this.effectElements.push(h)}function GroupEffect(t,r){this.init(t,r)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(t,r){this.data=t,this.effectElements=[],this.initDynamicPropertyContainer(r);var n,s=this.data.ef.length,o,h=this.data.ef;for(n=0;n<s;n+=1){switch(o=null,h[n].ty){case 0:o=new SliderEffect(h[n],r,this);break;case 1:o=new AngleEffect(h[n],r,this);break;case 2:o=new ColorEffect(h[n],r,this);break;case 3:o=new PointEffect(h[n],r,this);break;case 4:case 7:o=new CheckboxEffect(h[n],r,this);break;case 10:o=new LayerIndexEffect(h[n],r,this);break;case 11:o=new MaskIndexEffect(h[n],r,this);break;case 5:o=new EffectsManager(h[n],r,this);break;default:o=new NoValueEffect(h[n],r,this);break}o&&this.effectElements.push(o)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var r=0,n=this.data.masksProperties.length;r<n;){if(this.data.masksProperties[r].mode!=="n"&&this.data.masksProperties[r].cl!==!1)return!0;r+=1}return!1},initExpressions:function(){this.layerInterface=LayerExpressionInterface(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var r=EffectsExpressionInterface.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(r),this.data.ty===0||this.data.xt?this.compInterface=CompExpressionInterface(this):this.data.ty===4?(this.layerInterface.shapeInterface=ShapeExpressionInterface(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=TextExpressionInterface(this),this.layerInterface.text=this.layerInterface.textInterface)},setBlendMode:function(){var r=getBlendMode(this.data.bm),n=this.baseElement||this.layerElement;n.style["mix-blend-mode"]=r},initBaseData:function(r,n,s){this.globalData=n,this.comp=s,this.data=r,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(r,n){var s,o=this.dynamicProperties.length;for(s=0;s<o;s+=1)(n||this._isParent&&this.dynamicProperties[s].propType==="transform")&&(this.dynamicProperties[s].getValue(),this.dynamicProperties[s]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(r){this.dynamicProperties.indexOf(r)===-1&&this.dynamicProperties.push(r)}};function _typeof$2(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(n){return typeof n}:_typeof$2=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$2(t)}var FootageInterface=function(){var t=function(s){var o="",h=s.getFootageData();function l(){return o="",h=s.getFootageData(),c}function c(d){if(h[d])return o=d,h=h[d],_typeof$2(h)==="object"?c:h;var v=d.indexOf(o);if(v!==-1){var g=parseInt(d.substr(v+o.length),10);return h=h[g],_typeof$2(h)==="object"?c:h}return""}return l},r=function(s){function o(h){return h==="Outline"?o.outlineInterface():null}return o._name="Outline",o.outlineInterface=t(s),o};return function(n){function s(o){return o==="Data"?s.dataInterface:null}return s._name="Data",s.dataInterface=r(n),s}}();function FootageElement(t,r,n){this.initFrame(),this.initRenderable(),this.assetData=r.getAssetData(t.refId),this.footageData=r.imageLoader.getAsset(this.assetData),this.initBaseData(t,r,n)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){this.layerInterface=FootageInterface(this)},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(t,r,n){this.initFrame(),this.initRenderable(),this.assetData=r.getAssetData(t.refId),this.initBaseData(t,r,n),this._isPlaying=!1,this._canPlay=!1;var s=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(s),this._currentTime=0,this.globalData.audioController.addAudio(this),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,r.frameRate,this):{_placeholder:!0}}AudioElement.prototype.prepareFrame=function(t){if(this.prepareRenderableFrame(t,!0),this.prepareProperties(t,!0),this.tm._placeholder)this._currentTime=t/this.data.sr;else{var r=this.tm.v;this._currentTime=r}},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(t){this.audio.rate(t)},AudioElement.prototype.volume=function(t){this.audio.volume(t)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(t){var r,n=this.layers.length,s;for(this.completeLayers=!0,r=n-1;r>=0;r-=1)this.elements[r]||(s=this.layers[r],s.ip-s.st<=t-this.layers[r].st&&s.op-s.st>t-this.layers[r].st&&this.buildItem(r)),this.completeLayers=this.elements[r]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(t){switch(t.ty){case 2:return this.createImage(t);case 0:return this.createComp(t);case 1:return this.createSolid(t);case 3:return this.createNull(t);case 4:return this.createShape(t);case 5:return this.createText(t);case 6:return this.createAudio(t);case 13:return this.createCamera(t);case 15:return this.createFootage(t);default:return this.createNull(t)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(t){return new AudioElement(t,this.globalData,this)},BaseRenderer.prototype.createFootage=function(t){return new FootageElement(t,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var t,r=this.layers.length;for(t=0;t<r;t+=1)this.buildItem(t);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(t){this.completeLayers=!1;var r,n=t.length,s,o=this.layers.length;for(r=0;r<n;r+=1)for(s=0;s<o;){if(this.layers[s].id===t[r].id){this.layers[s]=t[r];break}s+=1}},BaseRenderer.prototype.setProjectInterface=function(t){this.globalData.projectInterface=t},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(t,r,n){for(var s=this.elements,o=this.layers,h=0,l=o.length;h<l;)o[h].ind==r&&(!s[h]||s[h]===!0?(this.buildItem(h),this.addPendingElement(t)):(n.push(s[h]),s[h].setAsParent(),o[h].parent!==void 0?this.buildElementParenting(t,o[h].parent,n):t.setHierarchy(n))),h+=1},BaseRenderer.prototype.addPendingElement=function(t){this.pendingElements.push(t)},BaseRenderer.prototype.searchExtraCompositions=function(t){var r,n=t.length;for(r=0;r<n;r+=1)if(t[r].xt){var s=this.createComp(t[r]);s.initExpressions(),this.globalData.projectInterface.registerComposition(s)}},BaseRenderer.prototype.setupGlobalData=function(t,r){this.globalData.fontManager=new FontManager,this.globalData.fontManager.addChars(t.chars),this.globalData.fontManager.addFonts(t.fonts,r),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=t.fr,this.globalData.nm=t.nm,this.globalData.compSize={w:t.w,h:t.h}};function TransformElement(){}TransformElement.prototype={initTransform:function(){this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_opMdf:!1,mat:new Matrix},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var r,n=this.finalTransform.mat,s=0,o=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;s<o;){if(this.hierarchy[s].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}s+=1}if(this.finalTransform._matMdf)for(r=this.finalTransform.mProp.v.props,n.cloneFromProps(r),s=0;s<o;s+=1)r=this.hierarchy[s].finalTransform.mProp.v.props,n.transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15])}},globalToLocal:function(r){var n=[];n.push(this.finalTransform);for(var s=!0,o=this.comp;s;)o.finalTransform?(o.data.hasMask&&n.splice(0,0,o.finalTransform),o=o.comp):s=!1;var h,l=n.length,c;for(h=0;h<l;h+=1)c=n[h].mat.applyToPointArray(0,0,0),r=[r[0]-c[0],r[1]-c[1],0];return r},mHelper:new Matrix};function MaskElement(t,r,n){this.data=t,this.element=r,this.globalData=n,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var s=this.globalData.defs,o,h=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(h),this.solidPath="";var l,c=this.masksProperties,d=0,v=[],g,m,_=createElementID(),y,B,w,C,b="clipPath",I="clip-path";for(o=0;o<h;o+=1)if((c[o].mode!=="a"&&c[o].mode!=="n"||c[o].inv||c[o].o.k!==100||c[o].o.x)&&(b="mask",I="mask"),(c[o].mode==="s"||c[o].mode==="i")&&d===0?(y=createNS("rect"),y.setAttribute("fill","#ffffff"),y.setAttribute("width",this.element.comp.data.w||0),y.setAttribute("height",this.element.comp.data.h||0),v.push(y)):y=null,l=createNS("path"),c[o].mode==="n")this.viewData[o]={op:PropertyFactory.getProp(this.element,c[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,c[o],3),elem:l,lastPath:""},s.appendChild(l);else{d+=1,l.setAttribute("fill",c[o].mode==="s"?"#000000":"#ffffff"),l.setAttribute("clip-rule","nonzero");var S;if(c[o].x.k!==0?(b="mask",I="mask",C=PropertyFactory.getProp(this.element,c[o].x,0,null,this.element),S=createElementID(),B=createNS("filter"),B.setAttribute("id",S),w=createNS("feMorphology"),w.setAttribute("operator","erode"),w.setAttribute("in","SourceGraphic"),w.setAttribute("radius","0"),B.appendChild(w),s.appendChild(B),l.setAttribute("stroke",c[o].mode==="s"?"#000000":"#ffffff")):(w=null,C=null),this.storedData[o]={elem:l,x:C,expan:w,lastPath:"",lastOperator:"",filterId:S,lastRadius:0},c[o].mode==="i"){m=v.length;var R=createNS("g");for(g=0;g<m;g+=1)R.appendChild(v[g]);var O=createNS("mask");O.setAttribute("mask-type","alpha"),O.setAttribute("id",_+"_"+d),O.appendChild(l),s.appendChild(O),R.setAttribute("mask","url("+getLocationHref()+"#"+_+"_"+d+")"),v.length=0,v.push(R)}else v.push(l);c[o].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[o]={elem:l,lastPath:"",op:PropertyFactory.getProp(this.element,c[o].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,c[o],3),invRect:y},this.viewData[o].prop.k||this.drawPath(c[o],this.viewData[o].prop.v,this.viewData[o])}for(this.maskElement=createNS(b),h=v.length,o=0;o<h;o+=1)this.maskElement.appendChild(v[o]);d>0&&(this.maskElement.setAttribute("id",_),this.element.maskedElement.setAttribute(I,"url("+getLocationHref()+"#"+_+")"),s.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(t){return this.viewData[t].prop},MaskElement.prototype.renderFrame=function(t){var r=this.element.finalTransform.mat,n,s=this.masksProperties.length;for(n=0;n<s;n+=1)if((this.viewData[n].prop._mdf||t)&&this.drawPath(this.masksProperties[n],this.viewData[n].prop.v,this.viewData[n]),(this.viewData[n].op._mdf||t)&&this.viewData[n].elem.setAttribute("fill-opacity",this.viewData[n].op.v),this.masksProperties[n].mode!=="n"&&(this.viewData[n].invRect&&(this.element.finalTransform.mProp._mdf||t)&&this.viewData[n].invRect.setAttribute("transform",r.getInverseMatrix().to2dCSS()),this.storedData[n].x&&(this.storedData[n].x._mdf||t))){var o=this.storedData[n].expan;this.storedData[n].x.v<0?(this.storedData[n].lastOperator!=="erode"&&(this.storedData[n].lastOperator="erode",this.storedData[n].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[n].filterId+")")),o.setAttribute("radius",-this.storedData[n].x.v)):(this.storedData[n].lastOperator!=="dilate"&&(this.storedData[n].lastOperator="dilate",this.storedData[n].elem.setAttribute("filter",null)),this.storedData[n].elem.setAttribute("stroke-width",this.storedData[n].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var t="M0,0 ";return t+=" h"+this.globalData.compSize.w,t+=" v"+this.globalData.compSize.h,t+=" h-"+this.globalData.compSize.w,t+=" v-"+this.globalData.compSize.h+" ",t},MaskElement.prototype.drawPath=function(t,r,n){var s=" M"+r.v[0][0]+","+r.v[0][1],o,h;for(h=r._length,o=1;o<h;o+=1)s+=" C"+r.o[o-1][0]+","+r.o[o-1][1]+" "+r.i[o][0]+","+r.i[o][1]+" "+r.v[o][0]+","+r.v[o][1];if(r.c&&h>1&&(s+=" C"+r.o[o-1][0]+","+r.o[o-1][1]+" "+r.i[0][0]+","+r.i[0][1]+" "+r.v[0][0]+","+r.v[0][1]),n.lastPath!==s){var l="";n.elem&&(r.c&&(l=t.inv?this.solidPath+s:s),n.elem.setAttribute("d",l)),n.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var t={};t.createFilter=r,t.createAlphaToLuminanceFilter=n;function r(s,o){var h=createNS("filter");return h.setAttribute("id",s),o!==!0&&(h.setAttribute("filterUnits","objectBoundingBox"),h.setAttribute("x","0%"),h.setAttribute("y","0%"),h.setAttribute("width","100%"),h.setAttribute("height","100%")),h}function n(){var s=createNS("feColorMatrix");return s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),s}return t}(),featureSupport=function(){var t={maskType:!0};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(t.maskType=!1),t}();function SVGTintFilter(t,r){this.filterManager=r;var n=createNS("feColorMatrix");if(n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),n.setAttribute("result","f1"),t.appendChild(n),n=createNS("feColorMatrix"),n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),n.setAttribute("result","f2"),t.appendChild(n),this.matrixFilter=n,r.effectElements[2].p.v!==100||r.effectElements[2].p.k){var s=createNS("feMerge");t.appendChild(s);var o;o=createNS("feMergeNode"),o.setAttribute("in","SourceGraphic"),s.appendChild(o),o=createNS("feMergeNode"),o.setAttribute("in","f2"),s.appendChild(o)}}SVGTintFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var r=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v/100;this.matrixFilter.setAttribute("values",n[0]-r[0]+" 0 0 0 "+r[0]+" "+(n[1]-r[1])+" 0 0 0 "+r[1]+" "+(n[2]-r[2])+" 0 0 0 "+r[2]+" 0 0 0 "+s+" 0")}};function SVGFillFilter(t,r){this.filterManager=r;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),t.appendChild(n),this.matrixFilter=n}SVGFillFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var r=this.filterManager.effectElements[2].p.v,n=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+r[0]+" 0 0 0 0 "+r[1]+" 0 0 0 0 "+r[2]+" 0 0 0 "+n+" 0")}};function SVGStrokeEffect(t,r){this.initialized=!1,this.filterManager=r,this.elem=t,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var t=this.elem.layerElement.children||this.elem.layerElement.childNodes,r,n,s,o;for(this.filterManager.effectElements[1].p.v===1?(o=this.elem.maskManager.masksProperties.length,s=0):(s=this.filterManager.effectElements[0].p.v-1,o=s+1),n=createNS("g"),n.setAttribute("fill","none"),n.setAttribute("stroke-linecap","round"),n.setAttribute("stroke-dashoffset",1),s;s<o;s+=1)r=createNS("path"),n.appendChild(r),this.paths.push({p:r,m:s});if(this.filterManager.effectElements[10].p.v===3){var h=createNS("mask"),l=createElementID();h.setAttribute("id",l),h.setAttribute("mask-type","alpha"),h.appendChild(n),this.elem.globalData.defs.appendChild(h);var c=createNS("g");for(c.setAttribute("mask","url("+getLocationHref()+"#"+l+")");t[0];)c.appendChild(t[0]);this.elem.layerElement.appendChild(c),this.masker=h,n.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(t=this.elem.layerElement.children||this.elem.layerElement.childNodes;t.length;)this.elem.layerElement.removeChild(t[0]);this.elem.layerElement.appendChild(n),this.elem.layerElement.removeAttribute("mask"),n.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=n},SVGStrokeEffect.prototype.renderFrame=function(t){this.initialized||this.initialize();var r,n=this.paths.length,s,o;for(r=0;r<n;r+=1)if(this.paths[r].m!==-1&&(s=this.elem.maskManager.viewData[this.paths[r].m],o=this.paths[r].p,(t||this.filterManager._mdf||s.prop._mdf)&&o.setAttribute("d",s.lastPath),t||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||s.prop._mdf)){var h;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var l=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,c=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,d=o.getTotalLength();h="0 0 0 "+d*l+" ";var v=d*(c-l),g=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,m=Math.floor(v/g),_;for(_=0;_<m;_+=1)h+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";h+="0 "+d*10+" 0 0"}else h="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;o.setAttribute("stroke-dasharray",h)}if((t||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(t||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(t||this.filterManager.effectElements[3].p._mdf)){var y=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(y[0]*255)+","+bmFloor(y[1]*255)+","+bmFloor(y[2]*255)+")")}};function SVGTritoneFilter(t,r){this.filterManager=r;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),n.setAttribute("result","f1"),t.appendChild(n);var s=createNS("feComponentTransfer");s.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(s),this.matrixFilter=s;var o=createNS("feFuncR");o.setAttribute("type","table"),s.appendChild(o),this.feFuncR=o;var h=createNS("feFuncG");h.setAttribute("type","table"),s.appendChild(h),this.feFuncG=h;var l=createNS("feFuncB");l.setAttribute("type","table"),s.appendChild(l),this.feFuncB=l}SVGTritoneFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var r=this.filterManager.effectElements[0].p.v,n=this.filterManager.effectElements[1].p.v,s=this.filterManager.effectElements[2].p.v,o=s[0]+" "+n[0]+" "+r[0],h=s[1]+" "+n[1]+" "+r[1],l=s[2]+" "+n[2]+" "+r[2];this.feFuncR.setAttribute("tableValues",o),this.feFuncG.setAttribute("tableValues",h),this.feFuncB.setAttribute("tableValues",l)}};function SVGProLevelsFilter(t,r){this.filterManager=r;var n=this.filterManager.effectElements,s=createNS("feComponentTransfer");(n[10].p.k||n[10].p.v!==0||n[11].p.k||n[11].p.v!==1||n[12].p.k||n[12].p.v!==1||n[13].p.k||n[13].p.v!==0||n[14].p.k||n[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",s)),(n[17].p.k||n[17].p.v!==0||n[18].p.k||n[18].p.v!==1||n[19].p.k||n[19].p.v!==1||n[20].p.k||n[20].p.v!==0||n[21].p.k||n[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",s)),(n[24].p.k||n[24].p.v!==0||n[25].p.k||n[25].p.v!==1||n[26].p.k||n[26].p.v!==1||n[27].p.k||n[27].p.v!==0||n[28].p.k||n[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",s)),(n[31].p.k||n[31].p.v!==0||n[32].p.k||n[32].p.v!==1||n[33].p.k||n[33].p.v!==1||n[34].p.k||n[34].p.v!==0||n[35].p.k||n[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",s)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(s.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(s),s=createNS("feComponentTransfer")),(n[3].p.k||n[3].p.v!==0||n[4].p.k||n[4].p.v!==1||n[5].p.k||n[5].p.v!==1||n[6].p.k||n[6].p.v!==0||n[7].p.k||n[7].p.v!==1)&&(s.setAttribute("color-interpolation-filters","sRGB"),t.appendChild(s),this.feFuncRComposed=this.createFeFunc("feFuncR",s),this.feFuncGComposed=this.createFeFunc("feFuncG",s),this.feFuncBComposed=this.createFeFunc("feFuncB",s))}SVGProLevelsFilter.prototype.createFeFunc=function(t,r){var n=createNS(t);return n.setAttribute("type","table"),r.appendChild(n),n},SVGProLevelsFilter.prototype.getTableValue=function(t,r,n,s,o){for(var h=0,l=256,c,d=Math.min(t,r),v=Math.max(t,r),g=Array.call(null,{length:l}),m,_=0,y=o-s,B=r-t;h<=256;)c=h/256,c<=d?m=B<0?o:s:c>=v?m=B<0?s:o:m=s+y*Math.pow((c-t)/B,1/n),g[_]=m,_+=1,h+=256/(l-1);return g.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var r,n=this.filterManager.effectElements;this.feFuncRComposed&&(t||n[3].p._mdf||n[4].p._mdf||n[5].p._mdf||n[6].p._mdf||n[7].p._mdf)&&(r=this.getTableValue(n[3].p.v,n[4].p.v,n[5].p.v,n[6].p.v,n[7].p.v),this.feFuncRComposed.setAttribute("tableValues",r),this.feFuncGComposed.setAttribute("tableValues",r),this.feFuncBComposed.setAttribute("tableValues",r)),this.feFuncR&&(t||n[10].p._mdf||n[11].p._mdf||n[12].p._mdf||n[13].p._mdf||n[14].p._mdf)&&(r=this.getTableValue(n[10].p.v,n[11].p.v,n[12].p.v,n[13].p.v,n[14].p.v),this.feFuncR.setAttribute("tableValues",r)),this.feFuncG&&(t||n[17].p._mdf||n[18].p._mdf||n[19].p._mdf||n[20].p._mdf||n[21].p._mdf)&&(r=this.getTableValue(n[17].p.v,n[18].p.v,n[19].p.v,n[20].p.v,n[21].p.v),this.feFuncG.setAttribute("tableValues",r)),this.feFuncB&&(t||n[24].p._mdf||n[25].p._mdf||n[26].p._mdf||n[27].p._mdf||n[28].p._mdf)&&(r=this.getTableValue(n[24].p.v,n[25].p.v,n[26].p.v,n[27].p.v,n[28].p.v),this.feFuncB.setAttribute("tableValues",r)),this.feFuncA&&(t||n[31].p._mdf||n[32].p._mdf||n[33].p._mdf||n[34].p._mdf||n[35].p._mdf)&&(r=this.getTableValue(n[31].p.v,n[32].p.v,n[33].p.v,n[34].p.v,n[35].p.v),this.feFuncA.setAttribute("tableValues",r))}};function SVGDropShadowEffect(t,r){var n=r.container.globalData.renderConfig.filterSize;t.setAttribute("x",n.x),t.setAttribute("y",n.y),t.setAttribute("width",n.width),t.setAttribute("height",n.height),this.filterManager=r;var s=createNS("feGaussianBlur");s.setAttribute("in","SourceAlpha"),s.setAttribute("result","drop_shadow_1"),s.setAttribute("stdDeviation","0"),this.feGaussianBlur=s,t.appendChild(s);var o=createNS("feOffset");o.setAttribute("dx","25"),o.setAttribute("dy","0"),o.setAttribute("in","drop_shadow_1"),o.setAttribute("result","drop_shadow_2"),this.feOffset=o,t.appendChild(o);var h=createNS("feFlood");h.setAttribute("flood-color","#00ff00"),h.setAttribute("flood-opacity","1"),h.setAttribute("result","drop_shadow_3"),this.feFlood=h,t.appendChild(h);var l=createNS("feComposite");l.setAttribute("in","drop_shadow_3"),l.setAttribute("in2","drop_shadow_2"),l.setAttribute("operator","in"),l.setAttribute("result","drop_shadow_4"),t.appendChild(l);var c=createNS("feMerge");t.appendChild(c);var d;d=createNS("feMergeNode"),c.appendChild(d),d=createNS("feMergeNode"),d.setAttribute("in","SourceGraphic"),this.feMergeNode=d,this.feMerge=c,this.originalNodeAdded=!1,c.appendChild(d)}SVGDropShadowEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){if((t||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),t||this.filterManager.effectElements[0].p._mdf){var r=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(r[0]*255),Math.round(r[1]*255),Math.round(r[2]*255)))}if((t||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),t||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var n=this.filterManager.effectElements[3].p.v,s=(this.filterManager.effectElements[2].p.v-90)*degToRads,o=n*Math.cos(s),h=n*Math.sin(s);this.feOffset.setAttribute("dx",o),this.feOffset.setAttribute("dy",h)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(t,r,n){this.initialized=!1,this.filterManager=r,this.filterElem=t,this.elem=n,n.matteElement=createNS("g"),n.matteElement.appendChild(n.layerElement),n.matteElement.appendChild(n.transformedElement),n.baseElement=n.matteElement}SVGMatte3Effect.prototype.findSymbol=function(t){for(var r=0,n=_svgMatteSymbols.length;r<n;){if(_svgMatteSymbols[r]===t)return _svgMatteSymbols[r];r+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(t,r){var n=t.layerElement.parentNode;if(!!n){for(var s=n.children,o=0,h=s.length;o<h&&s[o]!==t.layerElement;)o+=1;var l;o<=h-2&&(l=s[o+1]);var c=createNS("use");c.setAttribute("href","#"+r),l?n.insertBefore(c,l):n.appendChild(c)}},SVGMatte3Effect.prototype.setElementAsMask=function(t,r){if(!this.findSymbol(r)){var n=createElementID(),s=createNS("mask");s.setAttribute("id",r.layerId),s.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(r);var o=t.globalData.defs;o.appendChild(s);var h=createNS("symbol");h.setAttribute("id",n),this.replaceInParent(r,n),h.appendChild(r.layerElement),o.appendChild(h);var l=createNS("use");l.setAttribute("href","#"+n),s.appendChild(l),r.data.hd=!1,r.show()}t.setMatte(r.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var t=this.filterManager.effectElements[0].p.v,r=this.elem.comp.elements,n=0,s=r.length;n<s;)r[n]&&r[n].data.ind===t&&this.setElementAsMask(this.elem,r[n]),n+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(t,r){t.setAttribute("x","-100%"),t.setAttribute("y","-100%"),t.setAttribute("width","300%"),t.setAttribute("height","300%"),this.filterManager=r;var n=createNS("feGaussianBlur");t.appendChild(n),this.feGaussianBlur=n}SVGGaussianBlurEffect.prototype.renderFrame=function(t){if(t||this.filterManager._mdf){var r=.3,n=this.filterManager.effectElements[0].p.v*r,s=this.filterManager.effectElements[1].p.v,o=s==3?0:n,h=s==2?0:n;this.feGaussianBlur.setAttribute("stdDeviation",o+" "+h);var l=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",l)}};var registeredEffects={};function SVGEffects(t){var r,n=t.data.ef?t.data.ef.length:0,s=createElementID(),o=filtersFactory.createFilter(s,!0),h=0;this.filters=[];var l;for(r=0;r<n;r+=1){l=null;var c=t.data.ef[r].ty;if(registeredEffects[c]){var d=registeredEffects[c].effect;l=new d(o,t.effectsManager.effectElements[r],t),registeredEffects[c].countsAsEffect&&(h+=1)}t.data.ef[r].ty===20?(h+=1,l=new SVGTintFilter(o,t.effectsManager.effectElements[r])):t.data.ef[r].ty===21?(h+=1,l=new SVGFillFilter(o,t.effectsManager.effectElements[r])):t.data.ef[r].ty===22?l=new SVGStrokeEffect(t,t.effectsManager.effectElements[r]):t.data.ef[r].ty===23?(h+=1,l=new SVGTritoneFilter(o,t.effectsManager.effectElements[r])):t.data.ef[r].ty===24?(h+=1,l=new SVGProLevelsFilter(o,t.effectsManager.effectElements[r])):t.data.ef[r].ty===25?(h+=1,l=new SVGDropShadowEffect(o,t.effectsManager.effectElements[r])):t.data.ef[r].ty===28?l=new SVGMatte3Effect(o,t.effectsManager.effectElements[r],t):t.data.ef[r].ty===29&&(h+=1,l=new SVGGaussianBlurEffect(o,t.effectsManager.effectElements[r])),l&&this.filters.push(l)}h&&(t.globalData.defs.appendChild(o),t.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+s+")")),this.filters.length&&t.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(t){var r,n=this.filters.length;for(r=0;r<n;r+=1)this.filters[r].renderFrame(t)};function registerEffect(t,r,n){registeredEffects[t]={effect:r,countsAsEffect:n}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var r=null,n,s,o;if(this.data.td){if(this.data.td==3||this.data.td==1){var h=createNS("mask");h.setAttribute("id",this.layerId),h.setAttribute("mask-type",this.data.td==3?"luminance":"alpha"),h.appendChild(this.layerElement),r=h,this.globalData.defs.appendChild(h),!featureSupport.maskType&&this.data.td==1&&(h.setAttribute("mask-type","luminance"),n=createElementID(),s=filtersFactory.createFilter(n),this.globalData.defs.appendChild(s),s.appendChild(filtersFactory.createAlphaToLuminanceFilter()),o=createNS("g"),o.appendChild(this.layerElement),r=o,h.appendChild(o),o.setAttribute("filter","url("+getLocationHref()+"#"+n+")"))}else if(this.data.td==2){var l=createNS("mask");l.setAttribute("id",this.layerId),l.setAttribute("mask-type","alpha");var c=createNS("g");l.appendChild(c),n=createElementID(),s=filtersFactory.createFilter(n);var d=createNS("feComponentTransfer");d.setAttribute("in","SourceGraphic"),s.appendChild(d);var v=createNS("feFuncA");v.setAttribute("type","table"),v.setAttribute("tableValues","1.0 0.0"),d.appendChild(v),this.globalData.defs.appendChild(s);var g=createNS("rect");g.setAttribute("width",this.comp.data.w),g.setAttribute("height",this.comp.data.h),g.setAttribute("x","0"),g.setAttribute("y","0"),g.setAttribute("fill","#ffffff"),g.setAttribute("opacity","0"),c.setAttribute("filter","url("+getLocationHref()+"#"+n+")"),c.appendChild(g),c.appendChild(this.layerElement),r=c,featureSupport.maskType||(l.setAttribute("mask-type","luminance"),s.appendChild(filtersFactory.createAlphaToLuminanceFilter()),o=createNS("g"),c.appendChild(g),o.appendChild(this.layerElement),r=o,c.appendChild(o)),this.globalData.defs.appendChild(l)}}else this.data.tt?(this.matteElement.appendChild(this.layerElement),r=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var m=createNS("clipPath"),_=createNS("path");_.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var y=createElementID();if(m.setAttribute("id",y),m.appendChild(_),this.globalData.defs.appendChild(m),this.checkMasks()){var B=createNS("g");B.setAttribute("clip-path","url("+getLocationHref()+"#"+y+")"),B.appendChild(this.layerElement),this.transformedElement=B,r?r.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+y+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._matMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.mat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.mProp.o.v)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this)},setMatte:function(r){!this.matteElement||this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+r+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(r){this.hierarchy=r},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var t={initElement:function(n,s,o){this.initFrame(),this.initBaseData(n,s,o),this.initTransform(n,s,o),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var n=this.baseElement||this.layerElement;n.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var n=this.baseElement||this.layerElement;n.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(n){this._mdf=!1,this.prepareRenderableFrame(n),this.prepareProperties(n,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(t)],RenderableDOMElement)})();function IImageElement(t,r,n){this.assetData=r.getAssetData(t.refId),this.initElement(t,r,n),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(t,r){this.elem=t,this.pos=r}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(r){var n,s=this.shapeModifiers.length;for(n=0;n<s;n+=1)this.shapeModifiers[n].addShape(r)},isShapeInAnimatedModifiers:function(r){for(var n=0,s=this.shapeModifiers.length;n<s;)if(this.shapeModifiers[n].isAnimatedWithShape(r))return!0;return!1},renderModifiers:function(){if(!!this.shapeModifiers.length){var r,n=this.shapes.length;for(r=0;r<n;r+=1)this.shapes[r].sh.reset();n=this.shapeModifiers.length;var s;for(r=n-1;r>=0&&(s=this.shapeModifiers[r].processShapes(this._isFirstFrame),!s);r-=1);}},searchProcessedElement:function(r){for(var n=this.processedElements,s=0,o=n.length;s<o;){if(n[s].elem===r)return n[s].pos;s+=1}return 0},addProcessedElement:function(r,n){for(var s=this.processedElements,o=s.length;o;)if(o-=1,s[o].elem===r){s[o].pos=n;return}s.push(new ProcessedElement(r,n))},prepareFrame:function(r){this.prepareRenderableFrame(r),this.prepareProperties(r,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(t,r,n){this.caches=[],this.styles=[],this.transformers=t,this.lStr="",this.sh=n,this.lvl=r,this._isAnimated=!!n.k;for(var s=0,o=t.length;s<o;){if(t[s].mProps.dynamicProperties.length){this._isAnimated=!0;break}s+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(t,r){this.data=t,this.type=t.ty,this.d="",this.lvl=r,this._mdf=!1,this.closed=t.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(t,r,n,s){this.elem=t,this.frameId=-1,this.dataProps=createSizedArray(r.length),this.renderer=n,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",r.length?r.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(s);var o,h=r.length||0,l;for(o=0;o<h;o+=1)l=PropertyFactory.getProp(t,r[o].v,0,0,this),this.k=l.k||this.k,this.dataProps[o]={n:r[o].n,p:l};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(t){if(!(this.elem.globalData.frameId===this.frameId&&!t)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||t,this._mdf)){var r=0,n=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),r=0;r<n;r+=1)this.dataProps[r].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[r].p.v:this.dashArray[r]=this.dataProps[r].p.v:this.dashoffset[0]=this.dataProps[r].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(t,r,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,r.o,0,.01,this),this.w=PropertyFactory.getProp(t,r.w,0,null,this),this.d=new DashProperty(t,r.d||{},"svg",this),this.c=PropertyFactory.getProp(t,r.c,1,255,this),this.style=n,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(t,r,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(t,r.o,0,.01,this),this.c=PropertyFactory.getProp(t,r.c,1,255,this),this.style=n}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(t,r,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.style=n}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(t,r,n){this.data=r,this.c=createTypedArray("uint8c",r.p*4);var s=r.k.k[0].s?r.k.k[0].s.length-r.p*4:r.k.k.length-r.p*4;this.o=createTypedArray("float32",s),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=s,this.initDynamicPropertyContainer(n),this.prop=PropertyFactory.getProp(t,r.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(t,r){for(var n=0,s=this.o.length/2,o;n<s;){if(o=Math.abs(t[n*4]-t[r*4+n*2]),o>.01)return!1;n+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var t=0,r=this.data.k.k.length;t<r;){if(!this.comparePoints(this.data.k.k[t].s,this.data.p))return!1;t+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(t){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||t){var r,n=this.data.p*4,s,o;for(r=0;r<n;r+=1)s=r%4===0?100:255,o=Math.round(this.prop.v[r]*s),this.c[r]!==o&&(this.c[r]=o,this._cmdf=!t);if(this.o.length)for(n=this.prop.v.length,r=this.data.p*4;r<n;r+=1)s=r%2===0?100:1,o=r%2===0?Math.round(this.prop.v[r]*100):this.prop.v[r],this.o[r-this.data.p*4]!==o&&(this.o[r-this.data.p*4]=o,this._omdf=!t);this._mdf=!t}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(t,r,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.initGradientData(t,r,n)}SVGGradientFillStyleData.prototype.initGradientData=function(t,r,n){this.o=PropertyFactory.getProp(t,r.o,0,.01,this),this.s=PropertyFactory.getProp(t,r.s,1,null,this),this.e=PropertyFactory.getProp(t,r.e,1,null,this),this.h=PropertyFactory.getProp(t,r.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(t,r.a||{k:0},0,degToRads,this),this.g=new GradientProperty(t,r.g,this),this.style=n,this.stops=[],this.setGradientData(n.pElem,r),this.setGradientOpacity(r,n),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(t,r){var n=createElementID(),s=createNS(r.t===1?"linearGradient":"radialGradient");s.setAttribute("id",n),s.setAttribute("spreadMethod","pad"),s.setAttribute("gradientUnits","userSpaceOnUse");var o=[],h,l,c;for(c=r.g.p*4,l=0;l<c;l+=4)h=createNS("stop"),s.appendChild(h),o.push(h);t.setAttribute(r.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+n+")"),this.gf=s,this.cst=o},SVGGradientFillStyleData.prototype.setGradientOpacity=function(t,r){if(this.g._hasOpacity&&!this.g._collapsable){var n,s,o,h=createNS("mask"),l=createNS("path");h.appendChild(l);var c=createElementID(),d=createElementID();h.setAttribute("id",d);var v=createNS(t.t===1?"linearGradient":"radialGradient");v.setAttribute("id",c),v.setAttribute("spreadMethod","pad"),v.setAttribute("gradientUnits","userSpaceOnUse"),o=t.g.k.k[0].s?t.g.k.k[0].s.length:t.g.k.k.length;var g=this.stops;for(s=t.g.p*4;s<o;s+=2)n=createNS("stop"),n.setAttribute("stop-color","rgb(255,255,255)"),v.appendChild(n),g.push(n);l.setAttribute(t.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+c+")"),t.ty==="gs"&&(l.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),l.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),t.lj===1&&l.setAttribute("stroke-miterlimit",t.ml)),this.of=v,this.ms=h,this.ost=g,this.maskId=d,r.msElem=l}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(t,r,n){this.initDynamicPropertyContainer(t),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(t,r.w,0,null,this),this.d=new DashProperty(t,r.d||{},"svg",this),this.initGradientData(t,r,n),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(t,r,n){this.transform={mProps:t,op:r,container:n},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(r,n,s,o){if(n===0)return"";var h=r.o,l=r.i,c=r.v,d,v=" M"+o.applyToPointStringified(c[0][0],c[0][1]);for(d=1;d<n;d+=1)v+=" C"+o.applyToPointStringified(h[d-1][0],h[d-1][1])+" "+o.applyToPointStringified(l[d][0],l[d][1])+" "+o.applyToPointStringified(c[d][0],c[d][1]);return s&&n&&(v+=" C"+o.applyToPointStringified(h[d-1][0],h[d-1][1])+" "+o.applyToPointStringified(l[0][0],l[0][1])+" "+o.applyToPointStringified(c[0][0],c[0][1]),v+="z"),v},SVGElementsRenderer=function(){var t=new Matrix,r=new Matrix,n={createRenderFunction:s};function s(m){switch(m.ty){case"fl":return c;case"gf":return v;case"gs":return d;case"st":return g;case"sh":case"el":case"rc":case"sr":return l;case"tr":return o;case"no":return h;default:return null}}function o(m,_,y){(y||_.transform.op._mdf)&&_.transform.container.setAttribute("opacity",_.transform.op.v),(y||_.transform.mProps._mdf)&&_.transform.container.setAttribute("transform",_.transform.mProps.v.to2dCSS())}function h(){}function l(m,_,y){var B,w,C,b,I,S,R=_.styles.length,O=_.lvl,P,N,M,H,Y;for(S=0;S<R;S+=1){if(b=_.sh._mdf||y,_.styles[S].lvl<O){for(N=r.reset(),H=O-_.styles[S].lvl,Y=_.transformers.length-1;!b&&H>0;)b=_.transformers[Y].mProps._mdf||b,H-=1,Y-=1;if(b)for(H=O-_.styles[S].lvl,Y=_.transformers.length-1;H>0;)M=_.transformers[Y].mProps.v.props,N.transform(M[0],M[1],M[2],M[3],M[4],M[5],M[6],M[7],M[8],M[9],M[10],M[11],M[12],M[13],M[14],M[15]),H-=1,Y-=1}else N=t;if(P=_.sh.paths,w=P._length,b){for(C="",B=0;B<w;B+=1)I=P.shapes[B],I&&I._length&&(C+=buildShapeString(I,I._length,I.c,N));_.caches[S]=C}else C=_.caches[S];_.styles[S].d+=m.hd===!0?"":C,_.styles[S]._mdf=b||_.styles[S]._mdf}}function c(m,_,y){var B=_.style;(_.c._mdf||y)&&B.pElem.setAttribute("fill","rgb("+bmFloor(_.c.v[0])+","+bmFloor(_.c.v[1])+","+bmFloor(_.c.v[2])+")"),(_.o._mdf||y)&&B.pElem.setAttribute("fill-opacity",_.o.v)}function d(m,_,y){v(m,_,y),g(m,_,y)}function v(m,_,y){var B=_.gf,w=_.g._hasOpacity,C=_.s.v,b=_.e.v;if(_.o._mdf||y){var I=m.ty==="gf"?"fill-opacity":"stroke-opacity";_.style.pElem.setAttribute(I,_.o.v)}if(_.s._mdf||y){var S=m.t===1?"x1":"cx",R=S==="x1"?"y1":"cy";B.setAttribute(S,C[0]),B.setAttribute(R,C[1]),w&&!_.g._collapsable&&(_.of.setAttribute(S,C[0]),_.of.setAttribute(R,C[1]))}var O,P,N,M;if(_.g._cmdf||y){O=_.cst;var H=_.g.c;for(N=O.length,P=0;P<N;P+=1)M=O[P],M.setAttribute("offset",H[P*4]+"%"),M.setAttribute("stop-color","rgb("+H[P*4+1]+","+H[P*4+2]+","+H[P*4+3]+")")}if(w&&(_.g._omdf||y)){var Y=_.g.o;for(_.g._collapsable?O=_.cst:O=_.ost,N=O.length,P=0;P<N;P+=1)M=O[P],_.g._collapsable||M.setAttribute("offset",Y[P*2]+"%"),M.setAttribute("stop-opacity",Y[P*2+1])}if(m.t===1)(_.e._mdf||y)&&(B.setAttribute("x2",b[0]),B.setAttribute("y2",b[1]),w&&!_.g._collapsable&&(_.of.setAttribute("x2",b[0]),_.of.setAttribute("y2",b[1])));else{var J;if((_.s._mdf||_.e._mdf||y)&&(J=Math.sqrt(Math.pow(C[0]-b[0],2)+Math.pow(C[1]-b[1],2)),B.setAttribute("r",J),w&&!_.g._collapsable&&_.of.setAttribute("r",J)),_.e._mdf||_.h._mdf||_.a._mdf||y){J||(J=Math.sqrt(Math.pow(C[0]-b[0],2)+Math.pow(C[1]-b[1],2)));var ee=Math.atan2(b[1]-C[1],b[0]-C[0]),te=_.h.v;te>=1?te=.99:te<=-1&&(te=-.99);var se=J*te,W=Math.cos(ee+_.a.v)*se+C[0],k=Math.sin(ee+_.a.v)*se+C[1];B.setAttribute("fx",W),B.setAttribute("fy",k),w&&!_.g._collapsable&&(_.of.setAttribute("fx",W),_.of.setAttribute("fy",k))}}}function g(m,_,y){var B=_.style,w=_.d;w&&(w._mdf||y)&&w.dashStr&&(B.pElem.setAttribute("stroke-dasharray",w.dashStr),B.pElem.setAttribute("stroke-dashoffset",w.dashoffset[0])),_.c&&(_.c._mdf||y)&&B.pElem.setAttribute("stroke","rgb("+bmFloor(_.c.v[0])+","+bmFloor(_.c.v[1])+","+bmFloor(_.c.v[2])+")"),(_.o._mdf||y)&&B.pElem.setAttribute("stroke-opacity",_.o.v),(_.w._mdf||y)&&(B.pElem.setAttribute("stroke-width",_.w.v),B.msElem&&B.msElem.setAttribute("stroke-width",_.w.v))}return n}();function SVGShapeElement(t,r,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(t,r,n),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var t,r=this.shapes.length,n,s,o=this.stylesList.length,h,l=[],c=!1;for(s=0;s<o;s+=1){for(h=this.stylesList[s],c=!1,l.length=0,t=0;t<r;t+=1)n=this.shapes[t],n.styles.indexOf(h)!==-1&&(l.push(n),c=n._isAnimated||c);l.length>1&&c&&this.setShapesAsAnimated(l)}},SVGShapeElement.prototype.setShapesAsAnimated=function(t){var r,n=t.length;for(r=0;r<n;r+=1)t[r].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(t,r){var n,s=new SVGStyleData(t,r),o=s.pElem;if(t.ty==="st")n=new SVGStrokeStyleData(this,t,s);else if(t.ty==="fl")n=new SVGFillStyleData(this,t,s);else if(t.ty==="gf"||t.ty==="gs"){var h=t.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;n=new h(this,t,s),this.globalData.defs.appendChild(n.gf),n.maskId&&(this.globalData.defs.appendChild(n.ms),this.globalData.defs.appendChild(n.of),o.setAttribute("mask","url("+getLocationHref()+"#"+n.maskId+")"))}else t.ty==="no"&&(n=new SVGNoStyleData(this,t,s));return(t.ty==="st"||t.ty==="gs")&&(o.setAttribute("stroke-linecap",lineCapEnum[t.lc||2]),o.setAttribute("stroke-linejoin",lineJoinEnum[t.lj||2]),o.setAttribute("fill-opacity","0"),t.lj===1&&o.setAttribute("stroke-miterlimit",t.ml)),t.r===2&&o.setAttribute("fill-rule","evenodd"),t.ln&&o.setAttribute("id",t.ln),t.cl&&o.setAttribute("class",t.cl),t.bm&&(o.style["mix-blend-mode"]=getBlendMode(t.bm)),this.stylesList.push(s),this.addToAnimatedContents(t,n),n},SVGShapeElement.prototype.createGroupElement=function(t){var r=new ShapeGroupData;return t.ln&&r.gr.setAttribute("id",t.ln),t.cl&&r.gr.setAttribute("class",t.cl),t.bm&&(r.gr.style["mix-blend-mode"]=getBlendMode(t.bm)),r},SVGShapeElement.prototype.createTransformElement=function(t,r){var n=TransformPropertyFactory.getTransformProperty(this,t,this),s=new SVGTransformData(n,n.o,r);return this.addToAnimatedContents(t,s),s},SVGShapeElement.prototype.createShapeElement=function(t,r,n){var s=4;t.ty==="rc"?s=5:t.ty==="el"?s=6:t.ty==="sr"&&(s=7);var o=ShapePropertyFactory.getShapeProp(this,t,s,this),h=new SVGShapeData(r,n,o);return this.shapes.push(h),this.addShapeToModifiers(h),this.addToAnimatedContents(t,h),h},SVGShapeElement.prototype.addToAnimatedContents=function(t,r){for(var n=0,s=this.animatedContents.length;n<s;){if(this.animatedContents[n].element===r)return;n+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(t),element:r,data:t})},SVGShapeElement.prototype.setElementStyles=function(t){var r=t.styles,n,s=this.stylesList.length;for(n=0;n<s;n+=1)this.stylesList[n].closed||r.push(this.stylesList[n])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,r=this.itemsData.length;for(t=0;t<r;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),r=this.dynamicProperties.length,t=0;t<r;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(t,r,n,s,o,h,l){var c=[].concat(h),d,v=t.length-1,g,m,_=[],y=[],B,w,C;for(d=v;d>=0;d-=1){if(C=this.searchProcessedElement(t[d]),C?r[d]=n[C-1]:t[d]._render=l,t[d].ty==="fl"||t[d].ty==="st"||t[d].ty==="gf"||t[d].ty==="gs"||t[d].ty==="no")C?r[d].style.closed=!1:r[d]=this.createStyleElement(t[d],o),t[d]._render&&r[d].style.pElem.parentNode!==s&&s.appendChild(r[d].style.pElem),_.push(r[d].style);else if(t[d].ty==="gr"){if(!C)r[d]=this.createGroupElement(t[d]);else for(m=r[d].it.length,g=0;g<m;g+=1)r[d].prevViewData[g]=r[d].it[g];this.searchShapes(t[d].it,r[d].it,r[d].prevViewData,r[d].gr,o+1,c,l),t[d]._render&&r[d].gr.parentNode!==s&&s.appendChild(r[d].gr)}else t[d].ty==="tr"?(C||(r[d]=this.createTransformElement(t[d],s)),B=r[d].transform,c.push(B)):t[d].ty==="sh"||t[d].ty==="rc"||t[d].ty==="el"||t[d].ty==="sr"?(C||(r[d]=this.createShapeElement(t[d],c,o)),this.setElementStyles(r[d])):t[d].ty==="tm"||t[d].ty==="rd"||t[d].ty==="ms"||t[d].ty==="pb"?(C?(w=r[d],w.closed=!1):(w=ShapeModifiers.getModifier(t[d].ty),w.init(this,t[d]),r[d]=w,this.shapeModifiers.push(w)),y.push(w)):t[d].ty==="rp"&&(C?(w=r[d],w.closed=!0):(w=ShapeModifiers.getModifier(t[d].ty),r[d]=w,w.init(this,t,d,r),this.shapeModifiers.push(w),l=!1),y.push(w));this.addProcessedElement(t[d],d+1)}for(v=_.length,d=0;d<v;d+=1)_[d].closed=!0;for(v=y.length,d=0;d<v;d+=1)y[d].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var t,r=this.stylesList.length;for(t=0;t<r;t+=1)this.stylesList[t].reset();for(this.renderShape(),t=0;t<r;t+=1)(this.stylesList[t]._mdf||this._isFirstFrame)&&(this.stylesList[t].msElem&&(this.stylesList[t].msElem.setAttribute("d",this.stylesList[t].d),this.stylesList[t].d="M0 0"+this.stylesList[t].d),this.stylesList[t].pElem.setAttribute("d",this.stylesList[t].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var t,r=this.animatedContents.length,n;for(t=0;t<r;t+=1)n=this.animatedContents[t],(this._isFirstFrame||n.element._isAnimated)&&n.data!==!0&&n.fn(n.data,n.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(t,r,n,s,o,h){this.o=t,this.sw=r,this.sc=n,this.fc=s,this.m=o,this.p=h,this._mdf={o:!0,sw:!!r,sc:!!n,fc:!!s,m:!0,p:!0}}LetterProps.prototype.update=function(t,r,n,s,o,h){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var l=!1;return this.o!==t&&(this.o=t,this._mdf.o=!0,l=!0),this.sw!==r&&(this.sw=r,this._mdf.sw=!0,l=!0),this.sc!==n&&(this.sc=n,this._mdf.sc=!0,l=!0),this.fc!==s&&(this.fc=s,this._mdf.fc=!0,l=!0),this.m!==o&&(this.m=o,this._mdf.m=!0,l=!0),h.length&&(this.p[0]!==h[0]||this.p[1]!==h[1]||this.p[4]!==h[4]||this.p[5]!==h[5]||this.p[12]!==h[12]||this.p[13]!==h[13])&&(this.p=h,this._mdf.p=!0,l=!0),l};function TextProperty(t,r){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,this.data=r,this.elem=t,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(t,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);return t},TextProperty.prototype.setCurrentData=function(t){t.__complete||this.completeTextData(t),this.currentData=t,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(t){this.effectsSequence.push(t),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(t){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!t)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var r=this.currentData,n=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var s,o=this.effectsSequence.length,h=t||this.data.d.k[this.keysIndex].s;for(s=0;s<o;s+=1)n!==this.keysIndex?h=this.effectsSequence[s](h,h.t):h=this.effectsSequence[s](this.currentData,h.t);r!==h&&this.setCurrentData(h),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var t=this.data.d.k,r=this.elem.comp.renderedFrame,n=0,s=t.length;n<=s-1&&!(n===s-1||t[n+1].t>r);)n+=1;return this.keysIndex!==n&&(this.keysIndex=n),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(t){for(var r=[],n=0,s=t.length,o,h,l=!1;n<s;)o=t.charCodeAt(n),FontManager.isCombinedCharacter(o)?r[r.length-1]+=t.charAt(n):o>=55296&&o<=56319?(h=t.charCodeAt(n+1),h>=56320&&h<=57343?(l||FontManager.isModifier(o,h)?(r[r.length-1]+=t.substr(n,2),l=!1):r.push(t.substr(n,2)),n+=1):r.push(t.charAt(n))):o>56319?(h=t.charCodeAt(n+1),FontManager.isZeroWidthJoiner(o,h)?(l=!0,r[r.length-1]+=t.substr(n,2),n+=1):r.push(t.charAt(n))):FontManager.isZeroWidthJoiner(o)?(r[r.length-1]+=t.charAt(n),l=!0):r.push(t.charAt(n)),n+=1;return r},TextProperty.prototype.completeTextData=function(t){t.__complete=!0;var r=this.elem.globalData.fontManager,n=this.data,s=[],o,h,l,c=0,d,v=n.m.g,g=0,m=0,_=0,y=[],B=0,w=0,C,b,I=r.getFontByName(t.f),S,R=0,O=getFontProperties(I);t.fWeight=O.weight,t.fStyle=O.style,t.finalSize=t.s,t.finalText=this.buildFinalText(t.t),h=t.finalText.length,t.finalLineHeight=t.lh;var P=t.tr/1e3*t.finalSize,N;if(t.sz)for(var M=!0,H=t.sz[0],Y=t.sz[1],J,ee;M;){ee=this.buildFinalText(t.t),J=0,B=0,h=ee.length,P=t.tr/1e3*t.finalSize;var te=-1;for(o=0;o<h;o+=1)N=ee[o].charCodeAt(0),l=!1,ee[o]===" "?te=o:(N===13||N===3)&&(B=0,l=!0,J+=t.finalLineHeight||t.finalSize*1.2),r.chars?(S=r.getCharData(ee[o],I.fStyle,I.fFamily),R=l?0:S.w*t.finalSize/100):R=r.measureText(ee[o],t.f,t.finalSize),B+R>H&&ee[o]!==" "?(te===-1?h+=1:o=te,J+=t.finalLineHeight||t.finalSize*1.2,ee.splice(o,te===o?1:0,"\r"),te=-1,B=0):(B+=R,B+=P);J+=I.ascent*t.finalSize/100,this.canResize&&t.finalSize>this.minimumFontSize&&Y<J?(t.finalSize-=1,t.finalLineHeight=t.finalSize*t.lh/t.s):(t.finalText=ee,h=t.finalText.length,M=!1)}B=-P,R=0;var se=0,W;for(o=0;o<h;o+=1)if(l=!1,W=t.finalText[o],N=W.charCodeAt(0),N===13||N===3?(se=0,y.push(B),w=B>w?B:w,B=-2*P,d="",l=!0,_+=1):d=W,r.chars?(S=r.getCharData(W,I.fStyle,r.getFontByName(t.f).fFamily),R=l?0:S.w*t.finalSize/100):R=r.measureText(d,t.f,t.finalSize),W===" "?se+=R+P:(B+=R+P+se,se=0),s.push({l:R,an:R,add:g,n:l,anIndexes:[],val:d,line:_,animatorJustifyOffset:0}),v==2){if(g+=R,d===""||d===" "||o===h-1){for((d===""||d===" ")&&(g-=R);m<=o;)s[m].an=g,s[m].ind=c,s[m].extra=R,m+=1;c+=1,g=0}}else if(v==3){if(g+=R,d===""||o===h-1){for(d===""&&(g-=R);m<=o;)s[m].an=g,s[m].ind=c,s[m].extra=R,m+=1;g=0,c+=1}}else s[c].ind=c,s[c].extra=0,c+=1;if(t.l=s,w=B>w?B:w,y.push(B),t.sz)t.boxWidth=t.sz[0],t.justifyOffset=0;else switch(t.boxWidth=w,t.j){case 1:t.justifyOffset=-t.boxWidth;break;case 2:t.justifyOffset=-t.boxWidth/2;break;default:t.justifyOffset=0}t.lineWidths=y;var k=n.a,Q,D;b=k.length;var K,X,j=[];for(C=0;C<b;C+=1){for(Q=k[C],Q.a.sc&&(t.strokeColorAnim=!0),Q.a.sw&&(t.strokeWidthAnim=!0),(Q.a.fc||Q.a.fh||Q.a.fs||Q.a.fb)&&(t.fillColorAnim=!0),X=0,K=Q.s.b,o=0;o<h;o+=1)D=s[o],D.anIndexes[C]=X,(K==1&&D.val!==""||K==2&&D.val!==""&&D.val!==" "||K==3&&(D.n||D.val==" "||o==h-1)||K==4&&(D.n||o==h-1))&&(Q.s.rn===1&&j.push(X),X+=1);n.a[C].s.totalChars=X;var ie=-1,ae;if(Q.s.rn===1)for(o=0;o<h;o+=1)D=s[o],ie!=D.anIndexes[C]&&(ie=D.anIndexes[C],ae=j.splice(Math.floor(Math.random()*j.length),1)[0]),D.anIndexes[C]=ae}t.yOffset=t.finalLineHeight||t.finalSize*1.2,t.ls=t.ls||0,t.ascent=I.ascent*t.finalSize/100},TextProperty.prototype.updateDocumentData=function(t,r){r=r===void 0?this.keysIndex:r;var n=this.copyData({},this.data.d.k[r].s);n=this.copyData(n,t),this.data.d.k[r].s=n,this.recalculate(r),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(t){var r=this.data.d.k[t].s;r.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(r)},TextProperty.prototype.canResizeFont=function(t){this.canResize=t,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(t){this.minimumFontSize=Math.floor(t)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var t=Math.max,r=Math.min,n=Math.floor;function s(h,l){this._currentTextLength=-1,this.k=!1,this.data=l,this.elem=h,this.comp=h.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(h),this.s=PropertyFactory.getProp(h,l.s||{k:0},0,0,this),"e"in l?this.e=PropertyFactory.getProp(h,l.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(h,l.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(h,l.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(h,l.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(h,l.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(h,l.a,0,.01,this),this.dynamicProperties.length||this.getValue()}s.prototype={getMult:function(l){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var c=0,d=0,v=1,g=1;this.ne.v>0?c=this.ne.v/100:d=-this.ne.v/100,this.xe.v>0?v=1-this.xe.v/100:g=1+this.xe.v/100;var m=BezierFactory.getBezierEasing(c,d,v,g).get,_=0,y=this.finalS,B=this.finalE,w=this.data.sh;if(w===2)B===y?_=l>=B?1:0:_=t(0,r(.5/(B-y)+(l-y)/(B-y),1)),_=m(_);else if(w===3)B===y?_=l>=B?0:1:_=1-t(0,r(.5/(B-y)+(l-y)/(B-y),1)),_=m(_);else if(w===4)B===y?_=0:(_=t(0,r(.5/(B-y)+(l-y)/(B-y),1)),_<.5?_*=2:_=1-2*(_-.5)),_=m(_);else if(w===5){if(B===y)_=0;else{var C=B-y;l=r(t(0,l+.5-y),B-y);var b=-C/2+l,I=C/2;_=Math.sqrt(1-b*b/(I*I))}_=m(_)}else w===6?(B===y?_=0:(l=r(t(0,l+.5-y),B-y),_=(1+Math.cos(Math.PI+Math.PI*2*l/(B-y)))/2),_=m(_)):(l>=n(y)&&(l-y<0?_=t(0,r(r(B,1)-(y-l),1)):_=t(0,r(B-l,1))),_=m(_));if(this.sm.v!==100){var S=this.sm.v*.01;S===0&&(S=1e-8);var R=.5-S*.5;_<R?_=0:(_=(_-R)/S,_>1&&(_=1))}return _*this.a.v},getValue:function(l){this.iterateDynamicProperties(),this._mdf=l||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,l&&this.data.r===2&&(this.e.v=this._currentTextLength);var c=this.data.r===2?1:100/this.data.totalChars,d=this.o.v/c,v=this.s.v/c+d,g=this.e.v/c+d;if(v>g){var m=v;v=g,g=m}this.finalS=v,this.finalE=g}},extendPrototype([DynamicPropertyContainer],s);function o(h,l,c){return new s(h,l,c)}return{getTextSelectorProp:o}}();function TextAnimatorDataProperty(t,r,n){var s={propType:!1},o=PropertyFactory.getProp,h=r.a;this.a={r:h.r?o(t,h.r,0,degToRads,n):s,rx:h.rx?o(t,h.rx,0,degToRads,n):s,ry:h.ry?o(t,h.ry,0,degToRads,n):s,sk:h.sk?o(t,h.sk,0,degToRads,n):s,sa:h.sa?o(t,h.sa,0,degToRads,n):s,s:h.s?o(t,h.s,1,.01,n):s,a:h.a?o(t,h.a,1,0,n):s,o:h.o?o(t,h.o,0,.01,n):s,p:h.p?o(t,h.p,1,0,n):s,sw:h.sw?o(t,h.sw,0,0,n):s,sc:h.sc?o(t,h.sc,1,0,n):s,fc:h.fc?o(t,h.fc,1,0,n):s,fh:h.fh?o(t,h.fh,0,0,n):s,fs:h.fs?o(t,h.fs,0,.01,n):s,fb:h.fb?o(t,h.fb,0,.01,n):s,t:h.t?o(t,h.t,0,0,n):s},this.s=TextSelectorProp.getTextSelectorProp(t,r.s,n),this.s.t=r.s.t}function TextAnimatorProperty(t,r,n){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=t,this._renderType=r,this._elem=n,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(n)}TextAnimatorProperty.prototype.searchProperties=function(){var t,r=this._textData.a.length,n,s=PropertyFactory.getProp;for(t=0;t<r;t+=1)n=this._textData.a[t],this._animatorsData[t]=new TextAnimatorDataProperty(this._elem,n,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:s(this._elem,this._textData.p.a,0,0,this),f:s(this._elem,this._textData.p.f,0,0,this),l:s(this._elem,this._textData.p.l,0,0,this),r:s(this._elem,this._textData.p.r,0,0,this),p:s(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=s(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(t,r){if(this.lettersChangedFlag=r,!(!this._mdf&&!this._isFirstFrame&&!r&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var n=this._moreOptions.alignment.v,s=this._animatorsData,o=this._textData,h=this.mHelper,l=this._renderType,c=this.renderedLetters.length,d,v,g,m,_=t.l,y,B,w,C,b,I,S,R,O,P,N,M,H,Y,J;if(this._hasMaskedPath){if(J=this._pathData.m,!this._pathData.n||this._pathData._mdf){var ee=J.v;this._pathData.r.v&&(ee=ee.reverse()),y={tLength:0,segments:[]},m=ee._length-1;var te;for(M=0,g=0;g<m;g+=1)te=bez.buildBezierData(ee.v[g],ee.v[g+1],[ee.o[g][0]-ee.v[g][0],ee.o[g][1]-ee.v[g][1]],[ee.i[g+1][0]-ee.v[g+1][0],ee.i[g+1][1]-ee.v[g+1][1]]),y.tLength+=te.segmentLength,y.segments.push(te),M+=te.segmentLength;g=m,J.v.c&&(te=bez.buildBezierData(ee.v[g],ee.v[0],[ee.o[g][0]-ee.v[g][0],ee.o[g][1]-ee.v[g][1]],[ee.i[0][0]-ee.v[0][0],ee.i[0][1]-ee.v[0][1]]),y.tLength+=te.segmentLength,y.segments.push(te),M+=te.segmentLength),this._pathData.pi=y}if(y=this._pathData.pi,B=this._pathData.f.v,S=0,I=1,C=0,b=!0,P=y.segments,B<0&&J.v.c)for(y.tLength<Math.abs(B)&&(B=-Math.abs(B)%y.tLength),S=P.length-1,O=P[S].points,I=O.length-1;B<0;)B+=O[I].partialLength,I-=1,I<0&&(S-=1,O=P[S].points,I=O.length-1);O=P[S].points,R=O[I-1],w=O[I],N=w.partialLength}m=_.length,d=0,v=0;var se=t.finalSize*1.2*.714,W=!0,k,Q,D,K,X;K=s.length;var j,ie=-1,ae,oe,ve,ce=B,ge=S,Te=I,we=-1,_e,pe,ye,G,q,re,ne,Ae,le="",de=this.defaultPropsArray,ue;if(t.j===2||t.j===1){var fe=0,he=0,Ee=t.j===2?-.5:-1,me=0,Be=!0;for(g=0;g<m;g+=1)if(_[g].n){for(fe&&(fe+=he);me<g;)_[me].animatorJustifyOffset=fe,me+=1;fe=0,Be=!0}else{for(D=0;D<K;D+=1)k=s[D].a,k.t.propType&&(Be&&t.j===2&&(he+=k.t.v*Ee),Q=s[D].s,j=Q.getMult(_[g].anIndexes[D],o.a[D].s.totalChars),j.length?fe+=k.t.v*j[0]*Ee:fe+=k.t.v*j*Ee);Be=!1}for(fe&&(fe+=he);me<g;)_[me].animatorJustifyOffset=fe,me+=1}for(g=0;g<m;g+=1){if(h.reset(),_e=1,_[g].n)d=0,v+=t.yOffset,v+=W?1:0,B=ce,W=!1,this._hasMaskedPath&&(S=ge,I=Te,O=P[S].points,R=O[I-1],w=O[I],N=w.partialLength,C=0),le="",Ae="",re="",ue="",de=this.defaultPropsArray;else{if(this._hasMaskedPath){if(we!==_[g].line){switch(t.j){case 1:B+=M-t.lineWidths[_[g].line];break;case 2:B+=(M-t.lineWidths[_[g].line])/2;break}we=_[g].line}ie!==_[g].ind&&(_[ie]&&(B+=_[ie].extra),B+=_[g].an/2,ie=_[g].ind),B+=n[0]*_[g].an*.005;var Ce=0;for(D=0;D<K;D+=1)k=s[D].a,k.p.propType&&(Q=s[D].s,j=Q.getMult(_[g].anIndexes[D],o.a[D].s.totalChars),j.length?Ce+=k.p.v[0]*j[0]:Ce+=k.p.v[0]*j),k.a.propType&&(Q=s[D].s,j=Q.getMult(_[g].anIndexes[D],o.a[D].s.totalChars),j.length?Ce+=k.a.v[0]*j[0]:Ce+=k.a.v[0]*j);for(b=!0,this._pathData.a.v&&(B=_[0].an*.5+(M-this._pathData.f.v-_[0].an*.5-_[_.length-1].an*.5)*ie/(m-1),B+=this._pathData.f.v);b;)C+N>=B+Ce||!O?(H=(B+Ce-C)/w.partialLength,oe=R.point[0]+(w.point[0]-R.point[0])*H,ve=R.point[1]+(w.point[1]-R.point[1])*H,h.translate(-n[0]*_[g].an*.005,-(n[1]*se)*.01),b=!1):O&&(C+=w.partialLength,I+=1,I>=O.length&&(I=0,S+=1,P[S]?O=P[S].points:J.v.c?(I=0,S=0,O=P[S].points):(C-=w.partialLength,O=null)),O&&(R=w,w=O[I],N=w.partialLength));ae=_[g].an/2-_[g].add,h.translate(-ae,0,0)}else ae=_[g].an/2-_[g].add,h.translate(-ae,0,0),h.translate(-n[0]*_[g].an*.005,-n[1]*se*.01,0);for(D=0;D<K;D+=1)k=s[D].a,k.t.propType&&(Q=s[D].s,j=Q.getMult(_[g].anIndexes[D],o.a[D].s.totalChars),(d!==0||t.j!==0)&&(this._hasMaskedPath?j.length?B+=k.t.v*j[0]:B+=k.t.v*j:j.length?d+=k.t.v*j[0]:d+=k.t.v*j));for(t.strokeWidthAnim&&(ye=t.sw||0),t.strokeColorAnim&&(t.sc?pe=[t.sc[0],t.sc[1],t.sc[2]]:pe=[0,0,0]),t.fillColorAnim&&t.fc&&(G=[t.fc[0],t.fc[1],t.fc[2]]),D=0;D<K;D+=1)k=s[D].a,k.a.propType&&(Q=s[D].s,j=Q.getMult(_[g].anIndexes[D],o.a[D].s.totalChars),j.length?h.translate(-k.a.v[0]*j[0],-k.a.v[1]*j[1],k.a.v[2]*j[2]):h.translate(-k.a.v[0]*j,-k.a.v[1]*j,k.a.v[2]*j));for(D=0;D<K;D+=1)k=s[D].a,k.s.propType&&(Q=s[D].s,j=Q.getMult(_[g].anIndexes[D],o.a[D].s.totalChars),j.length?h.scale(1+(k.s.v[0]-1)*j[0],1+(k.s.v[1]-1)*j[1],1):h.scale(1+(k.s.v[0]-1)*j,1+(k.s.v[1]-1)*j,1));for(D=0;D<K;D+=1){if(k=s[D].a,Q=s[D].s,j=Q.getMult(_[g].anIndexes[D],o.a[D].s.totalChars),k.sk.propType&&(j.length?h.skewFromAxis(-k.sk.v*j[0],k.sa.v*j[1]):h.skewFromAxis(-k.sk.v*j,k.sa.v*j)),k.r.propType&&(j.length?h.rotateZ(-k.r.v*j[2]):h.rotateZ(-k.r.v*j)),k.ry.propType&&(j.length?h.rotateY(k.ry.v*j[1]):h.rotateY(k.ry.v*j)),k.rx.propType&&(j.length?h.rotateX(k.rx.v*j[0]):h.rotateX(k.rx.v*j)),k.o.propType&&(j.length?_e+=(k.o.v*j[0]-_e)*j[0]:_e+=(k.o.v*j-_e)*j),t.strokeWidthAnim&&k.sw.propType&&(j.length?ye+=k.sw.v*j[0]:ye+=k.sw.v*j),t.strokeColorAnim&&k.sc.propType)for(q=0;q<3;q+=1)j.length?pe[q]+=(k.sc.v[q]-pe[q])*j[0]:pe[q]+=(k.sc.v[q]-pe[q])*j;if(t.fillColorAnim&&t.fc){if(k.fc.propType)for(q=0;q<3;q+=1)j.length?G[q]+=(k.fc.v[q]-G[q])*j[0]:G[q]+=(k.fc.v[q]-G[q])*j;k.fh.propType&&(j.length?G=addHueToRGB(G,k.fh.v*j[0]):G=addHueToRGB(G,k.fh.v*j)),k.fs.propType&&(j.length?G=addSaturationToRGB(G,k.fs.v*j[0]):G=addSaturationToRGB(G,k.fs.v*j)),k.fb.propType&&(j.length?G=addBrightnessToRGB(G,k.fb.v*j[0]):G=addBrightnessToRGB(G,k.fb.v*j))}}for(D=0;D<K;D+=1)k=s[D].a,k.p.propType&&(Q=s[D].s,j=Q.getMult(_[g].anIndexes[D],o.a[D].s.totalChars),this._hasMaskedPath?j.length?h.translate(0,k.p.v[1]*j[0],-k.p.v[2]*j[1]):h.translate(0,k.p.v[1]*j,-k.p.v[2]*j):j.length?h.translate(k.p.v[0]*j[0],k.p.v[1]*j[1],-k.p.v[2]*j[2]):h.translate(k.p.v[0]*j,k.p.v[1]*j,-k.p.v[2]*j));if(t.strokeWidthAnim&&(re=ye<0?0:ye),t.strokeColorAnim&&(ne="rgb("+Math.round(pe[0]*255)+","+Math.round(pe[1]*255)+","+Math.round(pe[2]*255)+")"),t.fillColorAnim&&t.fc&&(Ae="rgb("+Math.round(G[0]*255)+","+Math.round(G[1]*255)+","+Math.round(G[2]*255)+")"),this._hasMaskedPath){if(h.translate(0,-t.ls),h.translate(0,n[1]*se*.01+v,0),this._pathData.p.v){Y=(w.point[1]-R.point[1])/(w.point[0]-R.point[0]);var be=Math.atan(Y)*180/Math.PI;w.point[0]<R.point[0]&&(be+=180),h.rotate(-be*Math.PI/180)}h.translate(oe,ve,0),B-=n[0]*_[g].an*.005,_[g+1]&&ie!==_[g+1].ind&&(B+=_[g].an/2,B+=t.tr*.001*t.finalSize)}else{switch(h.translate(d,v,0),t.ps&&h.translate(t.ps[0],t.ps[1]+t.ascent,0),t.j){case 1:h.translate(_[g].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[_[g].line]),0,0);break;case 2:h.translate(_[g].animatorJustifyOffset+t.justifyOffset+(t.boxWidth-t.lineWidths[_[g].line])/2,0,0);break}h.translate(0,-t.ls),h.translate(ae,0,0),h.translate(n[0]*_[g].an*.005,n[1]*se*.01,0),d+=_[g].l+t.tr*.001*t.finalSize}l==="html"?le=h.toCSS():l==="svg"?le=h.to2dCSS():de=[h.props[0],h.props[1],h.props[2],h.props[3],h.props[4],h.props[5],h.props[6],h.props[7],h.props[8],h.props[9],h.props[10],h.props[11],h.props[12],h.props[13],h.props[14],h.props[15]],ue=_e}c<=g?(X=new LetterProps(ue,re,ne,Ae,le,de),this.renderedLetters.push(X),c+=1,this.lettersChangedFlag=!0):(X=this.renderedLetters[g],this.lettersChangedFlag=X.update(ue,re,ne,Ae,le,de)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(t,r,n){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(t,r,n),this.textProperty=new TextProperty(this,t.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(t.t,this.renderType,this),this.initTransform(t,r,n),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(t){this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)},ITextElement.prototype.createPathShape=function(t,r){var n,s=r.length,o,h="";for(n=0;n<s;n+=1)r[n].ty==="sh"&&(o=r[n].ks.k,h+=buildShapeString(o,o.i.length,!0,t));return h},ITextElement.prototype.updateDocumentData=function(t,r){this.textProperty.updateDocumentData(t,r)},ITextElement.prototype.canResizeFont=function(t){this.textProperty.canResizeFont(t)},ITextElement.prototype.setMinimumFontSize=function(t){this.textProperty.setMinimumFontSize(t)},ITextElement.prototype.applyTextPropertiesToMatrix=function(t,r,n,s,o){switch(t.ps&&r.translate(t.ps[0],t.ps[1]+t.ascent,0),r.translate(0,-t.ls,0),t.j){case 1:r.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n]),0,0);break;case 2:r.translate(t.justifyOffset+(t.boxWidth-t.lineWidths[n])/2,0,0);break}r.translate(s,o,0)},ITextElement.prototype.buildColor=function(t){return"rgb("+Math.round(t[0]*255)+","+Math.round(t[1]*255)+","+Math.round(t[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){};var emptyShapeData={shapes:[]};function SVGTextLottieElement(t,r,n){this.textSpans=[],this.renderType="svg",this.initElement(t,r,n)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(t){for(var r=0,n=t.length,s=[],o="";r<n;)t[r]===String.fromCharCode(13)||t[r]===String.fromCharCode(3)?(s.push(o),o=""):o+=t[r],r+=1;return s.push(o),s},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var t,r,n=this.textProperty.currentData;this.renderedLetters=createSizedArray(n?n.l.length:0),n.fc?this.layerElement.setAttribute("fill",this.buildColor(n.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),n.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(n.sc)),this.layerElement.setAttribute("stroke-width",n.sw)),this.layerElement.setAttribute("font-size",n.finalSize);var s=this.globalData.fontManager.getFontByName(n.f);if(s.fClass)this.layerElement.setAttribute("class",s.fClass);else{this.layerElement.setAttribute("font-family",s.fFamily);var o=n.fWeight,h=n.fStyle;this.layerElement.setAttribute("font-style",h),this.layerElement.setAttribute("font-weight",o)}this.layerElement.setAttribute("aria-label",n.t);var l=n.l||[],c=!!this.globalData.fontManager.chars;r=l.length;var d,v=this.mHelper,g="",m=this.data.singleShape,_=0,y=0,B=!0,w=n.tr*.001*n.finalSize;if(m&&!c&&!n.sz){var C=this.textContainer,b="start";switch(n.j){case 1:b="end";break;case 2:b="middle";break;default:b="start";break}C.setAttribute("text-anchor",b),C.setAttribute("letter-spacing",w);var I=this.buildTextContents(n.finalText);for(r=I.length,y=n.ps?n.ps[1]+n.ascent:0,t=0;t<r;t+=1)d=this.textSpans[t].span||createNS("tspan"),d.textContent=I[t],d.setAttribute("x",0),d.setAttribute("y",y),d.style.display="inherit",C.appendChild(d),this.textSpans[t]||(this.textSpans[t]={span:null,glyph:null}),this.textSpans[t].span=d,y+=n.finalLineHeight;this.layerElement.appendChild(C)}else{var S=this.textSpans.length,R;for(t=0;t<r;t+=1){if(this.textSpans[t]||(this.textSpans[t]={span:null,childSpan:null,glyph:null}),!c||!m||t===0){if(d=S>t?this.textSpans[t].span:createNS(c?"g":"text"),S<=t){if(d.setAttribute("stroke-linecap","butt"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit","4"),this.textSpans[t].span=d,c){var O=createNS("g");d.appendChild(O),this.textSpans[t].childSpan=O}this.textSpans[t].span=d,this.layerElement.appendChild(d)}d.style.display="inherit"}if(v.reset(),v.scale(n.finalSize/100,n.finalSize/100),m&&(l[t].n&&(_=-w,y+=n.yOffset,y+=B?1:0,B=!1),this.applyTextPropertiesToMatrix(n,v,l[t].line,_,y),_+=l[t].l||0,_+=w),c){R=this.globalData.fontManager.getCharData(n.finalText[t],s.fStyle,this.globalData.fontManager.getFontByName(n.f).fFamily);var P;if(R.t===1)P=new SVGCompElement(R.data,this.globalData,this);else{var N=emptyShapeData;R.data&&R.data.shapes&&(N=R.data),P=new SVGShapeElement(N,this.globalData,this)}this.textSpans[t].glyph=P,P._debug=!0,P.prepareFrame(0),P.renderFrame(),this.textSpans[t].childSpan.appendChild(P.layerElement),this.textSpans[t].childSpan.setAttribute("transform","scale("+n.finalSize/100+","+n.finalSize/100+")")}else m&&d.setAttribute("transform","translate("+v.props[12]+","+v.props[13]+")"),d.textContent=l[t].val,d.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}m&&d&&d.setAttribute("d",g)}for(;t<this.textSpans.length;)this.textSpans[t].span.style.display="none",t+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var t=this.layerElement.getBBox();this.bbox={top:t.y,left:t.x,width:t.width,height:t.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var t,r=this.textSpans.length,n;for(this.renderedFrame=this.comp.renderedFrame,t=0;t<r;t+=1)n=this.textSpans[t].glyph,n&&(n.prepareFrame(this.comp.renderedFrame-this.data.st),n._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if((!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var t,r,n=this.textAnimator.renderedLetters,s=this.textProperty.currentData.l;r=s.length;var o,h,l;for(t=0;t<r;t+=1)s[t].n||(o=n[t],h=this.textSpans[t].span,l=this.textSpans[t].glyph,l&&l.renderFrame(),o._mdf.m&&h.setAttribute("transform",o.m),o._mdf.o&&h.setAttribute("opacity",o.o),o._mdf.sw&&h.setAttribute("stroke-width",o.sw),o._mdf.sc&&h.setAttribute("stroke",o.sc),o._mdf.fc&&h.setAttribute("fill",o.fc))}};function ISolidElement(t,r,n){this.initElement(t,r,n)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var t=createNS("rect");t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.layerElement.appendChild(t)};function NullElement(t,r,n){this.initFrame(),this.initBaseData(t,r,n),this.initFrame(),this.initTransform(t,r,n),this.initHierarchy()}NullElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(t){return new NullElement(t,this.globalData,this)},SVGRendererBase.prototype.createShape=function(t){return new SVGShapeElement(t,this.globalData,this)},SVGRendererBase.prototype.createText=function(t){return new SVGTextLottieElement(t,this.globalData,this)},SVGRendererBase.prototype.createImage=function(t){return new IImageElement(t,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(t){return new ISolidElement(t,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(t){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+t.w+" "+t.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",t.w),this.svgElement.setAttribute("height",t.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var r=this.globalData.defs;this.setupGlobalData(t,r),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=t;var n=createNS("clipPath"),s=createNS("rect");s.setAttribute("width",t.w),s.setAttribute("height",t.h),s.setAttribute("x",0),s.setAttribute("y",0);var o=createElementID();n.setAttribute("id",o),n.appendChild(s),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+o+")"),r.appendChild(n),this.layers=t.layers,this.elements=createSizedArray(t.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var t,r=this.layers?this.layers.length:0;for(t=0;t<r;t+=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.buildItem=function(t){var r=this.elements;if(!(r[t]||this.layers[t].ty===99)){r[t]=!0;var n=this.createItem(this.layers[t]);r[t]=n,getExpressionsPlugin()&&(this.layers[t].ty===0&&this.globalData.projectInterface.registerComposition(n),n.initExpressions()),this.appendElementInPos(n,t),this.layers[t].tt&&(!this.elements[t-1]||this.elements[t-1]===!0?(this.buildItem(t-1),this.addPendingElement(n)):n.setMatte(r[t-1].layerId))}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();if(t.checkParenting(),t.data.tt)for(var r=0,n=this.elements.length;r<n;){if(this.elements[r]===t){t.setMatte(this.elements[r-1].layerId);break}r+=1}}},SVGRendererBase.prototype.renderFrame=function(t){if(!(this.renderedFrame===t||this.destroyed)){t===null?t=this.renderedFrame:this.renderedFrame=t,this.globalData.frameNum=t,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=t,this.globalData._mdf=!1;var r,n=this.layers.length;for(this.completeLayers||this.checkLayers(t),r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(t-this.layers[r].st);if(this.globalData._mdf)for(r=0;r<n;r+=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(t,r){var n=t.getBaseElement();if(!!n){for(var s=0,o;s<r;)this.elements[s]&&this.elements[s]!==!0&&this.elements[s].getBaseElement()&&(o=this.elements[s].getBaseElement()),s+=1;o?this.layerElement.insertBefore(n,o):this.layerElement.appendChild(n)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(t,r,n){this.initFrame(),this.initBaseData(t,r,n),this.initTransform(t,r,n),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!r.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(t){if(this._mdf=!1,this.prepareRenderableFrame(t),this.prepareProperties(t,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=t/this.data.sr;else{var r=this.tm.v;r===this.data.op&&(r=this.data.op-1),this.renderedFrame=r}var n,s=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),n=s-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&(this.elements[n].prepareFrame(this.renderedFrame-this.layers[n].st),this.elements[n]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var t,r=this.layers.length;for(t=0;t<r;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()},ICompElement.prototype.setElements=function(t){this.elements=t},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var t,r=this.layers.length;for(t=0;t<r;t+=1)this.elements[t]&&this.elements[t].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(t,r,n){this.layers=t.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,r,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,r.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)};function SVGRenderer(t,r){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var n="";if(r&&r.title){var s=createNS("title"),o=createElementID();s.setAttribute("id",o),s.textContent=r.title,this.svgElement.appendChild(s),n+=o}if(r&&r.description){var h=createNS("desc"),l=createElementID();h.setAttribute("id",l),h.textContent=r.description,this.svgElement.appendChild(h),n+=" "+l}n&&this.svgElement.setAttribute("aria-labelledby",n);var c=createNS("defs");this.svgElement.appendChild(c);var d=createNS("g");this.svgElement.appendChild(d),this.layerElement=d,this.renderConfig={preserveAspectRatio:r&&r.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:r&&r.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:r&&r.contentVisibility||"visible",progressiveLoad:r&&r.progressiveLoad||!1,hideOnTransparent:!(r&&r.hideOnTransparent===!1),viewBoxOnly:r&&r.viewBoxOnly||!1,viewBoxSize:r&&r.viewBoxSize||!1,className:r&&r.className||"",id:r&&r.id||"",focusable:r&&r.focusable,filterSize:{width:r&&r.filterSize&&r.filterSize.width||"100%",height:r&&r.filterSize&&r.filterSize.height||"100%",x:r&&r.filterSize&&r.filterSize.x||"0%",y:r&&r.filterSize&&r.filterSize.y||"0%"}},this.globalData={_mdf:!1,frameNum:-1,defs:c,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(t){return new SVGCompElement(t,this.globalData,this)};function CVContextData(){this.saved=[],this.cArrPos=0,this.cTr=new Matrix,this.cO=1;var t,r=15;for(this.savedOp=createTypedArray("float32",r),t=0;t<r;t+=1)this.saved[t]=createTypedArray("float32",16);this._length=r}CVContextData.prototype.duplicate=function(){var t=this._length*2,r=this.savedOp;this.savedOp=createTypedArray("float32",t),this.savedOp.set(r);var n=0;for(n=this._length;n<t;n+=1)this.saved[n]=createTypedArray("float32",16);this._length=t},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.cO=1};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(r){var n,s=r.length,o="_";for(n=0;n<s;n+=1)o+=r[n].transform.key+"_";var h=this.sequences[o];return h||(h={transforms:[].concat(r),finalTransform:new Matrix,_mdf:!1},this.sequences[o]=h,this.sequenceList.push(h)),h},processSequence:function(r,n){for(var s=0,o=r.transforms.length,h=n;s<o&&!n;){if(r.transforms[s].transform.mProps._mdf){h=!0;break}s+=1}if(h){var l;for(r.finalTransform.reset(),s=o-1;s>=0;s-=1)l=r.transforms[s].transform.mProps.v.props,r.finalTransform.transform(l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],l[8],l[9],l[10],l[11],l[12],l[13],l[14],l[15])}r._mdf=h},processSequences:function(r){var n,s=this.sequenceList.length;for(n=0;n<s;n+=1)this.processSequence(this.sequenceList[n],r)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};function CVEffects(){}CVEffects.prototype.renderFrame=function(){};function CVMaskElement(t,r){this.data=t,this.element=r,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var n,s=this.masksProperties.length,o=!1;for(n=0;n<s;n+=1)this.masksProperties[n].mode!=="n"&&(o=!0),this.viewData[n]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[n],3);this.hasMasks=o,o&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(!!this.hasMasks){var t=this.element.finalTransform.mat,r=this.element.canvasContext,n,s=this.masksProperties.length,o,h,l;for(r.beginPath(),n=0;n<s;n+=1)if(this.masksProperties[n].mode!=="n"){this.masksProperties[n].inv&&(r.moveTo(0,0),r.lineTo(this.element.globalData.compSize.w,0),r.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),r.lineTo(0,this.element.globalData.compSize.h),r.lineTo(0,0)),l=this.viewData[n].v,o=t.applyToPointArray(l.v[0][0],l.v[0][1],0),r.moveTo(o[0],o[1]);var c,d=l._length;for(c=1;c<d;c+=1)h=t.applyToTriplePoints(l.o[c-1],l.i[c],l.v[c]),r.bezierCurveTo(h[0],h[1],h[2],h[3],h[4],h[5]);h=t.applyToTriplePoints(l.o[c-1],l.i[0],l.v[0]),r.bezierCurveTo(h[0],h[1],h[2],h[3],h[4],h[5])}this.element.globalData.renderer.save(!0),r.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){this.canvasContext=this.globalData.canvasContext,this.renderableEffectsManager=new CVEffects(this)},createContent:function(){},setBlendMode:function(){var r=this.globalData;if(r.blendMode!==this.data.bm){r.blendMode=this.data.bm;var n=getBlendMode(this.data.bm);r.canvasContext.globalCompositeOperation=n}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},renderFrame:function(){if(!(this.hidden||this.data.hd)){this.renderTransform(),this.renderRenderable(),this.setBlendMode();var r=this.data.ty===0;this.globalData.renderer.save(r),this.globalData.renderer.ctxTransform(this.finalTransform.mat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.mProp.o.v),this.renderInnerContent(),this.globalData.renderer.restore(r),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(t,r,n,s){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var o=4;r.ty==="rc"?o=5:r.ty==="el"?o=6:r.ty==="sr"&&(o=7),this.sh=ShapePropertyFactory.getShapeProp(t,r,o,t);var h,l=n.length,c;for(h=0;h<l;h+=1)n[h].closed||(c={transforms:s.addTransformSequence(n[h].transforms),trNodes:[]},this.styledShapes.push(c),n[h].elements.push(c))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(t,r,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(t,r,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(t,r){var n={data:t,type:t.ty,preTransforms:this.transformsManager.addTransformSequence(r),transforms:[],elements:[],closed:t.hd===!0},s={};if(t.ty==="fl"||t.ty==="st"?(s.c=PropertyFactory.getProp(this,t.c,1,255,this),s.c.k||(n.co="rgb("+bmFloor(s.c.v[0])+","+bmFloor(s.c.v[1])+","+bmFloor(s.c.v[2])+")")):(t.ty==="gf"||t.ty==="gs")&&(s.s=PropertyFactory.getProp(this,t.s,1,null,this),s.e=PropertyFactory.getProp(this,t.e,1,null,this),s.h=PropertyFactory.getProp(this,t.h||{k:0},0,.01,this),s.a=PropertyFactory.getProp(this,t.a||{k:0},0,degToRads,this),s.g=new GradientProperty(this,t.g,this)),s.o=PropertyFactory.getProp(this,t.o,0,.01,this),t.ty==="st"||t.ty==="gs"){if(n.lc=lineCapEnum[t.lc||2],n.lj=lineJoinEnum[t.lj||2],t.lj==1&&(n.ml=t.ml),s.w=PropertyFactory.getProp(this,t.w,0,null,this),s.w.k||(n.wi=s.w.v),t.d){var o=new DashProperty(this,t.d,"canvas",this);s.d=o,s.d.k||(n.da=s.d.dashArray,n.do=s.d.dashoffset[0])}}else n.r=t.r===2?"evenodd":"nonzero";return this.stylesList.push(n),s.style=n,s},CVShapeElement.prototype.createGroupElement=function(){var t={it:[],prevViewData:[]};return t},CVShapeElement.prototype.createTransformElement=function(t){var r={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,t.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,t,this)}};return r},CVShapeElement.prototype.createShapeElement=function(t){var r=new CVShapeData(this,t,this.stylesList,this.transformsManager);return this.shapes.push(r),this.addShapeToModifiers(r),r},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var t,r=this.itemsData.length;for(t=0;t<r;t+=1)this.prevViewData[t]=this.itemsData[t];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),r=this.dynamicProperties.length,t=0;t<r;t+=1)this.dynamicProperties[t].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(t){var r,n=this.stylesList.length;for(r=0;r<n;r+=1)this.stylesList[r].closed||this.stylesList[r].transforms.push(t)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var t,r=this.stylesList.length;for(t=0;t<r;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.pop()},CVShapeElement.prototype.closeStyles=function(t){var r,n=t.length;for(r=0;r<n;r+=1)t[r].closed=!0},CVShapeElement.prototype.searchShapes=function(t,r,n,s,o){var h,l=t.length-1,c,d,v=[],g=[],m,_,y,B=[].concat(o);for(h=l;h>=0;h-=1){if(m=this.searchProcessedElement(t[h]),m?r[h]=n[m-1]:t[h]._shouldRender=s,t[h].ty==="fl"||t[h].ty==="st"||t[h].ty==="gf"||t[h].ty==="gs")m?r[h].style.closed=!1:r[h]=this.createStyleElement(t[h],B),v.push(r[h].style);else if(t[h].ty==="gr"){if(!m)r[h]=this.createGroupElement(t[h]);else for(d=r[h].it.length,c=0;c<d;c+=1)r[h].prevViewData[c]=r[h].it[c];this.searchShapes(t[h].it,r[h].it,r[h].prevViewData,s,B)}else t[h].ty==="tr"?(m||(y=this.createTransformElement(t[h]),r[h]=y),B.push(r[h]),this.addTransformToStyleList(r[h])):t[h].ty==="sh"||t[h].ty==="rc"||t[h].ty==="el"||t[h].ty==="sr"?m||(r[h]=this.createShapeElement(t[h])):t[h].ty==="tm"||t[h].ty==="rd"||t[h].ty==="pb"?(m?(_=r[h],_.closed=!1):(_=ShapeModifiers.getModifier(t[h].ty),_.init(this,t[h]),r[h]=_,this.shapeModifiers.push(_)),g.push(_)):t[h].ty==="rp"&&(m?(_=r[h],_.closed=!0):(_=ShapeModifiers.getModifier(t[h].ty),r[h]=_,_.init(this,t,h,r),this.shapeModifiers.push(_),s=!1),g.push(_));this.addProcessedElement(t[h],h+1)}for(this.removeTransformFromStyleList(),this.closeStyles(v),l=g.length,h=0;h<l;h+=1)g[h].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(t,r){(t._opMdf||r.op._mdf||this._isFirstFrame)&&(r.opacity=t.opacity,r.opacity*=r.op.v,r._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var t,r=this.stylesList.length,n,s,o,h,l,c,d=this.globalData.renderer,v=this.globalData.canvasContext,g,m;for(t=0;t<r;t+=1)if(m=this.stylesList[t],g=m.type,!((g==="st"||g==="gs")&&m.wi===0||!m.data._shouldRender||m.coOp===0||this.globalData.currentGlobalAlpha===0)){for(d.save(),l=m.elements,g==="st"||g==="gs"?(v.strokeStyle=g==="st"?m.co:m.grd,v.lineWidth=m.wi,v.lineCap=m.lc,v.lineJoin=m.lj,v.miterLimit=m.ml||0):v.fillStyle=g==="fl"?m.co:m.grd,d.ctxOpacity(m.coOp),g!=="st"&&g!=="gs"&&v.beginPath(),d.ctxTransform(m.preTransforms.finalTransform.props),s=l.length,n=0;n<s;n+=1){for((g==="st"||g==="gs")&&(v.beginPath(),m.da&&(v.setLineDash(m.da),v.lineDashOffset=m.do)),c=l[n].trNodes,h=c.length,o=0;o<h;o+=1)c[o].t==="m"?v.moveTo(c[o].p[0],c[o].p[1]):c[o].t==="c"?v.bezierCurveTo(c[o].pts[0],c[o].pts[1],c[o].pts[2],c[o].pts[3],c[o].pts[4],c[o].pts[5]):v.closePath();(g==="st"||g==="gs")&&(v.stroke(),m.da&&v.setLineDash(this.dashResetter))}g!=="st"&&g!=="gs"&&v.fill(m.r),d.restore()}},CVShapeElement.prototype.renderShape=function(t,r,n,s){var o,h=r.length-1,l;for(l=t,o=h;o>=0;o-=1)r[o].ty==="tr"?(l=n[o].transform,this.renderShapeTransform(t,l)):r[o].ty==="sh"||r[o].ty==="el"||r[o].ty==="rc"||r[o].ty==="sr"?this.renderPath(r[o],n[o]):r[o].ty==="fl"?this.renderFill(r[o],n[o],l):r[o].ty==="st"?this.renderStroke(r[o],n[o],l):r[o].ty==="gf"||r[o].ty==="gs"?this.renderGradientFill(r[o],n[o],l):r[o].ty==="gr"?this.renderShape(l,r[o].it,n[o].it):r[o].ty;s&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(t,r){if(this._isFirstFrame||r._mdf||t.transforms._mdf){var n=t.trNodes,s=r.paths,o,h,l,c=s._length;n.length=0;var d=t.transforms.finalTransform;for(l=0;l<c;l+=1){var v=s.shapes[l];if(v&&v.v){for(h=v._length,o=1;o<h;o+=1)o===1&&n.push({t:"m",p:d.applyToPointArray(v.v[0][0],v.v[0][1],0)}),n.push({t:"c",pts:d.applyToTriplePoints(v.o[o-1],v.i[o],v.v[o])});h===1&&n.push({t:"m",p:d.applyToPointArray(v.v[0][0],v.v[0][1],0)}),v.c&&h&&(n.push({t:"c",pts:d.applyToTriplePoints(v.o[o-1],v.i[0],v.v[0])}),n.push({t:"z"}))}}t.trNodes=n}},CVShapeElement.prototype.renderPath=function(t,r){if(t.hd!==!0&&t._shouldRender){var n,s=r.styledShapes.length;for(n=0;n<s;n+=1)this.renderStyledShape(r.styledShapes[n],r.sh)}},CVShapeElement.prototype.renderFill=function(t,r,n){var s=r.style;(r.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(r.c.v[0])+","+bmFloor(r.c.v[1])+","+bmFloor(r.c.v[2])+")"),(r.o._mdf||n._opMdf||this._isFirstFrame)&&(s.coOp=r.o.v*n.opacity)},CVShapeElement.prototype.renderGradientFill=function(t,r,n){var s=r.style,o;if(!s.grd||r.g._mdf||r.s._mdf||r.e._mdf||t.t!==1&&(r.h._mdf||r.a._mdf)){var h=this.globalData.canvasContext,l=r.s.v,c=r.e.v;if(t.t===1)o=h.createLinearGradient(l[0],l[1],c[0],c[1]);else{var d=Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)),v=Math.atan2(c[1]-l[1],c[0]-l[0]),g=r.h.v;g>=1?g=.99:g<=-1&&(g=-.99);var m=d*g,_=Math.cos(v+r.a.v)*m+l[0],y=Math.sin(v+r.a.v)*m+l[1];o=h.createRadialGradient(_,y,0,l[0],l[1],d)}var B,w=t.g.p,C=r.g.c,b=1;for(B=0;B<w;B+=1)r.g._hasOpacity&&r.g._collapsable&&(b=r.g.o[B*2+1]),o.addColorStop(C[B*4]/100,"rgba("+C[B*4+1]+","+C[B*4+2]+","+C[B*4+3]+","+b+")");s.grd=o}s.coOp=r.o.v*n.opacity},CVShapeElement.prototype.renderStroke=function(t,r,n){var s=r.style,o=r.d;o&&(o._mdf||this._isFirstFrame)&&(s.da=o.dashArray,s.do=o.dashoffset[0]),(r.c._mdf||this._isFirstFrame)&&(s.co="rgb("+bmFloor(r.c.v[0])+","+bmFloor(r.c.v[1])+","+bmFloor(r.c.v[2])+")"),(r.o._mdf||n._opMdf||this._isFirstFrame)&&(s.coOp=r.o.v*n.opacity),(r.w._mdf||this._isFirstFrame)&&(s.wi=r.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(t,r,n){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(t,r,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var r=!1;t.fc?(r=!0,this.values.fill=this.buildColor(t.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=r;var n=!1;t.sc&&(n=!0,this.values.stroke=this.buildColor(t.sc),this.values.sWidth=t.sw);var s=this.globalData.fontManager.getFontByName(t.f),o,h,l=t.l,c=this.mHelper;this.stroke=n,this.values.fValue=t.finalSize+"px "+this.globalData.fontManager.getFontByName(t.f).fFamily,h=t.finalText.length;var d,v,g,m,_,y,B,w,C,b,I=this.data.singleShape,S=t.tr*.001*t.finalSize,R=0,O=0,P=!0,N=0;for(o=0;o<h;o+=1){d=this.globalData.fontManager.getCharData(t.finalText[o],s.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),v=d&&d.data||{},c.reset(),I&&l[o].n&&(R=-S,O+=t.yOffset,O+=P?1:0,P=!1),_=v.shapes?v.shapes[0].it:[],B=_.length,c.scale(t.finalSize/100,t.finalSize/100),I&&this.applyTextPropertiesToMatrix(t,c,l[o].line,R,O),C=createSizedArray(B-1);var M=0;for(y=0;y<B;y+=1)if(_[y].ty==="sh"){for(m=_[y].ks.k.i.length,w=_[y].ks.k,b=[],g=1;g<m;g+=1)g===1&&b.push(c.applyToX(w.v[0][0],w.v[0][1],0),c.applyToY(w.v[0][0],w.v[0][1],0)),b.push(c.applyToX(w.o[g-1][0],w.o[g-1][1],0),c.applyToY(w.o[g-1][0],w.o[g-1][1],0),c.applyToX(w.i[g][0],w.i[g][1],0),c.applyToY(w.i[g][0],w.i[g][1],0),c.applyToX(w.v[g][0],w.v[g][1],0),c.applyToY(w.v[g][0],w.v[g][1],0));b.push(c.applyToX(w.o[g-1][0],w.o[g-1][1],0),c.applyToY(w.o[g-1][0],w.o[g-1][1],0),c.applyToX(w.i[0][0],w.i[0][1],0),c.applyToY(w.i[0][0],w.i[0][1],0),c.applyToX(w.v[0][0],w.v[0][1],0),c.applyToY(w.v[0][0],w.v[0][1],0)),C[M]=b,M+=1}I&&(R+=l[o].l,R+=S),this.textSpans[N]?this.textSpans[N].elem=C:this.textSpans[N]={elem:C},N+=1}},CVTextElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.font=this.values.fValue,t.lineCap="butt",t.lineJoin="miter",t.miterLimit=4,this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var r,n,s,o,h,l,c=this.textAnimator.renderedLetters,d=this.textProperty.currentData.l;n=d.length;var v,g=null,m=null,_=null,y,B;for(r=0;r<n;r+=1)if(!d[r].n){if(v=c[r],v&&(this.globalData.renderer.save(),this.globalData.renderer.ctxTransform(v.p),this.globalData.renderer.ctxOpacity(v.o)),this.fill){for(v&&v.fc?g!==v.fc&&(g=v.fc,t.fillStyle=v.fc):g!==this.values.fill&&(g=this.values.fill,t.fillStyle=this.values.fill),y=this.textSpans[r].elem,o=y.length,this.globalData.canvasContext.beginPath(),s=0;s<o;s+=1)for(B=y[s],l=B.length,this.globalData.canvasContext.moveTo(B[0],B[1]),h=2;h<l;h+=6)this.globalData.canvasContext.bezierCurveTo(B[h],B[h+1],B[h+2],B[h+3],B[h+4],B[h+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.fill()}if(this.stroke){for(v&&v.sw?_!==v.sw&&(_=v.sw,t.lineWidth=v.sw):_!==this.values.sWidth&&(_=this.values.sWidth,t.lineWidth=this.values.sWidth),v&&v.sc?m!==v.sc&&(m=v.sc,t.strokeStyle=v.sc):m!==this.values.stroke&&(m=this.values.stroke,t.strokeStyle=this.values.stroke),y=this.textSpans[r].elem,o=y.length,this.globalData.canvasContext.beginPath(),s=0;s<o;s+=1)for(B=y[s],l=B.length,this.globalData.canvasContext.moveTo(B[0],B[1]),h=2;h<l;h+=6)this.globalData.canvasContext.bezierCurveTo(B[h],B[h+1],B[h+2],B[h+3],B[h+4],B[h+5]);this.globalData.canvasContext.closePath(),this.globalData.canvasContext.stroke()}v&&this.globalData.renderer.restore()}};function CVImageElement(t,r,n){this.assetData=r.getAssetData(t.refId),this.img=r.imageLoader.getAsset(this.assetData),this.initElement(t,r,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var t=createTag("canvas");t.width=this.assetData.w,t.height=this.assetData.h;var r=t.getContext("2d"),n=this.img.width,s=this.img.height,o=n/s,h=this.assetData.w/this.assetData.h,l,c,d=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;o>h&&d==="xMidYMid slice"||o<h&&d!=="xMidYMid slice"?(c=s,l=c*h):(l=n,c=l/h),r.drawImage(this.img,(n-l)/2,(s-c)/2,l,c,0,0,this.assetData.w,this.assetData.h),this.img=t}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(t,r,n){this.initElement(t,r,n)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.fillStyle=this.data.sc,t.fillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(t,r){this.animationItem=t,this.renderConfig={clearCanvas:r&&r.clearCanvas!==void 0?r.clearCanvas:!0,context:r&&r.context||null,progressiveLoad:r&&r.progressiveLoad||!1,preserveAspectRatio:r&&r.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:r&&r.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:r&&r.contentVisibility||"visible",className:r&&r.className||"",id:r&&r.id||""},this.renderConfig.dpr=r&&r.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=r&&r.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(t){return new CVShapeElement(t,this.globalData,this)},CanvasRendererBase.prototype.createText=function(t){return new CVTextElement(t,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(t){return new CVImageElement(t,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(t){return new CVSolidElement(t,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(t){if(!(t[0]===1&&t[1]===0&&t[4]===0&&t[5]===1&&t[12]===0&&t[13]===0)){if(!this.renderConfig.clearCanvas){this.canvasContext.transform(t[0],t[1],t[4],t[5],t[12],t[13]);return}this.transformMat.cloneFromProps(t);var r=this.contextData.cTr.props;this.transformMat.transform(r[0],r[1],r[2],r[3],r[4],r[5],r[6],r[7],r[8],r[9],r[10],r[11],r[12],r[13],r[14],r[15]),this.contextData.cTr.cloneFromProps(this.transformMat.props);var n=this.contextData.cTr.props;this.canvasContext.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])}},CanvasRendererBase.prototype.ctxOpacity=function(t){if(!this.renderConfig.clearCanvas){this.canvasContext.globalAlpha*=t<0?0:t,this.globalData.currentGlobalAlpha=this.contextData.cO;return}this.contextData.cO*=t<0?0:t,this.globalData.currentGlobalAlpha!==this.contextData.cO&&(this.canvasContext.globalAlpha=this.contextData.cO,this.globalData.currentGlobalAlpha=this.contextData.cO)},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(t){if(!this.renderConfig.clearCanvas){this.canvasContext.save();return}t&&this.canvasContext.save();var r=this.contextData.cTr.props;this.contextData._length<=this.contextData.cArrPos&&this.contextData.duplicate();var n,s=this.contextData.saved[this.contextData.cArrPos];for(n=0;n<16;n+=1)s[n]=r[n];this.contextData.savedOp[this.contextData.cArrPos]=this.contextData.cO,this.contextData.cArrPos+=1},CanvasRendererBase.prototype.restore=function(t){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}t&&(this.canvasContext.restore(),this.globalData.blendMode="source-over"),this.contextData.cArrPos-=1;var r=this.contextData.saved[this.contextData.cArrPos],n,s=this.contextData.cTr.props;for(n=0;n<16;n+=1)s[n]=r[n];this.canvasContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13]),r=this.contextData.savedOp[this.contextData.cArrPos],this.contextData.cO=r,this.globalData.currentGlobalAlpha!==r&&(this.canvasContext.globalAlpha=r,this.globalData.currentGlobalAlpha=r)},CanvasRendererBase.prototype.configAnimation=function(t){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var r=this.animationItem.container.style;r.width="100%",r.height="100%";var n="0px 0px 0px";r.transformOrigin=n,r.mozTransformOrigin=n,r.webkitTransformOrigin=n,r["-webkit-transform"]=n,r.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.data=t,this.layers=t.layers,this.transformCanvas={w:t.w,h:t.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(t,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(t.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(){this.reset();var t,r;this.animationItem.wrapper&&this.animationItem.container?(t=this.animationItem.wrapper.offsetWidth,r=this.animationItem.wrapper.offsetHeight,this.animationItem.container.setAttribute("width",t*this.renderConfig.dpr),this.animationItem.container.setAttribute("height",r*this.renderConfig.dpr)):(t=this.canvasContext.canvas.width*this.renderConfig.dpr,r=this.canvasContext.canvas.height*this.renderConfig.dpr);var n,s;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var o=this.renderConfig.preserveAspectRatio.split(" "),h=o[1]||"meet",l=o[0]||"xMidYMid",c=l.substr(0,4),d=l.substr(4);n=t/r,s=this.transformCanvas.w/this.transformCanvas.h,s>n&&h==="meet"||s<n&&h==="slice"?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=t/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=r/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.h/this.renderConfig.dpr)),c==="xMid"&&(s<n&&h==="meet"||s>n&&h==="slice")?this.transformCanvas.tx=(t-this.transformCanvas.w*(r/this.transformCanvas.h))/2*this.renderConfig.dpr:c==="xMax"&&(s<n&&h==="meet"||s>n&&h==="slice")?this.transformCanvas.tx=(t-this.transformCanvas.w*(r/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,d==="YMid"&&(s>n&&h==="meet"||s<n&&h==="slice")?this.transformCanvas.ty=(r-this.transformCanvas.h*(t/this.transformCanvas.w))/2*this.renderConfig.dpr:d==="YMax"&&(s>n&&h==="meet"||s<n&&h==="slice")?this.transformCanvas.ty=(r-this.transformCanvas.h*(t/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=t/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var t,r=this.layers?this.layers.length:0;for(t=r-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(t,r){if(!(this.renderedFrame===t&&this.renderConfig.clearCanvas===!0&&!r||this.destroyed||t===-1)){this.renderedFrame=t,this.globalData.frameNum=t-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||r,this.globalData.projectInterface.currentFrame=t;var n,s=this.layers.length;for(this.completeLayers||this.checkLayers(t),n=0;n<s;n+=1)(this.completeLayers||this.elements[n])&&this.elements[n].prepareFrame(t-this.layers[n].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),n=s-1;n>=0;n-=1)(this.completeLayers||this.elements[n])&&this.elements[n].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(t){var r=this.elements;if(!(r[t]||this.layers[t].ty===99)){var n=this.createItem(this.layers[t],this,this.globalData);r[t]=n,n.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CVCompElement(t,r,n){this.completeLayers=!1,this.layers=t.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(t,r,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,r.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var t=this.canvasContext;t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip();var r,n=this.layers.length;for(r=n-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame()},CVCompElement.prototype.destroy=function(){var t,r=this.layers.length;for(t=r-1;t>=0;t-=1)this.elements[t]&&this.elements[t].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)};function CanvasRenderer(t,r){this.animationItem=t,this.renderConfig={clearCanvas:r&&r.clearCanvas!==void 0?r.clearCanvas:!0,context:r&&r.context||null,progressiveLoad:r&&r.progressiveLoad||!1,preserveAspectRatio:r&&r.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:r&&r.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:r&&r.contentVisibility||"visible",className:r&&r.className||"",id:r&&r.id||""},this.renderConfig.dpr=r&&r.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=r&&r.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas"}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(t){return new CVCompElement(t,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var r=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var n=this.finalTransform.mat.toCSS();r.transform=n,r.webkitTransform=n}this.finalTransform._opMdf&&(r.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(t,r,n){this.initElement(t,r,n)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var t;this.data.hasMask?(t=createNS("rect"),t.setAttribute("width",this.data.sw),t.setAttribute("height",this.data.sh),t.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(t=createTag("div"),t.style.width=this.data.sw+"px",t.style.height=this.data.sh+"px",t.style.backgroundColor=this.data.sc),this.layerElement.appendChild(t)};function HShapeElement(t,r,n){this.shapes=[],this.shapesData=t.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(t,r,n),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var t;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),t=this.svgElement;else{t=createNS("svg");var r=this.comp.data?this.comp.data:this.globalData.compSize;t.setAttribute("width",r.w),t.setAttribute("height",r.h),t.appendChild(this.shapesContainer),this.layerElement.appendChild(t)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=t},HShapeElement.prototype.getTransformedPoint=function(t,r){var n,s=t.length;for(n=0;n<s;n+=1)r=t[n].mProps.v.applyToPointArray(r[0],r[1],0);return r},HShapeElement.prototype.calculateShapeBoundingBox=function(t,r){var n=t.sh.v,s=t.transformers,o,h=n._length,l,c,d,v;if(!(h<=1)){for(o=0;o<h-1;o+=1)l=this.getTransformedPoint(s,n.v[o]),c=this.getTransformedPoint(s,n.o[o]),d=this.getTransformedPoint(s,n.i[o+1]),v=this.getTransformedPoint(s,n.v[o+1]),this.checkBounds(l,c,d,v,r);n.c&&(l=this.getTransformedPoint(s,n.v[o]),c=this.getTransformedPoint(s,n.o[o]),d=this.getTransformedPoint(s,n.i[0]),v=this.getTransformedPoint(s,n.v[0]),this.checkBounds(l,c,d,v,r))}},HShapeElement.prototype.checkBounds=function(t,r,n,s,o){this.getBoundsOfCurve(t,r,n,s);var h=this.shapeBoundingBox;o.x=bmMin(h.left,o.x),o.xMax=bmMax(h.right,o.xMax),o.y=bmMin(h.top,o.y),o.yMax=bmMax(h.bottom,o.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(t,r,n,s){for(var o=[[t[0],s[0]],[t[1],s[1]]],h,l,c,d,v,g,m,_=0;_<2;++_)l=6*t[_]-12*r[_]+6*n[_],h=-3*t[_]+9*r[_]-9*n[_]+3*s[_],c=3*r[_]-3*t[_],l|=0,h|=0,c|=0,h===0&&l===0||(h===0?(d=-c/l,d>0&&d<1&&o[_].push(this.calculateF(d,t,r,n,s,_))):(v=l*l-4*c*h,v>=0&&(g=(-l+bmSqrt(v))/(2*h),g>0&&g<1&&o[_].push(this.calculateF(g,t,r,n,s,_)),m=(-l-bmSqrt(v))/(2*h),m>0&&m<1&&o[_].push(this.calculateF(m,t,r,n,s,_)))));this.shapeBoundingBox.left=bmMin.apply(null,o[0]),this.shapeBoundingBox.top=bmMin.apply(null,o[1]),this.shapeBoundingBox.right=bmMax.apply(null,o[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,o[1])},HShapeElement.prototype.calculateF=function(t,r,n,s,o,h){return bmPow(1-t,3)*r[h]+3*bmPow(1-t,2)*t*n[h]+3*(1-t)*bmPow(t,2)*s[h]+bmPow(t,3)*o[h]},HShapeElement.prototype.calculateBoundingBox=function(t,r){var n,s=t.length;for(n=0;n<s;n+=1)t[n]&&t[n].sh?this.calculateShapeBoundingBox(t[n],r):t[n]&&t[n].it&&this.calculateBoundingBox(t[n].it,r)},HShapeElement.prototype.currentBoxContains=function(t){return this.currentBBox.x<=t.x&&this.currentBBox.y<=t.y&&this.currentBBox.width+this.currentBBox.x>=t.x+t.width&&this.currentBBox.height+this.currentBBox.y>=t.y+t.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var t=this.tempBoundingBox,r=999999;if(t.x=r,t.xMax=-r,t.y=r,t.yMax=-r,this.calculateBoundingBox(this.itemsData,t),t.width=t.xMax<t.x?0:t.xMax-t.x,t.height=t.yMax<t.y?0:t.yMax-t.y,this.currentBoxContains(t))return;var n=!1;if(this.currentBBox.w!==t.width&&(this.currentBBox.w=t.width,this.shapeCont.setAttribute("width",t.width),n=!0),this.currentBBox.h!==t.height&&(this.currentBBox.h=t.height,this.shapeCont.setAttribute("height",t.height),n=!0),n||this.currentBBox.x!==t.x||this.currentBBox.y!==t.y){this.currentBBox.w=t.width,this.currentBBox.h=t.height,this.currentBBox.x=t.x,this.currentBBox.y=t.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var s=this.shapeCont.style,o="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";s.transform=o,s.webkitTransform=o}}};function HTextElement(t,r,n){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(t,r,n)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var t=createNS("g");this.maskedElement.appendChild(t),this.innerElem=t}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var t=this.textProperty.currentData;this.renderedLetters=createSizedArray(t.l?t.l.length:0);var r=this.innerElem.style,n=t.fc?this.buildColor(t.fc):"rgba(0,0,0,0)";r.fill=n,r.color=n,t.sc&&(r.stroke=this.buildColor(t.sc),r.strokeWidth=t.sw+"px");var s=this.globalData.fontManager.getFontByName(t.f);if(!this.globalData.fontManager.chars)if(r.fontSize=t.finalSize+"px",r.lineHeight=t.finalSize+"px",s.fClass)this.innerElem.className=s.fClass;else{r.fontFamily=s.fFamily;var o=t.fWeight,h=t.fStyle;r.fontStyle=h,r.fontWeight=o}var l,c,d=t.l;c=d.length;var v,g,m,_=this.mHelper,y,B="",w=0;for(l=0;l<c;l+=1){if(this.globalData.fontManager.chars?(this.textPaths[w]?v=this.textPaths[w]:(v=createNS("path"),v.setAttribute("stroke-linecap",lineCapEnum[1]),v.setAttribute("stroke-linejoin",lineJoinEnum[2]),v.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[w]?(g=this.textSpans[w],m=g.children[0]):(g=createTag("div"),g.style.lineHeight=0,m=createNS("svg"),m.appendChild(v),styleDiv(g)))):this.isMasked?v=this.textPaths[w]?this.textPaths[w]:createNS("text"):this.textSpans[w]?(g=this.textSpans[w],v=this.textPaths[w]):(g=createTag("span"),styleDiv(g),v=createTag("span"),styleDiv(v),g.appendChild(v)),this.globalData.fontManager.chars){var C=this.globalData.fontManager.getCharData(t.finalText[l],s.fStyle,this.globalData.fontManager.getFontByName(t.f).fFamily),b;if(C?b=C.data:b=null,_.reset(),b&&b.shapes&&b.shapes.length&&(y=b.shapes[0].it,_.scale(t.finalSize/100,t.finalSize/100),B=this.createPathShape(_,y),v.setAttribute("d",B)),this.isMasked)this.innerElem.appendChild(v);else{if(this.innerElem.appendChild(g),b&&b.shapes){document.body.appendChild(m);var I=m.getBBox();m.setAttribute("width",I.width+2),m.setAttribute("height",I.height+2),m.setAttribute("viewBox",I.x-1+" "+(I.y-1)+" "+(I.width+2)+" "+(I.height+2));var S=m.style,R="translate("+(I.x-1)+"px,"+(I.y-1)+"px)";S.transform=R,S.webkitTransform=R,d[l].yOffset=I.y-1}else m.setAttribute("width",1),m.setAttribute("height",1);g.appendChild(m)}}else if(v.textContent=d[l].val,v.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(v);else{this.innerElem.appendChild(g);var O=v.style,P="translate3d(0,"+-t.finalSize/1.2+"px,0)";O.transform=P,O.webkitTransform=P}this.isMasked?this.textSpans[w]=v:this.textSpans[w]=g,this.textSpans[w].style.display="block",this.textPaths[w]=v,w+=1}for(;w<this.textSpans.length;)this.textSpans[w].style.display="none",w+=1},HTextElement.prototype.renderInnerContent=function(){var t;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),t=this.svgElement.style;var r="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";t.transform=r,t.webkitTransform=r}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var n,s,o=0,h=this.textAnimator.renderedLetters,l=this.textProperty.currentData.l;s=l.length;var c,d,v;for(n=0;n<s;n+=1)l[n].n?o+=1:(d=this.textSpans[n],v=this.textPaths[n],c=h[o],o+=1,c._mdf.m&&(this.isMasked?d.setAttribute("transform",c.m):(d.style.webkitTransform=c.m,d.style.transform=c.m)),d.style.opacity=c.o,c.sw&&c._mdf.sw&&v.setAttribute("stroke-width",c.sw),c.sc&&c._mdf.sc&&v.setAttribute("stroke",c.sc),c.fc&&c._mdf.fc&&(v.setAttribute("fill",c.fc),v.style.color=c.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var g=this.innerElem.getBBox();this.currentBBox.w!==g.width&&(this.currentBBox.w=g.width,this.svgElement.setAttribute("width",g.width)),this.currentBBox.h!==g.height&&(this.currentBBox.h=g.height,this.svgElement.setAttribute("height",g.height));var m=1;if(this.currentBBox.w!==g.width+m*2||this.currentBBox.h!==g.height+m*2||this.currentBBox.x!==g.x-m||this.currentBBox.y!==g.y-m){this.currentBBox.w=g.width+m*2,this.currentBBox.h=g.height+m*2,this.currentBBox.x=g.x-m,this.currentBBox.y=g.y-m,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),t=this.svgElement.style;var _="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";t.transform=_,t.webkitTransform=_}}}};function HCameraElement(t,r,n){this.initFrame(),this.initBaseData(t,r,n),this.initHierarchy();var s=PropertyFactory.getProp;if(this.pe=s(this,t.pe,0,0,this),t.ks.p.s?(this.px=s(this,t.ks.p.x,1,0,this),this.py=s(this,t.ks.p.y,1,0,this),this.pz=s(this,t.ks.p.z,1,0,this)):this.p=s(this,t.ks.p,1,0,this),t.ks.a&&(this.a=s(this,t.ks.a,1,0,this)),t.ks.or.k.length&&t.ks.or.k[0].to){var o,h=t.ks.or.k.length;for(o=0;o<h;o+=1)t.ks.or.k[o].to=null,t.ks.or.k[o].ti=null}this.or=s(this,t.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=s(this,t.ks.rx,0,degToRads,this),this.ry=s(this,t.ks.ry,0,degToRads,this),this.rz=s(this,t.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var t,r=this.comp.threeDElements.length,n,s,o;for(t=0;t<r;t+=1)if(n=this.comp.threeDElements[t],n.type==="3d"){s=n.perspectiveElem.style,o=n.container.style;var h=this.pe.v+"px",l="0px 0px 0px",c="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";s.perspective=h,s.webkitPerspective=h,o.transformOrigin=l,o.mozTransformOrigin=l,o.webkitTransformOrigin=l,s.transform=c,s.webkitTransform=c}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var t=this._isFirstFrame,r,n;if(this.hierarchy)for(n=this.hierarchy.length,r=0;r<n;r+=1)t=this.hierarchy[r].finalTransform.mProp._mdf||t;if(t||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(n=this.hierarchy.length-1,r=n;r>=0;r-=1){var s=this.hierarchy[r].finalTransform.mProp;this.mat.translate(-s.p.v[0],-s.p.v[1],s.p.v[2]),this.mat.rotateX(-s.or.v[0]).rotateY(-s.or.v[1]).rotateZ(s.or.v[2]),this.mat.rotateX(-s.rx.v).rotateY(-s.ry.v).rotateZ(s.rz.v),this.mat.scale(1/s.s.v[0],1/s.s.v[1],1/s.s.v[2]),this.mat.translate(s.a.v[0],s.a.v[1],s.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var o;this.p?o=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:o=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var h=Math.sqrt(Math.pow(o[0],2)+Math.pow(o[1],2)+Math.pow(o[2],2)),l=[o[0]/h,o[1]/h,o[2]/h],c=Math.sqrt(l[2]*l[2]+l[0]*l[0]),d=Math.atan2(l[1],c),v=Math.atan2(l[0],-l[2]);this.mat.rotateY(v).rotateX(-d)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var g=!this._prevMat.equals(this.mat);if((g||this.pe._mdf)&&this.comp.threeDElements){n=this.comp.threeDElements.length;var m,_,y;for(r=0;r<n;r+=1)if(m=this.comp.threeDElements[r],m.type==="3d"){if(g){var B=this.mat.toCSS();y=m.container.style,y.transform=B,y.webkitTransform=B}this.pe._mdf&&(_=m.perspectiveElem.style,_.perspective=this.pe.v+"px",_.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(t){this.prepareProperties(t,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(t,r,n){this.assetData=r.getAssetData(t.refId),this.initElement(t,r,n)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var t=this.globalData.getAssetsPath(this.assetData),r=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",t),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(r),r.crossOrigin="anonymous",r.src=t,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(t,r){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:r&&r.className||"",imagePreserveAspectRatio:r&&r.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(r&&r.hideOnTransparent===!1),filterSize:{width:r&&r.filterSize&&r.filterSize.width||"400%",height:r&&r.filterSize&&r.filterSize.height||"400%",x:r&&r.filterSize&&r.filterSize.x||"-100%",y:r&&r.filterSize&&r.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var t=this.pendingElements.pop();t.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(t,r){var n=t.getBaseElement();if(!!n){var s=this.layers[r];if(!s.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(n,r);else{for(var o=0,h,l,c;o<r;)this.elements[o]&&this.elements[o]!==!0&&this.elements[o].getBaseElement&&(l=this.elements[o],c=this.layers[o].ddd?this.getThreeDContainerByPos(o):l.getBaseElement(),h=c||h),o+=1;h?(!s.ddd||!this.supports3d)&&this.layerElement.insertBefore(n,h):(!s.ddd||!this.supports3d)&&this.layerElement.appendChild(n)}else this.addTo3dContainer(n,r)}},HybridRendererBase.prototype.createShape=function(t){return this.supports3d?new HShapeElement(t,this.globalData,this):new SVGShapeElement(t,this.globalData,this)},HybridRendererBase.prototype.createText=function(t){return this.supports3d?new HTextElement(t,this.globalData,this):new SVGTextLottieElement(t,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(t){return this.camera=new HCameraElement(t,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(t){return this.supports3d?new HImageElement(t,this.globalData,this):new IImageElement(t,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(t){return this.supports3d?new HSolidElement(t,this.globalData,this):new ISolidElement(t,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(t){for(var r=0,n=this.threeDElements.length;r<n;){if(this.threeDElements[r].startPos<=t&&this.threeDElements[r].endPos>=t)return this.threeDElements[r].perspectiveElem;r+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(t,r){var n=createTag("div"),s,o;styleDiv(n);var h=createTag("div");if(styleDiv(h),r==="3d"){s=n.style,s.width=this.globalData.compSize.w+"px",s.height=this.globalData.compSize.h+"px";var l="50% 50%";s.webkitTransformOrigin=l,s.mozTransformOrigin=l,s.transformOrigin=l,o=h.style;var c="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";o.transform=c,o.webkitTransform=c}n.appendChild(h);var d={container:h,perspectiveElem:n,startPos:t,endPos:t,type:r};return this.threeDElements.push(d),d},HybridRendererBase.prototype.build3dContainers=function(){var t,r=this.layers.length,n,s="";for(t=0;t<r;t+=1)this.layers[t].ddd&&this.layers[t].ty!==3?(s!=="3d"&&(s="3d",n=this.createThreeDContainer(t,"3d")),n.endPos=Math.max(n.endPos,t)):(s!=="2d"&&(s="2d",n=this.createThreeDContainer(t,"2d")),n.endPos=Math.max(n.endPos,t));for(r=this.threeDElements.length,t=r-1;t>=0;t-=1)this.resizerElem.appendChild(this.threeDElements[t].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(t,r){for(var n=0,s=this.threeDElements.length;n<s;){if(r<=this.threeDElements[n].endPos){for(var o=this.threeDElements[n].startPos,h;o<r;)this.elements[o]&&this.elements[o].getBaseElement&&(h=this.elements[o].getBaseElement()),o+=1;h?this.threeDElements[n].container.insertBefore(t,h):this.threeDElements[n].container.appendChild(t);break}n+=1}},HybridRendererBase.prototype.configAnimation=function(t){var r=createTag("div"),n=this.animationItem.wrapper,s=r.style;s.width=t.w+"px",s.height=t.h+"px",this.resizerElem=r,styleDiv(r),s.transformStyle="flat",s.mozTransformStyle="flat",s.webkitTransformStyle="flat",this.renderConfig.className&&r.setAttribute("class",this.renderConfig.className),n.appendChild(r),s.overflow="hidden";var o=createNS("svg");o.setAttribute("width","1"),o.setAttribute("height","1"),styleDiv(o),this.resizerElem.appendChild(o);var h=createNS("defs");o.appendChild(h),this.data=t,this.setupGlobalData(t,o),this.globalData.defs=h,this.layers=t.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var t,r=this.layers?this.layers.length:0;for(t=0;t<r;t+=1)this.elements[t].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var t=this.animationItem.wrapper.offsetWidth,r=this.animationItem.wrapper.offsetHeight,n=t/r,s=this.globalData.compSize.w/this.globalData.compSize.h,o,h,l,c;s>n?(o=t/this.globalData.compSize.w,h=t/this.globalData.compSize.w,l=0,c=(r-this.globalData.compSize.h*(t/this.globalData.compSize.w))/2):(o=r/this.globalData.compSize.h,h=r/this.globalData.compSize.h,l=(t-this.globalData.compSize.w*(r/this.globalData.compSize.h))/2,c=0);var d=this.resizerElem.style;d.webkitTransform="matrix3d("+o+",0,0,0,0,"+h+",0,0,0,0,1,0,"+l+","+c+",0,1)",d.transform=d.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var t=this.globalData.compSize.w,r=this.globalData.compSize.h,n,s=this.threeDElements.length;for(n=0;n<s;n+=1){var o=this.threeDElements[n].perspectiveElem.style;o.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(r,2))+"px",o.perspective=o.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(t){var r,n=t.length,s=createTag("div");for(r=0;r<n;r+=1)if(t[r].xt){var o=this.createComp(t[r],s,this.globalData.comp,null);o.initExpressions(),this.globalData.projectInterface.registerComposition(o)}};function HCompElement(t,r,n){this.layers=t.layers,this.supports3d=!t.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(t,r,n),this.tm=t.tm?PropertyFactory.getProp(this,t.tm,0,r.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(t,r){for(var n=0,s;n<r;)this.elements[n]&&this.elements[n].getBaseElement&&(s=this.elements[n].getBaseElement()),n+=1;s?this.layerElement.insertBefore(t,s):this.layerElement.appendChild(t)},HCompElement.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};function HybridRenderer(t,r){this.animationItem=t,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:r&&r.className||"",imagePreserveAspectRatio:r&&r.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(r&&r.hideOnTransparent===!1),filterSize:{width:r&&r.filterSize&&r.filterSize.width||"400%",height:r&&r.filterSize&&r.filterSize.height||"400%",x:r&&r.filterSize&&r.filterSize.x||"-100%",y:r&&r.filterSize&&r.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(t){return this.supports3d?new HCompElement(t,this.globalData,this):new SVGCompElement(t,this.globalData,this)};var Expressions=function(){var t={};t.initExpressions=r;function r(n){var s=0,o=[];function h(){s+=1}function l(){s-=1,s===0&&d()}function c(v){o.indexOf(v)===-1&&o.push(v)}function d(){var v,g=o.length;for(v=0;v<g;v+=1)o[v].release();o.length=0}n.renderer.compInterface=CompExpressionInterface(n.renderer),n.renderer.globalData.projectInterface.registerComposition(n.renderer),n.renderer.globalData.pushExpression=h,n.renderer.globalData.popExpression=l,n.renderer.globalData.registerExpressionProperty=c}return t}();function _typeof$1(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(n){return typeof n}:_typeof$1=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof$1(t)}function seedRandom(t,r){var n=this,s=256,o=6,h=52,l="random",c=r.pow(s,o),d=r.pow(2,h),v=d*2,g=s-1,m;function _(S,R,O){var P=[];R=R===!0?{entropy:!0}:R||{};var N=C(w(R.entropy?[S,I(t)]:S===null?b():S,3),P),M=new y(P),H=function(){for(var J=M.g(o),ee=c,te=0;J<d;)J=(J+te)*s,ee*=s,te=M.g(1);for(;J>=v;)J/=2,ee/=2,te>>>=1;return(J+te)/ee};return H.int32=function(){return M.g(4)|0},H.quick=function(){return M.g(4)/4294967296},H.double=H,C(I(M.S),t),(R.pass||O||function(Y,J,ee,te){return te&&(te.S&&B(te,M),Y.state=function(){return B(M,{})}),ee?(r[l]=Y,J):Y})(H,N,"global"in R?R.global:this==r,R.state)}r["seed"+l]=_;function y(S){var R,O=S.length,P=this,N=0,M=P.i=P.j=0,H=P.S=[];for(O||(S=[O++]);N<s;)H[N]=N++;for(N=0;N<s;N++)H[N]=H[M=g&M+S[N%O]+(R=H[N])],H[M]=R;P.g=function(Y){for(var J,ee=0,te=P.i,se=P.j,W=P.S;Y--;)J=W[te=g&te+1],ee=ee*s+W[g&(W[te]=W[se=g&se+J])+(W[se]=J)];return P.i=te,P.j=se,ee}}function B(S,R){return R.i=S.i,R.j=S.j,R.S=S.S.slice(),R}function w(S,R){var O=[],P=_typeof$1(S),N;if(R&&P=="object")for(N in S)try{O.push(w(S[N],R-1))}catch(M){}return O.length?O:P=="string"?S:S+"\0"}function C(S,R){for(var O=S+"",P,N=0;N<O.length;)R[g&N]=g&(P^=R[g&N]*19)+O.charCodeAt(N++);return I(R)}function b(){try{var S=new Uint8Array(s);return(n.crypto||n.msCrypto).getRandomValues(S),I(S)}catch(P){var R=n.navigator,O=R&&R.plugins;return[+new Date,n,O,n.screen,I(t)]}}function I(S){return String.fromCharCode.apply(0,S)}C(r.random(),t)}function initialize$2(t){seedRandom([],t)}var propTypes={SHAPE:"shape"};function _typeof(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(n){return typeof n}:_typeof=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_typeof(t)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null;initialize$2(BMMath);function $bm_isInstanceOfArray(t){return t.constructor===Array||t.constructor===Float32Array}function isNumerable(t,r){return t==="number"||t==="boolean"||t==="string"||r instanceof Number}function $bm_neg(t){var r=_typeof(t);if(r==="number"||r==="boolean"||t instanceof Number)return-t;if($bm_isInstanceOfArray(t)){var n,s=t.length,o=[];for(n=0;n<s;n+=1)o[n]=-t[n];return o}return t.propType?t.v:-t}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(t,r){var n=_typeof(t),s=_typeof(r);if(n==="string"||s==="string"||isNumerable(n,t)&&isNumerable(s,r))return t+r;if($bm_isInstanceOfArray(t)&&isNumerable(s,r))return t=t.slice(0),t[0]+=r,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(r))return r=r.slice(0),r[0]=t+r[0],r;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(r)){for(var o=0,h=t.length,l=r.length,c=[];o<h||o<l;)(typeof t[o]=="number"||t[o]instanceof Number)&&(typeof r[o]=="number"||r[o]instanceof Number)?c[o]=t[o]+r[o]:c[o]=r[o]===void 0?t[o]:t[o]||r[o],o+=1;return c}return 0}var add=sum;function sub(t,r){var n=_typeof(t),s=_typeof(r);if(isNumerable(n,t)&&isNumerable(s,r))return n==="string"&&(t=parseInt(t,10)),s==="string"&&(r=parseInt(r,10)),t-r;if($bm_isInstanceOfArray(t)&&isNumerable(s,r))return t=t.slice(0),t[0]-=r,t;if(isNumerable(n,t)&&$bm_isInstanceOfArray(r))return r=r.slice(0),r[0]=t-r[0],r;if($bm_isInstanceOfArray(t)&&$bm_isInstanceOfArray(r)){for(var o=0,h=t.length,l=r.length,c=[];o<h||o<l;)(typeof t[o]=="number"||t[o]instanceof Number)&&(typeof r[o]=="number"||r[o]instanceof Number)?c[o]=t[o]-r[o]:c[o]=r[o]===void 0?t[o]:t[o]||r[o],o+=1;return c}return 0}function mul(t,r){var n=_typeof(t),s=_typeof(r),o;if(isNumerable(n,t)&&isNumerable(s,r))return t*r;var h,l;if($bm_isInstanceOfArray(t)&&isNumerable(s,r)){for(l=t.length,o=createTypedArray("float32",l),h=0;h<l;h+=1)o[h]=t[h]*r;return o}if(isNumerable(n,t)&&$bm_isInstanceOfArray(r)){for(l=r.length,o=createTypedArray("float32",l),h=0;h<l;h+=1)o[h]=t*r[h];return o}return 0}function div(t,r){var n=_typeof(t),s=_typeof(r),o;if(isNumerable(n,t)&&isNumerable(s,r))return t/r;var h,l;if($bm_isInstanceOfArray(t)&&isNumerable(s,r)){for(l=t.length,o=createTypedArray("float32",l),h=0;h<l;h+=1)o[h]=t[h]/r;return o}if(isNumerable(n,t)&&$bm_isInstanceOfArray(r)){for(l=r.length,o=createTypedArray("float32",l),h=0;h<l;h+=1)o[h]=t/r[h];return o}return 0}function mod(t,r){return typeof t=="string"&&(t=parseInt(t,10)),typeof r=="string"&&(r=parseInt(r,10)),t%r}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(t,r,n){if(r>n){var s=n;n=r,r=s}return Math.min(Math.max(t,r),n)}function radiansToDegrees(t){return t/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(t){return t*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(t,r){if(typeof t=="number"||t instanceof Number)return r=r||0,Math.abs(t-r);r||(r=helperLengthArray);var n,s=Math.min(t.length,r.length),o=0;for(n=0;n<s;n+=1)o+=Math.pow(r[n]-t[n],2);return Math.sqrt(o)}function normalize(t){return div(t,length(t))}function rgbToHsl(t){var r=t[0],n=t[1],s=t[2],o=Math.max(r,n,s),h=Math.min(r,n,s),l,c,d=(o+h)/2;if(o===h)l=0,c=0;else{var v=o-h;switch(c=d>.5?v/(2-o-h):v/(o+h),o){case r:l=(n-s)/v+(n<s?6:0);break;case n:l=(s-r)/v+2;break;case s:l=(r-n)/v+4;break}l/=6}return[l,c,d,t[3]]}function hue2rgb(t,r,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(r-t)*6*n:n<1/2?r:n<2/3?t+(r-t)*(2/3-n)*6:t}function hslToRgb(t){var r=t[0],n=t[1],s=t[2],o,h,l;if(n===0)o=s,l=s,h=s;else{var c=s<.5?s*(1+n):s+n-s*n,d=2*s-c;o=hue2rgb(d,c,r+1/3),h=hue2rgb(d,c,r),l=hue2rgb(d,c,r-1/3)}return[o,h,l,t[3]]}function linear(t,r,n,s,o){if((s===void 0||o===void 0)&&(s=r,o=n,r=0,n=1),n<r){var h=n;n=r,r=h}if(t<=r)return s;if(t>=n)return o;var l=n===r?0:(t-r)/(n-r);if(!s.length)return s+(o-s)*l;var c,d=s.length,v=createTypedArray("float32",d);for(c=0;c<d;c+=1)v[c]=s[c]+(o[c]-s[c])*l;return v}function random(t,r){if(r===void 0&&(t===void 0?(t=0,r=1):(r=t,t=void 0)),r.length){var n,s=r.length;t||(t=createTypedArray("float32",s));var o=createTypedArray("float32",s),h=BMMath.random();for(n=0;n<s;n+=1)o[n]=t[n]+h*(r[n]-t[n]);return o}t===void 0&&(t=0);var l=BMMath.random();return t+l*(r-t)}function createPath(t,r,n,s){var o,h=t.length,l=shapePool.newElement();l.setPathData(!!s,h);var c=[0,0],d,v;for(o=0;o<h;o+=1)d=r&&r[o]?r[o]:c,v=n&&n[o]?n[o]:c,l.setTripleAt(t[o][0],t[o][1],v[0]+t[o][0],v[1]+t[o][1],d[0]+t[o][0],d[1]+t[o][1],o,!0);return l}function initiateExpression(elem,data,property){var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=function t(r,n){var s,o,h=this.pv.length?this.pv.length:1,l=createTypedArray("float32",h);r=5;var c=Math.floor(time*r);for(s=0,o=0;s<c;){for(o=0;o<h;o+=1)l[o]+=-n+n*2*BMMath.random();s+=1}var d=time*r,v=d-Math.floor(d),g=createTypedArray("float32",h);if(h>1){for(o=0;o<h;o+=1)g[o]=this.pv[o]+l[o]+(-n+n*2*BMMath.random())*v;return g}return this.pv+l[0]+(-n+n*2*BMMath.random())*v}.bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(t,r){return loopIn(t,r,!0)}function loopOutDuration(t,r){return loopOut(t,r,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(t,r){var n=[r[0]-t[0],r[1]-t[1],r[2]-t[2]],s=Math.atan2(n[0],Math.sqrt(n[1]*n[1]+n[2]*n[2]))/degToRads,o=-Math.atan2(n[1],n[2])/degToRads;return[o,s,0]}function easeOut(t,r,n,s,o){return applyEase(easeOutBez,t,r,n,s,o)}function easeIn(t,r,n,s,o){return applyEase(easeInBez,t,r,n,s,o)}function ease(t,r,n,s,o){return applyEase(easeInOutBez,t,r,n,s,o)}function applyEase(t,r,n,s,o,h){o===void 0?(o=n,h=s):r=(r-n)/(s-n),r>1?r=1:r<0&&(r=0);var l=t(r);if($bm_isInstanceOfArray(o)){var c,d=o.length,v=createTypedArray("float32",d);for(c=0;c<d;c+=1)v[c]=(h[c]-o[c])*l+o[c];return v}return(h-o)*l+o}function nearestKey(t){var r,n=data.k.length,s,o;if(!data.k.length||typeof data.k[0]=="number")s=0,o=0;else if(s=-1,t*=elem.comp.globalData.frameRate,t<data.k[0].t)s=1,o=data.k[0].t;else{for(r=0;r<n-1;r+=1)if(t===data.k[r].t){s=r+1,o=data.k[r].t;break}else if(t>data.k[r].t&&t<data.k[r+1].t){t-data.k[r].t>data.k[r+1].t-t?(s=r+2,o=data.k[r+1].t):(s=r+1,o=data.k[r].t);break}s===-1&&(s=r+1,o=data.k[r].t)}var h={};return h.index=s,h.time=o/elem.comp.globalData.frameRate,h}function key(t){var r,n,s;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+t);t-=1,r={time:data.k[t].t/elem.comp.globalData.frameRate,value:[]};var o=Object.prototype.hasOwnProperty.call(data.k[t],"s")?data.k[t].s:data.k[t-1].e;for(s=o.length,n=0;n<s;n+=1)r[n]=o[n],r.value[n]=o[n];return r}function framesToTime(t,r){return r||(r=elem.comp.globalData.frameRate),t/r}function timeToFrames(t,r){return!t&&t!==0&&(t=time),r||(r=elem.comp.globalData.frameRate),t*r}function seedRandom(t){BMMath.seedrandom(randSeed+t)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(t,r){return typeof value=="string"?r===void 0?value.substring(t):value.substring(t,r):""}function substr(t,r){return typeof value=="string"?r===void 0?value.substr(t):value.substr(t,r):""}function posterizeTime(t){time=t===0?0:Math.floor(time*t)/t,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(t){return value=t,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath],ob}(),expressionHelpers=function(){function t(l,c,d){c.x&&(d.k=!0,d.x=!0,d.initiateExpression=ExpressionManager.initiateExpression,d.effectsSequence.push(d.initiateExpression(l,c,d).bind(d)))}function r(l){return l*=this.elem.globalData.frameRate,l-=this.offsetTime,l!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<l?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(l,this._cachingAtTime),this._cachingAtTime.lastFrame=l),this._cachingAtTime.value}function n(l){var c=-.01,d=this.getValueAtTime(l),v=this.getValueAtTime(l+c),g=0;if(d.length){var m;for(m=0;m<d.length;m+=1)g+=Math.pow(v[m]-d[m],2);g=Math.sqrt(g)*100}else g=0;return g}function s(l){if(this.vel!==void 0)return this.vel;var c=-.001,d=this.getValueAtTime(l),v=this.getValueAtTime(l+c),g;if(d.length){g=createTypedArray("float32",d.length);var m;for(m=0;m<d.length;m+=1)g[m]=(v[m]-d[m])/c}else g=(v-d)/c;return g}function o(){return this.pv}function h(l){this.propertyGroup=l}return{searchExpressions:t,getSpeedAtTime:n,getVelocityAtTime:s,getValueAtTime:r,getStaticValueAtTime:o,setGroupProperty:h}}();function addPropertyDecorator(){function t(_,y,B){if(!this.k||!this.keyframes)return this.pv;_=_?_.toLowerCase():"";var w=this.comp.renderedFrame,C=this.keyframes,b=C[C.length-1].t;if(w<=b)return this.pv;var I,S;B?(y?I=Math.abs(b-this.elem.comp.globalData.frameRate*y):I=Math.max(0,b-this.elem.data.ip),S=b-I):((!y||y>C.length-1)&&(y=C.length-1),S=C[C.length-1-y].t,I=b-S);var R,O,P;if(_==="pingpong"){var N=Math.floor((w-S)/I);if(N%2!==0)return this.getValueAtTime((I-(w-S)%I+S)/this.comp.globalData.frameRate,0)}else if(_==="offset"){var M=this.getValueAtTime(S/this.comp.globalData.frameRate,0),H=this.getValueAtTime(b/this.comp.globalData.frameRate,0),Y=this.getValueAtTime(((w-S)%I+S)/this.comp.globalData.frameRate,0),J=Math.floor((w-S)/I);if(this.pv.length){for(P=new Array(M.length),O=P.length,R=0;R<O;R+=1)P[R]=(H[R]-M[R])*J+Y[R];return P}return(H-M)*J+Y}else if(_==="continue"){var ee=this.getValueAtTime(b/this.comp.globalData.frameRate,0),te=this.getValueAtTime((b-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(P=new Array(ee.length),O=P.length,R=0;R<O;R+=1)P[R]=ee[R]+(ee[R]-te[R])*((w-b)/this.comp.globalData.frameRate)/5e-4;return P}return ee+(ee-te)*((w-b)/.001)}return this.getValueAtTime(((w-S)%I+S)/this.comp.globalData.frameRate,0)}function r(_,y,B){if(!this.k)return this.pv;_=_?_.toLowerCase():"";var w=this.comp.renderedFrame,C=this.keyframes,b=C[0].t;if(w>=b)return this.pv;var I,S;B?(y?I=Math.abs(this.elem.comp.globalData.frameRate*y):I=Math.max(0,this.elem.data.op-b),S=b+I):((!y||y>C.length-1)&&(y=C.length-1),S=C[y].t,I=S-b);var R,O,P;if(_==="pingpong"){var N=Math.floor((b-w)/I);if(N%2===0)return this.getValueAtTime(((b-w)%I+b)/this.comp.globalData.frameRate,0)}else if(_==="offset"){var M=this.getValueAtTime(b/this.comp.globalData.frameRate,0),H=this.getValueAtTime(S/this.comp.globalData.frameRate,0),Y=this.getValueAtTime((I-(b-w)%I+b)/this.comp.globalData.frameRate,0),J=Math.floor((b-w)/I)+1;if(this.pv.length){for(P=new Array(M.length),O=P.length,R=0;R<O;R+=1)P[R]=Y[R]-(H[R]-M[R])*J;return P}return Y-(H-M)*J}else if(_==="continue"){var ee=this.getValueAtTime(b/this.comp.globalData.frameRate,0),te=this.getValueAtTime((b+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(P=new Array(ee.length),O=P.length,R=0;R<O;R+=1)P[R]=ee[R]+(ee[R]-te[R])*(b-w)/.001;return P}return ee+(ee-te)*(b-w)/.001}return this.getValueAtTime((I-((b-w)%I+b))/this.comp.globalData.frameRate,0)}function n(_,y){if(!this.k)return this.pv;if(_=(_||.4)*.5,y=Math.floor(y||5),y<=1)return this.pv;var B=this.comp.renderedFrame/this.comp.globalData.frameRate,w=B-_,C=B+_,b=y>1?(C-w)/(y-1):1,I=0,S=0,R;this.pv.length?R=createTypedArray("float32",this.pv.length):R=0;for(var O;I<y;){if(O=this.getValueAtTime(w+I*b),this.pv.length)for(S=0;S<this.pv.length;S+=1)R[S]+=O[S];else R+=O;I+=1}if(this.pv.length)for(S=0;S<this.pv.length;S+=1)R[S]/=y;else R/=y;return R}function s(_){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var y=this._transformCachingAtTime.v;if(y.cloneFromProps(this.pre.props),this.appliedTransformations<1){var B=this.a.getValueAtTime(_);y.translate(-B[0]*this.a.mult,-B[1]*this.a.mult,B[2]*this.a.mult)}if(this.appliedTransformations<2){var w=this.s.getValueAtTime(_);y.scale(w[0]*this.s.mult,w[1]*this.s.mult,w[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var C=this.sk.getValueAtTime(_),b=this.sa.getValueAtTime(_);y.skewFromAxis(-C*this.sk.mult,b*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var I=this.r.getValueAtTime(_);y.rotate(-I*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var S=this.rz.getValueAtTime(_),R=this.ry.getValueAtTime(_),O=this.rx.getValueAtTime(_),P=this.or.getValueAtTime(_);y.rotateZ(-S*this.rz.mult).rotateY(R*this.ry.mult).rotateX(O*this.rx.mult).rotateZ(-P[2]*this.or.mult).rotateY(P[1]*this.or.mult).rotateX(P[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var N=this.px.getValueAtTime(_),M=this.py.getValueAtTime(_);if(this.data.p.z){var H=this.pz.getValueAtTime(_);y.translate(N*this.px.mult,M*this.py.mult,-H*this.pz.mult)}else y.translate(N*this.px.mult,M*this.py.mult,0)}else{var Y=this.p.getValueAtTime(_);y.translate(Y[0]*this.p.mult,Y[1]*this.p.mult,-Y[2]*this.p.mult)}return y}function o(){return this.v.clone(new Matrix)}var h=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(_,y,B){var w=h(_,y,B);return w.dynamicProperties.length?w.getValueAtTime=s.bind(w):w.getValueAtTime=o.bind(w),w.setGroupProperty=expressionHelpers.setGroupProperty,w};var l=PropertyFactory.getProp;PropertyFactory.getProp=function(_,y,B,w,C){var b=l(_,y,B,w,C);b.kf?b.getValueAtTime=expressionHelpers.getValueAtTime.bind(b):b.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(b),b.setGroupProperty=expressionHelpers.setGroupProperty,b.loopOut=t,b.loopIn=r,b.smooth=n,b.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(b),b.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(b),b.numKeys=y.a===1?y.k.length:0,b.propertyIndex=y.ix;var I=0;return B!==0&&(I=createTypedArray("float32",y.a===1?y.k[0].s.length:y.k.length)),b._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:I},expressionHelpers.searchExpressions(_,y,b),b.k&&C.addDynamicProperty(b),b};function c(_){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),_*=this.elem.globalData.frameRate,_-=this.offsetTime,_!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<_?this._caching.lastIndex:0,this._cachingAtTime.lastTime=_,this.interpolateShape(_,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var d=ShapePropertyFactory.getConstructorFunction(),v=ShapePropertyFactory.getKeyframedConstructorFunction();function g(){}g.prototype={vertices:function(y,B){this.k&&this.getValue();var w=this.v;B!==void 0&&(w=this.getValueAtTime(B,0));var C,b=w._length,I=w[y],S=w.v,R=createSizedArray(b);for(C=0;C<b;C+=1)y==="i"||y==="o"?R[C]=[I[C][0]-S[C][0],I[C][1]-S[C][1]]:R[C]=[I[C][0],I[C][1]];return R},points:function(y){return this.vertices("v",y)},inTangents:function(y){return this.vertices("i",y)},outTangents:function(y){return this.vertices("o",y)},isClosed:function(){return this.v.c},pointOnPath:function(y,B){var w=this.v;B!==void 0&&(w=this.getValueAtTime(B,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(w));for(var C=this._segmentsLength,b=C.lengths,I=C.totalLength*y,S=0,R=b.length,O=0,P;S<R;){if(O+b[S].addedLength>I){var N=S,M=w.c&&S===R-1?0:S+1,H=(I-O)/b[S].addedLength;P=bez.getPointInSegment(w.v[N],w.v[M],w.o[N],w.i[M],H,b[S]);break}else O+=b[S].addedLength;S+=1}return P||(P=w.c?[w.v[0][0],w.v[0][1]]:[w.v[w._length-1][0],w.v[w._length-1][1]]),P},vectorOnPath:function(y,B,w){y==1?y=this.v.c:y==0&&(y=.999);var C=this.pointOnPath(y,B),b=this.pointOnPath(y+.001,B),I=b[0]-C[0],S=b[1]-C[1],R=Math.sqrt(Math.pow(I,2)+Math.pow(S,2));if(R===0)return[0,0];var O=w==="tangent"?[I/R,S/R]:[-S/R,I/R];return O},tangentOnPath:function(y,B){return this.vectorOnPath(y,B,"tangent")},normalOnPath:function(y,B){return this.vectorOnPath(y,B,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([g],d),extendPrototype([g],v),v.prototype.getValueAtTime=c,v.prototype.initiateExpression=ExpressionManager.initiateExpression;var m=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(_,y,B,w,C){var b=m(_,y,B,w,C);return b.propertyIndex=y.ix,b.lock=!1,B===3?expressionHelpers.searchExpressions(_,y.pt,b):B===4&&expressionHelpers.searchExpressions(_,y.ks,b),b.k&&_.addDynamicProperty(b),b}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function t(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(r,n){var s=this.calculateExpression(n);if(r.t!==s){var o={};return this.copyData(o,r),o.t=s.toString(),o.__complete=!1,o}return r},TextProperty.prototype.searchProperty=function(){var r=this.searchKeyframes(),n=this.searchExpressions();return this.kf=r||n,this.kf},TextProperty.prototype.searchExpressions=t}function initialize(){addDecorator()}return registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),setExpressionsPlugin(Expressions),initialize$1(),initialize(),registerEffect(20,SVGTintFilter,!0),registerEffect(21,SVGFillFilter,!0),registerEffect(22,SVGStrokeEffect,!1),registerEffect(23,SVGTritoneFilter,!0),registerEffect(24,SVGProLevelsFilter,!0),registerEffect(25,SVGDropShadowEffect,!0),registerEffect(28,SVGMatte3Effect,!1),registerEffect(29,SVGGaussianBlurEffect,!0),lottie})})(lottie,lottie.exports);function finallyConstructor(t){var r=this.constructor;return this.then(function(n){return r.resolve(t()).then(function(){return n})},function(n){return r.resolve(t()).then(function(){return r.reject(n)})})}function allSettled(t){var r=this;return new r(function(n,s){if(!(t&&typeof t.length!="undefined"))return s(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var o=Array.prototype.slice.call(t);if(o.length===0)return n([]);var h=o.length;function l(d,v){if(v&&(typeof v=="object"||typeof v=="function")){var g=v.then;if(typeof g=="function"){g.call(v,function(m){l(d,m)},function(m){o[d]={status:"rejected",reason:m},--h===0&&n(o)});return}}o[d]={status:"fulfilled",value:v},--h===0&&n(o)}for(var c=0;c<o.length;c++)l(c,o[c])})}var setTimeoutFunc=setTimeout;function isArray(t){return Boolean(t&&typeof t.length!="undefined")}function noop(){}function bind(t,r){return function(){t.apply(r,arguments)}}function Promise$1(t){if(!(this instanceof Promise$1))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(t,this)}function handle(t,r){for(;t._state===3;)t=t._value;if(t._state===0){t._deferreds.push(r);return}t._handled=!0,Promise$1._immediateFn(function(){var n=t._state===1?r.onFulfilled:r.onRejected;if(n===null){(t._state===1?resolve$2:reject)(r.promise,t._value);return}var s;try{s=n(t._value)}catch(o){reject(r.promise,o);return}resolve$2(r.promise,s)})}function resolve$2(t,r){try{if(r===t)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(typeof r=="object"||typeof r=="function")){var n=r.then;if(r instanceof Promise$1){t._state=3,t._value=r,finale(t);return}else if(typeof n=="function"){doResolve(bind(n,r),t);return}}t._state=1,t._value=r,finale(t)}catch(s){reject(t,s)}}function reject(t,r){t._state=2,t._value=r,finale(t)}function finale(t){t._state===2&&t._deferreds.length===0&&Promise$1._immediateFn(function(){t._handled||Promise$1._unhandledRejectionFn(t._value)});for(var r=0,n=t._deferreds.length;r<n;r++)handle(t,t._deferreds[r]);t._deferreds=null}function Handler(t,r,n){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof r=="function"?r:null,this.promise=n}function doResolve(t,r){var n=!1;try{t(function(s){n||(n=!0,resolve$2(r,s))},function(s){n||(n=!0,reject(r,s))})}catch(s){if(n)return;n=!0,reject(r,s)}}Promise$1.prototype.catch=function(t){return this.then(null,t)};Promise$1.prototype.then=function(t,r){var n=new this.constructor(noop);return handle(this,new Handler(t,r,n)),n};Promise$1.prototype.finally=finallyConstructor;Promise$1.all=function(t){return new Promise$1(function(r,n){if(!isArray(t))return n(new TypeError("Promise.all accepts an array"));var s=Array.prototype.slice.call(t);if(s.length===0)return r([]);var o=s.length;function h(c,d){try{if(d&&(typeof d=="object"||typeof d=="function")){var v=d.then;if(typeof v=="function"){v.call(d,function(g){h(c,g)},n);return}}s[c]=d,--o===0&&r(s)}catch(g){n(g)}}for(var l=0;l<s.length;l++)h(l,s[l])})};Promise$1.allSettled=allSettled;Promise$1.resolve=function(t){return t&&typeof t=="object"&&t.constructor===Promise$1?t:new Promise$1(function(r){r(t)})};Promise$1.reject=function(t){return new Promise$1(function(r,n){n(t)})};Promise$1.race=function(t){return new Promise$1(function(r,n){if(!isArray(t))return n(new TypeError("Promise.race accepts an array"));for(var s=0,o=t.length;s<o;s++)Promise$1.resolve(t[s]).then(r,n)})};Promise$1._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){setTimeoutFunc(t,0)};Promise$1._unhandledRejectionFn=function t(r){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",r)};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty$2=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function shouldUseNative(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var r={},n=0;n<10;n++)r["_"+String.fromCharCode(n)]=n;var s=Object.getOwnPropertyNames(r).map(function(h){return r[h]});if(s.join("")!=="0123456789")return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(h){o[h]=h}),Object.keys(Object.assign({},o)).join("")==="abcdefghijklmnopqrst"}catch(h){return!1}}var objectAssign=shouldUseNative()?Object.assign:function(t,r){for(var n,s=toObject(t),o,h=1;h<arguments.length;h++){n=Object(arguments[h]);for(var l in n)hasOwnProperty$2.call(n,l)&&(s[l]=n[l]);if(getOwnPropertySymbols){o=getOwnPropertySymbols(n);for(var c=0;c<o.length;c++)propIsEnumerable.call(n,o[c])&&(s[o[c]]=n[o[c]])}}return s};/*!
 * @pixi/polyfill - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis=="undefined"&&(typeof self!="undefined"?self.globalThis=self:typeof global!="undefined"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=Promise$1);Object.assign||(Object.assign=objectAssign);var ONE_FRAME_TIME=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var startTime_1=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-startTime_1}}var lastTime=Date.now(),vendors=["ms","moz","webkit","o"];for(var x=0;x<vendors.length&&!globalThis.requestAnimationFrame;++x){var p=vendors[x];globalThis.requestAnimationFrame=globalThis[p+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[p+"CancelAnimationFrame"]||globalThis[p+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var r=Date.now(),n=ONE_FRAME_TIME+lastTime-r;return n<0&&(n=0),lastTime=r,globalThis.self.setTimeout(function(){lastTime=Date.now(),t(performance.now())},n)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(r){return r=Number(r),r===0||isNaN(r)?r:r>0?1:-1});Number.isInteger||(Number.isInteger=function(r){return typeof r=="number"&&isFinite(r)&&Math.floor(r)===r});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);var appleIphone$1=/iPhone/i,appleIpod$1=/iPod/i,appleTablet$1=/iPad/i,appleUniversal$1=/\biOS-universal(?:.+)Mac\b/i,androidPhone$1=/\bAndroid(?:.+)Mobile\b/i,androidTablet$1=/Android/i,amazonPhone$1=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,amazonTablet$1=/Silk/i,windowsPhone$1=/Windows Phone/i,windowsTablet$1=/\bWindows(?:.+)ARM\b/i,otherBlackBerry$1=/BlackBerry/i,otherBlackBerry10$1=/BB10/i,otherOpera$1=/Opera Mini/i,otherChrome$1=/\b(CriOS|Chrome)(?:.+)Mobile/i,otherFirefox$1=/Mobile(?:.+)Firefox\b/i,isAppleTabletOnIos13$1=function(t){return typeof t!="undefined"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream=="undefined"};function createMatch$1(t){return function(r){return r.test(t)}}function isMobile$3(t){var r={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator!="undefined"?r={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?r.userAgent=t:t&&t.userAgent&&(r={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var n=r.userAgent,s=n.split("[FBAN");typeof s[1]!="undefined"&&(n=s[0]),s=n.split("Twitter"),typeof s[1]!="undefined"&&(n=s[0]);var o=createMatch$1(n),h={apple:{phone:o(appleIphone$1)&&!o(windowsPhone$1),ipod:o(appleIpod$1),tablet:!o(appleIphone$1)&&(o(appleTablet$1)||isAppleTabletOnIos13$1(r))&&!o(windowsPhone$1),universal:o(appleUniversal$1),device:(o(appleIphone$1)||o(appleIpod$1)||o(appleTablet$1)||o(appleUniversal$1)||isAppleTabletOnIos13$1(r))&&!o(windowsPhone$1)},amazon:{phone:o(amazonPhone$1),tablet:!o(amazonPhone$1)&&o(amazonTablet$1),device:o(amazonPhone$1)||o(amazonTablet$1)},android:{phone:!o(windowsPhone$1)&&o(amazonPhone$1)||!o(windowsPhone$1)&&o(androidPhone$1),tablet:!o(windowsPhone$1)&&!o(amazonPhone$1)&&!o(androidPhone$1)&&(o(amazonTablet$1)||o(androidTablet$1)),device:!o(windowsPhone$1)&&(o(amazonPhone$1)||o(amazonTablet$1)||o(androidPhone$1)||o(androidTablet$1))||o(/\bokhttp\b/i)},windows:{phone:o(windowsPhone$1),tablet:o(windowsTablet$1),device:o(windowsPhone$1)||o(windowsTablet$1)},other:{blackberry:o(otherBlackBerry$1),blackberry10:o(otherBlackBerry10$1),opera:o(otherOpera$1),firefox:o(otherFirefox$1),chrome:o(otherChrome$1),device:o(otherBlackBerry$1)||o(otherBlackBerry10$1)||o(otherOpera$1)||o(otherFirefox$1)||o(otherChrome$1)},any:!1,phone:!1,tablet:!1};return h.any=h.apple.device||h.android.device||h.windows.device||h.other.device,h.phone=h.apple.phone||h.android.phone||h.windows.phone,h.tablet=h.apple.tablet||h.android.tablet||h.windows.tablet,h}/*!
 * @pixi/settings - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var isMobile$2=isMobile$3(globalThis.navigator);function maxRecommendedTextures$1(t){var r=!0;if(isMobile$2.tablet||isMobile$2.phone){if(isMobile$2.apple.device){var n=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(n){var s=parseInt(n[1],10);s<11&&(r=!1)}}if(isMobile$2.android.device){var n=navigator.userAgent.match(/Android\s([0-9.]*)/);if(n){var s=parseInt(n[1],10);s<7&&(r=!1)}}}return r?t:4}function canUploadSameBuffer$1(){return!isMobile$2.apple.device}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV$5;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(ENV$5||(ENV$5={}));var RENDERER_TYPE$5;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(RENDERER_TYPE$5||(RENDERER_TYPE$5={}));var BUFFER_BITS$5;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(BUFFER_BITS$5||(BUFFER_BITS$5={}));var BLEND_MODES$5;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(BLEND_MODES$5||(BLEND_MODES$5={}));var DRAW_MODES$5;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES$5||(DRAW_MODES$5={}));var FORMATS$5;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS$5||(FORMATS$5={}));var TARGETS$5;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS$5||(TARGETS$5={}));var TYPES$5;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES$5||(TYPES$5={}));var SAMPLER_TYPES$5;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(SAMPLER_TYPES$5||(SAMPLER_TYPES$5={}));var SCALE_MODES$5;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(SCALE_MODES$5||(SCALE_MODES$5={}));var WRAP_MODES$5;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES$5||(WRAP_MODES$5={}));var MIPMAP_MODES$5;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES$5||(MIPMAP_MODES$5={}));var ALPHA_MODES$5;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES$5||(ALPHA_MODES$5={}));var CLEAR_MODES$5;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(CLEAR_MODES$5||(CLEAR_MODES$5={}));var GC_MODES$5;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(GC_MODES$5||(GC_MODES$5={}));var PRECISION$5;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(PRECISION$5||(PRECISION$5={}));var MASK_TYPES$5;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(MASK_TYPES$5||(MASK_TYPES$5={}));var MSAA_QUALITY$5;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(MSAA_QUALITY$5||(MSAA_QUALITY$5={}));var BUFFER_TYPE$5;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$5||(BUFFER_TYPE$5={}));var settings$1={MIPMAP_TEXTURES:MIPMAP_MODES$5.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:MSAA_QUALITY$5.NONE,SPRITE_MAX_TEXTURES:maxRecommendedTextures$1(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:GC_MODES$5.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:WRAP_MODES$5.CLAMP,SCALE_MODE:SCALE_MODES$5.LINEAR,PRECISION_VERTEX:PRECISION$5.HIGH,PRECISION_FRAGMENT:isMobile$2.apple.device?PRECISION$5.HIGH:PRECISION$5.MEDIUM,CAN_UPLOAD_SAME_BUFFER:canUploadSameBuffer$1(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},eventemitter3$1={exports:{}};(function(t){var r=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function o(d,v,g){this.fn=d,this.context=v,this.once=g||!1}function h(d,v,g,m,_){if(typeof g!="function")throw new TypeError("The listener must be a function");var y=new o(g,m||d,_),B=n?n+v:v;return d._events[B]?d._events[B].fn?d._events[B]=[d._events[B],y]:d._events[B].push(y):(d._events[B]=y,d._eventsCount++),d}function l(d,v){--d._eventsCount===0?d._events=new s:delete d._events[v]}function c(){this._events=new s,this._eventsCount=0}c.prototype.eventNames=function(){var v=[],g,m;if(this._eventsCount===0)return v;for(m in g=this._events)r.call(g,m)&&v.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(g)):v},c.prototype.listeners=function(v){var g=n?n+v:v,m=this._events[g];if(!m)return[];if(m.fn)return[m.fn];for(var _=0,y=m.length,B=new Array(y);_<y;_++)B[_]=m[_].fn;return B},c.prototype.listenerCount=function(v){var g=n?n+v:v,m=this._events[g];return m?m.fn?1:m.length:0},c.prototype.emit=function(v,g,m,_,y,B){var w=n?n+v:v;if(!this._events[w])return!1;var C=this._events[w],b=arguments.length,I,S;if(C.fn){switch(C.once&&this.removeListener(v,C.fn,void 0,!0),b){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,g),!0;case 3:return C.fn.call(C.context,g,m),!0;case 4:return C.fn.call(C.context,g,m,_),!0;case 5:return C.fn.call(C.context,g,m,_,y),!0;case 6:return C.fn.call(C.context,g,m,_,y,B),!0}for(S=1,I=new Array(b-1);S<b;S++)I[S-1]=arguments[S];C.fn.apply(C.context,I)}else{var R=C.length,O;for(S=0;S<R;S++)switch(C[S].once&&this.removeListener(v,C[S].fn,void 0,!0),b){case 1:C[S].fn.call(C[S].context);break;case 2:C[S].fn.call(C[S].context,g);break;case 3:C[S].fn.call(C[S].context,g,m);break;case 4:C[S].fn.call(C[S].context,g,m,_);break;default:if(!I)for(O=1,I=new Array(b-1);O<b;O++)I[O-1]=arguments[O];C[S].fn.apply(C[S].context,I)}}return!0},c.prototype.on=function(v,g,m){return h(this,v,g,m,!1)},c.prototype.once=function(v,g,m){return h(this,v,g,m,!0)},c.prototype.removeListener=function(v,g,m,_){var y=n?n+v:v;if(!this._events[y])return this;if(!g)return l(this,y),this;var B=this._events[y];if(B.fn)B.fn===g&&(!_||B.once)&&(!m||B.context===m)&&l(this,y);else{for(var w=0,C=[],b=B.length;w<b;w++)(B[w].fn!==g||_&&!B[w].once||m&&B[w].context!==m)&&C.push(B[w]);C.length?this._events[y]=C.length===1?C[0]:C:l(this,y)}return this},c.prototype.removeAllListeners=function(v){var g;return v?(g=n?n+v:v,this._events[g]&&l(this,g)):(this._events=new s,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(eventemitter3$1);var EventEmitter=eventemitter3$1.exports,earcut$2={exports:{}};earcut$2.exports=earcut;earcut$2.exports.default=earcut;function earcut(t,r,n){n=n||2;var s=r&&r.length,o=s?r[0]*n:t.length,h=linkedList(t,0,o,n,!0),l=[];if(!h||h.next===h.prev)return l;var c,d,v,g,m,_,y;if(s&&(h=eliminateHoles(t,r,h,n)),t.length>80*n){c=v=t[0],d=g=t[1];for(var B=n;B<o;B+=n)m=t[B],_=t[B+1],m<c&&(c=m),_<d&&(d=_),m>v&&(v=m),_>g&&(g=_);y=Math.max(v-c,g-d),y=y!==0?1/y:0}return earcutLinked(h,l,n,c,d,y),l}function linkedList(t,r,n,s,o){var h,l;if(o===signedArea(t,r,n,s)>0)for(h=r;h<n;h+=s)l=insertNode(h,t[h],t[h+1],l);else for(h=n-s;h>=r;h-=s)l=insertNode(h,t[h],t[h+1],l);return l&&equals(l,l.next)&&(removeNode(l),l=l.next),l}function filterPoints(t,r){if(!t)return t;r||(r=t);var n=t,s;do if(s=!1,!n.steiner&&(equals(n,n.next)||area(n.prev,n,n.next)===0)){if(removeNode(n),n=r=n.prev,n===n.next)break;s=!0}else n=n.next;while(s||n!==r);return r}function earcutLinked(t,r,n,s,o,h,l){if(!!t){!l&&h&&indexCurve(t,s,o,h);for(var c=t,d,v;t.prev!==t.next;){if(d=t.prev,v=t.next,h?isEarHashed(t,s,o,h):isEar(t)){r.push(d.i/n),r.push(t.i/n),r.push(v.i/n),removeNode(t),t=v.next,c=v.next;continue}if(t=v,t===c){l?l===1?(t=cureLocalIntersections(filterPoints(t),r,n),earcutLinked(t,r,n,s,o,h,2)):l===2&&splitEarcut(t,r,n,s,o,h):earcutLinked(filterPoints(t),r,n,s,o,h,1);break}}}}function isEar(t){var r=t.prev,n=t,s=t.next;if(area(r,n,s)>=0)return!1;for(var o=t.next.next;o!==t.prev;){if(pointInTriangle(r.x,r.y,n.x,n.y,s.x,s.y,o.x,o.y)&&area(o.prev,o,o.next)>=0)return!1;o=o.next}return!0}function isEarHashed(t,r,n,s){var o=t.prev,h=t,l=t.next;if(area(o,h,l)>=0)return!1;for(var c=o.x<h.x?o.x<l.x?o.x:l.x:h.x<l.x?h.x:l.x,d=o.y<h.y?o.y<l.y?o.y:l.y:h.y<l.y?h.y:l.y,v=o.x>h.x?o.x>l.x?o.x:l.x:h.x>l.x?h.x:l.x,g=o.y>h.y?o.y>l.y?o.y:l.y:h.y>l.y?h.y:l.y,m=zOrder(c,d,r,n,s),_=zOrder(v,g,r,n,s),y=t.prevZ,B=t.nextZ;y&&y.z>=m&&B&&B.z<=_;){if(y!==t.prev&&y!==t.next&&pointInTriangle(o.x,o.y,h.x,h.y,l.x,l.y,y.x,y.y)&&area(y.prev,y,y.next)>=0||(y=y.prevZ,B!==t.prev&&B!==t.next&&pointInTriangle(o.x,o.y,h.x,h.y,l.x,l.y,B.x,B.y)&&area(B.prev,B,B.next)>=0))return!1;B=B.nextZ}for(;y&&y.z>=m;){if(y!==t.prev&&y!==t.next&&pointInTriangle(o.x,o.y,h.x,h.y,l.x,l.y,y.x,y.y)&&area(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;B&&B.z<=_;){if(B!==t.prev&&B!==t.next&&pointInTriangle(o.x,o.y,h.x,h.y,l.x,l.y,B.x,B.y)&&area(B.prev,B,B.next)>=0)return!1;B=B.nextZ}return!0}function cureLocalIntersections(t,r,n){var s=t;do{var o=s.prev,h=s.next.next;!equals(o,h)&&intersects(o,s,s.next,h)&&locallyInside(o,h)&&locallyInside(h,o)&&(r.push(o.i/n),r.push(s.i/n),r.push(h.i/n),removeNode(s),removeNode(s.next),s=t=h),s=s.next}while(s!==t);return filterPoints(s)}function splitEarcut(t,r,n,s,o,h){var l=t;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&&isValidDiagonal(l,c)){var d=splitPolygon(l,c);l=filterPoints(l,l.next),d=filterPoints(d,d.next),earcutLinked(l,r,n,s,o,h),earcutLinked(d,r,n,s,o,h);return}c=c.next}l=l.next}while(l!==t)}function eliminateHoles(t,r,n,s){var o=[],h,l,c,d,v;for(h=0,l=r.length;h<l;h++)c=r[h]*s,d=h<l-1?r[h+1]*s:t.length,v=linkedList(t,c,d,s,!1),v===v.next&&(v.steiner=!0),o.push(getLeftmost(v));for(o.sort(compareX),h=0;h<o.length;h++)n=eliminateHole(o[h],n),n=filterPoints(n,n.next);return n}function compareX(t,r){return t.x-r.x}function eliminateHole(t,r){var n=findHoleBridge(t,r);if(!n)return r;var s=splitPolygon(n,t),o=filterPoints(n,n.next);return filterPoints(s,s.next),r===n?o:r}function findHoleBridge(t,r){var n=r,s=t.x,o=t.y,h=-1/0,l;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){var c=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(c<=s&&c>h){if(h=c,c===s){if(o===n.y)return n;if(o===n.next.y)return n.next}l=n.x<n.next.x?n:n.next}}n=n.next}while(n!==r);if(!l)return null;if(s===h)return l;var d=l,v=l.x,g=l.y,m=1/0,_;n=l;do s>=n.x&&n.x>=v&&s!==n.x&&pointInTriangle(o<g?s:h,o,v,g,o<g?h:s,o,n.x,n.y)&&(_=Math.abs(o-n.y)/(s-n.x),locallyInside(n,t)&&(_<m||_===m&&(n.x>l.x||n.x===l.x&&sectorContainsSector(l,n)))&&(l=n,m=_)),n=n.next;while(n!==d);return l}function sectorContainsSector(t,r){return area(t.prev,t,r.prev)<0&&area(r.next,t,t.next)<0}function indexCurve(t,r,n,s){var o=t;do o.z===null&&(o.z=zOrder(o.x,o.y,r,n,s)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==t);o.prevZ.nextZ=null,o.prevZ=null,sortLinked(o)}function sortLinked(t){var r,n,s,o,h,l,c,d,v=1;do{for(n=t,t=null,h=null,l=0;n;){for(l++,s=n,c=0,r=0;r<v&&(c++,s=s.nextZ,!!s);r++);for(d=v;c>0||d>0&&s;)c!==0&&(d===0||!s||n.z<=s.z)?(o=n,n=n.nextZ,c--):(o=s,s=s.nextZ,d--),h?h.nextZ=o:t=o,o.prevZ=h,h=o;n=s}h.nextZ=null,v*=2}while(l>1);return t}function zOrder(t,r,n,s,o){return t=32767*(t-n)*o,r=32767*(r-s)*o,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,r=(r|r<<8)&16711935,r=(r|r<<4)&252645135,r=(r|r<<2)&858993459,r=(r|r<<1)&1431655765,t|r<<1}function getLeftmost(t){var r=t,n=t;do(r.x<n.x||r.x===n.x&&r.y<n.y)&&(n=r),r=r.next;while(r!==t);return n}function pointInTriangle(t,r,n,s,o,h,l,c){return(o-l)*(r-c)-(t-l)*(h-c)>=0&&(t-l)*(s-c)-(n-l)*(r-c)>=0&&(n-l)*(h-c)-(o-l)*(s-c)>=0}function isValidDiagonal(t,r){return t.next.i!==r.i&&t.prev.i!==r.i&&!intersectsPolygon(t,r)&&(locallyInside(t,r)&&locallyInside(r,t)&&middleInside(t,r)&&(area(t.prev,t,r.prev)||area(t,r.prev,r))||equals(t,r)&&area(t.prev,t,t.next)>0&&area(r.prev,r,r.next)>0)}function area(t,r,n){return(r.y-t.y)*(n.x-r.x)-(r.x-t.x)*(n.y-r.y)}function equals(t,r){return t.x===r.x&&t.y===r.y}function intersects(t,r,n,s){var o=sign$1(area(t,r,n)),h=sign$1(area(t,r,s)),l=sign$1(area(n,s,t)),c=sign$1(area(n,s,r));return!!(o!==h&&l!==c||o===0&&onSegment(t,n,r)||h===0&&onSegment(t,s,r)||l===0&&onSegment(n,t,s)||c===0&&onSegment(n,r,s))}function onSegment(t,r,n){return r.x<=Math.max(t.x,n.x)&&r.x>=Math.min(t.x,n.x)&&r.y<=Math.max(t.y,n.y)&&r.y>=Math.min(t.y,n.y)}function sign$1(t){return t>0?1:t<0?-1:0}function intersectsPolygon(t,r){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==r.i&&n.next.i!==r.i&&intersects(n,n.next,t,r))return!0;n=n.next}while(n!==t);return!1}function locallyInside(t,r){return area(t.prev,t,t.next)<0?area(t,r,t.next)>=0&&area(t,t.prev,r)>=0:area(t,r,t.prev)<0||area(t,t.next,r)<0}function middleInside(t,r){var n=t,s=!1,o=(t.x+r.x)/2,h=(t.y+r.y)/2;do n.y>h!=n.next.y>h&&n.next.y!==n.y&&o<(n.next.x-n.x)*(h-n.y)/(n.next.y-n.y)+n.x&&(s=!s),n=n.next;while(n!==t);return s}function splitPolygon(t,r){var n=new Node$1(t.i,t.x,t.y),s=new Node$1(r.i,r.x,r.y),o=t.next,h=r.prev;return t.next=r,r.prev=t,n.next=o,o.prev=n,s.next=n,n.prev=s,h.next=s,s.prev=h,s}function insertNode(t,r,n,s){var o=new Node$1(t,r,n);return s?(o.next=s.next,o.prev=s,s.next.prev=o,s.next=o):(o.prev=o,o.next=o),o}function removeNode(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Node$1(t,r,n){this.i=t,this.x=r,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}earcut.deviation=function(t,r,n,s){var o=r&&r.length,h=o?r[0]*n:t.length,l=Math.abs(signedArea(t,0,h,n));if(o)for(var c=0,d=r.length;c<d;c++){var v=r[c]*n,g=c<d-1?r[c+1]*n:t.length;l-=Math.abs(signedArea(t,v,g,n))}var m=0;for(c=0;c<s.length;c+=3){var _=s[c]*n,y=s[c+1]*n,B=s[c+2]*n;m+=Math.abs((t[_]-t[B])*(t[y+1]-t[_+1])-(t[_]-t[y])*(t[B+1]-t[_+1]))}return l===0&&m===0?0:Math.abs((m-l)/l)};function signedArea(t,r,n,s){for(var o=0,h=r,l=n-s;h<n;h+=s)o+=(t[l]-t[h])*(t[h+1]+t[l+1]),l=h;return o}earcut.flatten=function(t){for(var r=t[0][0].length,n={vertices:[],holes:[],dimensions:r},s=0,o=0;o<t.length;o++){for(var h=0;h<t[o].length;h++)for(var l=0;l<r;l++)n.vertices.push(t[o][h][l]);o>0&&(s+=t[o-1].length,n.holes.push(s))}return n};var earcut$1=earcut$2.exports,punycode$2={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,r){(function(n){var s=r&&!r.nodeType&&r,o=t&&!t.nodeType&&t,h=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1;(h.global===h||h.window===h||h.self===h)&&(n=h);var l,c=2147483647,d=36,v=1,g=26,m=38,_=700,y=72,B=128,w="-",C=/^xn--/,b=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=d-v,O=Math.floor,P=String.fromCharCode,N;function M(X){throw RangeError(S[X])}function H(X,j){for(var ie=X.length,ae=[];ie--;)ae[ie]=j(X[ie]);return ae}function Y(X,j){var ie=X.split("@"),ae="";ie.length>1&&(ae=ie[0]+"@",X=ie[1]),X=X.replace(I,".");var oe=X.split("."),ve=H(oe,j).join(".");return ae+ve}function J(X){for(var j=[],ie=0,ae=X.length,oe,ve;ie<ae;)oe=X.charCodeAt(ie++),oe>=55296&&oe<=56319&&ie<ae?(ve=X.charCodeAt(ie++),(ve&64512)==56320?j.push(((oe&1023)<<10)+(ve&1023)+65536):(j.push(oe),ie--)):j.push(oe);return j}function ee(X){return H(X,function(j){var ie="";return j>65535&&(j-=65536,ie+=P(j>>>10&1023|55296),j=56320|j&1023),ie+=P(j),ie}).join("")}function te(X){return X-48<10?X-22:X-65<26?X-65:X-97<26?X-97:d}function se(X,j){return X+22+75*(X<26)-((j!=0)<<5)}function W(X,j,ie){var ae=0;for(X=ie?O(X/_):X>>1,X+=O(X/j);X>R*g>>1;ae+=d)X=O(X/R);return O(ae+(R+1)*X/(X+m))}function k(X){var j=[],ie=X.length,ae,oe=0,ve=B,ce=y,ge,Te,we,_e,pe,ye,G,q,re;for(ge=X.lastIndexOf(w),ge<0&&(ge=0),Te=0;Te<ge;++Te)X.charCodeAt(Te)>=128&&M("not-basic"),j.push(X.charCodeAt(Te));for(we=ge>0?ge+1:0;we<ie;){for(_e=oe,pe=1,ye=d;we>=ie&&M("invalid-input"),G=te(X.charCodeAt(we++)),(G>=d||G>O((c-oe)/pe))&&M("overflow"),oe+=G*pe,q=ye<=ce?v:ye>=ce+g?g:ye-ce,!(G<q);ye+=d)re=d-q,pe>O(c/re)&&M("overflow"),pe*=re;ae=j.length+1,ce=W(oe-_e,ae,_e==0),O(oe/ae)>c-ve&&M("overflow"),ve+=O(oe/ae),oe%=ae,j.splice(oe++,0,ve)}return ee(j)}function Q(X){var j,ie,ae,oe,ve,ce,ge,Te,we,_e,pe,ye=[],G,q,re,ne;for(X=J(X),G=X.length,j=B,ie=0,ve=y,ce=0;ce<G;++ce)pe=X[ce],pe<128&&ye.push(P(pe));for(ae=oe=ye.length,oe&&ye.push(w);ae<G;){for(ge=c,ce=0;ce<G;++ce)pe=X[ce],pe>=j&&pe<ge&&(ge=pe);for(q=ae+1,ge-j>O((c-ie)/q)&&M("overflow"),ie+=(ge-j)*q,j=ge,ce=0;ce<G;++ce)if(pe=X[ce],pe<j&&++ie>c&&M("overflow"),pe==j){for(Te=ie,we=d;_e=we<=ve?v:we>=ve+g?g:we-ve,!(Te<_e);we+=d)ne=Te-_e,re=d-_e,ye.push(P(se(_e+ne%re,0))),Te=O(ne/re);ye.push(P(se(Te,0))),ve=W(ie,q,ae==oe),ie=0,++ae}++ie,++j}return ye.join("")}function D(X){return Y(X,function(j){return C.test(j)?k(j.slice(4).toLowerCase()):j})}function K(X){return Y(X,function(j){return b.test(j)?"xn--"+Q(j):j})}if(l={version:"1.3.2",ucs2:{decode:J,encode:ee},decode:k,encode:Q,toASCII:K,toUnicode:D},s&&o)if(t.exports==s)o.exports=l;else for(N in l)l.hasOwnProperty(N)&&(s[N]=l[N]);else n.punycode=l})(commonjsGlobal$1)})(punycode$2,punycode$2.exports);var util$2={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},querystring$2={};function hasOwnProperty$1(t,r){return Object.prototype.hasOwnProperty.call(t,r)}var decode$1=function(t,r,n,s){r=r||"&",n=n||"=";var o={};if(typeof t!="string"||t.length===0)return o;var h=/\+/g;t=t.split(r);var l=1e3;s&&typeof s.maxKeys=="number"&&(l=s.maxKeys);var c=t.length;l>0&&c>l&&(c=l);for(var d=0;d<c;++d){var v=t[d].replace(h,"%20"),g=v.indexOf(n),m,_,y,B;g>=0?(m=v.substr(0,g),_=v.substr(g+1)):(m=v,_=""),y=decodeURIComponent(m),B=decodeURIComponent(_),hasOwnProperty$1(o,y)?Array.isArray(o[y])?o[y].push(B):o[y]=[o[y],B]:o[y]=B}return o},stringifyPrimitive$1=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},encode$1=function(t,r,n,s){return r=r||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(o){var h=encodeURIComponent(stringifyPrimitive$1(o))+n;return Array.isArray(t[o])?t[o].map(function(l){return h+encodeURIComponent(stringifyPrimitive$1(l))}).join(r):h+encodeURIComponent(stringifyPrimitive$1(t[o]))}).join(r):s?encodeURIComponent(stringifyPrimitive$1(s))+n+encodeURIComponent(stringifyPrimitive$1(t)):""};querystring$2.decode=querystring$2.parse=decode$1;querystring$2.encode=querystring$2.stringify=encode$1;var punycode$1=punycode$2.exports,util$1=util$2,parse$1=urlParse$1,resolve$1=urlResolve$1,format$1=urlFormat$1;function Url$1(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var protocolPattern$1=/^([a-z0-9.+-]+:)/i,portPattern$1=/:[0-9]*$/,simplePathPattern$1=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims$1=["<",">",'"',"`"," ","\r",`
`,"	"],unwise$1=["{","}","|","\\","^","`"].concat(delims$1),autoEscape$1=["'"].concat(unwise$1),nonHostChars$1=["%","/","?",";","#"].concat(autoEscape$1),hostEndingChars$1=["/","?","#"],hostnameMaxLen$1=255,hostnamePartPattern$1=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart$1=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol$1={javascript:!0,"javascript:":!0},hostlessProtocol$1={javascript:!0,"javascript:":!0},slashedProtocol$1={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring$1=querystring$2;function urlParse$1(t,r,n){if(t&&util$1.isObject(t)&&t instanceof Url$1)return t;var s=new Url$1;return s.parse(t,r,n),s}Url$1.prototype.parse=function(t,r,n){if(!util$1.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var s=t.indexOf("?"),o=s!==-1&&s<t.indexOf("#")?"?":"#",h=t.split(o),l=/\\/g;h[0]=h[0].replace(l,"/"),t=h.join(o);var c=t;if(c=c.trim(),!n&&t.split("#").length===1){var d=simplePathPattern$1.exec(c);if(d)return this.path=c,this.href=c,this.pathname=d[1],d[2]?(this.search=d[2],r?this.query=querystring$1.parse(this.search.substr(1)):this.query=this.search.substr(1)):r&&(this.search="",this.query={}),this}var v=protocolPattern$1.exec(c);if(v){v=v[0];var g=v.toLowerCase();this.protocol=g,c=c.substr(v.length)}if(n||v||c.match(/^\/\/[^@\/]+@[^@\/]+/)){var m=c.substr(0,2)==="//";m&&!(v&&hostlessProtocol$1[v])&&(c=c.substr(2),this.slashes=!0)}if(!hostlessProtocol$1[v]&&(m||v&&!slashedProtocol$1[v])){for(var _=-1,y=0;y<hostEndingChars$1.length;y++){var B=c.indexOf(hostEndingChars$1[y]);B!==-1&&(_===-1||B<_)&&(_=B)}var w,C;_===-1?C=c.lastIndexOf("@"):C=c.lastIndexOf("@",_),C!==-1&&(w=c.slice(0,C),c=c.slice(C+1),this.auth=decodeURIComponent(w)),_=-1;for(var y=0;y<nonHostChars$1.length;y++){var B=c.indexOf(nonHostChars$1[y]);B!==-1&&(_===-1||B<_)&&(_=B)}_===-1&&(_=c.length),this.host=c.slice(0,_),c=c.slice(_),this.parseHost(),this.hostname=this.hostname||"";var b=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!b)for(var I=this.hostname.split(/\./),y=0,S=I.length;y<S;y++){var R=I[y];if(!!R&&!R.match(hostnamePartPattern$1)){for(var O="",P=0,N=R.length;P<N;P++)R.charCodeAt(P)>127?O+="x":O+=R[P];if(!O.match(hostnamePartPattern$1)){var M=I.slice(0,y),H=I.slice(y+1),Y=R.match(hostnamePartStart$1);Y&&(M.push(Y[1]),H.unshift(Y[2])),H.length&&(c="/"+H.join(".")+c),this.hostname=M.join(".");break}}}this.hostname.length>hostnameMaxLen$1?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=punycode$1.toASCII(this.hostname));var J=this.port?":"+this.port:"",ee=this.hostname||"";this.host=ee+J,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),c[0]!=="/"&&(c="/"+c))}if(!unsafeProtocol$1[g])for(var y=0,S=autoEscape$1.length;y<S;y++){var te=autoEscape$1[y];if(c.indexOf(te)!==-1){var se=encodeURIComponent(te);se===te&&(se=escape(te)),c=c.split(te).join(se)}}var W=c.indexOf("#");W!==-1&&(this.hash=c.substr(W),c=c.slice(0,W));var k=c.indexOf("?");if(k!==-1?(this.search=c.substr(k),this.query=c.substr(k+1),r&&(this.query=querystring$1.parse(this.query)),c=c.slice(0,k)):r&&(this.search="",this.query={}),c&&(this.pathname=c),slashedProtocol$1[g]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var J=this.pathname||"",Q=this.search||"";this.path=J+Q}return this.href=this.format(),this};function urlFormat$1(t){return util$1.isString(t)&&(t=urlParse$1(t)),t instanceof Url$1?t.format():Url$1.prototype.format.call(t)}Url$1.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var r=this.protocol||"",n=this.pathname||"",s=this.hash||"",o=!1,h="";this.host?o=t+this.host:this.hostname&&(o=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&util$1.isObject(this.query)&&Object.keys(this.query).length&&(h=querystring$1.stringify(this.query));var l=this.search||h&&"?"+h||"";return r&&r.substr(-1)!==":"&&(r+=":"),this.slashes||(!r||slashedProtocol$1[r])&&o!==!1?(o="//"+(o||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):o||(o=""),s&&s.charAt(0)!=="#"&&(s="#"+s),l&&l.charAt(0)!=="?"&&(l="?"+l),n=n.replace(/[?#]/g,function(c){return encodeURIComponent(c)}),l=l.replace("#","%23"),r+o+n+l+s};function urlResolve$1(t,r){return urlParse$1(t,!1,!0).resolve(r)}Url$1.prototype.resolve=function(t){return this.resolveObject(urlParse$1(t,!1,!0)).format()};Url$1.prototype.resolveObject=function(t){if(util$1.isString(t)){var r=new Url$1;r.parse(t,!1,!0),t=r}for(var n=new Url$1,s=Object.keys(this),o=0;o<s.length;o++){var h=s[o];n[h]=this[h]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var l=Object.keys(t),c=0;c<l.length;c++){var d=l[c];d!=="protocol"&&(n[d]=t[d])}return slashedProtocol$1[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!slashedProtocol$1[t.protocol]){for(var v=Object.keys(t),g=0;g<v.length;g++){var m=v[g];n[m]=t[m]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!hostlessProtocol$1[t.protocol]){for(var S=(t.pathname||"").split("/");S.length&&!(t.host=S.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),S[0]!==""&&S.unshift(""),S.length<2&&S.unshift(""),n.pathname=S.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var _=n.pathname||"",y=n.search||"";n.path=_+y}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var B=n.pathname&&n.pathname.charAt(0)==="/",w=t.host||t.pathname&&t.pathname.charAt(0)==="/",C=w||B||n.host&&t.pathname,b=C,I=n.pathname&&n.pathname.split("/")||[],S=t.pathname&&t.pathname.split("/")||[],R=n.protocol&&!slashedProtocol$1[n.protocol];if(R&&(n.hostname="",n.port=null,n.host&&(I[0]===""?I[0]=n.host:I.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(S[0]===""?S[0]=t.host:S.unshift(t.host)),t.host=null),C=C&&(S[0]===""||I[0]==="")),w)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,I=S;else if(S.length)I||(I=[]),I.pop(),I=I.concat(S),n.search=t.search,n.query=t.query;else if(!util$1.isNullOrUndefined(t.search)){if(R){n.hostname=n.host=I.shift();var O=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;O&&(n.auth=O.shift(),n.host=n.hostname=O.shift())}return n.search=t.search,n.query=t.query,(!util$1.isNull(n.pathname)||!util$1.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!I.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var P=I.slice(-1)[0],N=(n.host||t.host||I.length>1)&&(P==="."||P==="..")||P==="",M=0,H=I.length;H>=0;H--)P=I[H],P==="."?I.splice(H,1):P===".."?(I.splice(H,1),M++):M&&(I.splice(H,1),M--);if(!C&&!b)for(;M--;M)I.unshift("..");C&&I[0]!==""&&(!I[0]||I[0].charAt(0)!=="/")&&I.unshift(""),N&&I.join("/").substr(-1)!=="/"&&I.push("");var Y=I[0]===""||I[0]&&I[0].charAt(0)==="/";if(R){n.hostname=n.host=Y?"":I.length?I.shift():"";var O=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;O&&(n.auth=O.shift(),n.host=n.hostname=O.shift())}return C=C||n.host&&I.length,C&&!Y&&I.unshift(""),I.length?n.pathname=I.join("/"):(n.pathname=null,n.path=null),(!util$1.isNull(n.pathname)||!util$1.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};Url$1.prototype.parseHost=function(){var t=this.host,r=portPattern$1.exec(t);r&&(r=r[0],r!==":"&&(this.port=r.substr(1)),t=t.substr(0,t.length-r.length)),t&&(this.hostname=t)};/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV$4;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(ENV$4||(ENV$4={}));var RENDERER_TYPE$4;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(RENDERER_TYPE$4||(RENDERER_TYPE$4={}));var BUFFER_BITS$4;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(BUFFER_BITS$4||(BUFFER_BITS$4={}));var BLEND_MODES$4;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(BLEND_MODES$4||(BLEND_MODES$4={}));var DRAW_MODES$4;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES$4||(DRAW_MODES$4={}));var FORMATS$4;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS$4||(FORMATS$4={}));var TARGETS$4;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS$4||(TARGETS$4={}));var TYPES$4;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES$4||(TYPES$4={}));var SAMPLER_TYPES$4;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(SAMPLER_TYPES$4||(SAMPLER_TYPES$4={}));var SCALE_MODES$4;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(SCALE_MODES$4||(SCALE_MODES$4={}));var WRAP_MODES$4;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES$4||(WRAP_MODES$4={}));var MIPMAP_MODES$4;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES$4||(MIPMAP_MODES$4={}));var ALPHA_MODES$4;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES$4||(ALPHA_MODES$4={}));var CLEAR_MODES$4;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(CLEAR_MODES$4||(CLEAR_MODES$4={}));var GC_MODES$4;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(GC_MODES$4||(GC_MODES$4={}));var PRECISION$4;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(PRECISION$4||(PRECISION$4={}));var MASK_TYPES$4;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(MASK_TYPES$4||(MASK_TYPES$4={}));var MSAA_QUALITY$4;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(MSAA_QUALITY$4||(MSAA_QUALITY$4={}));var BUFFER_TYPE$4;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$4||(BUFFER_TYPE$4={}));/*!
 * @pixi/utils - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var url$1={parse:parse$1,format:format$1,resolve:resolve$1};settings$1.RETINA_PREFIX=/@([0-9\.]+)x/;settings$1.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var saidHello$1=!1,VERSION$1="6.4.2";function sayHello$1(t){var r;if(!saidHello$1){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var n=[`
 %c %c %c PixiJS `+VERSION$1+" - \u2730 "+t+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(r=globalThis.console).log.apply(r,n)}else globalThis.console&&globalThis.console.log("PixiJS "+VERSION$1+" - "+t+" - http://www.pixijs.com/");saidHello$1=!0}}var supported$1;function isWebGLSupported$1(){return typeof supported$1=="undefined"&&(supported$1=function(){var r={stencil:!0,failIfMajorPerformanceCaveat:settings$1.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var n=document.createElement("canvas"),s=n.getContext("webgl",r)||n.getContext("experimental-webgl",r),o=!!(s&&s.getContextAttributes().stencil);if(s){var h=s.getExtension("WEBGL_lose_context");h&&h.loseContext()}return s=null,o}catch(l){return!1}}()),supported$1}var aliceblue="#f0f8ff",antiquewhite="#faebd7",aqua="#00ffff",aquamarine="#7fffd4",azure="#f0ffff",beige="#f5f5dc",bisque="#ffe4c4",black="#000000",blanchedalmond="#ffebcd",blue="#0000ff",blueviolet="#8a2be2",brown="#a52a2a",burlywood="#deb887",cadetblue="#5f9ea0",chartreuse="#7fff00",chocolate="#d2691e",coral="#ff7f50",cornflowerblue="#6495ed",cornsilk="#fff8dc",crimson="#dc143c",cyan="#00ffff",darkblue="#00008b",darkcyan="#008b8b",darkgoldenrod="#b8860b",darkgray="#a9a9a9",darkgreen="#006400",darkgrey="#a9a9a9",darkkhaki="#bdb76b",darkmagenta="#8b008b",darkolivegreen="#556b2f",darkorange="#ff8c00",darkorchid="#9932cc",darkred="#8b0000",darksalmon="#e9967a",darkseagreen="#8fbc8f",darkslateblue="#483d8b",darkslategray="#2f4f4f",darkslategrey="#2f4f4f",darkturquoise="#00ced1",darkviolet="#9400d3",deeppink="#ff1493",deepskyblue="#00bfff",dimgray="#696969",dimgrey="#696969",dodgerblue="#1e90ff",firebrick="#b22222",floralwhite="#fffaf0",forestgreen="#228b22",fuchsia="#ff00ff",gainsboro="#dcdcdc",ghostwhite="#f8f8ff",goldenrod="#daa520",gold="#ffd700",gray="#808080",green="#008000",greenyellow="#adff2f",grey="#808080",honeydew="#f0fff0",hotpink="#ff69b4",indianred="#cd5c5c",indigo="#4b0082",ivory="#fffff0",khaki="#f0e68c",lavenderblush="#fff0f5",lavender="#e6e6fa",lawngreen="#7cfc00",lemonchiffon="#fffacd",lightblue="#add8e6",lightcoral="#f08080",lightcyan="#e0ffff",lightgoldenrodyellow="#fafad2",lightgray="#d3d3d3",lightgreen="#90ee90",lightgrey="#d3d3d3",lightpink="#ffb6c1",lightsalmon="#ffa07a",lightseagreen="#20b2aa",lightskyblue="#87cefa",lightslategray="#778899",lightslategrey="#778899",lightsteelblue="#b0c4de",lightyellow="#ffffe0",lime="#00ff00",limegreen="#32cd32",linen="#faf0e6",magenta="#ff00ff",maroon="#800000",mediumaquamarine="#66cdaa",mediumblue="#0000cd",mediumorchid="#ba55d3",mediumpurple="#9370db",mediumseagreen="#3cb371",mediumslateblue="#7b68ee",mediumspringgreen="#00fa9a",mediumturquoise="#48d1cc",mediumvioletred="#c71585",midnightblue="#191970",mintcream="#f5fffa",mistyrose="#ffe4e1",moccasin="#ffe4b5",navajowhite="#ffdead",navy="#000080",oldlace="#fdf5e6",olive="#808000",olivedrab="#6b8e23",orange="#ffa500",orangered="#ff4500",orchid="#da70d6",palegoldenrod="#eee8aa",palegreen="#98fb98",paleturquoise="#afeeee",palevioletred="#db7093",papayawhip="#ffefd5",peachpuff="#ffdab9",peru="#cd853f",pink="#ffc0cb",plum="#dda0dd",powderblue="#b0e0e6",purple="#800080",rebeccapurple="#663399",red="#ff0000",rosybrown="#bc8f8f",royalblue="#4169e1",saddlebrown="#8b4513",salmon="#fa8072",sandybrown="#f4a460",seagreen="#2e8b57",seashell="#fff5ee",sienna="#a0522d",silver="#c0c0c0",skyblue="#87ceeb",slateblue="#6a5acd",slategray="#708090",slategrey="#708090",snow="#fffafa",springgreen="#00ff7f",steelblue="#4682b4",tan="#d2b48c",teal="#008080",thistle="#d8bfd8",tomato="#ff6347",turquoise="#40e0d0",violet="#ee82ee",wheat="#f5deb3",white="#ffffff",whitesmoke="#f5f5f5",yellow="#ffff00",yellowgreen="#9acd32",cssColorNames={aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,goldenrod,gold,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavenderblush,lavender,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow,yellowgreen};function hex2rgb$1(t,r){return r===void 0&&(r=[]),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,r}function hex2string$1(t){var r=t.toString(16);return r="000000".substring(0,6-r.length)+r,"#"+r}function string2hex(t){return typeof t=="string"&&(t=cssColorNames[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1))),parseInt(t,16)}function rgb2hex(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function mapPremultipliedBlendModes$1(){for(var t=[],r=[],n=0;n<32;n++)t[n]=n,r[n]=n;t[BLEND_MODES$4.NORMAL_NPM]=BLEND_MODES$4.NORMAL,t[BLEND_MODES$4.ADD_NPM]=BLEND_MODES$4.ADD,t[BLEND_MODES$4.SCREEN_NPM]=BLEND_MODES$4.SCREEN,r[BLEND_MODES$4.NORMAL]=BLEND_MODES$4.NORMAL_NPM,r[BLEND_MODES$4.ADD]=BLEND_MODES$4.ADD_NPM,r[BLEND_MODES$4.SCREEN]=BLEND_MODES$4.SCREEN_NPM;var s=[];return s.push(r),s.push(t),s}var premultiplyBlendMode$1=mapPremultipliedBlendModes$1();function correctBlendMode(t,r){return premultiplyBlendMode$1[r?1:0][t]}function premultiplyRgba(t,r,n,s){return n=n||new Float32Array(4),s||s===void 0?(n[0]=t[0]*r,n[1]=t[1]*r,n[2]=t[2]*r):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=r,n}function premultiplyTint$1(t,r){if(r===1)return(r*255<<24)+t;if(r===0)return 0;var n=t>>16&255,s=t>>8&255,o=t&255;return n=n*r+.5|0,s=s*r+.5|0,o=o*r+.5|0,(r*255<<24)+(n<<16)+(s<<8)+o}function premultiplyTintToRgba(t,r,n,s){return n=n||new Float32Array(4),n[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(t&255)/255,(s||s===void 0)&&(n[0]*=r,n[1]*=r,n[2]*=r),n[3]=r,n}function createIndicesForQuads(t,r){r===void 0&&(r=null);var n=t*6;if(r=r||new Uint16Array(n),r.length!==n)throw new Error("Out buffer length is incorrect, got "+r.length+" and expected "+n);for(var s=0,o=0;s<n;s+=6,o+=4)r[s+0]=o+0,r[s+1]=o+1,r[s+2]=o+2,r[s+3]=o+0,r[s+4]=o+2,r[s+5]=o+3;return r}function getBufferType$1(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function nextPow2$1(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function isPow2$1(t){return!(t&t-1)&&!!t}function log2$1(t){var r=(t>65535?1:0)<<4;t>>>=r;var n=(t>255?1:0)<<3;return t>>>=n,r|=n,n=(t>15?1:0)<<2,t>>>=n,r|=n,n=(t>3?1:0)<<1,t>>>=n,r|=n,r|t>>1}function removeItems$1(t,r,n){var s=t.length,o;if(!(r>=s||n===0)){n=r+n>s?s-r:n;var h=s-n;for(o=r;o<h;++o)t[o]=t[o+n];t.length=h}}function sign(t){return t===0?0:t<0?-1:1}var nextUid$1=0;function uid$1(){return++nextUid$1}var warnings$1={};function deprecation$1(t,r,n){if(n===void 0&&(n=3),!warnings$1[r]){var s=new Error().stack;typeof s=="undefined"?console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+t):(s=s.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",r+`
Deprecated since v`+t),console.warn(s),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+t),console.warn(s))),warnings$1[r]=!0}}var ProgramCache$1={},TextureCache$1=Object.create(null),BaseTextureCache$1=Object.create(null),CanvasRenderTarget=function(){function t(r,n,s){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=s||settings$1.RESOLUTION,this.resize(r,n)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(r,n){this.canvas.width=Math.round(r*this.resolution),this.canvas.height=Math.round(n*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(r){this.canvas.width=Math.round(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(r){this.canvas.height=Math.round(r)},enumerable:!1,configurable:!0}),t}();function trimCanvas(t){var r=t.width,n=t.height,s=t.getContext("2d"),o=s.getImageData(0,0,r,n),h=o.data,l=h.length,c={top:null,left:null,right:null,bottom:null},d=null,v,g,m;for(v=0;v<l;v+=4)h[v+3]!==0&&(g=v/4%r,m=~~(v/4/r),c.top===null&&(c.top=m),(c.left===null||g<c.left)&&(c.left=g),(c.right===null||c.right<g)&&(c.right=g+1),(c.bottom===null||c.bottom<m)&&(c.bottom=m));return c.top!==null&&(r=c.right-c.left,n=c.bottom-c.top+1,d=s.getImageData(c.left,c.top,r,n)),{height:n,width:r,data:d}}var tempAnchor$2;function determineCrossOrigin$1(t,r){if(r===void 0&&(r=globalThis.location),t.indexOf("data:")===0)return"";r=r||globalThis.location,tempAnchor$2||(tempAnchor$2=document.createElement("a")),tempAnchor$2.href=t;var n=url$1.parse(tempAnchor$2.href),s=!n.port&&r.port===""||n.port===r.port;return n.hostname!==r.hostname||!s||n.protocol!==r.protocol?"anonymous":""}function getResolutionOfUrl$1(t,r){var n=settings$1.RETINA_PREFIX.exec(t);return n?parseFloat(n[1]):r!==void 0?r:1}/*!
 * @pixi/math - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var PI_2$1=Math.PI*2,RAD_TO_DEG=180/Math.PI,DEG_TO_RAD=Math.PI/180,SHAPES$1;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(SHAPES$1||(SHAPES$1={}));var Point$1=function(){function t(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.x=0,this.y=0,this.x=r,this.y=n}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(r){return this.set(r.x,r.y),this},t.prototype.copyTo=function(r){return r.set(this.x,this.y),r},t.prototype.equals=function(r){return r.x===this.x&&r.y===this.y},t.prototype.set=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=r),this.x=r,this.y=n,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),tempPoints$3=[new Point$1,new Point$1,new Point$1,new Point$1],Rectangle$1=function(){function t(r,n,s,o){r===void 0&&(r=0),n===void 0&&(n=0),s===void 0&&(s=0),o===void 0&&(o=0),this.x=Number(r),this.y=Number(n),this.width=Number(s),this.height=Number(o),this.type=SHAPES$1.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(r){return this.x=r.x,this.y=r.y,this.width=r.width,this.height=r.height,this},t.prototype.copyTo=function(r){return r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r},t.prototype.contains=function(r,n){return this.width<=0||this.height<=0?!1:r>=this.x&&r<this.x+this.width&&n>=this.y&&n<this.y+this.height},t.prototype.intersects=function(r,n){if(!n){var s=this.x<r.x?r.x:this.x,o=this.right>r.right?r.right:this.right;if(o<=s)return!1;var h=this.y<r.y?r.y:this.y,l=this.bottom>r.bottom?r.bottom:this.bottom;return l>h}var c=this.left,d=this.right,v=this.top,g=this.bottom;if(d<=c||g<=v)return!1;var m=tempPoints$3[0].set(r.left,r.top),_=tempPoints$3[1].set(r.left,r.bottom),y=tempPoints$3[2].set(r.right,r.top),B=tempPoints$3[3].set(r.right,r.bottom);if(y.x<=m.x||_.y<=m.y)return!1;var w=Math.sign(n.a*n.d-n.b*n.c);if(w===0||(n.apply(m,m),n.apply(_,_),n.apply(y,y),n.apply(B,B),Math.max(m.x,_.x,y.x,B.x)<=c||Math.min(m.x,_.x,y.x,B.x)>=d||Math.max(m.y,_.y,y.y,B.y)<=v||Math.min(m.y,_.y,y.y,B.y)>=g))return!1;var C=w*(_.y-m.y),b=w*(m.x-_.x),I=C*c+b*v,S=C*d+b*v,R=C*c+b*g,O=C*d+b*g;if(Math.max(I,S,R,O)<=C*m.x+b*m.y||Math.min(I,S,R,O)>=C*B.x+b*B.y)return!1;var P=w*(m.y-y.y),N=w*(y.x-m.x),M=P*c+N*v,H=P*d+N*v,Y=P*c+N*g,J=P*d+N*g;return!(Math.max(M,H,Y,J)<=P*m.x+N*m.y||Math.min(M,H,Y,J)>=P*B.x+N*B.y)},t.prototype.pad=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=r),this.x-=r,this.y-=n,this.width+=r*2,this.height+=n*2,this},t.prototype.fit=function(r){var n=Math.max(this.x,r.x),s=Math.min(this.x+this.width,r.x+r.width),o=Math.max(this.y,r.y),h=Math.min(this.y+this.height,r.y+r.height);return this.x=n,this.width=Math.max(s-n,0),this.y=o,this.height=Math.max(h-o,0),this},t.prototype.ceil=function(r,n){r===void 0&&(r=1),n===void 0&&(n=.001);var s=Math.ceil((this.x+this.width-n)*r)/r,o=Math.ceil((this.y+this.height-n)*r)/r;return this.x=Math.floor((this.x+n)*r)/r,this.y=Math.floor((this.y+n)*r)/r,this.width=s-this.x,this.height=o-this.y,this},t.prototype.enlarge=function(r){var n=Math.min(this.x,r.x),s=Math.max(this.x+this.width,r.x+r.width),o=Math.min(this.y,r.y),h=Math.max(this.y+this.height,r.y+r.height);return this.x=n,this.width=s-n,this.y=o,this.height=h-o,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),Circle=function(){function t(r,n,s){r===void 0&&(r=0),n===void 0&&(n=0),s===void 0&&(s=0),this.x=r,this.y=n,this.radius=s,this.type=SHAPES$1.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(r,n){if(this.radius<=0)return!1;var s=this.radius*this.radius,o=this.x-r,h=this.y-n;return o*=o,h*=h,o+h<=s},t.prototype.getBounds=function(){return new Rectangle$1(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),Ellipse=function(){function t(r,n,s,o){r===void 0&&(r=0),n===void 0&&(n=0),s===void 0&&(s=0),o===void 0&&(o=0),this.x=r,this.y=n,this.width=s,this.height=o,this.type=SHAPES$1.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(r,n){if(this.width<=0||this.height<=0)return!1;var s=(r-this.x)/this.width,o=(n-this.y)/this.height;return s*=s,o*=o,s+o<=1},t.prototype.getBounds=function(){return new Rectangle$1(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),Polygon=function(){function t(){for(var r=arguments,n=[],s=0;s<arguments.length;s++)n[s]=r[s];var o=Array.isArray(n[0])?n[0]:n;if(typeof o[0]!="number"){for(var h=[],l=0,c=o.length;l<c;l++)h.push(o[l].x,o[l].y);o=h}this.points=o,this.type=SHAPES$1.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var r=this.points.slice(),n=new t(r);return n.closeStroke=this.closeStroke,n},t.prototype.contains=function(r,n){for(var s=!1,o=this.points.length/2,h=0,l=o-1;h<o;l=h++){var c=this.points[h*2],d=this.points[h*2+1],v=this.points[l*2],g=this.points[l*2+1],m=d>n!=g>n&&r<(v-c)*((n-d)/(g-d))+c;m&&(s=!s)}return s},t.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(r,n){return r+", "+n},"")+"]")},t}(),RoundedRectangle=function(){function t(r,n,s,o,h){r===void 0&&(r=0),n===void 0&&(n=0),s===void 0&&(s=0),o===void 0&&(o=0),h===void 0&&(h=20),this.x=r,this.y=n,this.width=s,this.height=o,this.radius=h,this.type=SHAPES$1.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(r,n){if(this.width<=0||this.height<=0)return!1;if(r>=this.x&&r<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){var s=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+s&&n<=this.y+this.height-s||r>=this.x+s&&r<=this.x+this.width-s)return!0;var o=r-(this.x+s),h=n-(this.y+s),l=s*s;if(o*o+h*h<=l||(o=r-(this.x+this.width-s),o*o+h*h<=l)||(h=n-(this.y+this.height-s),o*o+h*h<=l)||(o=r-(this.x+s),o*o+h*h<=l))return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},t}(),ObservablePoint$1=function(){function t(r,n,s,o){s===void 0&&(s=0),o===void 0&&(o=0),this._x=s,this._y=o,this.cb=r,this.scope=n}return t.prototype.clone=function(r,n){return r===void 0&&(r=this.cb),n===void 0&&(n=this.scope),new t(r,n,this._x,this._y)},t.prototype.set=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=r),(this._x!==r||this._y!==n)&&(this._x=r,this._y=n,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(r){return(this._x!==r.x||this._y!==r.y)&&(this._x=r.x,this._y=r.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(r){return r.set(this._x,this._y),r},t.prototype.equals=function(r){return r.x===this._x&&r.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x="+0+" y="+0+" scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(r){this._x!==r&&(this._x=r,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(r){this._y!==r&&(this._y=r,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),Matrix$1=function(){function t(r,n,s,o,h,l){r===void 0&&(r=1),n===void 0&&(n=0),s===void 0&&(s=0),o===void 0&&(o=1),h===void 0&&(h=0),l===void 0&&(l=0),this.array=null,this.a=r,this.b=n,this.c=s,this.d=o,this.tx=h,this.ty=l}return t.prototype.fromArray=function(r){this.a=r[0],this.b=r[1],this.c=r[3],this.d=r[4],this.tx=r[2],this.ty=r[5]},t.prototype.set=function(r,n,s,o,h,l){return this.a=r,this.b=n,this.c=s,this.d=o,this.tx=h,this.ty=l,this},t.prototype.toArray=function(r,n){this.array||(this.array=new Float32Array(9));var s=n||this.array;return r?(s[0]=this.a,s[1]=this.b,s[2]=0,s[3]=this.c,s[4]=this.d,s[5]=0,s[6]=this.tx,s[7]=this.ty,s[8]=1):(s[0]=this.a,s[1]=this.c,s[2]=this.tx,s[3]=this.b,s[4]=this.d,s[5]=this.ty,s[6]=0,s[7]=0,s[8]=1),s},t.prototype.apply=function(r,n){n=n||new Point$1;var s=r.x,o=r.y;return n.x=this.a*s+this.c*o+this.tx,n.y=this.b*s+this.d*o+this.ty,n},t.prototype.applyInverse=function(r,n){n=n||new Point$1;var s=1/(this.a*this.d+this.c*-this.b),o=r.x,h=r.y;return n.x=this.d*s*o+-this.c*s*h+(this.ty*this.c-this.tx*this.d)*s,n.y=this.a*s*h+-this.b*s*o+(-this.ty*this.a+this.tx*this.b)*s,n},t.prototype.translate=function(r,n){return this.tx+=r,this.ty+=n,this},t.prototype.scale=function(r,n){return this.a*=r,this.d*=n,this.c*=r,this.b*=n,this.tx*=r,this.ty*=n,this},t.prototype.rotate=function(r){var n=Math.cos(r),s=Math.sin(r),o=this.a,h=this.c,l=this.tx;return this.a=o*n-this.b*s,this.b=o*s+this.b*n,this.c=h*n-this.d*s,this.d=h*s+this.d*n,this.tx=l*n-this.ty*s,this.ty=l*s+this.ty*n,this},t.prototype.append=function(r){var n=this.a,s=this.b,o=this.c,h=this.d;return this.a=r.a*n+r.b*o,this.b=r.a*s+r.b*h,this.c=r.c*n+r.d*o,this.d=r.c*s+r.d*h,this.tx=r.tx*n+r.ty*o+this.tx,this.ty=r.tx*s+r.ty*h+this.ty,this},t.prototype.setTransform=function(r,n,s,o,h,l,c,d,v){return this.a=Math.cos(c+v)*h,this.b=Math.sin(c+v)*h,this.c=-Math.sin(c-d)*l,this.d=Math.cos(c-d)*l,this.tx=r-(s*this.a+o*this.c),this.ty=n-(s*this.b+o*this.d),this},t.prototype.prepend=function(r){var n=this.tx;if(r.a!==1||r.b!==0||r.c!==0||r.d!==1){var s=this.a,o=this.c;this.a=s*r.a+this.b*r.c,this.b=s*r.b+this.b*r.d,this.c=o*r.a+this.d*r.c,this.d=o*r.b+this.d*r.d}return this.tx=n*r.a+this.ty*r.c+r.tx,this.ty=n*r.b+this.ty*r.d+r.ty,this},t.prototype.decompose=function(r){var n=this.a,s=this.b,o=this.c,h=this.d,l=r.pivot,c=-Math.atan2(-o,h),d=Math.atan2(s,n),v=Math.abs(c+d);return v<1e-5||Math.abs(PI_2$1-v)<1e-5?(r.rotation=d,r.skew.x=r.skew.y=0):(r.rotation=0,r.skew.x=c,r.skew.y=d),r.scale.x=Math.sqrt(n*n+s*s),r.scale.y=Math.sqrt(o*o+h*h),r.position.x=this.tx+(l.x*n+l.y*o),r.position.y=this.ty+(l.x*s+l.y*h),r},t.prototype.invert=function(){var r=this.a,n=this.b,s=this.c,o=this.d,h=this.tx,l=r*o-n*s;return this.a=o/l,this.b=-n/l,this.c=-s/l,this.d=r/l,this.tx=(s*this.ty-o*h)/l,this.ty=-(r*this.ty-n*h)/l,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var r=new t;return r.a=this.a,r.b=this.b,r.c=this.c,r.d=this.d,r.tx=this.tx,r.ty=this.ty,r},t.prototype.copyTo=function(r){return r.a=this.a,r.b=this.b,r.c=this.c,r.d=this.d,r.tx=this.tx,r.ty=this.ty,r},t.prototype.copyFrom=function(r){return this.a=r.a,this.b=r.b,this.c=r.c,this.d=r.d,this.tx=r.tx,this.ty=r.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),ux$1=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],uy$1=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],vx$1=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vy$1=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rotationCayley$1=[],rotationMatrices$1=[],signum$1=Math.sign;function init$1(){for(var t=0;t<16;t++){var r=[];rotationCayley$1.push(r);for(var n=0;n<16;n++)for(var s=signum$1(ux$1[t]*ux$1[n]+vx$1[t]*uy$1[n]),o=signum$1(uy$1[t]*ux$1[n]+vy$1[t]*uy$1[n]),h=signum$1(ux$1[t]*vx$1[n]+vx$1[t]*vy$1[n]),l=signum$1(uy$1[t]*vx$1[n]+vy$1[t]*vy$1[n]),c=0;c<16;c++)if(ux$1[c]===s&&uy$1[c]===o&&vx$1[c]===h&&vy$1[c]===l){r.push(c);break}}for(var t=0;t<16;t++){var d=new Matrix$1;d.set(ux$1[t],uy$1[t],vx$1[t],vy$1[t],0,0),rotationMatrices$1.push(d)}}init$1();var groupD8$1={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return ux$1[t]},uY:function(t){return uy$1[t]},vX:function(t){return vx$1[t]},vY:function(t){return vy$1[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,r){return rotationCayley$1[t][r]},sub:function(t,r){return rotationCayley$1[t][groupD8$1.inv(r)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,r){return Math.abs(t)*2<=Math.abs(r)?r>=0?groupD8$1.S:groupD8$1.N:Math.abs(r)*2<=Math.abs(t)?t>0?groupD8$1.E:groupD8$1.W:r>0?t>0?groupD8$1.SE:groupD8$1.SW:t>0?groupD8$1.NE:groupD8$1.NW},matrixAppendRotationInv:function(t,r,n,s){n===void 0&&(n=0),s===void 0&&(s=0);var o=rotationMatrices$1[groupD8$1.inv(r)];o.tx=n,o.ty=s,t.append(o)}},Transform=function(){function t(){this.worldTransform=new Matrix$1,this.localTransform=new Matrix$1,this.position=new ObservablePoint$1(this.onChange,this,0,0),this.scale=new ObservablePoint$1(this.onChange,this,1,1),this.pivot=new ObservablePoint$1(this.onChange,this,0,0),this.skew=new ObservablePoint$1(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(r){var n=this.localTransform;if(this._localID!==this._currentLocalID&&(n.a=this._cx*this.scale.x,n.b=this._sx*this.scale.x,n.c=this._cy*this.scale.y,n.d=this._sy*this.scale.y,n.tx=this.position.x-(this.pivot.x*n.a+this.pivot.y*n.c),n.ty=this.position.y-(this.pivot.x*n.b+this.pivot.y*n.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==r._worldID){var s=r.worldTransform,o=this.worldTransform;o.a=n.a*s.a+n.b*s.c,o.b=n.a*s.b+n.b*s.d,o.c=n.c*s.a+n.d*s.c,o.d=n.c*s.b+n.d*s.d,o.tx=n.tx*s.a+n.ty*s.c+s.tx,o.ty=n.tx*s.b+n.ty*s.d+s.ty,this._parentID=r._worldID,this._worldID++}},t.prototype.setFromMatrix=function(r){r.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(r){this._rotation!==r&&(this._rotation=r,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings$1.SORTABLE_CHILDREN=!1;var Bounds$1=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(r){return this.minX>this.maxX||this.minY>this.maxY?Rectangle$1.EMPTY:(r=r||new Rectangle$1(0,0,1,1),r.x=this.minX,r.y=this.minY,r.width=this.maxX-this.minX,r.height=this.maxY-this.minY,r)},t.prototype.addPoint=function(r){this.minX=Math.min(this.minX,r.x),this.maxX=Math.max(this.maxX,r.x),this.minY=Math.min(this.minY,r.y),this.maxY=Math.max(this.maxY,r.y)},t.prototype.addPointMatrix=function(r,n){var s=r.a,o=r.b,h=r.c,l=r.d,c=r.tx,d=r.ty,v=s*n.x+h*n.y+c,g=o*n.x+l*n.y+d;this.minX=Math.min(this.minX,v),this.maxX=Math.max(this.maxX,v),this.minY=Math.min(this.minY,g),this.maxY=Math.max(this.maxY,g)},t.prototype.addQuad=function(r){var n=this.minX,s=this.minY,o=this.maxX,h=this.maxY,l=r[0],c=r[1];n=l<n?l:n,s=c<s?c:s,o=l>o?l:o,h=c>h?c:h,l=r[2],c=r[3],n=l<n?l:n,s=c<s?c:s,o=l>o?l:o,h=c>h?c:h,l=r[4],c=r[5],n=l<n?l:n,s=c<s?c:s,o=l>o?l:o,h=c>h?c:h,l=r[6],c=r[7],n=l<n?l:n,s=c<s?c:s,o=l>o?l:o,h=c>h?c:h,this.minX=n,this.minY=s,this.maxX=o,this.maxY=h},t.prototype.addFrame=function(r,n,s,o,h){this.addFrameMatrix(r.worldTransform,n,s,o,h)},t.prototype.addFrameMatrix=function(r,n,s,o,h){var l=r.a,c=r.b,d=r.c,v=r.d,g=r.tx,m=r.ty,_=this.minX,y=this.minY,B=this.maxX,w=this.maxY,C=l*n+d*s+g,b=c*n+v*s+m;_=C<_?C:_,y=b<y?b:y,B=C>B?C:B,w=b>w?b:w,C=l*o+d*s+g,b=c*o+v*s+m,_=C<_?C:_,y=b<y?b:y,B=C>B?C:B,w=b>w?b:w,C=l*n+d*h+g,b=c*n+v*h+m,_=C<_?C:_,y=b<y?b:y,B=C>B?C:B,w=b>w?b:w,C=l*o+d*h+g,b=c*o+v*h+m,_=C<_?C:_,y=b<y?b:y,B=C>B?C:B,w=b>w?b:w,this.minX=_,this.minY=y,this.maxX=B,this.maxY=w},t.prototype.addVertexData=function(r,n,s){for(var o=this.minX,h=this.minY,l=this.maxX,c=this.maxY,d=n;d<s;d+=2){var v=r[d],g=r[d+1];o=v<o?v:o,h=g<h?g:h,l=v>l?v:l,c=g>c?g:c}this.minX=o,this.minY=h,this.maxX=l,this.maxY=c},t.prototype.addVertices=function(r,n,s,o){this.addVerticesMatrix(r.worldTransform,n,s,o)},t.prototype.addVerticesMatrix=function(r,n,s,o,h,l){h===void 0&&(h=0),l===void 0&&(l=h);for(var c=r.a,d=r.b,v=r.c,g=r.d,m=r.tx,_=r.ty,y=this.minX,B=this.minY,w=this.maxX,C=this.maxY,b=s;b<o;b+=2){var I=n[b],S=n[b+1],R=c*I+v*S+m,O=g*S+d*I+_;y=Math.min(y,R-h),w=Math.max(w,R+h),B=Math.min(B,O-l),C=Math.max(C,O+l)}this.minX=y,this.minY=B,this.maxX=w,this.maxY=C},t.prototype.addBounds=function(r){var n=this.minX,s=this.minY,o=this.maxX,h=this.maxY;this.minX=r.minX<n?r.minX:n,this.minY=r.minY<s?r.minY:s,this.maxX=r.maxX>o?r.maxX:o,this.maxY=r.maxY>h?r.maxY:h},t.prototype.addBoundsMask=function(r,n){var s=r.minX>n.minX?r.minX:n.minX,o=r.minY>n.minY?r.minY:n.minY,h=r.maxX<n.maxX?r.maxX:n.maxX,l=r.maxY<n.maxY?r.maxY:n.maxY;if(s<=h&&o<=l){var c=this.minX,d=this.minY,v=this.maxX,g=this.maxY;this.minX=s<c?s:c,this.minY=o<d?o:d,this.maxX=h>v?h:v,this.maxY=l>g?l:g}},t.prototype.addBoundsMatrix=function(r,n){this.addFrameMatrix(n,r.minX,r.minY,r.maxX,r.maxY)},t.prototype.addBoundsArea=function(r,n){var s=r.minX>n.x?r.minX:n.x,o=r.minY>n.y?r.minY:n.y,h=r.maxX<n.x+n.width?r.maxX:n.x+n.width,l=r.maxY<n.y+n.height?r.maxY:n.y+n.height;if(s<=h&&o<=l){var c=this.minX,d=this.minY,v=this.maxX,g=this.maxY;this.minX=s<c?s:c,this.minY=o<d?o:d,this.maxX=h>v?h:v,this.maxY=l>g?l:g}},t.prototype.pad=function(r,n){r===void 0&&(r=0),n===void 0&&(n=r),this.isEmpty()||(this.minX-=r,this.maxX+=r,this.minY-=n,this.maxY+=n)},t.prototype.addFramePad=function(r,n,s,o,h,l){r-=h,n-=l,s+=h,o+=l,this.minX=this.minX<r?this.minX:r,this.maxX=this.maxX>s?this.maxX:s,this.minY=this.minY<n?this.minY:n,this.maxY=this.maxY>o?this.maxY:o},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$n=function(t,r){return extendStatics$n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$n(t,r)};function __extends$n(t,r){extendStatics$n(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var DisplayObject$1=function(t){__extends$n(r,t);function r(){var n=t.call(this)||this;return n.tempDisplayObjectParent=null,n.transform=new Transform,n.alpha=1,n.visible=!0,n.renderable=!0,n.cullable=!1,n.cullArea=null,n.parent=null,n.worldAlpha=1,n._lastSortedIndex=0,n._zIndex=0,n.filterArea=null,n.filters=null,n._enabledFilters=null,n._bounds=new Bounds$1,n._localBounds=null,n._boundsID=0,n._boundsRect=null,n._localBoundsRect=null,n._mask=null,n._maskRefCount=0,n._destroyed=!1,n.isSprite=!1,n.isMask=!1,n}return r.mixin=function(n){for(var s=Object.keys(n),o=0;o<s.length;++o){var h=s[o];Object.defineProperty(r.prototype,h,Object.getOwnPropertyDescriptor(n,h))}},Object.defineProperty(r.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),r.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},r.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},r.prototype.getBounds=function(n,s){return n||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),s||(this._boundsRect||(this._boundsRect=new Rectangle$1),s=this._boundsRect),this._bounds.getRectangle(s)},r.prototype.getLocalBounds=function(n){n||(this._localBoundsRect||(this._localBoundsRect=new Rectangle$1),n=this._localBoundsRect),this._localBounds||(this._localBounds=new Bounds$1);var s=this.transform,o=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var h=this._bounds,l=this._boundsID;this._bounds=this._localBounds;var c=this.getBounds(!1,n);return this.parent=o,this.transform=s,this._bounds=h,this._bounds.updateID+=this._boundsID-l,c},r.prototype.toGlobal=function(n,s,o){return o===void 0&&(o=!1),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(n,s)},r.prototype.toLocal=function(n,s,o,h){return s&&(n=s.toGlobal(n,o,h)),h||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(n,o)},r.prototype.setParent=function(n){if(!n||!n.addChild)throw new Error("setParent: Argument must be a Container");return n.addChild(this),n},r.prototype.setTransform=function(n,s,o,h,l,c,d,v,g){return n===void 0&&(n=0),s===void 0&&(s=0),o===void 0&&(o=1),h===void 0&&(h=1),l===void 0&&(l=0),c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=0),this.position.x=n,this.position.y=s,this.scale.x=o||1,this.scale.y=h||1,this.rotation=l,this.skew.x=c,this.skew.y=d,this.pivot.x=v,this.pivot.y=g,this},r.prototype.destroy=function(n){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(r.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new TemporaryDisplayObject$1),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),r.prototype.enableTempParent=function(){var n=this.parent;return this.parent=this._tempDisplayObjectParent,n},r.prototype.disableTempParent=function(n){this.parent=n},Object.defineProperty(r.prototype,"x",{get:function(){return this.position.x},set:function(n){this.transform.position.x=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this.position.y},set:function(n){this.transform.position.y=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.transform.position},set:function(n){this.transform.position.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scale",{get:function(){return this.transform.scale},set:function(n){this.transform.scale.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(n){this.transform.pivot.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"skew",{get:function(){return this.transform.skew},set:function(n){this.transform.skew.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(n){this.transform.rotation=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.transform.rotation*RAD_TO_DEG},set:function(n){this.transform.rotation=n*DEG_TO_RAD},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"zIndex",{get:function(){return this._zIndex},set:function(n){this._zIndex=n,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldVisible",{get:function(){var n=this;do{if(!n.visible)return!1;n=n.parent}while(n);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mask",{get:function(){return this._mask},set:function(n){if(this._mask!==n){if(this._mask){var s=this._mask.maskObject||this._mask;s._maskRefCount--,s._maskRefCount===0&&(s.renderable=!0,s.isMask=!1)}if(this._mask=n,this._mask){var s=this._mask.maskObject||this._mask;s._maskRefCount===0&&(s.renderable=!1,s.isMask=!0),s._maskRefCount++}}},enumerable:!1,configurable:!0}),r}(EventEmitter),TemporaryDisplayObject$1=function(t){__extends$n(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.sortDirty=null,n}return r}(DisplayObject$1);DisplayObject$1.prototype.displayObjectUpdateTransform=DisplayObject$1.prototype.updateTransform;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV$3;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(ENV$3||(ENV$3={}));var RENDERER_TYPE$3;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(RENDERER_TYPE$3||(RENDERER_TYPE$3={}));var BUFFER_BITS$3;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(BUFFER_BITS$3||(BUFFER_BITS$3={}));var BLEND_MODES$3;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(BLEND_MODES$3||(BLEND_MODES$3={}));var DRAW_MODES$3;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES$3||(DRAW_MODES$3={}));var FORMATS$3;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS$3||(FORMATS$3={}));var TARGETS$3;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS$3||(TARGETS$3={}));var TYPES$3;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES$3||(TYPES$3={}));var SAMPLER_TYPES$3;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(SAMPLER_TYPES$3||(SAMPLER_TYPES$3={}));var SCALE_MODES$3;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(SCALE_MODES$3||(SCALE_MODES$3={}));var WRAP_MODES$3;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES$3||(WRAP_MODES$3={}));var MIPMAP_MODES$3;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES$3||(MIPMAP_MODES$3={}));var ALPHA_MODES$3;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES$3||(ALPHA_MODES$3={}));var CLEAR_MODES$3;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(CLEAR_MODES$3||(CLEAR_MODES$3={}));var GC_MODES$3;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(GC_MODES$3||(GC_MODES$3={}));var PRECISION$3;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(PRECISION$3||(PRECISION$3={}));var MASK_TYPES$3;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(MASK_TYPES$3||(MASK_TYPES$3={}));var MSAA_QUALITY$3;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(MSAA_QUALITY$3||(MSAA_QUALITY$3={}));var BUFFER_TYPE$3;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$3||(BUFFER_TYPE$3={}));function sortChildren$1(t,r){return t.zIndex===r.zIndex?t._lastSortedIndex-r._lastSortedIndex:t.zIndex-r.zIndex}var Container$1=function(t){__extends$n(r,t);function r(){var n=t.call(this)||this;return n.children=[],n.sortableChildren=settings$1.SORTABLE_CHILDREN,n.sortDirty=!1,n}return r.prototype.onChildrenChange=function(n){},r.prototype.addChild=function(){for(var n=arguments,s=[],o=0;o<arguments.length;o++)s[o]=n[o];if(s.length>1)for(var h=0;h<s.length;h++)this.addChild(s[h]);else{var l=s[0];l.parent&&l.parent.removeChild(l),l.parent=this,this.sortDirty=!0,l.transform._parentID=-1,this.children.push(l),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",l,this,this.children.length-1),l.emit("added",this)}return s[0]},r.prototype.addChildAt=function(n,s){if(s<0||s>this.children.length)throw new Error(n+"addChildAt: The index "+s+" supplied is out of bounds "+this.children.length);return n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.splice(s,0,n),this._boundsID++,this.onChildrenChange(s),n.emit("added",this),this.emit("childAdded",n,this,s),n},r.prototype.swapChildren=function(n,s){if(n!==s){var o=this.getChildIndex(n),h=this.getChildIndex(s);this.children[o]=s,this.children[h]=n,this.onChildrenChange(o<h?o:h)}},r.prototype.getChildIndex=function(n){var s=this.children.indexOf(n);if(s===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return s},r.prototype.setChildIndex=function(n,s){if(s<0||s>=this.children.length)throw new Error("The index "+s+" supplied is out of bounds "+this.children.length);var o=this.getChildIndex(n);removeItems$1(this.children,o,1),this.children.splice(s,0,n),this.onChildrenChange(s)},r.prototype.getChildAt=function(n){if(n<0||n>=this.children.length)throw new Error("getChildAt: Index ("+n+") does not exist.");return this.children[n]},r.prototype.removeChild=function(){for(var n=arguments,s=[],o=0;o<arguments.length;o++)s[o]=n[o];if(s.length>1)for(var h=0;h<s.length;h++)this.removeChild(s[h]);else{var l=s[0],c=this.children.indexOf(l);if(c===-1)return null;l.parent=null,l.transform._parentID=-1,removeItems$1(this.children,c,1),this._boundsID++,this.onChildrenChange(c),l.emit("removed",this),this.emit("childRemoved",l,this,c)}return s[0]},r.prototype.removeChildAt=function(n){var s=this.getChildAt(n);return s.parent=null,s.transform._parentID=-1,removeItems$1(this.children,n,1),this._boundsID++,this.onChildrenChange(n),s.emit("removed",this),this.emit("childRemoved",s,this,n),s},r.prototype.removeChildren=function(n,s){n===void 0&&(n=0),s===void 0&&(s=this.children.length);var o=n,h=s,l=h-o,c;if(l>0&&l<=h){c=this.children.splice(o,l);for(var d=0;d<c.length;++d)c[d].parent=null,c[d].transform&&(c[d].transform._parentID=-1);this._boundsID++,this.onChildrenChange(n);for(var d=0;d<c.length;++d)c[d].emit("removed",this),this.emit("childRemoved",c[d],this,d);return c}else if(l===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},r.prototype.sortChildren=function(){for(var n=!1,s=0,o=this.children.length;s<o;++s){var h=this.children[s];h._lastSortedIndex=s,!n&&h.zIndex!==0&&(n=!0)}n&&this.children.length>1&&this.children.sort(sortChildren$1),this.sortDirty=!1},r.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var n=0,s=this.children.length;n<s;++n){var o=this.children[n];o.visible&&o.updateTransform()}},r.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var n=0;n<this.children.length;n++){var s=this.children[n];if(!(!s.visible||!s.renderable))if(s.calculateBounds(),s._mask){var o=s._mask.maskObject||s._mask;o.calculateBounds(),this._bounds.addBoundsMask(s._bounds,o._bounds)}else s.filterArea?this._bounds.addBoundsArea(s._bounds,s.filterArea):this._bounds.addBounds(s._bounds)}this._bounds.updateID=this._boundsID},r.prototype.getLocalBounds=function(n,s){s===void 0&&(s=!1);var o=t.prototype.getLocalBounds.call(this,n);if(!s)for(var h=0,l=this.children.length;h<l;++h){var c=this.children[h];c.visible&&c.updateTransform()}return o},r.prototype._calculateBounds=function(){},r.prototype._renderWithCulling=function(n){var s=n.renderTexture.sourceFrame;if(s.width>0&&s.height>0){var o,h;if(this.cullArea?(o=this.cullArea,h=this.worldTransform):this._render!==r.prototype._render&&(o=this.getBounds(!0)),o&&s.intersects(o,h))this._render(n);else if(this.cullArea)return;for(var l=0,c=this.children.length;l<c;++l){var d=this.children[l],v=d.cullable;d.cullable=v||!this.cullArea,d.render(n),d.cullable=v}}},r.prototype.render=function(n){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(n);else if(this.cullable)this._renderWithCulling(n);else{this._render(n);for(var s=0,o=this.children.length;s<o;++s)this.children[s].render(n)}},r.prototype.renderAdvanced=function(n){var s=this.filters,o=this._mask;if(s){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var h=0;h<s.length;h++)s[h].enabled&&this._enabledFilters.push(s[h])}var l=s&&this._enabledFilters&&this._enabledFilters.length||o&&(!o.isMaskData||o.enabled&&(o.autoDetect||o.type!==MASK_TYPES$3.NONE));if(l&&n.batch.flush(),s&&this._enabledFilters&&this._enabledFilters.length&&n.filter.push(this,this._enabledFilters),o&&n.mask.push(this,this._mask),this.cullable)this._renderWithCulling(n);else{this._render(n);for(var h=0,c=this.children.length;h<c;++h)this.children[h].render(n)}l&&n.batch.flush(),o&&n.mask.pop(this),s&&this._enabledFilters&&this._enabledFilters.length&&n.filter.pop()},r.prototype._render=function(n){},r.prototype.destroy=function(n){t.prototype.destroy.call(this),this.sortDirty=!1;var s=typeof n=="boolean"?n:n&&n.children,o=this.removeChildren(0,this.children.length);if(s)for(var h=0;h<o.length;++h)o[h].destroy(n)},Object.defineProperty(r.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(n){var s=this.getLocalBounds().width;s!==0?this.scale.x=n/s:this.scale.x=1,this._width=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(n){var s=this.getLocalBounds().height;s!==0?this.scale.y=n/s:this.scale.y=1,this._height=n},enumerable:!1,configurable:!0}),r}(DisplayObject$1);Container$1.prototype.containerUpdateTransform=Container$1.prototype.updateTransform;/*!
 * @pixi/accessibility - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var accessibleTarget={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};DisplayObject$1.mixin(accessibleTarget);var KEY_CODE_TAB=9,DIV_TOUCH_SIZE=100,DIV_TOUCH_POS_X=0,DIV_TOUCH_POS_Y=0,DIV_TOUCH_ZINDEX=2,DIV_HOOK_SIZE=1,DIV_HOOK_POS_X=-1e3,DIV_HOOK_POS_Y=-1e3,DIV_HOOK_ZINDEX=2,AccessibilityManager=function(){function t(r){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(isMobile$2.tablet||isMobile$2.phone)&&this.createTouchHook();var n=document.createElement("div");n.style.width=DIV_TOUCH_SIZE+"px",n.style.height=DIV_TOUCH_SIZE+"px",n.style.position="absolute",n.style.top=DIV_TOUCH_POS_X+"px",n.style.left=DIV_TOUCH_POS_Y+"px",n.style.zIndex=DIV_TOUCH_ZINDEX.toString(),this.div=n,this.renderer=r,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var r=this,n=document.createElement("button");n.style.width=DIV_HOOK_SIZE+"px",n.style.height=DIV_HOOK_SIZE+"px",n.style.position="absolute",n.style.top=DIV_HOOK_POS_X+"px",n.style.left=DIV_HOOK_POS_Y+"px",n.style.zIndex=DIV_HOOK_ZINDEX.toString(),n.style.backgroundColor="#FF0000",n.title="select to enable accessibility for this content",n.addEventListener("focus",function(){r._isMobileAccessibility=!0,r.activate(),r.destroyTouchHook()}),document.body.appendChild(n),this._hookDiv=n},t.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var r;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(r=this.renderer.view.parentNode)===null||r===void 0||r.appendChild(this.div))},t.prototype.deactivate=function(){var r;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(r=this.div.parentNode)===null||r===void 0||r.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(r){if(!(!r.visible||!r.accessibleChildren)){r.accessible&&r.interactive&&(r._accessibleActive||this.addChild(r),r.renderId=this.renderId);var n=r.children;if(n)for(var s=0;s<n.length;s++)this.updateAccessibleObjects(n[s])}},t.prototype.update=function(){var r=performance.now();if(!(isMobile$2.android.device&&r<this.androidUpdateCount)&&(this.androidUpdateCount=r+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var n=this.renderer.view.getBoundingClientRect(),s=n.left,o=n.top,h=n.width,l=n.height,c=this.renderer,d=c.width,v=c.height,g=c.resolution,m=h/d*g,_=l/v*g,y=this.div;y.style.left=s+"px",y.style.top=o+"px",y.style.width=d+"px",y.style.height=v+"px";for(var B=0;B<this.children.length;B++){var w=this.children[B];if(w.renderId!==this.renderId)w._accessibleActive=!1,removeItems$1(this.children,B,1),this.div.removeChild(w._accessibleDiv),this.pool.push(w._accessibleDiv),w._accessibleDiv=null,B--;else{y=w._accessibleDiv;var C=w.hitArea,b=w.worldTransform;w.hitArea?(y.style.left=(b.tx+C.x*b.a)*m+"px",y.style.top=(b.ty+C.y*b.d)*_+"px",y.style.width=C.width*b.a*m+"px",y.style.height=C.height*b.d*_+"px"):(C=w.getBounds(),this.capHitArea(C),y.style.left=C.x*m+"px",y.style.top=C.y*_+"px",y.style.width=C.width*m+"px",y.style.height=C.height*_+"px",y.title!==w.accessibleTitle&&w.accessibleTitle!==null&&(y.title=w.accessibleTitle),y.getAttribute("aria-label")!==w.accessibleHint&&w.accessibleHint!==null&&y.setAttribute("aria-label",w.accessibleHint)),(w.accessibleTitle!==y.title||w.tabIndex!==y.tabIndex)&&(y.title=w.accessibleTitle,y.tabIndex=w.tabIndex,this.debug&&this.updateDebugHTML(y))}}this.renderId++}},t.prototype.updateDebugHTML=function(r){r.innerHTML="type: "+r.type+"</br> title : "+r.title+"</br> tabIndex: "+r.tabIndex},t.prototype.capHitArea=function(r){r.x<0&&(r.width+=r.x,r.x=0),r.y<0&&(r.height+=r.y,r.y=0);var n=this.renderer,s=n.width,o=n.height;r.x+r.width>s&&(r.width=s-r.x),r.y+r.height>o&&(r.height=o-r.y)},t.prototype.addChild=function(r){var n=this.pool.pop();n||(n=document.createElement("button"),n.style.width=DIV_TOUCH_SIZE+"px",n.style.height=DIV_TOUCH_SIZE+"px",n.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",n.style.position="absolute",n.style.zIndex=DIV_TOUCH_ZINDEX.toString(),n.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?n.setAttribute("aria-live","off"):n.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?n.setAttribute("aria-relevant","additions"):n.setAttribute("aria-relevant","text"),n.addEventListener("click",this._onClick.bind(this)),n.addEventListener("focus",this._onFocus.bind(this)),n.addEventListener("focusout",this._onFocusOut.bind(this))),n.style.pointerEvents=r.accessiblePointerEvents,n.type=r.accessibleType,r.accessibleTitle&&r.accessibleTitle!==null?n.title=r.accessibleTitle:(!r.accessibleHint||r.accessibleHint===null)&&(n.title="displayObject "+r.tabIndex),r.accessibleHint&&r.accessibleHint!==null&&n.setAttribute("aria-label",r.accessibleHint),this.debug&&this.updateDebugHTML(n),r._accessibleActive=!0,r._accessibleDiv=n,n.displayObject=r,this.children.push(r),this.div.appendChild(r._accessibleDiv),r._accessibleDiv.tabIndex=r.tabIndex},t.prototype._onClick=function(r){var n=this.renderer.plugins.interaction,s=r.target.displayObject,o=n.eventData;n.dispatchEvent(s,"click",o),n.dispatchEvent(s,"pointertap",o),n.dispatchEvent(s,"tap",o)},t.prototype._onFocus=function(r){r.target.getAttribute("aria-live")||r.target.setAttribute("aria-live","assertive");var n=this.renderer.plugins.interaction,s=r.target.displayObject,o=n.eventData;n.dispatchEvent(s,"mouseover",o)},t.prototype._onFocusOut=function(r){r.target.getAttribute("aria-live")||r.target.setAttribute("aria-live","polite");var n=this.renderer.plugins.interaction,s=r.target.displayObject,o=n.eventData;n.dispatchEvent(s,"mouseout",o)},t.prototype._onKeyDown=function(r){r.keyCode===KEY_CODE_TAB&&this.activate()},t.prototype._onMouseMove=function(r){r.movementX===0&&r.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();/*!
 * @pixi/ticker - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings$1.TARGET_FPMS=.06;var UPDATE_PRIORITY$1;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(UPDATE_PRIORITY$1||(UPDATE_PRIORITY$1={}));var TickerListener$1=function(){function t(r,n,s,o){n===void 0&&(n=null),s===void 0&&(s=0),o===void 0&&(o=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=r,this.context=n,this.priority=s,this.once=o}return t.prototype.match=function(r,n){return n===void 0&&(n=null),this.fn===r&&this.context===n},t.prototype.emit=function(r){this.fn&&(this.context?this.fn.call(this.context,r):this.fn(r));var n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n},t.prototype.connect=function(r){this.previous=r,r.next&&(r.next.previous=this),this.next=r.next,r.next=this},t.prototype.destroy=function(r){r===void 0&&(r=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var n=this.next;return this.next=r?null:n,this.previous=null,n},t}(),Ticker$1=function(){function t(){var r=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new TickerListener$1(null,null,1/0),this.deltaMS=1/settings$1.TARGET_FPMS,this.elapsedMS=1/settings$1.TARGET_FPMS,this._tick=function(n){r._requestId=null,r.started&&(r.update(n),r.started&&r._requestId===null&&r._head.next&&(r._requestId=requestAnimationFrame(r._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(r,n,s){return s===void 0&&(s=UPDATE_PRIORITY$1.NORMAL),this._addListener(new TickerListener$1(r,n,s))},t.prototype.addOnce=function(r,n,s){return s===void 0&&(s=UPDATE_PRIORITY$1.NORMAL),this._addListener(new TickerListener$1(r,n,s,!0))},t.prototype._addListener=function(r){var n=this._head.next,s=this._head;if(!n)r.connect(s);else{for(;n;){if(r.priority>n.priority){r.connect(s);break}s=n,n=n.next}r.previous||r.connect(s)}return this._startIfPossible(),this},t.prototype.remove=function(r,n){for(var s=this._head.next;s;)s.match(r,n)?s=s.destroy():s=s.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var r=0,n=this._head;n=n.next;)r++;return r},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var r=this._head.next;r;)r=r.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(r){r===void 0&&(r=performance.now());var n;if(r>this.lastTime){if(n=this.elapsedMS=r-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){var s=r-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=r-s%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*settings$1.TARGET_FPMS;for(var o=this._head,h=o.next;h;)h=h.emit(this.deltaTime);o.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=r},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(r){var n=Math.min(this.maxFPS,r),s=Math.min(Math.max(0,n)/1e3,settings$1.TARGET_FPMS);this._maxElapsedMS=1/s},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(r){if(r===0)this._minElapsedMS=0;else{var n=Math.max(this.minFPS,r);this._minElapsedMS=1/(n/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var r=t._shared=new t;r.autoStart=!0,r._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var r=t._system=new t;r.autoStart=!0,r._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),TickerPlugin=function(){function t(){}return t.init=function(r){var n=this;r=Object.assign({autoStart:!0,sharedTicker:!1},r),Object.defineProperty(this,"ticker",{set:function(s){this._ticker&&this._ticker.remove(this.render,this),this._ticker=s,s&&s.add(this.render,this,UPDATE_PRIORITY$1.LOW)},get:function(){return this._ticker}}),this.stop=function(){n._ticker.stop()},this.start=function(){n._ticker.start()},this._ticker=null,this.ticker=r.sharedTicker?Ticker$1.shared:new Ticker$1,r.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var r=this._ticker;this.ticker=null,r.destroy()}},t}();/*!
 * @pixi/interaction - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var InteractionData=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Point$1,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(r,n,s){return r.worldTransform.applyInverse(s||this.global,n)},t.prototype.copyEvent=function(r){"isPrimary"in r&&r.isPrimary&&(this.isPrimary=!0),this.button="button"in r&&r.button;var n="buttons"in r&&r.buttons;this.buttons=Number.isInteger(n)?n:"which"in r&&r.which,this.width="width"in r&&r.width,this.height="height"in r&&r.height,this.tiltX="tiltX"in r&&r.tiltX,this.tiltY="tiltY"in r&&r.tiltY,this.pointerType="pointerType"in r&&r.pointerType,this.pressure="pressure"in r&&r.pressure,this.rotationAngle="rotationAngle"in r&&r.rotationAngle,this.twist="twist"in r&&r.twist||0,this.tangentialPressure="tangentialPressure"in r&&r.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$m=function(t,r){return extendStatics$m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$m(t,r)};function __extends$m(t,r){extendStatics$m(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var InteractionEvent=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),InteractionTrackingData=function(){function t(r){this._pointerId=r,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(r,n){n?this._flags=this._flags|r:this._flags=this._flags&~r},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(r){this._flags=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(r){this._doSet(t.FLAGS.OVER,r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(r){this._doSet(t.FLAGS.RIGHT_DOWN,r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(r){this._doSet(t.FLAGS.LEFT_DOWN,r)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),t}(),TreeSearch=function(){function t(){this._tempPoint=new Point$1}return t.prototype.recursiveFindHit=function(r,n,s,o,h){if(!n||!n.visible)return!1;var l=r.data.global;h=n.interactive||h;var c=!1,d=h,v=!0;if(n.hitArea?(o&&(n.worldTransform.applyInverse(l,this._tempPoint),n.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?c=!0:(o=!1,v=!1)),d=!1):n._mask&&o&&(n._mask.containsPoint&&n._mask.containsPoint(l)||(o=!1)),v&&n.interactiveChildren&&n.children)for(var g=n.children,m=g.length-1;m>=0;m--){var _=g[m],y=this.recursiveFindHit(r,_,s,o,d);if(y){if(!_.parent)continue;d=!1,y&&(r.target&&(o=!1),c=!0)}}return h&&(o&&!r.target&&!n.hitArea&&n.containsPoint&&n.containsPoint(l)&&(c=!0),n.interactive&&(c&&!r.target&&(r.target=n),s&&s(r,n,!!c))),c},t.prototype.findHit=function(r,n,s,o){this.recursiveFindHit(r,n,s,o,!1)},t}(),interactiveTarget={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};DisplayObject$1.mixin(interactiveTarget);var MOUSE_POINTER_ID=1,hitTestEvent={target:null,data:{global:null}},InteractionManager=function(t){__extends$m(r,t);function r(n,s){var o=t.call(this)||this;return s=s||{},o.renderer=n,o.autoPreventDefault=s.autoPreventDefault!==void 0?s.autoPreventDefault:!0,o.interactionFrequency=s.interactionFrequency||10,o.mouse=new InteractionData,o.mouse.identifier=MOUSE_POINTER_ID,o.mouse.global.set(-999999),o.activeInteractionData={},o.activeInteractionData[MOUSE_POINTER_ID]=o.mouse,o.interactionDataPool=[],o.eventData=new InteractionEvent,o.interactionDOMElement=null,o.moveWhenInside=!1,o.eventsAdded=!1,o.tickerAdded=!1,o.mouseOverRenderer=!("PointerEvent"in globalThis),o.supportsTouchEvents="ontouchstart"in globalThis,o.supportsPointerEvents=!!globalThis.PointerEvent,o.onPointerUp=o.onPointerUp.bind(o),o.processPointerUp=o.processPointerUp.bind(o),o.onPointerCancel=o.onPointerCancel.bind(o),o.processPointerCancel=o.processPointerCancel.bind(o),o.onPointerDown=o.onPointerDown.bind(o),o.processPointerDown=o.processPointerDown.bind(o),o.onPointerMove=o.onPointerMove.bind(o),o.processPointerMove=o.processPointerMove.bind(o),o.onPointerOut=o.onPointerOut.bind(o),o.processPointerOverOut=o.processPointerOverOut.bind(o),o.onPointerOver=o.onPointerOver.bind(o),o.cursorStyles={default:"inherit",pointer:"pointer"},o.currentCursorMode=null,o.cursor=null,o.resolution=1,o.delayedEvents=[],o.search=new TreeSearch,o._tempDisplayObject=new TemporaryDisplayObject$1,o._eventListenerOptions={capture:!0,passive:!1},o._useSystemTicker=s.useSystemTicker!==void 0?s.useSystemTicker:!0,o.setTargetElement(o.renderer.view,o.renderer.resolution),o}return Object.defineProperty(r.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(n){this._useSystemTicker=n,n?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),r.prototype.hitTest=function(n,s){return hitTestEvent.target=null,hitTestEvent.data.global=n,s||(s=this.lastObjectRendered),this.processInteractive(hitTestEvent,s,null,!0),hitTestEvent.target},r.prototype.setTargetElement=function(n,s){s===void 0&&(s=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=n,this.resolution=s,this.addEvents(),this.addTickerListener()},r.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Ticker$1.system.add(this.tickerUpdate,this,UPDATE_PRIORITY$1.INTERACTION),this.tickerAdded=!0)},r.prototype.removeTickerListener=function(){!this.tickerAdded||(Ticker$1.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},r.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var n=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(n.msContentZooming="none",n.msTouchAction="none"):this.supportsPointerEvents&&(n.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},r.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var n=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(n.msContentZooming="",n.msTouchAction=""):this.supportsPointerEvents&&(n.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},r.prototype.tickerUpdate=function(n){this._deltaTime+=n,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},r.prototype.update=function(){if(!!this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var n in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(n)){var s=this.activeInteractionData[n];if(s.originalEvent&&s.pointerType!=="touch"){var o=this.configureInteractionEventForDOMEvent(this.eventData,s.originalEvent,s);this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},r.prototype.setCursorMode=function(n){n=n||"default";var s=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(s=!1),this.currentCursorMode!==n){this.currentCursorMode=n;var o=this.cursorStyles[n];if(o)switch(typeof o){case"string":s&&(this.interactionDOMElement.style.cursor=o);break;case"function":o(n);break;case"object":s&&Object.assign(this.interactionDOMElement.style,o);break}else s&&typeof n=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,n)&&(this.interactionDOMElement.style.cursor=n)}},r.prototype.dispatchEvent=function(n,s,o){(!o.stopPropagationHint||n===o.stopsPropagatingAt)&&(o.currentTarget=n,o.type=s,n.emit(s,o),n[s]&&n[s](o))},r.prototype.delayDispatchEvent=function(n,s,o){this.delayedEvents.push({displayObject:n,eventString:s,eventData:o})},r.prototype.mapPositionToPoint=function(n,s,o){var h;this.interactionDOMElement.parentElement?h=this.interactionDOMElement.getBoundingClientRect():h={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var l=1/this.resolution;n.x=(s-h.left)*(this.interactionDOMElement.width/h.width)*l,n.y=(o-h.top)*(this.interactionDOMElement.height/h.height)*l},r.prototype.processInteractive=function(n,s,o,h){var l=this.search.findHit(n,s,o,h),c=this.delayedEvents;if(!c.length)return l;n.stopPropagationHint=!1;var d=c.length;this.delayedEvents=[];for(var v=0;v<d;v++){var g=c[v],m=g.displayObject,_=g.eventString,y=g.eventData;y.stopsPropagatingAt===m&&(y.stopPropagationHint=!0),this.dispatchEvent(m,_,y)}return l},r.prototype.onPointerDown=function(n){if(!(this.supportsTouchEvents&&n.pointerType==="touch")){var s=this.normalizeToPointerData(n);if(this.autoPreventDefault&&s[0].isNormalized){var o=n.cancelable||!("cancelable"in n);o&&n.preventDefault()}for(var h=s.length,l=0;l<h;l++){var c=s[l],d=this.getInteractionDataForPointerId(c),v=this.configureInteractionEventForDOMEvent(this.eventData,c,d);if(v.data.originalEvent=n,this.processInteractive(v,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",v),c.pointerType==="touch")this.emit("touchstart",v);else if(c.pointerType==="mouse"||c.pointerType==="pen"){var g=c.button===2;this.emit(g?"rightdown":"mousedown",this.eventData)}}}},r.prototype.processPointerDown=function(n,s,o){var h=n.data,l=n.data.identifier;if(o){if(s.trackedPointers[l]||(s.trackedPointers[l]=new InteractionTrackingData(l)),this.dispatchEvent(s,"pointerdown",n),h.pointerType==="touch")this.dispatchEvent(s,"touchstart",n);else if(h.pointerType==="mouse"||h.pointerType==="pen"){var c=h.button===2;c?s.trackedPointers[l].rightDown=!0:s.trackedPointers[l].leftDown=!0,this.dispatchEvent(s,c?"rightdown":"mousedown",n)}}},r.prototype.onPointerComplete=function(n,s,o){for(var h=this.normalizeToPointerData(n),l=h.length,c=n.target!==this.interactionDOMElement?"outside":"",d=0;d<l;d++){var v=h[d],g=this.getInteractionDataForPointerId(v),m=this.configureInteractionEventForDOMEvent(this.eventData,v,g);if(m.data.originalEvent=n,this.processInteractive(m,this.lastObjectRendered,o,s||!c),this.emit(s?"pointercancel":"pointerup"+c,m),v.pointerType==="mouse"||v.pointerType==="pen"){var _=v.button===2;this.emit(_?"rightup"+c:"mouseup"+c,m)}else v.pointerType==="touch"&&(this.emit(s?"touchcancel":"touchend"+c,m),this.releaseInteractionDataForPointerId(v.pointerId))}},r.prototype.onPointerCancel=function(n){this.supportsTouchEvents&&n.pointerType==="touch"||this.onPointerComplete(n,!0,this.processPointerCancel)},r.prototype.processPointerCancel=function(n,s){var o=n.data,h=n.data.identifier;s.trackedPointers[h]!==void 0&&(delete s.trackedPointers[h],this.dispatchEvent(s,"pointercancel",n),o.pointerType==="touch"&&this.dispatchEvent(s,"touchcancel",n))},r.prototype.onPointerUp=function(n){this.supportsTouchEvents&&n.pointerType==="touch"||this.onPointerComplete(n,!1,this.processPointerUp)},r.prototype.processPointerUp=function(n,s,o){var h=n.data,l=n.data.identifier,c=s.trackedPointers[l],d=h.pointerType==="touch",v=h.pointerType==="mouse"||h.pointerType==="pen",g=!1;if(v){var m=h.button===2,_=InteractionTrackingData.FLAGS,y=m?_.RIGHT_DOWN:_.LEFT_DOWN,B=c!==void 0&&c.flags&y;o?(this.dispatchEvent(s,m?"rightup":"mouseup",n),B&&(this.dispatchEvent(s,m?"rightclick":"click",n),g=!0)):B&&this.dispatchEvent(s,m?"rightupoutside":"mouseupoutside",n),c&&(m?c.rightDown=!1:c.leftDown=!1)}o?(this.dispatchEvent(s,"pointerup",n),d&&this.dispatchEvent(s,"touchend",n),c&&((!v||g)&&this.dispatchEvent(s,"pointertap",n),d&&(this.dispatchEvent(s,"tap",n),c.over=!1))):c&&(this.dispatchEvent(s,"pointerupoutside",n),d&&this.dispatchEvent(s,"touchendoutside",n)),c&&c.none&&delete s.trackedPointers[l]},r.prototype.onPointerMove=function(n){if(!(this.supportsTouchEvents&&n.pointerType==="touch")){var s=this.normalizeToPointerData(n);(s[0].pointerType==="mouse"||s[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var o=s.length,h=0;h<o;h++){var l=s[h],c=this.getInteractionDataForPointerId(l),d=this.configureInteractionEventForDOMEvent(this.eventData,l,c);d.data.originalEvent=n,this.processInteractive(d,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",d),l.pointerType==="touch"&&this.emit("touchmove",d),(l.pointerType==="mouse"||l.pointerType==="pen")&&this.emit("mousemove",d)}s[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},r.prototype.processPointerMove=function(n,s,o){var h=n.data,l=h.pointerType==="touch",c=h.pointerType==="mouse"||h.pointerType==="pen";c&&this.processPointerOverOut(n,s,o),(!this.moveWhenInside||o)&&(this.dispatchEvent(s,"pointermove",n),l&&this.dispatchEvent(s,"touchmove",n),c&&this.dispatchEvent(s,"mousemove",n))},r.prototype.onPointerOut=function(n){if(!(this.supportsTouchEvents&&n.pointerType==="touch")){var s=this.normalizeToPointerData(n),o=s[0];o.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var h=this.getInteractionDataForPointerId(o),l=this.configureInteractionEventForDOMEvent(this.eventData,o,h);l.data.originalEvent=o,this.processInteractive(l,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",l),o.pointerType==="mouse"||o.pointerType==="pen"?this.emit("mouseout",l):this.releaseInteractionDataForPointerId(h.identifier)}},r.prototype.processPointerOverOut=function(n,s,o){var h=n.data,l=n.data.identifier,c=h.pointerType==="mouse"||h.pointerType==="pen",d=s.trackedPointers[l];o&&!d&&(d=s.trackedPointers[l]=new InteractionTrackingData(l)),d!==void 0&&(o&&this.mouseOverRenderer?(d.over||(d.over=!0,this.delayDispatchEvent(s,"pointerover",n),c&&this.delayDispatchEvent(s,"mouseover",n)),c&&this.cursor===null&&(this.cursor=s.cursor)):d.over&&(d.over=!1,this.dispatchEvent(s,"pointerout",this.eventData),c&&this.dispatchEvent(s,"mouseout",n),d.none&&delete s.trackedPointers[l]))},r.prototype.onPointerOver=function(n){var s=this.normalizeToPointerData(n),o=s[0],h=this.getInteractionDataForPointerId(o),l=this.configureInteractionEventForDOMEvent(this.eventData,o,h);l.data.originalEvent=o,o.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",l),(o.pointerType==="mouse"||o.pointerType==="pen")&&this.emit("mouseover",l)},r.prototype.getInteractionDataForPointerId=function(n){var s=n.pointerId,o;return s===MOUSE_POINTER_ID||n.pointerType==="mouse"?o=this.mouse:this.activeInteractionData[s]?o=this.activeInteractionData[s]:(o=this.interactionDataPool.pop()||new InteractionData,o.identifier=s,this.activeInteractionData[s]=o),o.copyEvent(n),o},r.prototype.releaseInteractionDataForPointerId=function(n){var s=this.activeInteractionData[n];s&&(delete this.activeInteractionData[n],s.reset(),this.interactionDataPool.push(s))},r.prototype.configureInteractionEventForDOMEvent=function(n,s,o){return n.data=o,this.mapPositionToPoint(o.global,s.clientX,s.clientY),s.pointerType==="touch"&&(s.globalX=o.global.x,s.globalY=o.global.y),o.originalEvent=s,n.reset(),n},r.prototype.normalizeToPointerData=function(n){var s=[];if(this.supportsTouchEvents&&n instanceof TouchEvent)for(var o=0,h=n.changedTouches.length;o<h;o++){var l=n.changedTouches[o];typeof l.button=="undefined"&&(l.button=n.touches.length?1:0),typeof l.buttons=="undefined"&&(l.buttons=n.touches.length?1:0),typeof l.isPrimary=="undefined"&&(l.isPrimary=n.touches.length===1&&n.type==="touchstart"),typeof l.width=="undefined"&&(l.width=l.radiusX||1),typeof l.height=="undefined"&&(l.height=l.radiusY||1),typeof l.tiltX=="undefined"&&(l.tiltX=0),typeof l.tiltY=="undefined"&&(l.tiltY=0),typeof l.pointerType=="undefined"&&(l.pointerType="touch"),typeof l.pointerId=="undefined"&&(l.pointerId=l.identifier||0),typeof l.pressure=="undefined"&&(l.pressure=l.force||.5),typeof l.twist=="undefined"&&(l.twist=0),typeof l.tangentialPressure=="undefined"&&(l.tangentialPressure=0),typeof l.layerX=="undefined"&&(l.layerX=l.offsetX=l.clientX),typeof l.layerY=="undefined"&&(l.layerY=l.offsetY=l.clientY),l.isNormalized=!0,s.push(l)}else if(!globalThis.MouseEvent||n instanceof MouseEvent&&(!this.supportsPointerEvents||!(n instanceof globalThis.PointerEvent))){var c=n;typeof c.isPrimary=="undefined"&&(c.isPrimary=!0),typeof c.width=="undefined"&&(c.width=1),typeof c.height=="undefined"&&(c.height=1),typeof c.tiltX=="undefined"&&(c.tiltX=0),typeof c.tiltY=="undefined"&&(c.tiltY=0),typeof c.pointerType=="undefined"&&(c.pointerType="mouse"),typeof c.pointerId=="undefined"&&(c.pointerId=MOUSE_POINTER_ID),typeof c.pressure=="undefined"&&(c.pressure=.5),typeof c.twist=="undefined"&&(c.twist=0),typeof c.tangentialPressure=="undefined"&&(c.tangentialPressure=0),c.isNormalized=!0,s.push(c)}else s.push(n);return s},r.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},r}(EventEmitter);/*!
 * @pixi/runner - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Runner$1=function(){function t(r){this.items=[],this._name=r,this._aliasCount=0}return t.prototype.emit=function(r,n,s,o,h,l,c,d){if(arguments.length>8)throw new Error("max arguments reached");var v=this,g=v.name,m=v.items;this._aliasCount++;for(var _=0,y=m.length;_<y;_++)m[_][g](r,n,s,o,h,l,c,d);return m===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(r){return r[this._name]&&(this.ensureNonAliasedItems(),this.remove(r),this.items.push(r)),this},t.prototype.remove=function(r){var n=this.items.indexOf(r);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this},t.prototype.contains=function(r){return this.items.indexOf(r)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(Runner$1.prototype,{dispatch:{value:Runner$1.prototype.emit},run:{value:Runner$1.prototype.emit}});/*!
 * @pixi/core - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings$1.PREFER_ENV=isMobile$2.any?ENV$4.WEBGL:ENV$4.WEBGL2;settings$1.STRICT_TEXTURE_CACHE=!1;var INSTALLED$1=[];function autoDetectResource$1(t,r){if(!t)return null;var n="";if(typeof t=="string"){var s=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);s&&(n=s[1].toLowerCase())}for(var o=INSTALLED$1.length-1;o>=0;--o){var h=INSTALLED$1[o];if(h.test&&h.test(t,n))return new h(t,r)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$l=function(t,r){return extendStatics$l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$l(t,r)};function __extends$l(t,r){extendStatics$l(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var __assign$1=function(){return __assign$1=Object.assign||function(r){for(var n=arguments,s,o=1,h=arguments.length;o<h;o++){s=n[o];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=s[l])}return r},__assign$1.apply(this,arguments)};function __rest$1(t,r){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)r.indexOf(s[o])<0&&(n[s[o]]=t[s[o]]);return n}var Resource$1=function(){function t(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this._width=r,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new Runner$1("setRealSize"),this.onUpdate=new Runner$1("update"),this.onError=new Runner$1("onError")}return t.prototype.bind=function(r){this.onResize.add(r),this.onUpdate.add(r),this.onError.add(r),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(r){this.onResize.remove(r),this.onUpdate.remove(r),this.onError.remove(r)},t.prototype.resize=function(r,n){(r!==this._width||n!==this._height)&&(this._width=r,this._height=n,this.onResize.emit(r,n))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(r,n,s){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(r,n){return!1},t}(),BufferResource$1=function(t){__extends$l(r,t);function r(n,s){var o=this,h=s||{},l=h.width,c=h.height;if(!l||!c)throw new Error("BufferResource width or height invalid");return o=t.call(this,l,c)||this,o.data=n,o}return r.prototype.upload=function(n,s,o){var h=n.gl;h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.alphaMode===ALPHA_MODES$4.UNPACK);var l=s.realWidth,c=s.realHeight;return o.width===l&&o.height===c?h.texSubImage2D(s.target,0,0,0,l,c,s.format,o.type,this.data):(o.width=l,o.height=c,h.texImage2D(s.target,0,o.internalFormat,l,c,0,s.format,o.type,this.data)),!0},r.prototype.dispose=function(){this.data=null},r.test=function(n){return n instanceof Float32Array||n instanceof Uint8Array||n instanceof Uint32Array},r}(Resource$1),defaultBufferOptions$1={scaleMode:SCALE_MODES$4.NEAREST,format:FORMATS$4.RGBA,alphaMode:ALPHA_MODES$4.NPM},BaseTexture$1=function(t){__extends$l(r,t);function r(n,s){n===void 0&&(n=null),s===void 0&&(s=null);var o=t.call(this)||this;s=s||{};var h=s.alphaMode,l=s.mipmap,c=s.anisotropicLevel,d=s.scaleMode,v=s.width,g=s.height,m=s.wrapMode,_=s.format,y=s.type,B=s.target,w=s.resolution,C=s.resourceOptions;return n&&!(n instanceof Resource$1)&&(n=autoDetectResource$1(n,C),n.internal=!0),o.resolution=w||settings$1.RESOLUTION,o.width=Math.round((v||0)*o.resolution)/o.resolution,o.height=Math.round((g||0)*o.resolution)/o.resolution,o._mipmap=l!==void 0?l:settings$1.MIPMAP_TEXTURES,o.anisotropicLevel=c!==void 0?c:settings$1.ANISOTROPIC_LEVEL,o._wrapMode=m||settings$1.WRAP_MODE,o._scaleMode=d!==void 0?d:settings$1.SCALE_MODE,o.format=_||FORMATS$4.RGBA,o.type=y||TYPES$4.UNSIGNED_BYTE,o.target=B||TARGETS$4.TEXTURE_2D,o.alphaMode=h!==void 0?h:ALPHA_MODES$4.UNPACK,o.uid=uid$1(),o.touched=0,o.isPowerOfTwo=!1,o._refreshPOT(),o._glTextures={},o.dirtyId=0,o.dirtyStyleId=0,o.cacheId=null,o.valid=v>0&&g>0,o.textureCacheIds=[],o.destroyed=!1,o.resource=null,o._batchEnabled=0,o._batchLocation=0,o.parentTextureArray=null,o.setResource(n),o}return Object.defineProperty(r.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mipmap",{get:function(){return this._mipmap},set:function(n){this._mipmap!==n&&(this._mipmap=n,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(n){this._scaleMode!==n&&(this._scaleMode=n,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(n){this._wrapMode!==n&&(this._wrapMode=n,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),r.prototype.setStyle=function(n,s){var o;return n!==void 0&&n!==this.scaleMode&&(this.scaleMode=n,o=!0),s!==void 0&&s!==this.mipmap&&(this.mipmap=s,o=!0),o&&this.dirtyStyleId++,this},r.prototype.setSize=function(n,s,o){return o=o||this.resolution,this.setRealSize(n*o,s*o,o)},r.prototype.setRealSize=function(n,s,o){return this.resolution=o||this.resolution,this.width=Math.round(n)/this.resolution,this.height=Math.round(s)/this.resolution,this._refreshPOT(),this.update(),this},r.prototype._refreshPOT=function(){this.isPowerOfTwo=isPow2$1(this.realWidth)&&isPow2$1(this.realHeight)},r.prototype.setResolution=function(n){var s=this.resolution;return s===n?this:(this.resolution=n,this.valid&&(this.width=Math.round(this.width*s)/n,this.height=Math.round(this.height*s)/n,this.emit("update",this)),this._refreshPOT(),this)},r.prototype.setResource=function(n){if(this.resource===n)return this;if(this.resource)throw new Error("Resource can be set only once");return n.bind(this),this.resource=n,this},r.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},r.prototype.onError=function(n){this.emit("error",this,n)},r.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete BaseTextureCache$1[this.cacheId],delete TextureCache$1[this.cacheId],this.cacheId=null),this.dispose(),r.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},r.prototype.dispose=function(){this.emit("dispose",this)},r.prototype.castToBaseTexture=function(){return this},r.from=function(n,s,o){o===void 0&&(o=settings$1.STRICT_TEXTURE_CACHE);var h=typeof n=="string",l=null;if(h)l=n;else{if(!n._pixiId){var c=s&&s.pixiIdPrefix||"pixiid";n._pixiId=c+"_"+uid$1()}l=n._pixiId}var d=BaseTextureCache$1[l];if(h&&o&&!d)throw new Error('The cacheId "'+l+'" does not exist in BaseTextureCache.');return d||(d=new r(n,s),d.cacheId=l,r.addToCache(d,l)),d},r.fromBuffer=function(n,s,o,h){n=n||new Float32Array(s*o*4);var l=new BufferResource$1(n,{width:s,height:o}),c=n instanceof Float32Array?TYPES$4.FLOAT:TYPES$4.UNSIGNED_BYTE;return new r(l,Object.assign(defaultBufferOptions$1,h||{width:s,height:o,type:c}))},r.addToCache=function(n,s){s&&(n.textureCacheIds.indexOf(s)===-1&&n.textureCacheIds.push(s),BaseTextureCache$1[s]&&console.warn("BaseTexture added to the cache with an id ["+s+"] that already had an entry"),BaseTextureCache$1[s]=n)},r.removeFromCache=function(n){if(typeof n=="string"){var s=BaseTextureCache$1[n];if(s){var o=s.textureCacheIds.indexOf(n);return o>-1&&s.textureCacheIds.splice(o,1),delete BaseTextureCache$1[n],s}}else if(n&&n.textureCacheIds){for(var h=0;h<n.textureCacheIds.length;++h)delete BaseTextureCache$1[n.textureCacheIds[h]];return n.textureCacheIds.length=0,n}return null},r._globalBatch=0,r}(EventEmitter),AbstractMultiResource$1=function(t){__extends$l(r,t);function r(n,s){var o=this,h=s||{},l=h.width,c=h.height;o=t.call(this,l,c)||this,o.items=[],o.itemDirtyIds=[];for(var d=0;d<n;d++){var v=new BaseTexture$1;o.items.push(v),o.itemDirtyIds.push(-2)}return o.length=n,o._load=null,o.baseTexture=null,o}return r.prototype.initFromArray=function(n,s){for(var o=0;o<this.length;o++)!n[o]||(n[o].castToBaseTexture?this.addBaseTextureAt(n[o].castToBaseTexture(),o):n[o]instanceof Resource$1?this.addResourceAt(n[o],o):this.addResourceAt(autoDetectResource$1(n[o],s),o))},r.prototype.dispose=function(){for(var n=0,s=this.length;n<s;n++)this.items[n].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},r.prototype.addResourceAt=function(n,s){if(!this.items[s])throw new Error("Index "+s+" is out of bounds");return n.valid&&!this.valid&&this.resize(n.width,n.height),this.items[s].setResource(n),this},r.prototype.bind=function(n){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,n);for(var s=0;s<this.length;s++)this.items[s].parentTextureArray=n,this.items[s].on("update",n.update,n)},r.prototype.unbind=function(n){t.prototype.unbind.call(this,n);for(var s=0;s<this.length;s++)this.items[s].parentTextureArray=null,this.items[s].off("update",n.update,n)},r.prototype.load=function(){var n=this;if(this._load)return this._load;var s=this.items.map(function(h){return h.resource}).filter(function(h){return h}),o=s.map(function(h){return h.load()});return this._load=Promise.all(o).then(function(){var h=n.items[0],l=h.realWidth,c=h.realHeight;return n.resize(l,c),Promise.resolve(n)}),this._load},r}(Resource$1),ArrayResource$1=function(t){__extends$l(r,t);function r(n,s){var o=this,h=s||{},l=h.width,c=h.height,d,v;return Array.isArray(n)?(d=n,v=n.length):v=n,o=t.call(this,v,{width:l,height:c})||this,d&&o.initFromArray(d,s),o}return r.prototype.addBaseTextureAt=function(n,s){if(n.resource)this.addResourceAt(n.resource,s);else throw new Error("ArrayResource does not support RenderTexture");return this},r.prototype.bind=function(n){t.prototype.bind.call(this,n),n.target=TARGETS$4.TEXTURE_2D_ARRAY},r.prototype.upload=function(n,s,o){var h=this,l=h.length,c=h.itemDirtyIds,d=h.items,v=n.gl;o.dirtyId<0&&v.texImage3D(v.TEXTURE_2D_ARRAY,0,o.internalFormat,this._width,this._height,l,0,s.format,o.type,null);for(var g=0;g<l;g++){var m=d[g];c[g]<m.dirtyId&&(c[g]=m.dirtyId,m.valid&&v.texSubImage3D(v.TEXTURE_2D_ARRAY,0,0,0,g,m.resource.width,m.resource.height,1,s.format,o.type,m.resource.source))}return!0},r}(AbstractMultiResource$1),BaseImageResource$1=function(t){__extends$l(r,t);function r(n){var s=this,o=n,h=o.naturalWidth||o.videoWidth||o.width,l=o.naturalHeight||o.videoHeight||o.height;return s=t.call(this,h,l)||this,s.source=n,s.noSubImage=!1,s}return r.crossOrigin=function(n,s,o){o===void 0&&s.indexOf("data:")!==0?n.crossOrigin=determineCrossOrigin$1(s):o!==!1&&(n.crossOrigin=typeof o=="string"?o:"anonymous")},r.prototype.upload=function(n,s,o,h){var l=n.gl,c=s.realWidth,d=s.realHeight;if(h=h||this.source,h instanceof HTMLImageElement){if(!h.complete||h.naturalWidth===0)return!1}else if(h instanceof HTMLVideoElement&&h.readyState<=1)return!1;return l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.alphaMode===ALPHA_MODES$4.UNPACK),!this.noSubImage&&s.target===l.TEXTURE_2D&&o.width===c&&o.height===d?l.texSubImage2D(l.TEXTURE_2D,0,0,0,s.format,o.type,h):(o.width=c,o.height=d,l.texImage2D(s.target,0,o.internalFormat,s.format,o.type,h)),!0},r.prototype.update=function(){if(!this.destroyed){var n=this.source,s=n.naturalWidth||n.videoWidth||n.width,o=n.naturalHeight||n.videoHeight||n.height;this.resize(s,o),t.prototype.update.call(this)}},r.prototype.dispose=function(){this.source=null},r}(Resource$1),CanvasResource$1=function(t){__extends$l(r,t);function r(n){return t.call(this,n)||this}return r.test=function(n){var s=globalThis.OffscreenCanvas;return s&&n instanceof s?!0:globalThis.HTMLCanvasElement&&n instanceof HTMLCanvasElement},r}(BaseImageResource$1),CubeResource$1=function(t){__extends$l(r,t);function r(n,s){var o=this,h=s||{},l=h.width,c=h.height,d=h.autoLoad,v=h.linkBaseTexture;if(n&&n.length!==r.SIDES)throw new Error("Invalid length. Got "+n.length+", expected 6");o=t.call(this,6,{width:l,height:c})||this;for(var g=0;g<r.SIDES;g++)o.items[g].target=TARGETS$4.TEXTURE_CUBE_MAP_POSITIVE_X+g;return o.linkBaseTexture=v!==!1,n&&o.initFromArray(n,s),d!==!1&&o.load(),o}return r.prototype.bind=function(n){t.prototype.bind.call(this,n),n.target=TARGETS$4.TEXTURE_CUBE_MAP},r.prototype.addBaseTextureAt=function(n,s,o){if(!this.items[s])throw new Error("Index "+s+" is out of bounds");if(!this.linkBaseTexture||n.parentTextureArray||Object.keys(n._glTextures).length>0)if(n.resource)this.addResourceAt(n.resource,s);else throw new Error("CubeResource does not support copying of renderTexture.");else n.target=TARGETS$4.TEXTURE_CUBE_MAP_POSITIVE_X+s,n.parentTextureArray=this.baseTexture,this.items[s]=n;return n.valid&&!this.valid&&this.resize(n.realWidth,n.realHeight),this.items[s]=n,this},r.prototype.upload=function(n,s,o){for(var h=this.itemDirtyIds,l=0;l<r.SIDES;l++){var c=this.items[l];h[l]<c.dirtyId&&(c.valid&&c.resource?(c.resource.upload(n,c,o),h[l]=c.dirtyId):h[l]<-1&&(n.gl.texImage2D(c.target,0,o.internalFormat,s.realWidth,s.realHeight,0,s.format,o.type,null),h[l]=-1))}return!0},r.test=function(n){return Array.isArray(n)&&n.length===r.SIDES},r.SIDES=6,r}(AbstractMultiResource$1),ImageResource$1=function(t){__extends$l(r,t);function r(n,s){var o=this;if(s=s||{},!(n instanceof HTMLImageElement)){var h=new Image;BaseImageResource$1.crossOrigin(h,n,s.crossorigin),h.src=n,n=h}return o=t.call(this,n)||this,!n.complete&&!!o._width&&!!o._height&&(o._width=0,o._height=0),o.url=n.src,o._process=null,o.preserveBitmap=!1,o.createBitmap=(s.createBitmap!==void 0?s.createBitmap:settings$1.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,o.alphaMode=typeof s.alphaMode=="number"?s.alphaMode:null,o.bitmap=null,o._load=null,s.autoLoad!==!1&&o.load(),o}return r.prototype.load=function(n){var s=this;return this._load?this._load:(n!==void 0&&(this.createBitmap=n),this._load=new Promise(function(o,h){var l=s.source;s.url=l.src;var c=function(){s.destroyed||(l.onload=null,l.onerror=null,s.resize(l.width,l.height),s._load=null,s.createBitmap?o(s.process()):o(s))};l.complete&&l.src?c():(l.onload=c,l.onerror=function(d){h(d),s.onError.emit(d)})}),this._load)},r.prototype.process=function(){var n=this,s=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var o=globalThis.createImageBitmap,h=!s.crossOrigin||s.crossOrigin==="anonymous";return this._process=fetch(s.src,{mode:h?"cors":"no-cors"}).then(function(l){return l.blob()}).then(function(l){return o(l,0,0,s.width,s.height,{premultiplyAlpha:n.alphaMode===ALPHA_MODES$4.UNPACK?"premultiply":"none"})}).then(function(l){return n.destroyed?Promise.reject():(n.bitmap=l,n.update(),n._process=null,Promise.resolve(n))}),this._process},r.prototype.upload=function(n,s,o){if(typeof this.alphaMode=="number"&&(s.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,n,s,o);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,n,s,o,this.bitmap),!this.preserveBitmap){var h=!0,l=s._glTextures;for(var c in l){var d=l[c];if(d!==o&&d.dirtyId!==s.dirtyId){h=!1;break}}h&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},r.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},r.test=function(n){return typeof n=="string"||n instanceof HTMLImageElement},r}(BaseImageResource$1),SVGResource$1=function(t){__extends$l(r,t);function r(n,s){var o=this;return s=s||{},o=t.call(this,document.createElement("canvas"))||this,o._width=0,o._height=0,o.svg=n,o.scale=s.scale||1,o._overrideWidth=s.width,o._overrideHeight=s.height,o._resolve=null,o._crossorigin=s.crossorigin,o._load=null,s.autoLoad!==!1&&o.load(),o}return r.prototype.load=function(){var n=this;return this._load?this._load:(this._load=new Promise(function(s){if(n._resolve=function(){n.resize(n.source.width,n.source.height),s(n)},r.SVG_XML.test(n.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");n.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(n.svg)))}n._loadSvg()}),this._load)},r.prototype._loadSvg=function(){var n=this,s=new Image;BaseImageResource$1.crossOrigin(s,this.svg,this._crossorigin),s.src=this.svg,s.onerror=function(o){!n._resolve||(s.onerror=null,n.onError.emit(o))},s.onload=function(){if(!!n._resolve){var o=s.width,h=s.height;if(!o||!h)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var l=o*n.scale,c=h*n.scale;(n._overrideWidth||n._overrideHeight)&&(l=n._overrideWidth||n._overrideHeight/h*o,c=n._overrideHeight||n._overrideWidth/o*h),l=Math.round(l),c=Math.round(c);var d=n.source;d.width=l,d.height=c,d._pixiId="canvas_"+uid$1(),d.getContext("2d").drawImage(s,0,0,o,h,0,0,l,c),n._resolve(),n._resolve=null}}},r.getSize=function(n){var s=r.SVG_SIZE.exec(n),o={};return s&&(o[s[1]]=Math.round(parseFloat(s[3])),o[s[5]]=Math.round(parseFloat(s[7]))),o},r.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},r.test=function(n,s){return s==="svg"||typeof n=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(n)||typeof n=="string"&&r.SVG_XML.test(n)},r.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,r.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,r}(BaseImageResource$1),VideoResource$1=function(t){__extends$l(r,t);function r(n,s){var o=this;if(s=s||{},!(n instanceof HTMLVideoElement)){var h=document.createElement("video");h.setAttribute("preload","auto"),h.setAttribute("webkit-playsinline",""),h.setAttribute("playsinline",""),typeof n=="string"&&(n=[n]);var l=n[0].src||n[0];BaseImageResource$1.crossOrigin(h,l,s.crossorigin);for(var c=0;c<n.length;++c){var d=document.createElement("source"),v=n[c],g=v.src,m=v.mime;g=g||n[c];var _=g.split("?").shift().toLowerCase(),y=_.slice(_.lastIndexOf(".")+1);m=m||r.MIME_TYPES[y]||"video/"+y,d.src=g,d.type=m,h.appendChild(d)}n=h}return o=t.call(this,n)||this,o.noSubImage=!0,o._autoUpdate=!0,o._isConnectedToTicker=!1,o._updateFPS=s.updateFPS||0,o._msToNextUpdate=0,o.autoPlay=s.autoPlay!==!1,o._load=null,o._resolve=null,o._onCanPlay=o._onCanPlay.bind(o),o._onError=o._onError.bind(o),s.autoLoad!==!1&&o.load(),o}return r.prototype.update=function(n){if(!this.destroyed){var s=Ticker$1.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-s),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},r.prototype.load=function(){var n=this;if(this._load)return this._load;var s=this.source;return(s.readyState===s.HAVE_ENOUGH_DATA||s.readyState===s.HAVE_FUTURE_DATA)&&s.width&&s.height&&(s.complete=!0),s.addEventListener("play",this._onPlayStart.bind(this)),s.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(s.addEventListener("canplay",this._onCanPlay),s.addEventListener("canplaythrough",this._onCanPlay),s.addEventListener("error",this._onError,!0)),this._load=new Promise(function(o){n.valid?o(n):(n._resolve=o,s.load())}),this._load},r.prototype._onError=function(n){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(n)},r.prototype._isSourcePlaying=function(){var n=this.source;return n.currentTime>0&&n.paused===!1&&n.ended===!1&&n.readyState>2},r.prototype._isSourceReady=function(){var n=this.source;return n.readyState===3||n.readyState===4},r.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ticker$1.shared.add(this.update,this),this._isConnectedToTicker=!0)},r.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Ticker$1.shared.remove(this.update,this),this._isConnectedToTicker=!1)},r.prototype._onCanPlay=function(){var n=this.source;n.removeEventListener("canplay",this._onCanPlay),n.removeEventListener("canplaythrough",this._onCanPlay);var s=this.valid;this.resize(n.videoWidth,n.videoHeight),!s&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&n.play()},r.prototype.dispose=function(){this._isConnectedToTicker&&(Ticker$1.shared.remove(this.update,this),this._isConnectedToTicker=!1);var n=this.source;n&&(n.removeEventListener("error",this._onError,!0),n.pause(),n.src="",n.load()),t.prototype.dispose.call(this)},Object.defineProperty(r.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(n){n!==this._autoUpdate&&(this._autoUpdate=n,!this._autoUpdate&&this._isConnectedToTicker?(Ticker$1.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ticker$1.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(n){n!==this._updateFPS&&(this._updateFPS=n)},enumerable:!1,configurable:!0}),r.test=function(n,s){return globalThis.HTMLVideoElement&&n instanceof HTMLVideoElement||r.TYPES.indexOf(s)>-1},r.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],r.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},r}(BaseImageResource$1),ImageBitmapResource$1=function(t){__extends$l(r,t);function r(n){return t.call(this,n)||this}return r.test=function(n){return!!globalThis.createImageBitmap&&n instanceof ImageBitmap},r}(BaseImageResource$1);INSTALLED$1.push(ImageResource$1,ImageBitmapResource$1,CanvasResource$1,VideoResource$1,SVGResource$1,BufferResource$1,CubeResource$1,ArrayResource$1);var _resources$1={__proto__:null,Resource:Resource$1,BaseImageResource:BaseImageResource$1,INSTALLED:INSTALLED$1,autoDetectResource:autoDetectResource$1,AbstractMultiResource:AbstractMultiResource$1,ArrayResource:ArrayResource$1,BufferResource:BufferResource$1,CanvasResource:CanvasResource$1,CubeResource:CubeResource$1,ImageResource:ImageResource$1,SVGResource:SVGResource$1,VideoResource:VideoResource$1,ImageBitmapResource:ImageBitmapResource$1},DepthResource$1=function(t){__extends$l(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.upload=function(n,s,o){var h=n.gl;h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.alphaMode===ALPHA_MODES$4.UNPACK);var l=s.realWidth,c=s.realHeight;return o.width===l&&o.height===c?h.texSubImage2D(s.target,0,0,0,l,c,s.format,o.type,this.data):(o.width=l,o.height=c,h.texImage2D(s.target,0,o.internalFormat,l,c,0,s.format,o.type,this.data)),!0},r}(BufferResource$1),Framebuffer$1=function(){function t(r,n){this.width=Math.round(r||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Runner$1("disposeFramebuffer"),this.multisample=MSAA_QUALITY$4.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(r,n){return r===void 0&&(r=0),this.colorTextures[r]=n||new BaseTexture$1(null,{scaleMode:SCALE_MODES$4.NEAREST,resolution:1,mipmap:MIPMAP_MODES$4.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(r){return this.depthTexture=r||new BaseTexture$1(new DepthResource$1(null,{width:this.width,height:this.height}),{scaleMode:SCALE_MODES$4.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:MIPMAP_MODES$4.OFF,format:FORMATS$4.DEPTH_COMPONENT,type:TYPES$4.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(r,n){if(r=Math.round(r),n=Math.round(n),!(r===this.width&&n===this.height)){this.width=r,this.height=n,this.dirtyId++,this.dirtySize++;for(var s=0;s<this.colorTextures.length;s++){var o=this.colorTextures[s],h=o.resolution;o.setSize(r/h,n/h)}if(this.depthTexture){var h=this.depthTexture.resolution;this.depthTexture.setSize(r/h,n/h)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),BaseRenderTexture$1=function(t){__extends$l(r,t);function r(n){n===void 0&&(n={});var s=this;if(typeof n=="number"){var o=arguments[0],h=arguments[1],l=arguments[2],c=arguments[3];n={width:o,height:h,scaleMode:l,resolution:c}}return n.width=n.width||100,n.height=n.height||100,n.multisample=n.multisample!==void 0?n.multisample:MSAA_QUALITY$4.NONE,s=t.call(this,null,n)||this,s.mipmap=MIPMAP_MODES$4.OFF,s.valid=!0,s.clearColor=[0,0,0,0],s.framebuffer=new Framebuffer$1(s.realWidth,s.realHeight).addColorTexture(0,s),s.framebuffer.multisample=n.multisample,s.maskStack=[],s.filterStack=[{}],s}return r.prototype.resize=function(n,s){this.framebuffer.resize(n*this.resolution,s*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},r.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},r.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},r}(BaseTexture$1),TextureUvs$1=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(r,n,s){var o=n.width,h=n.height;if(s){var l=r.width/2/o,c=r.height/2/h,d=r.x/o+l,v=r.y/h+c;s=groupD8$1.add(s,groupD8$1.NW),this.x0=d+l*groupD8$1.uX(s),this.y0=v+c*groupD8$1.uY(s),s=groupD8$1.add(s,2),this.x1=d+l*groupD8$1.uX(s),this.y1=v+c*groupD8$1.uY(s),s=groupD8$1.add(s,2),this.x2=d+l*groupD8$1.uX(s),this.y2=v+c*groupD8$1.uY(s),s=groupD8$1.add(s,2),this.x3=d+l*groupD8$1.uX(s),this.y3=v+c*groupD8$1.uY(s)}else this.x0=r.x/o,this.y0=r.y/h,this.x1=(r.x+r.width)/o,this.y1=r.y/h,this.x2=(r.x+r.width)/o,this.y2=(r.y+r.height)/h,this.x3=r.x/o,this.y3=(r.y+r.height)/h;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),DEFAULT_UVS$1=new TextureUvs$1;function removeAllHandlers$1(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var Texture$1=function(t){__extends$l(r,t);function r(n,s,o,h,l,c){var d=t.call(this)||this;if(d.noFrame=!1,s||(d.noFrame=!0,s=new Rectangle$1(0,0,1,1)),n instanceof r&&(n=n.baseTexture),d.baseTexture=n,d._frame=s,d.trim=h,d.valid=!1,d._uvs=DEFAULT_UVS$1,d.uvMatrix=null,d.orig=o||s,d._rotate=Number(l||0),l===!0)d._rotate=2;else if(d._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return d.defaultAnchor=c?new Point$1(c.x,c.y):new Point$1(0,0),d._updateID=0,d.textureCacheIds=[],n.valid?d.noFrame?n.valid&&d.onBaseTextureUpdated(n):d.frame=s:n.once("loaded",d.onBaseTextureUpdated,d),d.noFrame&&n.on("update",d.onBaseTextureUpdated,d),d}return r.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},r.prototype.onBaseTextureUpdated=function(n){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=n.width,this._frame.height=n.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},r.prototype.destroy=function(n){if(this.baseTexture){if(n){var s=this.baseTexture.resource;s&&s.url&&TextureCache$1[s.url]&&r.removeFromCache(s.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,r.removeFromCache(this),this.textureCacheIds=null},r.prototype.clone=function(){var n=this._frame.clone(),s=this._frame===this.orig?n:this.orig.clone(),o=new r(this.baseTexture,!this.noFrame&&n,s,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(o._frame=n),o},r.prototype.updateUvs=function(){this._uvs===DEFAULT_UVS$1&&(this._uvs=new TextureUvs$1),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},r.from=function(n,s,o){s===void 0&&(s={}),o===void 0&&(o=settings$1.STRICT_TEXTURE_CACHE);var h=typeof n=="string",l=null;if(h)l=n;else if(n instanceof BaseTexture$1){if(!n.cacheId){var c=s&&s.pixiIdPrefix||"pixiid";n.cacheId=c+"-"+uid$1(),BaseTexture$1.addToCache(n,n.cacheId)}l=n.cacheId}else{if(!n._pixiId){var c=s&&s.pixiIdPrefix||"pixiid";n._pixiId=c+"_"+uid$1()}l=n._pixiId}var d=TextureCache$1[l];if(h&&o&&!d)throw new Error('The cacheId "'+l+'" does not exist in TextureCache.');return!d&&!(n instanceof BaseTexture$1)?(s.resolution||(s.resolution=getResolutionOfUrl$1(n)),d=new r(new BaseTexture$1(n,s)),d.baseTexture.cacheId=l,BaseTexture$1.addToCache(d.baseTexture,l),r.addToCache(d,l)):!d&&n instanceof BaseTexture$1&&(d=new r(n),r.addToCache(d,l)),d},r.fromURL=function(n,s){var o=Object.assign({autoLoad:!1},s==null?void 0:s.resourceOptions),h=r.from(n,Object.assign({resourceOptions:o},s),!1),l=h.baseTexture.resource;return h.baseTexture.valid?Promise.resolve(h):l.load().then(function(){return Promise.resolve(h)})},r.fromBuffer=function(n,s,o,h){return new r(BaseTexture$1.fromBuffer(n,s,o,h))},r.fromLoader=function(n,s,o,h){var l=new BaseTexture$1(n,Object.assign({scaleMode:settings$1.SCALE_MODE,resolution:getResolutionOfUrl$1(s)},h)),c=l.resource;c instanceof ImageResource$1&&(c.url=s);var d=new r(l);return o||(o=s),BaseTexture$1.addToCache(d.baseTexture,o),r.addToCache(d,o),o!==s&&(BaseTexture$1.addToCache(d.baseTexture,s),r.addToCache(d,s)),d.baseTexture.valid?Promise.resolve(d):new Promise(function(v){d.baseTexture.once("loaded",function(){return v(d)})})},r.addToCache=function(n,s){s&&(n.textureCacheIds.indexOf(s)===-1&&n.textureCacheIds.push(s),TextureCache$1[s]&&console.warn("Texture added to the cache with an id ["+s+"] that already had an entry"),TextureCache$1[s]=n)},r.removeFromCache=function(n){if(typeof n=="string"){var s=TextureCache$1[n];if(s){var o=s.textureCacheIds.indexOf(n);return o>-1&&s.textureCacheIds.splice(o,1),delete TextureCache$1[n],s}}else if(n&&n.textureCacheIds){for(var h=0;h<n.textureCacheIds.length;++h)TextureCache$1[n.textureCacheIds[h]]===n&&delete TextureCache$1[n.textureCacheIds[h]];return n.textureCacheIds.length=0,n}return null},Object.defineProperty(r.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"frame",{get:function(){return this._frame},set:function(n){this._frame=n,this.noFrame=!1;var s=n.x,o=n.y,h=n.width,l=n.height,c=s+h>this.baseTexture.width,d=o+l>this.baseTexture.height;if(c||d){var v=c&&d?"and":"or",g="X: "+s+" + "+h+" = "+(s+h)+" > "+this.baseTexture.width,m="Y: "+o+" + "+l+" = "+(o+l)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(g+" "+v+" "+m))}this.valid=h&&l&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=n),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rotate",{get:function(){return this._rotate},set:function(n){this._rotate=n,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),r.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(r,"EMPTY",{get:function(){return r._EMPTY||(r._EMPTY=new r(new BaseTexture$1),removeAllHandlers$1(r._EMPTY),removeAllHandlers$1(r._EMPTY.baseTexture)),r._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(r,"WHITE",{get:function(){if(!r._WHITE){var n=document.createElement("canvas"),s=n.getContext("2d");n.width=16,n.height=16,s.fillStyle="white",s.fillRect(0,0,16,16),r._WHITE=new r(new BaseTexture$1(new CanvasResource$1(n))),removeAllHandlers$1(r._WHITE),removeAllHandlers$1(r._WHITE.baseTexture)}return r._WHITE},enumerable:!1,configurable:!0}),r}(EventEmitter),RenderTexture$1=function(t){__extends$l(r,t);function r(n,s){var o=t.call(this,n,s)||this;return o.valid=!0,o.filterFrame=null,o.filterPoolKey=null,o.updateUvs(),o}return Object.defineProperty(r.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(n){this.framebuffer.multisample=n},enumerable:!1,configurable:!0}),r.prototype.resize=function(n,s,o){o===void 0&&(o=!0);var h=this.baseTexture.resolution,l=Math.round(n*h)/h,c=Math.round(s*h)/h;this.valid=l>0&&c>0,this._frame.width=this.orig.width=l,this._frame.height=this.orig.height=c,o&&this.baseTexture.resize(l,c),this.updateUvs()},r.prototype.setResolution=function(n){var s=this.baseTexture;s.resolution!==n&&(s.setResolution(n),this.resize(s.width,s.height,!1))},r.create=function(n){for(var s=arguments,o=[],h=1;h<arguments.length;h++)o[h-1]=s[h];return typeof n=="number"&&(deprecation$1("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),n={width:n,height:o[0],scaleMode:o[1],resolution:o[2]}),new r(new BaseRenderTexture$1(n))},r}(Texture$1),RenderTexturePool$1=function(){function t(r){this.texturePool={},this.textureOptions=r||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(r,n,s){s===void 0&&(s=MSAA_QUALITY$4.NONE);var o=new BaseRenderTexture$1(Object.assign({width:r,height:n,resolution:1,multisample:s},this.textureOptions));return new RenderTexture$1(o)},t.prototype.getOptimalTexture=function(r,n,s,o){s===void 0&&(s=1),o===void 0&&(o=MSAA_QUALITY$4.NONE);var h;r=Math.ceil(r*s-1e-6),n=Math.ceil(n*s-1e-6),!this.enableFullScreen||r!==this._pixelsWidth||n!==this._pixelsHeight?(r=nextPow2$1(r),n=nextPow2$1(n),h=((r&65535)<<16|n&65535)>>>0,o>1&&(h+=o*4294967296)):h=o>1?-o:-1,this.texturePool[h]||(this.texturePool[h]=[]);var l=this.texturePool[h].pop();return l||(l=this.createTexture(r,n,o)),l.filterPoolKey=h,l.setResolution(s),l},t.prototype.getFilterTexture=function(r,n,s){var o=this.getOptimalTexture(r.width,r.height,n||r.resolution,s||MSAA_QUALITY$4.NONE);return o.filterFrame=r.filterFrame,o},t.prototype.returnTexture=function(r){var n=r.filterPoolKey;r.filterFrame=null,this.texturePool[n].push(r)},t.prototype.returnFilterTexture=function(r){this.returnTexture(r)},t.prototype.clear=function(r){if(r=r!==!1,r)for(var n in this.texturePool){var s=this.texturePool[n];if(s)for(var o=0;o<s.length;o++)s[o].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(r){if(!(r.width===this._pixelsWidth&&r.height===this._pixelsHeight)){this.enableFullScreen=r.width>0&&r.height>0;for(var n in this.texturePool)if(Number(n)<0){var s=this.texturePool[n];if(s)for(var o=0;o<s.length;o++)s[o].destroy(!0);this.texturePool[n]=[]}this._pixelsWidth=r.width,this._pixelsHeight=r.height}},t.SCREEN_KEY=-1,t}(),Attribute$1=function(){function t(r,n,s,o,h,l,c){n===void 0&&(n=0),s===void 0&&(s=!1),o===void 0&&(o=TYPES$4.FLOAT),this.buffer=r,this.size=n,this.normalized=s,this.type=o,this.stride=h,this.start=l,this.instance=c}return t.prototype.destroy=function(){this.buffer=null},t.from=function(r,n,s,o,h){return new t(r,n,s,o,h)},t}(),UID$4$1=0,Buffer$1=function(){function t(r,n,s){n===void 0&&(n=!0),s===void 0&&(s=!1),this.data=r||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=s,this.static=n,this.id=UID$4$1++,this.disposeRunner=new Runner$1("disposeBuffer")}return t.prototype.update=function(r){r instanceof Array&&(r=new Float32Array(r)),this.data=r||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===BUFFER_TYPE$4.ELEMENT_ARRAY_BUFFER},set:function(r){this.type=r?BUFFER_TYPE$4.ELEMENT_ARRAY_BUFFER:BUFFER_TYPE$4.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(r){return r instanceof Array&&(r=new Float32Array(r)),new t(r)},t}(),map$1$1={Float32Array,Uint32Array,Int32Array,Uint8Array};function interleaveTypedArrays$1(t,r){for(var n=0,s=0,o={},h=0;h<t.length;h++)s+=r[h],n+=t[h].length;for(var l=new ArrayBuffer(n*4),c=null,d=0,h=0;h<t.length;h++){var v=r[h],g=t[h],m=getBufferType$1(g);o[m]||(o[m]=new map$1$1[m](l)),c=o[m];for(var _=0;_<g.length;_++){var y=(_/v|0)*s+d,B=_%v;c[y+B]=g[_]}d+=v}return new Float32Array(l)}var byteSizeMap$1$1={5126:4,5123:2,5121:1},UID$3$1=0,map$2={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Geometry$1=function(){function t(r,n){r===void 0&&(r=[]),n===void 0&&(n={}),this.buffers=r,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=UID$3$1++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Runner$1("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(r,n,s,o,h,l,c,d){if(s===void 0&&(s=0),o===void 0&&(o=!1),d===void 0&&(d=!1),!n)throw new Error("You must pass a buffer when creating an attribute");n instanceof Buffer$1||(n instanceof Array&&(n=new Float32Array(n)),n=new Buffer$1(n));var v=r.split("|");if(v.length>1){for(var g=0;g<v.length;g++)this.addAttribute(v[g],n,s,o,h);return this}var m=this.buffers.indexOf(n);return m===-1&&(this.buffers.push(n),m=this.buffers.length-1),this.attributes[r]=new Attribute$1(m,s,o,h,l,c,d),this.instanced=this.instanced||d,this},t.prototype.getAttribute=function(r){return this.attributes[r]},t.prototype.getBuffer=function(r){return this.buffers[this.getAttribute(r).buffer]},t.prototype.addIndex=function(r){return r instanceof Buffer$1||(r instanceof Array&&(r=new Uint16Array(r)),r=new Buffer$1(r)),r.type=BUFFER_TYPE$4.ELEMENT_ARRAY_BUFFER,this.indexBuffer=r,this.buffers.indexOf(r)===-1&&this.buffers.push(r),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var r=[],n=[],s=new Buffer$1,o;for(o in this.attributes){var h=this.attributes[o],l=this.buffers[h.buffer];r.push(l.data),n.push(h.size*byteSizeMap$1$1[h.type]/4),h.buffer=0}for(s.data=interleaveTypedArrays$1(r,n),o=0;o<this.buffers.length;o++)this.buffers[o]!==this.indexBuffer&&this.buffers[o].destroy();return this.buffers=[s],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var r in this.attributes){var n=this.attributes[r],s=this.buffers[n.buffer];return s.data.length/(n.stride/4||n.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var r=new t,n=0;n<this.buffers.length;n++)r.buffers[n]=new Buffer$1(this.buffers[n].data.slice(0));for(var n in this.attributes){var s=this.attributes[n];r.attributes[n]=new Attribute$1(s.buffer,s.size,s.normalized,s.type,s.stride,s.start,s.instance)}return this.indexBuffer&&(r.indexBuffer=r.buffers[this.buffers.indexOf(this.indexBuffer)],r.indexBuffer.type=BUFFER_TYPE$4.ELEMENT_ARRAY_BUFFER),r},t.merge=function(r){for(var n=new t,s=[],o=[],h=[],l,c=0;c<r.length;c++){l=r[c];for(var d=0;d<l.buffers.length;d++)o[d]=o[d]||0,o[d]+=l.buffers[d].data.length,h[d]=0}for(var c=0;c<l.buffers.length;c++)s[c]=new map$2[getBufferType$1(l.buffers[c].data)](o[c]),n.buffers[c]=new Buffer$1(s[c]);for(var c=0;c<r.length;c++){l=r[c];for(var d=0;d<l.buffers.length;d++)s[d].set(l.buffers[d].data,h[d]),h[d]+=l.buffers[d].data.length}if(n.attributes=l.attributes,l.indexBuffer){n.indexBuffer=n.buffers[l.buffers.indexOf(l.indexBuffer)],n.indexBuffer.type=BUFFER_TYPE$4.ELEMENT_ARRAY_BUFFER;for(var v=0,g=0,m=0,_=0,c=0;c<l.buffers.length;c++)if(l.buffers[c]!==l.indexBuffer){_=c;break}for(var c in l.attributes){var y=l.attributes[c];(y.buffer|0)===_&&(g+=y.size*byteSizeMap$1$1[y.type]/4)}for(var c=0;c<r.length;c++){for(var B=r[c].indexBuffer.data,d=0;d<B.length;d++)n.indexBuffer.data[d+m]+=v;v+=r[c].buffers[_].data.length/g,m+=B.length}}return n},t}(),Quad$1=function(t){__extends$l(r,t);function r(){var n=t.call(this)||this;return n.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),n}return r}(Geometry$1),QuadUv$1=function(t){__extends$l(r,t);function r(){var n=t.call(this)||this;return n.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),n.uvs=new Float32Array([0,0,1,0,1,1,0,1]),n.vertexBuffer=new Buffer$1(n.vertices),n.uvBuffer=new Buffer$1(n.uvs),n.addAttribute("aVertexPosition",n.vertexBuffer).addAttribute("aTextureCoord",n.uvBuffer).addIndex([0,1,2,0,2,3]),n}return r.prototype.map=function(n,s){var o=0,h=0;return this.uvs[0]=o,this.uvs[1]=h,this.uvs[2]=o+s.width/n.width,this.uvs[3]=h,this.uvs[4]=o+s.width/n.width,this.uvs[5]=h+s.height/n.height,this.uvs[6]=o,this.uvs[7]=h+s.height/n.height,o=s.x,h=s.y,this.vertices[0]=o,this.vertices[1]=h,this.vertices[2]=o+s.width,this.vertices[3]=h,this.vertices[4]=o+s.width,this.vertices[5]=h+s.height,this.vertices[6]=o,this.vertices[7]=h+s.height,this.invalidate(),this},r.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},r}(Geometry$1),UID$2$1=0,UniformGroup$1=function(){function t(r,n,s){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=UID$2$1++,this.static=!!n,this.ubo=!!s,r instanceof Buffer$1?(this.buffer=r,this.buffer.type=BUFFER_TYPE$4.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=r,this.ubo&&(this.buffer=new Buffer$1(new Float32Array(1)),this.buffer.type=BUFFER_TYPE$4.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(r,n,s){if(!this.ubo)this.uniforms[r]=new t(n,s);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(r,n,s){return new t(r,n,s)},t.uboFrom=function(r,n){return new t(r,n!=null?n:!0,!0)},t}(),FilterState$1=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=MSAA_QUALITY$4.NONE,this.sourceFrame=new Rectangle$1,this.destinationFrame=new Rectangle$1,this.bindingSourceFrame=new Rectangle$1,this.bindingDestinationFrame=new Rectangle$1,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),tempPoints$2=[new Point$1,new Point$1,new Point$1,new Point$1],tempMatrix$2$1=new Matrix$1,FilterSystem$1=function(){function t(r){this.renderer=r,this.defaultFilterStack=[{}],this.texturePool=new RenderTexturePool$1,this.texturePool.setScreenSize(r.view),this.statePool=[],this.quad=new Quad$1,this.quadUv=new QuadUv$1,this.tempRect=new Rectangle$1,this.activeState={},this.globalUniforms=new UniformGroup$1({outputFrame:new Rectangle$1,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(r,n){for(var s,o,h=this.renderer,l=this.defaultFilterStack,c=this.statePool.pop()||new FilterState$1,d=this.renderer.renderTexture,v=n[0].resolution,g=n[0].multisample,m=n[0].padding,_=n[0].autoFit,y=(s=n[0].legacy)!==null&&s!==void 0?s:!0,B=1;B<n.length;B++){var w=n[B];v=Math.min(v,w.resolution),g=Math.min(g,w.multisample),m=this.useMaxPadding?Math.max(m,w.padding):m+w.padding,_=_&&w.autoFit,y=y||((o=w.legacy)!==null&&o!==void 0?o:!0)}l.length===1&&(this.defaultFilterStack[0].renderTexture=d.current),l.push(c),c.resolution=v,c.multisample=g,c.legacy=y,c.target=r,c.sourceFrame.copyFrom(r.filterArea||r.getBounds(!0)),c.sourceFrame.pad(m);var C=this.tempRect.copyFrom(d.sourceFrame);h.projection.transform&&this.transformAABB(tempMatrix$2$1.copyFrom(h.projection.transform).invert(),C),_?(c.sourceFrame.fit(C),(c.sourceFrame.width<=0||c.sourceFrame.height<=0)&&(c.sourceFrame.width=0,c.sourceFrame.height=0)):c.sourceFrame.intersects(C)||(c.sourceFrame.width=0,c.sourceFrame.height=0),this.roundFrame(c.sourceFrame,d.current?d.current.resolution:h.resolution,d.sourceFrame,d.destinationFrame,h.projection.transform),c.renderTexture=this.getOptimalFilterTexture(c.sourceFrame.width,c.sourceFrame.height,v,g),c.filters=n,c.destinationFrame.width=c.renderTexture.width,c.destinationFrame.height=c.renderTexture.height;var b=this.tempRect;b.x=0,b.y=0,b.width=c.sourceFrame.width,b.height=c.sourceFrame.height,c.renderTexture.filterFrame=c.sourceFrame,c.bindingSourceFrame.copyFrom(d.sourceFrame),c.bindingDestinationFrame.copyFrom(d.destinationFrame),c.transform=h.projection.transform,h.projection.transform=null,d.bind(c.renderTexture,c.sourceFrame,b),h.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var r=this.defaultFilterStack,n=r.pop(),s=n.filters;this.activeState=n;var o=this.globalUniforms.uniforms;o.outputFrame=n.sourceFrame,o.resolution=n.resolution;var h=o.inputSize,l=o.inputPixel,c=o.inputClamp;if(h[0]=n.destinationFrame.width,h[1]=n.destinationFrame.height,h[2]=1/h[0],h[3]=1/h[1],l[0]=Math.round(h[0]*n.resolution),l[1]=Math.round(h[1]*n.resolution),l[2]=1/l[0],l[3]=1/l[1],c[0]=.5*l[2],c[1]=.5*l[3],c[2]=n.sourceFrame.width*h[2]-.5*l[2],c[3]=n.sourceFrame.height*h[3]-.5*l[3],n.legacy){var d=o.filterArea;d[0]=n.destinationFrame.width,d[1]=n.destinationFrame.height,d[2]=n.sourceFrame.x,d[3]=n.sourceFrame.y,o.filterClamp=o.inputClamp}this.globalUniforms.update();var v=r[r.length-1];if(this.renderer.framebuffer.blit(),s.length===1)s[0].apply(this,n.renderTexture,v.renderTexture,CLEAR_MODES$4.BLEND,n),this.returnFilterTexture(n.renderTexture);else{var g=n.renderTexture,m=this.getOptimalFilterTexture(g.width,g.height,n.resolution);m.filterFrame=g.filterFrame;var _=0;for(_=0;_<s.length-1;++_){_===1&&n.multisample>1&&(m=this.getOptimalFilterTexture(g.width,g.height,n.resolution),m.filterFrame=g.filterFrame),s[_].apply(this,g,m,CLEAR_MODES$4.CLEAR,n);var y=g;g=m,m=y}s[_].apply(this,g,v.renderTexture,CLEAR_MODES$4.BLEND,n),_>1&&n.multisample>1&&this.returnFilterTexture(n.renderTexture),this.returnFilterTexture(g),this.returnFilterTexture(m)}n.clear(),this.statePool.push(n)},t.prototype.bindAndClear=function(r,n){n===void 0&&(n=CLEAR_MODES$4.CLEAR);var s=this.renderer,o=s.renderTexture,h=s.state;if(r===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,r&&r.filterFrame){var l=this.tempRect;l.x=0,l.y=0,l.width=r.filterFrame.width,l.height=r.filterFrame.height,o.bind(r,r.filterFrame,l)}else r!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?o.bind(r):this.renderer.renderTexture.bind(r,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var c=h.stateId&1||this.forceClear;(n===CLEAR_MODES$4.CLEAR||n===CLEAR_MODES$4.BLIT&&c)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(r,n,s,o){var h=this.renderer;h.state.set(r.state),this.bindAndClear(s,o),r.uniforms.uSampler=n,r.uniforms.filterGlobals=this.globalUniforms,h.shader.bind(r),r.legacy=!!r.program.attributeData.aTextureCoord,r.legacy?(this.quadUv.map(n._frame,n.filterFrame),h.geometry.bind(this.quadUv),h.geometry.draw(DRAW_MODES$4.TRIANGLES)):(h.geometry.bind(this.quad),h.geometry.draw(DRAW_MODES$4.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(r,n){var s=this.activeState,o=s.sourceFrame,h=s.destinationFrame,l=n._texture.orig,c=r.set(h.width,0,0,h.height,o.x,o.y),d=n.worldTransform.copyTo(Matrix$1.TEMP_MATRIX);return d.invert(),c.prepend(d),c.scale(1/l.width,1/l.height),c.translate(n.anchor.x,n.anchor.y),c},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(r,n,s,o){return s===void 0&&(s=1),o===void 0&&(o=MSAA_QUALITY$4.NONE),this.texturePool.getOptimalTexture(r,n,s,o)},t.prototype.getFilterTexture=function(r,n,s){if(typeof r=="number"){var o=r;r=n,n=o}r=r||this.activeState.renderTexture;var h=this.texturePool.getOptimalTexture(r.width,r.height,n||r.resolution,s||MSAA_QUALITY$4.NONE);return h.filterFrame=r.filterFrame,h},t.prototype.returnFilterTexture=function(r){this.texturePool.returnTexture(r)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(r,n){var s=tempPoints$2[0],o=tempPoints$2[1],h=tempPoints$2[2],l=tempPoints$2[3];s.set(n.left,n.top),o.set(n.left,n.bottom),h.set(n.right,n.top),l.set(n.right,n.bottom),r.apply(s,s),r.apply(o,o),r.apply(h,h),r.apply(l,l);var c=Math.min(s.x,o.x,h.x,l.x),d=Math.min(s.y,o.y,h.y,l.y),v=Math.max(s.x,o.x,h.x,l.x),g=Math.max(s.y,o.y,h.y,l.y);n.x=c,n.y=d,n.width=v-c,n.height=g-d},t.prototype.roundFrame=function(r,n,s,o,h){if(!(r.width<=0||r.height<=0||s.width<=0||s.height<=0)){if(h){var l=h.a,c=h.b,d=h.c,v=h.d;if((Math.abs(c)>1e-4||Math.abs(d)>1e-4)&&(Math.abs(l)>1e-4||Math.abs(v)>1e-4))return}h=h?tempMatrix$2$1.copyFrom(h):tempMatrix$2$1.identity(),h.translate(-s.x,-s.y).scale(o.width/s.width,o.height/s.height).translate(o.x,o.y),this.transformAABB(h,r),r.ceil(n),this.transformAABB(h.invert(),r)}},t}(),ObjectRenderer$1=function(){function t(r){this.renderer=r}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(r){},t}(),BatchSystem$1=function(){function t(r){this.renderer=r,this.emptyRenderer=new ObjectRenderer$1(r),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(r){this.currentRenderer!==r&&(this.currentRenderer.stop(),this.currentRenderer=r,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(r,n){for(var s=this.renderer.texture.boundTextures,o=n-1;o>=0;--o)r[o]=s[o]||null,r[o]&&(r[o]._batchLocation=o)},t.prototype.boundArray=function(r,n,s,o){for(var h=r.elements,l=r.ids,c=r.count,d=0,v=0;v<c;v++){var g=h[v],m=g._batchLocation;if(m>=0&&m<o&&n[m]===g){l[v]=m;continue}for(;d<o;){var _=n[d];if(_&&_._batchEnabled===s&&_._batchLocation===d){d++;continue}l[v]=d,g._batchLocation=d,n[d]=g;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),CONTEXT_UID_COUNTER$1=0,ContextSystem$1=function(){function t(r){this.renderer=r,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),r.view.addEventListener("webglcontextlost",this.handleContextLost,!1),r.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(r){this.gl=r,this.renderer.gl=r,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER$1++,r.isContextLost()&&r.getExtension("WEBGL_lose_context")&&r.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(r){this.gl=r,this.validateContext(r),this.renderer.gl=r,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER$1++,this.renderer.runners.contextChange.emit(r)},t.prototype.initFromOptions=function(r){var n=this.createContext(this.renderer.view,r);this.initFromContext(n)},t.prototype.createContext=function(r,n){var s;if(settings$1.PREFER_ENV>=ENV$4.WEBGL2&&(s=r.getContext("webgl2",n)),s)this.webGLVersion=2;else if(this.webGLVersion=1,s=r.getContext("webgl",n)||r.getContext("experimental-webgl",n),!s)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=s,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var r=this.gl,n={anisotropicFiltering:r.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:r.getExtension("OES_texture_float_linear"),s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,n,{drawBuffers:r.getExtension("WEBGL_draw_buffers"),depthTexture:r.getExtension("WEBGL_depth_texture"),loseContext:r.getExtension("WEBGL_lose_context"),vertexArrayObject:r.getExtension("OES_vertex_array_object")||r.getExtension("MOZ_OES_vertex_array_object")||r.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:r.getExtension("OES_element_index_uint"),floatTexture:r.getExtension("OES_texture_float"),floatTextureLinear:r.getExtension("OES_texture_float_linear"),textureHalfFloat:r.getExtension("OES_texture_half_float"),textureHalfFloatLinear:r.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,n,{colorBufferFloat:r.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(r){r.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var r=this.renderer.view;this.renderer=null,r.removeEventListener("webglcontextlost",this.handleContextLost),r.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(r){var n=r.getContextAttributes(),s="WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext;s&&(this.webGLVersion=2),n&&!n.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var o=s||!!r.getExtension("OES_element_index_uint");this.supports.uint32Indices=o,o||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),GLFramebuffer$1=function(){function t(r){this.framebuffer=r,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=MSAA_QUALITY$4.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),tempRectangle$1=new Rectangle$1,FramebufferSystem$1=function(){function t(r){this.renderer=r,this.managedFramebuffers=[],this.unknownFramebuffer=new Framebuffer$1(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Rectangle$1,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var n=this.renderer.context.extensions.drawBuffers,s=this.renderer.context.extensions.depthTexture;settings$1.PREFER_ENV===ENV$4.WEBGL_LEGACY&&(n=null,s=null),n?r.drawBuffers=function(o){return n.drawBuffersWEBGL(o)}:(this.hasMRT=!1,r.drawBuffers=function(){}),s||(this.writeDepthTexture=!1)}else this.msaaSamples=r.getInternalformatParameter(r.RENDERBUFFER,r.RGBA8,r.SAMPLES)},t.prototype.bind=function(r,n,s){s===void 0&&(s=0);var o=this.gl;if(r){var h=r.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(r);this.current!==r&&(this.current=r,o.bindFramebuffer(o.FRAMEBUFFER,h.framebuffer)),h.mipLevel!==s&&(r.dirtyId++,r.dirtyFormat++,h.mipLevel=s),h.dirtyId!==r.dirtyId&&(h.dirtyId=r.dirtyId,h.dirtyFormat!==r.dirtyFormat?(h.dirtyFormat=r.dirtyFormat,h.dirtySize=r.dirtySize,this.updateFramebuffer(r,s)):h.dirtySize!==r.dirtySize&&(h.dirtySize=r.dirtySize,this.resizeFramebuffer(r)));for(var l=0;l<r.colorTextures.length;l++){var c=r.colorTextures[l];this.renderer.texture.unbind(c.parentTextureArray||c)}if(r.depthTexture&&this.renderer.texture.unbind(r.depthTexture),n){var d=n.width>>s,v=n.height>>s,g=d/n.width;this.setViewport(n.x*g,n.y*g,d,v)}else{var d=r.width>>s,v=r.height>>s;this.setViewport(0,0,d,v)}}else this.current&&(this.current=null,o.bindFramebuffer(o.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(r,n,s,o){var h=this.viewport;r=Math.round(r),n=Math.round(n),s=Math.round(s),o=Math.round(o),(h.width!==s||h.height!==o||h.x!==r||h.y!==n)&&(h.x=r,h.y=n,h.width=s,h.height=o,this.gl.viewport(r,n,s,o))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(r,n,s,o,h){h===void 0&&(h=BUFFER_BITS$4.COLOR|BUFFER_BITS$4.DEPTH);var l=this.gl;l.clearColor(r,n,s,o),l.clear(h)},t.prototype.initFramebuffer=function(r){var n=this.gl,s=new GLFramebuffer$1(n.createFramebuffer());return s.multisample=this.detectSamples(r.multisample),r.glFramebuffers[this.CONTEXT_UID]=s,this.managedFramebuffers.push(r),r.disposeRunner.add(this),s},t.prototype.resizeFramebuffer=function(r){var n=this.gl,s=r.glFramebuffers[this.CONTEXT_UID];s.msaaBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,s.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,s.multisample,n.RGBA8,r.width,r.height)),s.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,s.stencil),s.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,s.multisample,n.DEPTH24_STENCIL8,r.width,r.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r.width,r.height));var o=r.colorTextures,h=o.length;n.drawBuffers||(h=Math.min(h,1));for(var l=0;l<h;l++){var c=o[l],d=c.parentTextureArray||c;this.renderer.texture.bind(d,0)}r.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(r.depthTexture,0)},t.prototype.updateFramebuffer=function(r,n){var s=this.gl,o=r.glFramebuffers[this.CONTEXT_UID],h=r.colorTextures,l=h.length;s.drawBuffers||(l=Math.min(l,1)),o.multisample>1&&this.canMultisampleFramebuffer(r)?(o.msaaBuffer=o.msaaBuffer||s.createRenderbuffer(),s.bindRenderbuffer(s.RENDERBUFFER,o.msaaBuffer),s.renderbufferStorageMultisample(s.RENDERBUFFER,o.multisample,s.RGBA8,r.width,r.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.RENDERBUFFER,o.msaaBuffer)):o.msaaBuffer&&(s.deleteRenderbuffer(o.msaaBuffer),o.msaaBuffer=null,o.blitFramebuffer&&(o.blitFramebuffer.dispose(),o.blitFramebuffer=null));for(var c=[],d=0;d<l;d++){var v=h[d],g=v.parentTextureArray||v;this.renderer.texture.bind(g,0),!(d===0&&o.msaaBuffer)&&(s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+d,v.target,g._glTextures[this.CONTEXT_UID].texture,n),c.push(s.COLOR_ATTACHMENT0+d))}if(c.length>1&&s.drawBuffers(c),r.depthTexture){var m=this.writeDepthTexture;if(m){var _=r.depthTexture;this.renderer.texture.bind(_,0),s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,_._glTextures[this.CONTEXT_UID].texture,n)}}(r.stencil||r.depth)&&!(r.depthTexture&&this.writeDepthTexture)?(o.stencil=o.stencil||s.createRenderbuffer(),s.bindRenderbuffer(s.RENDERBUFFER,o.stencil),o.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,o.multisample,s.DEPTH24_STENCIL8,r.width,r.height):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,r.width,r.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o.stencil)):o.stencil&&(s.deleteRenderbuffer(o.stencil),o.stencil=null)},t.prototype.canMultisampleFramebuffer=function(r){return this.renderer.context.webGLVersion!==1&&r.colorTextures.length<=1&&!r.depthTexture},t.prototype.detectSamples=function(r){var n=this.msaaSamples,s=MSAA_QUALITY$4.NONE;if(r<=1||n===null)return s;for(var o=0;o<n.length;o++)if(n[o]<=r){s=n[o];break}return s===1&&(s=MSAA_QUALITY$4.NONE),s},t.prototype.blit=function(r,n,s){var o=this,h=o.current,l=o.renderer,c=o.gl,d=o.CONTEXT_UID;if(l.context.webGLVersion===2&&!!h){var v=h.glFramebuffers[d];if(!!v){if(!r){if(!v.msaaBuffer)return;var g=h.colorTextures[0];if(!g)return;v.blitFramebuffer||(v.blitFramebuffer=new Framebuffer$1(h.width,h.height),v.blitFramebuffer.addColorTexture(0,g)),r=v.blitFramebuffer,r.colorTextures[0]!==g&&(r.colorTextures[0]=g,r.dirtyId++,r.dirtyFormat++),(r.width!==h.width||r.height!==h.height)&&(r.width=h.width,r.height=h.height,r.dirtyId++,r.dirtySize++)}n||(n=tempRectangle$1,n.width=h.width,n.height=h.height),s||(s=n);var m=n.width===s.width&&n.height===s.height;this.bind(r),c.bindFramebuffer(c.READ_FRAMEBUFFER,v.framebuffer),c.blitFramebuffer(n.left,n.top,n.right,n.bottom,s.left,s.top,s.right,s.bottom,c.COLOR_BUFFER_BIT,m?c.NEAREST:c.LINEAR)}}},t.prototype.disposeFramebuffer=function(r,n){var s=r.glFramebuffers[this.CONTEXT_UID],o=this.gl;if(!!s){delete r.glFramebuffers[this.CONTEXT_UID];var h=this.managedFramebuffers.indexOf(r);h>=0&&this.managedFramebuffers.splice(h,1),r.disposeRunner.remove(this),n||(o.deleteFramebuffer(s.framebuffer),s.msaaBuffer&&o.deleteRenderbuffer(s.msaaBuffer),s.stencil&&o.deleteRenderbuffer(s.stencil)),s.blitFramebuffer&&s.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(r){var n=this.managedFramebuffers;this.managedFramebuffers=[];for(var s=0;s<n.length;s++)this.disposeFramebuffer(n[s],r)},t.prototype.forceStencil=function(){var r=this.current;if(!!r){var n=r.glFramebuffers[this.CONTEXT_UID];if(!(!n||n.stencil)){r.stencil=!0;var s=r.width,o=r.height,h=this.gl,l=h.createRenderbuffer();h.bindRenderbuffer(h.RENDERBUFFER,l),n.msaaBuffer?h.renderbufferStorageMultisample(h.RENDERBUFFER,n.multisample,h.DEPTH24_STENCIL8,s,o):h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_STENCIL,s,o),n.stencil=l,h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,l)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Rectangle$1},t.prototype.destroy=function(){this.renderer=null},t}(),byteSizeMap$2={5126:4,5123:2,5121:1},GeometrySystem$1=function(){function t(r){this.renderer=r,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var r=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){var s=this.renderer.context.extensions.vertexArrayObject;settings$1.PREFER_ENV===ENV$4.WEBGL_LEGACY&&(s=null),s?(r.createVertexArray=function(){return s.createVertexArrayOES()},r.bindVertexArray=function(h){return s.bindVertexArrayOES(h)},r.deleteVertexArray=function(h){return s.deleteVertexArrayOES(h)}):(this.hasVao=!1,r.createVertexArray=function(){return null},r.bindVertexArray=function(){return null},r.deleteVertexArray=function(){return null})}if(n.webGLVersion!==2){var o=r.getExtension("ANGLE_instanced_arrays");o?(r.vertexAttribDivisor=function(h,l){return o.vertexAttribDivisorANGLE(h,l)},r.drawElementsInstanced=function(h,l,c,d,v){return o.drawElementsInstancedANGLE(h,l,c,d,v)},r.drawArraysInstanced=function(h,l,c,d){return o.drawArraysInstancedANGLE(h,l,c,d)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex},t.prototype.bind=function(r,n){n=n||this.renderer.shader.shader;var s=this.gl,o=r.glVertexArrayObjects[this.CONTEXT_UID],h=!1;o||(this.managedGeometries[r.id]=r,r.disposeRunner.add(this),r.glVertexArrayObjects[this.CONTEXT_UID]=o={},h=!0);var l=o[n.program.id]||this.initGeometryVao(r,n,h);this._activeGeometry=r,this._activeVao!==l&&(this._activeVao=l,this.hasVao?s.bindVertexArray(l):this.activateVao(r,n.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var r=this._activeGeometry,n=this.renderer.buffer,s=0;s<r.buffers.length;s++){var o=r.buffers[s];n.update(o)}},t.prototype.checkCompatibility=function(r,n){var s=r.attributes,o=n.attributeData;for(var h in o)if(!s[h])throw new Error('shader and geometry incompatible, geometry missing the "'+h+'" attribute')},t.prototype.getSignature=function(r,n){var s=r.attributes,o=n.attributeData,h=["g",r.id];for(var l in s)o[l]&&h.push(l,o[l].location);return h.join("-")},t.prototype.initGeometryVao=function(r,n,s){s===void 0&&(s=!0);var o=this.gl,h=this.CONTEXT_UID,l=this.renderer.buffer,c=n.program;c.glPrograms[h]||this.renderer.shader.generateProgram(n),this.checkCompatibility(r,c);var d=this.getSignature(r,c),v=r.glVertexArrayObjects[this.CONTEXT_UID],g=v[d];if(g)return v[c.id]=g,g;var m=r.buffers,_=r.attributes,y={},B={};for(var w in m)y[w]=0,B[w]=0;for(var w in _)!_[w].size&&c.attributeData[w]?_[w].size=c.attributeData[w].size:_[w].size||console.warn("PIXI Geometry attribute '"+w+"' size cannot be determined (likely the bound shader does not have the attribute)"),y[_[w].buffer]+=_[w].size*byteSizeMap$2[_[w].type];for(var w in _){var C=_[w],b=C.size;C.stride===void 0&&(y[C.buffer]===b*byteSizeMap$2[C.type]?C.stride=0:C.stride=y[C.buffer]),C.start===void 0&&(C.start=B[C.buffer],B[C.buffer]+=b*byteSizeMap$2[C.type])}g=o.createVertexArray(),o.bindVertexArray(g);for(var I=0;I<m.length;I++){var S=m[I];l.bind(S),s&&S._glBuffers[h].refCount++}return this.activateVao(r,c),this._activeVao=g,v[c.id]=g,v[d]=g,g},t.prototype.disposeGeometry=function(r,n){var s;if(!!this.managedGeometries[r.id]){delete this.managedGeometries[r.id];var o=r.glVertexArrayObjects[this.CONTEXT_UID],h=this.gl,l=r.buffers,c=(s=this.renderer)===null||s===void 0?void 0:s.buffer;if(r.disposeRunner.remove(this),!!o){if(c)for(var d=0;d<l.length;d++){var v=l[d]._glBuffers[this.CONTEXT_UID];v&&(v.refCount--,v.refCount===0&&!n&&c.dispose(l[d],n))}if(!n){for(var g in o)if(g[0]==="g"){var m=o[g];this._activeVao===m&&this.unbind(),h.deleteVertexArray(m)}}delete r.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(r){for(var n=Object.keys(this.managedGeometries),s=0;s<n.length;s++)this.disposeGeometry(this.managedGeometries[n[s]],r)},t.prototype.activateVao=function(r,n){var s=this.gl,o=this.CONTEXT_UID,h=this.renderer.buffer,l=r.buffers,c=r.attributes;r.indexBuffer&&h.bind(r.indexBuffer);var d=null;for(var v in c){var g=c[v],m=l[g.buffer],_=m._glBuffers[o];if(n.attributeData[v]){d!==_&&(h.bind(m),d=_);var y=n.attributeData[v].location;if(s.enableVertexAttribArray(y),s.vertexAttribPointer(y,g.size,g.type||s.FLOAT,g.normalized,g.stride,g.start),g.instance)if(this.hasInstance)s.vertexAttribDivisor(y,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(r,n,s,o){var h=this.gl,l=this._activeGeometry;if(l.indexBuffer){var c=l.indexBuffer.data.BYTES_PER_ELEMENT,d=c===2?h.UNSIGNED_SHORT:h.UNSIGNED_INT;c===2||c===4&&this.canUseUInt32ElementIndex?l.instanced?h.drawElementsInstanced(r,n||l.indexBuffer.data.length,d,(s||0)*c,o||1):h.drawElements(r,n||l.indexBuffer.data.length,d,(s||0)*c):console.warn("unsupported index buffer type: uint32")}else l.instanced?h.drawArraysInstanced(r,s,n||l.getSize(),o||1):h.drawArrays(r,s,n||l.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),MaskData$1=function(){function t(r){r===void 0&&(r=null),this.type=MASK_TYPES$4.NONE,this.autoDetect=!0,this.maskObject=r||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=settings$1.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(r){r?this._filters?this._filters[0]=r:this._filters=[r]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=MASK_TYPES$4.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(r){r?(this._stencilCounter=r._stencilCounter,this._scissorCounter=r._scissorCounter,this._scissorRect=r._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function compileShader$1(t,r,n){var s=t.createShader(r);return t.shaderSource(s,n),t.compileShader(s),s}function logPrettyShaderError$1(t,r){var n=t.getShaderSource(r).split(`
`).map(function(v,g){return g+": "+v}),s=t.getShaderInfoLog(r),o=s.split(`
`),h={},l=o.map(function(v){return parseFloat(v.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(v){return v&&!h[v]?(h[v]=!0,!0):!1}),c=[""];l.forEach(function(v){n[v-1]="%c"+n[v-1]+"%c",c.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var d=n.join(`
`);c[0]=d,console.error(s),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,c),console.groupEnd()}function logProgramError$1(t,r,n,s){t.getProgramParameter(r,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||logPrettyShaderError$1(t,n),t.getShaderParameter(s,t.COMPILE_STATUS)||logPrettyShaderError$1(t,s),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(r)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(r)))}function booleanArray$1(t){for(var r=new Array(t),n=0;n<r.length;n++)r[n]=!1;return r}function defaultValue$1(t,r){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*r);case"vec3":return new Float32Array(3*r);case"vec4":return new Float32Array(4*r);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*r);case"ivec3":return new Int32Array(3*r);case"ivec4":return new Int32Array(4*r);case"uvec2":return new Uint32Array(2*r);case"uvec3":return new Uint32Array(3*r);case"uvec4":return new Uint32Array(4*r);case"bool":return!1;case"bvec2":return booleanArray$1(2*r);case"bvec3":return booleanArray$1(3*r);case"bvec4":return booleanArray$1(4*r);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var unknownContext$1={},context$1=unknownContext$1;function getTestContext$1(){if(context$1===unknownContext$1||context$1&&context$1.isContextLost()){var t=document.createElement("canvas"),r=void 0;settings$1.PREFER_ENV>=ENV$4.WEBGL2&&(r=t.getContext("webgl2",{})),r||(r=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),r?r.getExtension("WEBGL_draw_buffers"):r=null),context$1=r}return context$1}var maxFragmentPrecision$1;function getMaxFragmentPrecision$1(){if(!maxFragmentPrecision$1){maxFragmentPrecision$1=PRECISION$4.MEDIUM;var t=getTestContext$1();if(t&&t.getShaderPrecisionFormat){var r=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);maxFragmentPrecision$1=r.precision?PRECISION$4.HIGH:PRECISION$4.MEDIUM}}return maxFragmentPrecision$1}function setPrecision$1(t,r,n){if(t.substring(0,9)!=="precision"){var s=r;return r===PRECISION$4.HIGH&&n!==PRECISION$4.HIGH&&(s=PRECISION$4.MEDIUM),"precision "+s+` float;
`+t}else if(n!==PRECISION$4.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var GLSL_TO_SIZE$1={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function mapSize$1(t){return GLSL_TO_SIZE$1[t]}var GL_TABLE$1=null,GL_TO_GLSL_TYPES$1={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function mapType$1(t,r){if(!GL_TABLE$1){var n=Object.keys(GL_TO_GLSL_TYPES$1);GL_TABLE$1={};for(var s=0;s<n.length;++s){var o=n[s];GL_TABLE$1[t[o]]=GL_TO_GLSL_TYPES$1[o]}}return GL_TABLE$1[r]}var uniformParsers$1=[{test:function(t){return t.type==="float"&&t.size===1},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,r){return t.type==="mat3"&&t.size===1&&r.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,r){return t.type==="vec2"&&t.size===1&&r.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,r){return t.type==="vec4"&&t.size===1&&r.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],GLSL_TO_SINGLE_SETTERS_CACHED$1={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},GLSL_TO_ARRAY_SETTERS$1={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function generateUniformsSync$1(t,r){var n,s=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var o in t.uniforms){var h=r[o];if(!h){!((n=t.uniforms[o])===null||n===void 0)&&n.group&&(t.uniforms[o].ubo?s.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+o+", '"+o+`');
                    `):s.push(`
                        renderer.shader.syncUniformGroup(uv.`+o+`, syncData);
                    `));continue}for(var l=t.uniforms[o],c=!1,d=0;d<uniformParsers$1.length;d++)if(uniformParsers$1[d].test(h,l)){s.push(uniformParsers$1[d].code(o,l)),c=!0;break}if(!c){var v=h.size===1?GLSL_TO_SINGLE_SETTERS_CACHED$1:GLSL_TO_ARRAY_SETTERS$1,g=v[h.type].replace("location",'ud["'+o+'"].location');s.push(`
            cu = ud["`+o+`"];
            cv = cu.value;
            v = uv["`+o+`"];
            `+g+";")}}return new Function("ud","uv","renderer","syncData",s.join(`
`))}var fragTemplate$2=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function generateIfTestSrc$1(t){for(var r="",n=0;n<t;++n)n>0&&(r+=`
else `),n<t-1&&(r+="if(test == "+n+".0){}");return r}function checkMaxIfStatementsInShader$1(t,r){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var n=r.createShader(r.FRAGMENT_SHADER);;){var s=fragTemplate$2.replace(/%forloop%/gi,generateIfTestSrc$1(t));if(r.shaderSource(n,s),r.compileShader(n),!r.getShaderParameter(n,r.COMPILE_STATUS))t=t/2|0;else break}return t}var unsafeEval$1;function unsafeEvalSupported$1(){if(typeof unsafeEval$1=="boolean")return unsafeEval$1;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");unsafeEval$1=t({a:"b"},"a","b")===!0}catch(r){unsafeEval$1=!1}return unsafeEval$1}var defaultFragment$2$1=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,defaultVertex$3$1=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,UID$1$1=0,nameCache$1={},Program$1=function(){function t(r,n,s){s===void 0&&(s="pixi-shader"),this.id=UID$1$1++,this.vertexSrc=r||t.defaultVertexSrc,this.fragmentSrc=n||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(s=s.replace(/\s+/g,"-"),nameCache$1[s]?(nameCache$1[s]++,s+="-"+nameCache$1[s]):nameCache$1[s]=1,this.vertexSrc="#define SHADER_NAME "+s+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+s+`
`+this.fragmentSrc,this.vertexSrc=setPrecision$1(this.vertexSrc,settings$1.PRECISION_VERTEX,PRECISION$4.HIGH),this.fragmentSrc=setPrecision$1(this.fragmentSrc,settings$1.PRECISION_FRAGMENT,getMaxFragmentPrecision$1())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return defaultVertex$3$1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return defaultFragment$2$1},enumerable:!1,configurable:!0}),t.from=function(r,n,s){var o=r+n,h=ProgramCache$1[o];return h||(ProgramCache$1[o]=h=new t(r,n,s)),h},t}(),Shader$1=function(){function t(r,n){this.uniformBindCount=0,this.program=r,n?n instanceof UniformGroup$1?this.uniformGroup=n:this.uniformGroup=new UniformGroup$1(n):this.uniformGroup=new UniformGroup$1({})}return t.prototype.checkUniformExists=function(r,n){if(n.uniforms[r])return!0;for(var s in n.uniforms){var o=n.uniforms[s];if(o.group&&this.checkUniformExists(r,o))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(r,n,s){var o=Program$1.from(r,n);return new t(o,s)},t}(),BLEND$1$1=0,OFFSET$1$1=1,CULLING$1$1=2,DEPTH_TEST$1$1=3,WINDING$1$1=4,DEPTH_MASK$1$1=5,State$1=function(){function t(){this.data=0,this.blendMode=BLEND_MODES$4.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<BLEND$1$1)},set:function(r){!!(this.data&1<<BLEND$1$1)!==r&&(this.data^=1<<BLEND$1$1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<OFFSET$1$1)},set:function(r){!!(this.data&1<<OFFSET$1$1)!==r&&(this.data^=1<<OFFSET$1$1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<CULLING$1$1)},set:function(r){!!(this.data&1<<CULLING$1$1)!==r&&(this.data^=1<<CULLING$1$1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<DEPTH_TEST$1$1)},set:function(r){!!(this.data&1<<DEPTH_TEST$1$1)!==r&&(this.data^=1<<DEPTH_TEST$1$1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<DEPTH_MASK$1$1)},set:function(r){!!(this.data&1<<DEPTH_MASK$1$1)!==r&&(this.data^=1<<DEPTH_MASK$1$1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<WINDING$1$1)},set:function(r){!!(this.data&1<<WINDING$1$1)!==r&&(this.data^=1<<WINDING$1$1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(r){this.blend=r!==BLEND_MODES$4.NONE,this._blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(r){this.offsets=!!r,this._polygonOffset=r},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var r=new t;return r.depthTest=!1,r.blend=!0,r},t}(),defaultVertex$2$1=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,defaultFragment$1$1=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Filter$1=function(t){__extends$l(r,t);function r(n,s,o){var h=this,l=Program$1.from(n||r.defaultVertexSrc,s||r.defaultFragmentSrc);return h=t.call(this,l,o)||this,h.padding=0,h.resolution=settings$1.FILTER_RESOLUTION,h.multisample=settings$1.FILTER_MULTISAMPLE,h.enabled=!0,h.autoFit=!0,h.state=new State$1,h}return r.prototype.apply=function(n,s,o,h,l){n.applyFilter(this,s,o,h)},Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(n){this.state.blendMode=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resolution",{get:function(){return this._resolution},set:function(n){this._resolution=n},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultVertexSrc",{get:function(){return defaultVertex$2$1},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultFragmentSrc",{get:function(){return defaultFragment$1$1},enumerable:!1,configurable:!0}),r}(Shader$1),vertex$5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,fragment$8=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,tempMat$2=new Matrix$1,TextureMatrix$1=function(){function t(r,n){this._texture=r,this.mapCoord=new Matrix$1,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof n=="undefined"?.5:n,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture=r,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(r,n){n===void 0&&(n=r);for(var s=this.mapCoord,o=0;o<r.length;o+=2){var h=r[o],l=r[o+1];n[o]=h*s.a+l*s.c+s.tx,n[o+1]=h*s.b+l*s.d+s.ty}return n},t.prototype.update=function(r){var n=this._texture;if(!n||!n.valid||!r&&this._textureID===n._updateID)return!1;this._textureID=n._updateID,this._updateID++;var s=n._uvs;this.mapCoord.set(s.x1-s.x0,s.y1-s.y0,s.x3-s.x0,s.y3-s.y0,s.x0,s.y0);var o=n.orig,h=n.trim;h&&(tempMat$2.set(o.width/h.width,0,0,o.height/h.height,-h.x/h.width,-h.y/h.height),this.mapCoord.append(tempMat$2));var l=n.baseTexture,c=this.uClampFrame,d=this.clampMargin/l.resolution,v=this.clampOffset;return c[0]=(n._frame.x+d+v)/l.width,c[1]=(n._frame.y+d+v)/l.height,c[2]=(n._frame.x+n._frame.width-d+v)/l.width,c[3]=(n._frame.y+n._frame.height-d+v)/l.height,this.uClampOffset[0]=v/l.realWidth,this.uClampOffset[1]=v/l.realHeight,this.isSimple=n._frame.width===l.width&&n._frame.height===l.height&&n.rotate===0,!0},t}(),SpriteMaskFilter$1=function(t){__extends$l(r,t);function r(n,s,o){var h=this,l=null;return typeof n!="string"&&s===void 0&&o===void 0&&(l=n,n=void 0,s=void 0,o=void 0),h=t.call(this,n||vertex$5,s||fragment$8,o)||this,h.maskSprite=l,h.maskMatrix=new Matrix$1,h}return Object.defineProperty(r.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(n){this._maskSprite=n,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),r.prototype.apply=function(n,s,o,h){var l=this._maskSprite,c=l._texture;!c.valid||(c.uvMatrix||(c.uvMatrix=new TextureMatrix$1(c,0)),c.uvMatrix.update(),this.uniforms.npmAlpha=c.baseTexture.alphaMode?0:1,this.uniforms.mask=c,this.uniforms.otherMatrix=n.calculateSpriteMatrix(this.maskMatrix,l).prepend(c.uvMatrix.mapCoord),this.uniforms.alpha=l.worldAlpha,this.uniforms.maskClamp=c.uvMatrix.uClampFrame,n.applyFilter(this,s,o,h))},r}(Filter$1),MaskSystem$1=function(){function t(r){this.renderer=r,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(r){this.maskStack=r,this.renderer.scissor.setMaskStack(r),this.renderer.stencil.setMaskStack(r)},t.prototype.push=function(r,n){var s=n;if(!s.isMaskData){var o=this.maskDataPool.pop()||new MaskData$1;o.pooled=!0,o.maskObject=n,s=o}var h=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(s.copyCountersOrReset(h),s.autoDetect&&this.detect(s),s._target=r,s.type!==MASK_TYPES$4.SPRITE&&this.maskStack.push(s),s.enabled)switch(s.type){case MASK_TYPES$4.SCISSOR:this.renderer.scissor.push(s);break;case MASK_TYPES$4.STENCIL:this.renderer.stencil.push(s);break;case MASK_TYPES$4.SPRITE:s.copyCountersOrReset(null),this.pushSpriteMask(s);break}s.type===MASK_TYPES$4.SPRITE&&this.maskStack.push(s)},t.prototype.pop=function(r){var n=this.maskStack.pop();if(!(!n||n._target!==r)){if(n.enabled)switch(n.type){case MASK_TYPES$4.SCISSOR:this.renderer.scissor.pop();break;case MASK_TYPES$4.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case MASK_TYPES$4.SPRITE:this.popSpriteMask(n);break}if(n.reset(),n.pooled&&this.maskDataPool.push(n),this.maskStack.length!==0){var s=this.maskStack[this.maskStack.length-1];s.type===MASK_TYPES$4.SPRITE&&s._filters&&(s._filters[0].maskSprite=s.maskObject)}}},t.prototype.detect=function(r){var n=r.maskObject;n.isSprite?r.type=MASK_TYPES$4.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(r)?r.type=MASK_TYPES$4.SCISSOR:r.type=MASK_TYPES$4.STENCIL},t.prototype.pushSpriteMask=function(r){var n,s,o=r.maskObject,h=r._target,l=r._filters;l||(l=this.alphaMaskPool[this.alphaMaskIndex],l||(l=this.alphaMaskPool[this.alphaMaskIndex]=[new SpriteMaskFilter$1]));var c=this.renderer,d=c.renderTexture,v,g;if(d.current){var m=d.current;v=r.resolution||m.resolution,g=(n=r.multisample)!==null&&n!==void 0?n:m.multisample}else v=r.resolution||c.resolution,g=(s=r.multisample)!==null&&s!==void 0?s:c.multisample;l[0].resolution=v,l[0].multisample=g,l[0].maskSprite=o;var _=h.filterArea;h.filterArea=o.getBounds(!0),c.filter.push(h,l),h.filterArea=_,r._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(r){this.renderer.filter.pop(),r._filters?r._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.destroy=function(){this.renderer=null},t}(),AbstractMaskSystem$1=function(){function t(r){this.renderer=r,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(r){var n=this.renderer.gl,s=this.getStackLength();this.maskStack=r;var o=this.getStackLength();o!==s&&(o===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),tempMatrix$1$1=new Matrix$1,ScissorSystem$1=function(t){__extends$l(r,t);function r(n){var s=t.call(this,n)||this;return s.glConst=WebGLRenderingContext.SCISSOR_TEST,s}return r.prototype.getStackLength=function(){var n=this.maskStack[this.maskStack.length-1];return n?n._scissorCounter:0},r.prototype.calcScissorRect=function(n){if(!n._scissorRectLocal){var s=n._scissorRect,o=n.maskObject,h=this.renderer,l=h.renderTexture;o.renderable=!0;var c=o.getBounds();this.roundFrameToPixels(c,l.current?l.current.resolution:h.resolution,l.sourceFrame,l.destinationFrame,h.projection.transform),o.renderable=!1,s&&c.fit(s),n._scissorRectLocal=c}},r.isMatrixRotated=function(n){if(!n)return!1;var s=n.a,o=n.b,h=n.c,l=n.d;return(Math.abs(o)>1e-4||Math.abs(h)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(l)>1e-4)},r.prototype.testScissor=function(n){var s=n.maskObject;if(!s.isFastRect||!s.isFastRect()||r.isMatrixRotated(s.worldTransform)||r.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(n);var o=n._scissorRectLocal;return o.width>0&&o.height>0},r.prototype.roundFrameToPixels=function(n,s,o,h,l){r.isMatrixRotated(l)||(l=l?tempMatrix$1$1.copyFrom(l):tempMatrix$1$1.identity(),l.translate(-o.x,-o.y).scale(h.width/o.width,h.height/o.height).translate(h.x,h.y),this.renderer.filter.transformAABB(l,n),n.fit(h),n.x=Math.round(n.x*s),n.y=Math.round(n.y*s),n.width=Math.round(n.width*s),n.height=Math.round(n.height*s))},r.prototype.push=function(n){n._scissorRectLocal||this.calcScissorRect(n);var s=this.renderer.gl;n._scissorRect||s.enable(s.SCISSOR_TEST),n._scissorCounter++,n._scissorRect=n._scissorRectLocal,this._useCurrent()},r.prototype.pop=function(){var n=this.renderer.gl;this.getStackLength()>0?this._useCurrent():n.disable(n.SCISSOR_TEST)},r.prototype._useCurrent=function(){var n=this.maskStack[this.maskStack.length-1]._scissorRect,s;this.renderer.renderTexture.current?s=n.y:s=this.renderer.height-n.height-n.y,this.renderer.gl.scissor(n.x,s,n.width,n.height)},r}(AbstractMaskSystem$1),StencilSystem$1=function(t){__extends$l(r,t);function r(n){var s=t.call(this,n)||this;return s.glConst=WebGLRenderingContext.STENCIL_TEST,s}return r.prototype.getStackLength=function(){var n=this.maskStack[this.maskStack.length-1];return n?n._stencilCounter:0},r.prototype.push=function(n){var s=n.maskObject,o=this.renderer.gl,h=n._stencilCounter;h===0&&(this.renderer.framebuffer.forceStencil(),o.clearStencil(0),o.clear(o.STENCIL_BUFFER_BIT),o.enable(o.STENCIL_TEST)),n._stencilCounter++,o.colorMask(!1,!1,!1,!1),o.stencilFunc(o.EQUAL,h,4294967295),o.stencilOp(o.KEEP,o.KEEP,o.INCR),s.renderable=!0,s.render(this.renderer),this.renderer.batch.flush(),s.renderable=!1,this._useCurrent()},r.prototype.pop=function(n){var s=this.renderer.gl;this.getStackLength()===0?s.disable(s.STENCIL_TEST):(s.colorMask(!1,!1,!1,!1),s.stencilOp(s.KEEP,s.KEEP,s.DECR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,this._useCurrent())},r.prototype._useCurrent=function(){var n=this.renderer.gl;n.colorMask(!0,!0,!0,!0),n.stencilFunc(n.EQUAL,this.getStackLength(),4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP)},r}(AbstractMaskSystem$1),ProjectionSystem$1=function(){function t(r){this.renderer=r,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Matrix$1,this.transform=null}return t.prototype.update=function(r,n,s,o){this.destinationFrame=r||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||r,this.calculateProjection(this.destinationFrame,this.sourceFrame,s,o),this.transform&&this.projectionMatrix.append(this.transform);var h=this.renderer;h.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,h.globalUniforms.update(),h.shader.shader&&h.shader.syncUniformGroup(h.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(r,n,s,o){var h=this.projectionMatrix,l=o?-1:1;h.identity(),h.a=1/n.width*2,h.d=l*(1/n.height*2),h.tx=-1-n.x*h.a,h.ty=-l-n.y*h.d},t.prototype.setTransform=function(r){},t.prototype.destroy=function(){this.renderer=null},t}(),tempRect$1=new Rectangle$1,tempRect2$1=new Rectangle$1,RenderTextureSystem$1=function(){function t(r){this.renderer=r,this.clearColor=r._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Rectangle$1,this.destinationFrame=new Rectangle$1,this.viewportFrame=new Rectangle$1}return t.prototype.bind=function(r,n,s){r===void 0&&(r=null);var o=this.renderer;this.current=r;var h,l,c;r?(h=r.baseTexture,c=h.resolution,n||(tempRect$1.width=r.frame.width,tempRect$1.height=r.frame.height,n=tempRect$1),s||(tempRect2$1.x=r.frame.x,tempRect2$1.y=r.frame.y,tempRect2$1.width=n.width,tempRect2$1.height=n.height,s=tempRect2$1),l=h.framebuffer):(c=o.resolution,n||(tempRect$1.width=o.screen.width,tempRect$1.height=o.screen.height,n=tempRect$1),s||(s=tempRect$1,s.width=n.width,s.height=n.height));var d=this.viewportFrame;d.x=s.x*c,d.y=s.y*c,d.width=s.width*c,d.height=s.height*c,r||(d.y=o.view.height-(d.y+d.height)),d.ceil(),this.renderer.framebuffer.bind(l,d),this.renderer.projection.update(s,n,c,!l),r?this.renderer.mask.setMaskStack(h.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(s)},t.prototype.clear=function(r,n){this.current?r=r||this.current.baseTexture.clearColor:r=r||this.clearColor;var s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer.screen,h=s.width!==o.width||s.height!==o.height;if(h){var l=this.viewportFrame,c=l.x,d=l.y,v=l.width,g=l.height;c=Math.round(c),d=Math.round(d),v=Math.round(v),g=Math.round(g),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,d,v,g)}this.renderer.framebuffer.clear(r[0],r[1],r[2],r[3],n),h&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function uboUpdate$1(t,r,n,s,o){n.buffer.update(o)}var UBO_TO_SINGLE_SETTERS$1={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},GLSL_TO_STD40_SIZE$1={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function createUBOElements$1(t){for(var r=t.map(function(d){return{data:d,offset:0,dataLen:0,dirty:0}}),n=0,s=0,o=0,h=0;h<r.length;h++){var l=r[h];if(n=GLSL_TO_STD40_SIZE$1[l.data.type],l.data.size>1&&(n=Math.max(n,16)*l.data.size),l.dataLen=n,s%n!==0&&s<16){var c=s%n%16;s+=c,o+=c}s+n>16?(o=Math.ceil(o/16)*16,l.offset=o,o+=n,s=n):(l.offset=o,s+=n,o+=n)}return o=Math.ceil(o/16)*16,{uboElements:r,size:o}}function getUBOData$1(t,r){var n=[];for(var s in t)r[s]&&n.push(r[s]);return n.sort(function(o,h){return o.index-h.index}),n}function generateUniformBufferSync$1(t,r){if(!t.autoManage)return{size:0,syncFunc:uboUpdate$1};for(var n=getUBOData$1(t.uniforms,r),s=createUBOElements$1(n),o=s.uboElements,h=s.size,l=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],c=0;c<o.length;c++){for(var d=o[c],v=t.uniforms[d.data.name],g=d.data.name,m=!1,_=0;_<uniformParsers$1.length;_++){var y=uniformParsers$1[_];if(y.codeUbo&&y.test(d.data,v)){l.push("offset = "+d.offset/4+";",uniformParsers$1[_].codeUbo(d.data.name,v)),m=!0;break}}if(!m)if(d.data.size>1){var B=mapSize$1(d.data.type),w=Math.max(GLSL_TO_STD40_SIZE$1[d.data.type]/16,1),C=B/w,b=(4-C%4)%4;l.push(`
                cv = ud.`+g+`.value;
                v = uv.`+g+`;
                offset = `+d.offset/4+`;

                t = 0;

                for(var i=0; i < `+d.data.size*w+`; i++)
                {
                    for(var j = 0; j < `+C+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+b+`;
                }

                `)}else{var I=UBO_TO_SINGLE_SETTERS$1[d.data.type];l.push(`
                cv = ud.`+g+`.value;
                v = uv.`+g+`;
                offset = `+d.offset/4+`;
                `+I+`;
                `)}}return l.push(`
       renderer.buffer.update(buffer);
    `),{size:h,syncFunc:new Function("ud","uv","renderer","syncData","buffer",l.join(`
`))}}var GLProgram$1=function(){function t(r,n){this.program=r,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function getAttributeData$1(t,r){for(var n={},s=r.getProgramParameter(t,r.ACTIVE_ATTRIBUTES),o=0;o<s;o++){var h=r.getActiveAttrib(t,o);if(h.name.indexOf("gl_")!==0){var l=mapType$1(r,h.type),c={type:l,name:h.name,size:mapSize$1(l),location:r.getAttribLocation(t,h.name)};n[h.name]=c}}return n}function getUniformData$1(t,r){for(var n={},s=r.getProgramParameter(t,r.ACTIVE_UNIFORMS),o=0;o<s;o++){var h=r.getActiveUniform(t,o),l=h.name.replace(/\[.*?\]$/,""),c=!!h.name.match(/\[.*?\]$/),d=mapType$1(r,h.type);n[l]={name:l,index:o,type:d,size:h.size,isArray:c,value:defaultValue$1(d,h.size)}}return n}function generateProgram$1(t,r){var n=compileShader$1(t,t.VERTEX_SHADER,r.vertexSrc),s=compileShader$1(t,t.FRAGMENT_SHADER,r.fragmentSrc),o=t.createProgram();if(t.attachShader(o,n),t.attachShader(o,s),t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS)||logProgramError$1(t,o,n,s),r.attributeData=getAttributeData$1(o,t),r.uniformData=getUniformData$1(o,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(r.vertexSrc)){var h=Object.keys(r.attributeData);h.sort(function(g,m){return g>m?1:-1});for(var l=0;l<h.length;l++)r.attributeData[h[l]].location=l,t.bindAttribLocation(o,l,h[l]);t.linkProgram(o)}t.deleteShader(n),t.deleteShader(s);var c={};for(var l in r.uniformData){var d=r.uniformData[l];c[l]={location:t.getUniformLocation(o,l),value:defaultValue$1(d.type,d.size)}}var v=new GLProgram$1(o,c);return v}var UID$5=0,defaultSyncData$1={textureCount:0,uboCount:0},ShaderSystem$1=function(){function t(r){this.destroyed=!1,this.renderer=r,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=UID$5++}return t.prototype.systemCheck=function(){if(!unsafeEvalSupported$1())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(r){this.gl=r,this.reset()},t.prototype.bind=function(r,n){r.uniforms.globals=this.renderer.globalUniforms;var s=r.program,o=s.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(r);return this.shader=r,this.program!==s&&(this.program=s,this.gl.useProgram(o.program)),n||(defaultSyncData$1.textureCount=0,defaultSyncData$1.uboCount=0,this.syncUniformGroup(r.uniformGroup,defaultSyncData$1)),o},t.prototype.setUniforms=function(r){var n=this.shader.program,s=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(s.uniformData,r,this.renderer)},t.prototype.syncUniformGroup=function(r,n){var s=this.getGlProgram();(!r.static||r.dirtyId!==s.uniformDirtyGroups[r.id])&&(s.uniformDirtyGroups[r.id]=r.dirtyId,this.syncUniforms(r,s,n))},t.prototype.syncUniforms=function(r,n,s){var o=r.syncUniforms[this.shader.program.id]||this.createSyncGroups(r);o(n.uniformData,r.uniforms,this.renderer,s)},t.prototype.createSyncGroups=function(r){var n=this.getSignature(r,this.shader.program.uniformData,"u");return this.cache[n]||(this.cache[n]=generateUniformsSync$1(r,this.shader.program.uniformData)),r.syncUniforms[this.shader.program.id]=this.cache[n],r.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(r,n){var s=this.getGlProgram();if(!r.static||r.dirtyId!==0||!s.uniformGroups[r.id]){r.dirtyId=0;var o=s.uniformGroups[r.id]||this.createSyncBufferGroup(r,s,n);r.buffer.update(),o(s.uniformData,r.uniforms,this.renderer,defaultSyncData$1,r.buffer)}this.renderer.buffer.bindBufferBase(r.buffer,s.uniformBufferBindings[n])},t.prototype.createSyncBufferGroup=function(r,n,s){var o=this.renderer.gl;this.renderer.buffer.bind(r.buffer);var h=this.gl.getUniformBlockIndex(n.program,s);n.uniformBufferBindings[s]=this.shader.uniformBindCount,o.uniformBlockBinding(n.program,h,this.shader.uniformBindCount),this.shader.uniformBindCount++;var l=this.getSignature(r,this.shader.program.uniformData,"ubo"),c=this._uboCache[l];if(c||(c=this._uboCache[l]=generateUniformBufferSync$1(r,this.shader.program.uniformData)),r.autoManage){var d=new Float32Array(c.size/4);r.buffer.update(d)}return n.uniformGroups[r.id]=c.syncFunc,n.uniformGroups[r.id]},t.prototype.getSignature=function(r,n,s){var o=r.uniforms,h=[s+"-"];for(var l in o)h.push(l),n[l]&&h.push(n[l].type);return h.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(r){var n=this.gl,s=r.program,o=generateProgram$1(n,s);return s.glPrograms[this.renderer.CONTEXT_UID]=o,o},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function mapWebGLBlendModesToPixi$1(t,r){return r===void 0&&(r=[]),r[BLEND_MODES$4.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.ADD]=[t.ONE,t.ONE],r[BLEND_MODES$4.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.NONE]=[0,0],r[BLEND_MODES$4.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],r[BLEND_MODES$4.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.SRC_IN]=[t.DST_ALPHA,t.ZERO],r[BLEND_MODES$4.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],r[BLEND_MODES$4.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],r[BLEND_MODES$4.DST_IN]=[t.ZERO,t.SRC_ALPHA],r[BLEND_MODES$4.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],r[BLEND_MODES$4.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],r}var BLEND$2=0,OFFSET$2=1,CULLING$2=2,DEPTH_TEST$2=3,WINDING$2=4,DEPTH_MASK$2=5,StateSystem$1=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=BLEND_MODES$4.NONE,this._blendEq=!1,this.map=[],this.map[BLEND$2]=this.setBlend,this.map[OFFSET$2]=this.setOffset,this.map[CULLING$2]=this.setCullFace,this.map[DEPTH_TEST$2]=this.setDepthTest,this.map[WINDING$2]=this.setFrontFace,this.map[DEPTH_MASK$2]=this.setDepthMask,this.checks=[],this.defaultState=new State$1,this.defaultState.blend=!0}return t.prototype.contextChange=function(r){this.gl=r,this.blendModes=mapWebGLBlendModesToPixi$1(r),this.set(this.defaultState),this.reset()},t.prototype.set=function(r){if(r=r||this.defaultState,this.stateId!==r.data){for(var n=this.stateId^r.data,s=0;n;)n&1&&this.map[s].call(this,!!(r.data&1<<s)),n=n>>1,s++;this.stateId=r.data}for(var s=0;s<this.checks.length;s++)this.checks[s](this,r)},t.prototype.forceState=function(r){r=r||this.defaultState;for(var n=0;n<this.map.length;n++)this.map[n].call(this,!!(r.data&1<<n));for(var n=0;n<this.checks.length;n++)this.checks[n](this,r);this.stateId=r.data},t.prototype.setBlend=function(r){this.updateCheck(t.checkBlendMode,r),this.gl[r?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(r){this.updateCheck(t.checkPolygonOffset,r),this.gl[r?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(r){this.gl[r?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(r){this.gl.depthMask(r)},t.prototype.setCullFace=function(r){this.gl[r?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(r){this.gl.frontFace(this.gl[r?"CW":"CCW"])},t.prototype.setBlendMode=function(r){if(r!==this.blendMode){this.blendMode=r;var n=this.blendModes[r],s=this.gl;n.length===2?s.blendFunc(n[0],n[1]):s.blendFuncSeparate(n[0],n[1],n[2],n[3]),n.length===6?(this._blendEq=!0,s.blendEquationSeparate(n[4],n[5])):this._blendEq&&(this._blendEq=!1,s.blendEquationSeparate(s.FUNC_ADD,s.FUNC_ADD))}},t.prototype.setPolygonOffset=function(r,n){this.gl.polygonOffset(r,n)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(r,n){var s=this.checks.indexOf(r);n&&s===-1?this.checks.push(r):!n&&s!==-1&&this.checks.splice(s,1)},t.checkBlendMode=function(r,n){r.setBlendMode(n.blendMode)},t.checkPolygonOffset=function(r,n){r.setPolygonOffset(1,n.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),TextureGCSystem$1=function(){function t(r){this.renderer=r,this.count=0,this.checkCount=0,this.maxIdle=settings$1.GC_MAX_IDLE,this.checkCountMax=settings$1.GC_MAX_CHECK_COUNT,this.mode=settings$1.GC_MODE}return t.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==GC_MODES$4.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var r=this.renderer.texture,n=r.managedTextures,s=!1,o=0;o<n.length;o++){var h=n[o];!h.framebuffer&&this.count-h.touched>this.maxIdle&&(r.destroyTexture(h,!0),n[o]=null,s=!0)}if(s){for(var l=0,o=0;o<n.length;o++)n[o]!==null&&(n[l++]=n[o]);n.length=l}},t.prototype.unload=function(r){var n=this.renderer.texture,s=r._texture;s&&!s.framebuffer&&n.destroyTexture(s);for(var o=r.children.length-1;o>=0;o--)this.unload(r.children[o])},t.prototype.destroy=function(){this.renderer=null},t}();function mapTypeAndFormatToInternalFormat$1(t){var r,n,s,o,h,l,c,d,v,g,m,_,y,B,w,C,b,I,S,R,O,P,N;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?N=(r={},r[TYPES$4.UNSIGNED_BYTE]=(n={},n[FORMATS$4.RGBA]=t.RGBA8,n[FORMATS$4.RGB]=t.RGB8,n[FORMATS$4.RG]=t.RG8,n[FORMATS$4.RED]=t.R8,n[FORMATS$4.RGBA_INTEGER]=t.RGBA8UI,n[FORMATS$4.RGB_INTEGER]=t.RGB8UI,n[FORMATS$4.RG_INTEGER]=t.RG8UI,n[FORMATS$4.RED_INTEGER]=t.R8UI,n[FORMATS$4.ALPHA]=t.ALPHA,n[FORMATS$4.LUMINANCE]=t.LUMINANCE,n[FORMATS$4.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,n),r[TYPES$4.BYTE]=(s={},s[FORMATS$4.RGBA]=t.RGBA8_SNORM,s[FORMATS$4.RGB]=t.RGB8_SNORM,s[FORMATS$4.RG]=t.RG8_SNORM,s[FORMATS$4.RED]=t.R8_SNORM,s[FORMATS$4.RGBA_INTEGER]=t.RGBA8I,s[FORMATS$4.RGB_INTEGER]=t.RGB8I,s[FORMATS$4.RG_INTEGER]=t.RG8I,s[FORMATS$4.RED_INTEGER]=t.R8I,s),r[TYPES$4.UNSIGNED_SHORT]=(o={},o[FORMATS$4.RGBA_INTEGER]=t.RGBA16UI,o[FORMATS$4.RGB_INTEGER]=t.RGB16UI,o[FORMATS$4.RG_INTEGER]=t.RG16UI,o[FORMATS$4.RED_INTEGER]=t.R16UI,o[FORMATS$4.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,o),r[TYPES$4.SHORT]=(h={},h[FORMATS$4.RGBA_INTEGER]=t.RGBA16I,h[FORMATS$4.RGB_INTEGER]=t.RGB16I,h[FORMATS$4.RG_INTEGER]=t.RG16I,h[FORMATS$4.RED_INTEGER]=t.R16I,h),r[TYPES$4.UNSIGNED_INT]=(l={},l[FORMATS$4.RGBA_INTEGER]=t.RGBA32UI,l[FORMATS$4.RGB_INTEGER]=t.RGB32UI,l[FORMATS$4.RG_INTEGER]=t.RG32UI,l[FORMATS$4.RED_INTEGER]=t.R32UI,l[FORMATS$4.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,l),r[TYPES$4.INT]=(c={},c[FORMATS$4.RGBA_INTEGER]=t.RGBA32I,c[FORMATS$4.RGB_INTEGER]=t.RGB32I,c[FORMATS$4.RG_INTEGER]=t.RG32I,c[FORMATS$4.RED_INTEGER]=t.R32I,c),r[TYPES$4.FLOAT]=(d={},d[FORMATS$4.RGBA]=t.RGBA32F,d[FORMATS$4.RGB]=t.RGB32F,d[FORMATS$4.RG]=t.RG32F,d[FORMATS$4.RED]=t.R32F,d[FORMATS$4.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,d),r[TYPES$4.HALF_FLOAT]=(v={},v[FORMATS$4.RGBA]=t.RGBA16F,v[FORMATS$4.RGB]=t.RGB16F,v[FORMATS$4.RG]=t.RG16F,v[FORMATS$4.RED]=t.R16F,v),r[TYPES$4.UNSIGNED_SHORT_5_6_5]=(g={},g[FORMATS$4.RGB]=t.RGB565,g),r[TYPES$4.UNSIGNED_SHORT_4_4_4_4]=(m={},m[FORMATS$4.RGBA]=t.RGBA4,m),r[TYPES$4.UNSIGNED_SHORT_5_5_5_1]=(_={},_[FORMATS$4.RGBA]=t.RGB5_A1,_),r[TYPES$4.UNSIGNED_INT_2_10_10_10_REV]=(y={},y[FORMATS$4.RGBA]=t.RGB10_A2,y[FORMATS$4.RGBA_INTEGER]=t.RGB10_A2UI,y),r[TYPES$4.UNSIGNED_INT_10F_11F_11F_REV]=(B={},B[FORMATS$4.RGB]=t.R11F_G11F_B10F,B),r[TYPES$4.UNSIGNED_INT_5_9_9_9_REV]=(w={},w[FORMATS$4.RGB]=t.RGB9_E5,w),r[TYPES$4.UNSIGNED_INT_24_8]=(C={},C[FORMATS$4.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,C),r[TYPES$4.FLOAT_32_UNSIGNED_INT_24_8_REV]=(b={},b[FORMATS$4.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,b),r):N=(I={},I[TYPES$4.UNSIGNED_BYTE]=(S={},S[FORMATS$4.RGBA]=t.RGBA,S[FORMATS$4.RGB]=t.RGB,S[FORMATS$4.ALPHA]=t.ALPHA,S[FORMATS$4.LUMINANCE]=t.LUMINANCE,S[FORMATS$4.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,S),I[TYPES$4.UNSIGNED_SHORT_5_6_5]=(R={},R[FORMATS$4.RGB]=t.RGB,R),I[TYPES$4.UNSIGNED_SHORT_4_4_4_4]=(O={},O[FORMATS$4.RGBA]=t.RGBA,O),I[TYPES$4.UNSIGNED_SHORT_5_5_5_1]=(P={},P[FORMATS$4.RGBA]=t.RGBA,P),I),N}var GLTexture$1=function(){function t(r){this.texture=r,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=TYPES$4.UNSIGNED_BYTE,this.internalFormat=FORMATS$4.RGBA,this.samplerType=0}return t}(),TextureSystem$1=function(){function t(r){this.renderer=r,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new BaseTexture$1,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=mapTypeAndFormatToInternalFormat$1(r);var n=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(var s=0;s<n;s++)this.boundTextures[s]=null;this.emptyTextures={};var o=new GLTexture$1(r.createTexture());r.bindTexture(r.TEXTURE_2D,o.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[r.TEXTURE_2D]=o,this.emptyTextures[r.TEXTURE_CUBE_MAP]=new GLTexture$1(r.createTexture()),r.bindTexture(r.TEXTURE_CUBE_MAP,this.emptyTextures[r.TEXTURE_CUBE_MAP].texture);for(var s=0;s<6;s++)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,null);r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MIN_FILTER,r.LINEAR);for(var s=0;s<this.boundTextures.length;s++)this.bind(null,s)},t.prototype.bind=function(r,n){n===void 0&&(n=0);var s=this.gl;if(r=r==null?void 0:r.castToBaseTexture(),r&&r.valid&&!r.parentTextureArray){r.touched=this.renderer.textureGC.count;var o=r._glTextures[this.CONTEXT_UID]||this.initTexture(r);this.boundTextures[n]!==r&&(this.currentLocation!==n&&(this.currentLocation=n,s.activeTexture(s.TEXTURE0+n)),s.bindTexture(r.target,o.texture)),o.dirtyId!==r.dirtyId&&(this.currentLocation!==n&&(this.currentLocation=n,s.activeTexture(s.TEXTURE0+n)),this.updateTexture(r)),this.boundTextures[n]=r}else this.currentLocation!==n&&(this.currentLocation=n,s.activeTexture(s.TEXTURE0+n)),s.bindTexture(s.TEXTURE_2D,this.emptyTextures[s.TEXTURE_2D].texture),this.boundTextures[n]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]=this.unknownTexture},t.prototype.unbind=function(r){var n=this,s=n.gl,o=n.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var h=0;h<o.length;h++)o[h]===this.unknownTexture&&this.bind(null,h)}for(var h=0;h<o.length;h++)o[h]===r&&(this.currentLocation!==h&&(s.activeTexture(s.TEXTURE0+h),this.currentLocation=h),s.bindTexture(r.target,this.emptyTextures[r.target].texture),o[h]=null)},t.prototype.ensureSamplerType=function(r){var n=this,s=n.boundTextures,o=n.hasIntegerTextures,h=n.CONTEXT_UID;if(!!o)for(var l=r-1;l>=0;--l){var c=s[l];if(c){var d=c._glTextures[h];d.samplerType!==SAMPLER_TYPES$4.FLOAT&&this.renderer.texture.unbind(c)}}},t.prototype.initTexture=function(r){var n=new GLTexture$1(this.gl.createTexture());return n.dirtyId=-1,r._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(r),r.on("dispose",this.destroyTexture,this),n},t.prototype.initTextureType=function(r,n){var s,o;n.internalFormat=(o=(s=this.internalFormats[r.type])===null||s===void 0?void 0:s[r.format])!==null&&o!==void 0?o:r.format,this.webGLVersion===2&&r.type===TYPES$4.HALF_FLOAT?n.type=this.gl.HALF_FLOAT:n.type=r.type},t.prototype.updateTexture=function(r){var n=r._glTextures[this.CONTEXT_UID];if(!!n){var s=this.renderer;if(this.initTextureType(r,n),r.resource&&r.resource.upload(s,r,n))n.samplerType!==SAMPLER_TYPES$4.FLOAT&&(this.hasIntegerTextures=!0);else{var o=r.realWidth,h=r.realHeight,l=s.gl;(n.width!==o||n.height!==h||n.dirtyId<0)&&(n.width=o,n.height=h,l.texImage2D(r.target,0,n.internalFormat,o,h,0,r.format,n.type,null))}r.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(r),n.dirtyId=r.dirtyId}},t.prototype.destroyTexture=function(r,n){var s=this.gl;if(r=r.castToBaseTexture(),r._glTextures[this.CONTEXT_UID]&&(this.unbind(r),s.deleteTexture(r._glTextures[this.CONTEXT_UID].texture),r.off("dispose",this.destroyTexture,this),delete r._glTextures[this.CONTEXT_UID],!n)){var o=this.managedTextures.indexOf(r);o!==-1&&removeItems$1(this.managedTextures,o,1)}},t.prototype.updateTextureStyle=function(r){var n=r._glTextures[this.CONTEXT_UID];!n||((r.mipmap===MIPMAP_MODES$4.POW2||this.webGLVersion!==2)&&!r.isPowerOfTwo?n.mipmap=!1:n.mipmap=r.mipmap>=1,this.webGLVersion!==2&&!r.isPowerOfTwo?n.wrapMode=WRAP_MODES$4.CLAMP:n.wrapMode=r.wrapMode,r.resource&&r.resource.style(this.renderer,r,n)||this.setStyle(r,n),n.dirtyStyleId=r.dirtyStyleId)},t.prototype.setStyle=function(r,n){var s=this.gl;if(n.mipmap&&r.mipmap!==MIPMAP_MODES$4.ON_MANUAL&&s.generateMipmap(r.target),s.texParameteri(r.target,s.TEXTURE_WRAP_S,n.wrapMode),s.texParameteri(r.target,s.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){s.texParameteri(r.target,s.TEXTURE_MIN_FILTER,r.scaleMode===SCALE_MODES$4.LINEAR?s.LINEAR_MIPMAP_LINEAR:s.NEAREST_MIPMAP_NEAREST);var o=this.renderer.context.extensions.anisotropicFiltering;if(o&&r.anisotropicLevel>0&&r.scaleMode===SCALE_MODES$4.LINEAR){var h=Math.min(r.anisotropicLevel,s.getParameter(o.MAX_TEXTURE_MAX_ANISOTROPY_EXT));s.texParameterf(r.target,o.TEXTURE_MAX_ANISOTROPY_EXT,h)}}else s.texParameteri(r.target,s.TEXTURE_MIN_FILTER,r.scaleMode===SCALE_MODES$4.LINEAR?s.LINEAR:s.NEAREST);s.texParameteri(r.target,s.TEXTURE_MAG_FILTER,r.scaleMode===SCALE_MODES$4.LINEAR?s.LINEAR:s.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),_systems$1={__proto__:null,FilterSystem:FilterSystem$1,BatchSystem:BatchSystem$1,ContextSystem:ContextSystem$1,FramebufferSystem:FramebufferSystem$1,GeometrySystem:GeometrySystem$1,MaskSystem:MaskSystem$1,ScissorSystem:ScissorSystem$1,StencilSystem:StencilSystem$1,ProjectionSystem:ProjectionSystem$1,RenderTextureSystem:RenderTextureSystem$1,ShaderSystem:ShaderSystem$1,StateSystem:StateSystem$1,TextureGCSystem:TextureGCSystem$1,TextureSystem:TextureSystem$1},tempMatrix$5=new Matrix$1,AbstractRenderer$1=function(t){__extends$l(r,t);function r(n,s){n===void 0&&(n=RENDERER_TYPE$4.UNKNOWN);var o=t.call(this)||this;return s=Object.assign({},settings$1.RENDER_OPTIONS,s),o.options=s,o.type=n,o.screen=new Rectangle$1(0,0,s.width,s.height),o.view=s.view||document.createElement("canvas"),o.resolution=s.resolution||settings$1.RESOLUTION,o.useContextAlpha=s.useContextAlpha,o.autoDensity=!!s.autoDensity,o.preserveDrawingBuffer=s.preserveDrawingBuffer,o.clearBeforeRender=s.clearBeforeRender,o._backgroundColor=0,o._backgroundColorRgba=[0,0,0,1],o._backgroundColorString="#000000",o.backgroundColor=s.backgroundColor||o._backgroundColor,o.backgroundAlpha=s.backgroundAlpha,s.transparent!==void 0&&(deprecation$1("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),o.useContextAlpha=s.transparent,o.backgroundAlpha=s.transparent?0:1),o._lastObjectRendered=null,o.plugins={},o}return r.prototype.initPlugins=function(n){for(var s in n)this.plugins[s]=new n[s](this)},Object.defineProperty(r.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),r.prototype.resize=function(n,s){this.view.width=Math.round(n*this.resolution),this.view.height=Math.round(s*this.resolution);var o=this.view.width/this.resolution,h=this.view.height/this.resolution;this.screen.width=o,this.screen.height=h,this.autoDensity&&(this.view.style.width=o+"px",this.view.style.height=h+"px"),this.emit("resize",o,h)},r.prototype.generateTexture=function(n,s,o,h){s===void 0&&(s={}),typeof s=="number"&&(deprecation$1("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),s={scaleMode:s,resolution:o,region:h});var l=s.region,c=__rest$1(s,["region"]);h=l||n.getLocalBounds(null,!0),h.width===0&&(h.width=1),h.height===0&&(h.height=1);var d=RenderTexture$1.create(__assign$1({width:h.width,height:h.height},c));return tempMatrix$5.tx=-h.x,tempMatrix$5.ty=-h.y,this.render(n,{renderTexture:d,clear:!1,transform:tempMatrix$5,skipUpdateTransform:!!n.parent}),d},r.prototype.destroy=function(n){for(var s in this.plugins)this.plugins[s].destroy(),this.plugins[s]=null;n&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var o=this;o.plugins=null,o.type=RENDERER_TYPE$4.UNKNOWN,o.view=null,o.screen=null,o._tempDisplayObjectParent=null,o.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(r.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(n){this._backgroundColor=n,this._backgroundColorString=hex2string$1(n),hex2rgb$1(n,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(n){this._backgroundColorRgba[3]=n},enumerable:!1,configurable:!0}),r}(EventEmitter),GLBuffer$1=function(){function t(r){this.buffer=r||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),BufferSystem$1=function(){function t(r){this.renderer=r,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(r){var n=this,s=n.gl,o=n.CONTEXT_UID,h=r._glBuffers[o]||this.createGLBuffer(r);s.bindBuffer(r.type,h.buffer)},t.prototype.bindBufferBase=function(r,n){var s=this,o=s.gl,h=s.CONTEXT_UID;if(this.boundBufferBases[n]!==r){var l=r._glBuffers[h]||this.createGLBuffer(r);this.boundBufferBases[n]=r,o.bindBufferBase(o.UNIFORM_BUFFER,n,l.buffer)}},t.prototype.bindBufferRange=function(r,n,s){var o=this,h=o.gl,l=o.CONTEXT_UID;s=s||0;var c=r._glBuffers[l]||this.createGLBuffer(r);h.bindBufferRange(h.UNIFORM_BUFFER,n||0,c.buffer,s*256,256)},t.prototype.update=function(r){var n=this,s=n.gl,o=n.CONTEXT_UID,h=r._glBuffers[o];if(r._updateID!==h.updateID)if(h.updateID=r._updateID,s.bindBuffer(r.type,h.buffer),h.byteLength>=r.data.byteLength)s.bufferSubData(r.type,0,r.data);else{var l=r.static?s.STATIC_DRAW:s.DYNAMIC_DRAW;h.byteLength=r.data.byteLength,s.bufferData(r.type,r.data,l)}},t.prototype.dispose=function(r,n){if(!!this.managedBuffers[r.id]){delete this.managedBuffers[r.id];var s=r._glBuffers[this.CONTEXT_UID],o=this.gl;r.disposeRunner.remove(this),s&&(n||o.deleteBuffer(s.buffer),delete r._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(r){for(var n=Object.keys(this.managedBuffers),s=0;s<n.length;s++)this.dispose(this.managedBuffers[n[s]],r)},t.prototype.createGLBuffer=function(r){var n=this,s=n.CONTEXT_UID,o=n.gl;return r._glBuffers[s]=new GLBuffer$1(o.createBuffer()),this.managedBuffers[r.id]=r,r.disposeRunner.add(this),r._glBuffers[s]},t}(),Renderer=function(t){__extends$l(r,t);function r(n){var s=t.call(this,RENDERER_TYPE$4.WEBGL,n)||this;return n=s.options,s.gl=null,s.CONTEXT_UID=0,s.runners={destroy:new Runner$1("destroy"),contextChange:new Runner$1("contextChange"),reset:new Runner$1("reset"),update:new Runner$1("update"),postrender:new Runner$1("postrender"),prerender:new Runner$1("prerender"),resize:new Runner$1("resize")},s.runners.contextChange.add(s),s.globalUniforms=new UniformGroup$1({projectionMatrix:new Matrix$1},!0),s.addSystem(MaskSystem$1,"mask").addSystem(ContextSystem$1,"context").addSystem(StateSystem$1,"state").addSystem(ShaderSystem$1,"shader").addSystem(TextureSystem$1,"texture").addSystem(BufferSystem$1,"buffer").addSystem(GeometrySystem$1,"geometry").addSystem(FramebufferSystem$1,"framebuffer").addSystem(ScissorSystem$1,"scissor").addSystem(StencilSystem$1,"stencil").addSystem(ProjectionSystem$1,"projection").addSystem(TextureGCSystem$1,"textureGC").addSystem(FilterSystem$1,"filter").addSystem(RenderTextureSystem$1,"renderTexture").addSystem(BatchSystem$1,"batch"),s.initPlugins(r.__plugins),s.multisample=void 0,n.context?s.context.initFromContext(n.context):s.context.initFromOptions({alpha:!!s.useContextAlpha,antialias:n.antialias,premultipliedAlpha:s.useContextAlpha&&s.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer,powerPreference:s.options.powerPreference}),s.renderingToScreen=!0,sayHello$1(s.context.webGLVersion===2?"WebGL 2":"WebGL 1"),s.resize(s.options.width,s.options.height),s}return r.create=function(n){if(isWebGLSupported$1())return new r(n);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},r.prototype.contextChange=function(){var n=this.gl,s;if(this.context.webGLVersion===1){var o=n.getParameter(n.FRAMEBUFFER_BINDING);n.bindFramebuffer(n.FRAMEBUFFER,null),s=n.getParameter(n.SAMPLES),n.bindFramebuffer(n.FRAMEBUFFER,o)}else{var o=n.getParameter(n.DRAW_FRAMEBUFFER_BINDING);n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),s=n.getParameter(n.SAMPLES),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,o)}s>=MSAA_QUALITY$4.HIGH?this.multisample=MSAA_QUALITY$4.HIGH:s>=MSAA_QUALITY$4.MEDIUM?this.multisample=MSAA_QUALITY$4.MEDIUM:s>=MSAA_QUALITY$4.LOW?this.multisample=MSAA_QUALITY$4.LOW:this.multisample=MSAA_QUALITY$4.NONE},r.prototype.addSystem=function(n,s){var o=new n(this);if(this[s])throw new Error('Whoops! The name "'+s+'" is already in use');this[s]=o;for(var h in this.runners)this.runners[h].add(o);return this},r.prototype.render=function(n,s){var o,h,l,c;if(s&&(s instanceof RenderTexture$1?(deprecation$1("6.0.0","Renderer#render arguments changed, use options instead."),o=s,h=arguments[2],l=arguments[3],c=arguments[4]):(o=s.renderTexture,h=s.clear,l=s.transform,c=s.skipUpdateTransform)),this.renderingToScreen=!o,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=l,!this.context.isLost){if(o||(this._lastObjectRendered=n),!c){var d=n.enableTempParent();n.updateTransform(),n.disableTempParent(d)}this.renderTexture.bind(o),this.batch.currentRenderer.start(),(h!==void 0?h:this.clearBeforeRender)&&this.renderTexture.clear(),n.render(this),this.batch.currentRenderer.flush(),o&&o.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},r.prototype.generateTexture=function(n,s,o,h){s===void 0&&(s={});var l=t.prototype.generateTexture.call(this,n,s,o,h);return this.framebuffer.blit(),l},r.prototype.resize=function(n,s){t.prototype.resize.call(this,n,s),this.runners.resize.emit(this.screen.height,this.screen.width)},r.prototype.reset=function(){return this.runners.reset.emit(),this},r.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},r.prototype.destroy=function(n){this.runners.destroy.emit();for(var s in this.runners)this.runners[s].destroy();t.prototype.destroy.call(this,n),this.gl=null},Object.defineProperty(r.prototype,"extract",{get:function(){return deprecation$1("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),r.registerPlugin=function(n,s){r.__plugins=r.__plugins||{},r.__plugins[n]=s},r}(AbstractRenderer$1);function autoDetectRenderer(t){return Renderer.create(t)}var $defaultVertex=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,$defaultFilterVertex=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,defaultVertex$1=$defaultVertex,defaultFilterVertex=$defaultFilterVertex,BatchDrawCall$1=function(){function t(){this.texArray=null,this.blend=0,this.type=DRAW_MODES$4.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),BatchTextureArray$1=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var r=0;r<this.count;r++)this.elements[r]=null;this.count=0},t}(),ViewableBuffer$1=function(){function t(r){typeof r=="number"?this.rawBinaryData=new ArrayBuffer(r):r instanceof Uint8Array?this.rawBinaryData=r.buffer:this.rawBinaryData=r,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(r){return this[r+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(r){switch(r){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(r+" isn't a valid view type")}},t}(),AbstractBatchRenderer$1=function(t){__extends$l(r,t);function r(n){var s=t.call(this,n)||this;return s.shaderGenerator=null,s.geometryClass=null,s.vertexSize=null,s.state=State$1.for2d(),s.size=settings$1.SPRITE_BATCH_SIZE*4,s._vertexCount=0,s._indexCount=0,s._bufferedElements=[],s._bufferedTextures=[],s._bufferSize=0,s._shader=null,s._packedGeometries=[],s._packedGeometryPoolSize=2,s._flushId=0,s._aBuffers={},s._iBuffers={},s.MAX_TEXTURES=1,s.renderer.on("prerender",s.onPrerender,s),n.runners.contextChange.add(s),s._dcIndex=0,s._aIndex=0,s._iIndex=0,s._attributeBuffer=null,s._indexBuffer=null,s._tempBoundTextures=[],s}return r.prototype.contextChange=function(){var n=this.renderer.gl;settings$1.PREFER_ENV===ENV$4.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),settings$1.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=checkMaxIfStatementsInShader$1(this.MAX_TEXTURES,n)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var s=0;s<this._packedGeometryPoolSize;s++)this._packedGeometries[s]=new this.geometryClass;this.initFlushBuffers()},r.prototype.initFlushBuffers=function(){for(var n=r._drawCallPool,s=r._textureArrayPool,o=this.size/4,h=Math.floor(o/this.MAX_TEXTURES)+1;n.length<o;)n.push(new BatchDrawCall$1);for(;s.length<h;)s.push(new BatchTextureArray$1);for(var l=0;l<this.MAX_TEXTURES;l++)this._tempBoundTextures[l]=null},r.prototype.onPrerender=function(){this._flushId=0},r.prototype.render=function(n){!n._texture.valid||(this._vertexCount+n.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=n.vertexData.length/2,this._indexCount+=n.indices.length,this._bufferedTextures[this._bufferSize]=n._texture.baseTexture,this._bufferedElements[this._bufferSize++]=n)},r.prototype.buildTexturesAndDrawCalls=function(){var n=this,s=n._bufferedTextures,o=n.MAX_TEXTURES,h=r._textureArrayPool,l=this.renderer.batch,c=this._tempBoundTextures,d=this.renderer.textureGC.count,v=++BaseTexture$1._globalBatch,g=0,m=h[0],_=0;l.copyBoundTextures(c,o);for(var y=0;y<this._bufferSize;++y){var B=s[y];s[y]=null,B._batchEnabled!==v&&(m.count>=o&&(l.boundArray(m,c,v,o),this.buildDrawCalls(m,_,y),_=y,m=h[++g],++v),B._batchEnabled=v,B.touched=d,m.elements[m.count++]=B)}m.count>0&&(l.boundArray(m,c,v,o),this.buildDrawCalls(m,_,this._bufferSize),++g,++v);for(var y=0;y<c.length;y++)c[y]=null;BaseTexture$1._globalBatch=v},r.prototype.buildDrawCalls=function(n,s,o){var h=this,l=h._bufferedElements,c=h._attributeBuffer,d=h._indexBuffer,v=h.vertexSize,g=r._drawCallPool,m=this._dcIndex,_=this._aIndex,y=this._iIndex,B=g[m];B.start=this._iIndex,B.texArray=n;for(var w=s;w<o;++w){var C=l[w],b=C._texture.baseTexture,I=premultiplyBlendMode$1[b.alphaMode?1:0][C.blendMode];l[w]=null,s<w&&B.blend!==I&&(B.size=y-B.start,s=w,B=g[++m],B.texArray=n,B.start=y),this.packInterleavedGeometry(C,c,d,_,y),_+=C.vertexData.length/2*v,y+=C.indices.length,B.blend=I}s<o&&(B.size=y-B.start,++m),this._dcIndex=m,this._aIndex=_,this._iIndex=y},r.prototype.bindAndClearTexArray=function(n){for(var s=this.renderer.texture,o=0;o<n.count;o++)s.bind(n.elements[o],n.ids[o]),n.elements[o]=null;n.count=0},r.prototype.updateGeometry=function(){var n=this,s=n._packedGeometries,o=n._attributeBuffer,h=n._indexBuffer;settings$1.CAN_UPLOAD_SAME_BUFFER?(s[this._flushId]._buffer.update(o.rawBinaryData),s[this._flushId]._indexBuffer.update(h),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,s[this._flushId]=new this.geometryClass),s[this._flushId]._buffer.update(o.rawBinaryData),s[this._flushId]._indexBuffer.update(h),this.renderer.geometry.bind(s[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},r.prototype.drawBatches=function(){for(var n=this._dcIndex,s=this.renderer,o=s.gl,h=s.state,l=r._drawCallPool,c=null,d=0;d<n;d++){var v=l[d],g=v.texArray,m=v.type,_=v.size,y=v.start,B=v.blend;c!==g&&(c=g,this.bindAndClearTexArray(g)),this.state.blendMode=B,h.set(this.state),o.drawElements(m,_,o.UNSIGNED_SHORT,y*2)}},r.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},r.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),settings$1.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},r.prototype.stop=function(){this.flush()},r.prototype.destroy=function(){for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]&&this._packedGeometries[n].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},r.prototype.getAttributeBuffer=function(n){var s=nextPow2$1(Math.ceil(n/8)),o=log2$1(s),h=s*8;this._aBuffers.length<=o&&(this._iBuffers.length=o+1);var l=this._aBuffers[h];return l||(this._aBuffers[h]=l=new ViewableBuffer$1(h*this.vertexSize*4)),l},r.prototype.getIndexBuffer=function(n){var s=nextPow2$1(Math.ceil(n/12)),o=log2$1(s),h=s*12;this._iBuffers.length<=o&&(this._iBuffers.length=o+1);var l=this._iBuffers[o];return l||(this._iBuffers[o]=l=new Uint16Array(h)),l},r.prototype.packInterleavedGeometry=function(n,s,o,h,l){for(var c=s.uint32View,d=s.float32View,v=h/this.vertexSize,g=n.uvs,m=n.indices,_=n.vertexData,y=n._texture.baseTexture._batchLocation,B=Math.min(n.worldAlpha,1),w=B<1&&n._texture.baseTexture.alphaMode?premultiplyTint$1(n._tintRGB,B):n._tintRGB+(B*255<<24),C=0;C<_.length;C+=2)d[h++]=_[C],d[h++]=_[C+1],d[h++]=g[C],d[h++]=g[C+1],c[h++]=w,d[h++]=y;for(var C=0;C<m.length;C++)o[l++]=v+m[C]},r._drawCallPool=[],r._textureArrayPool=[],r}(ObjectRenderer$1),BatchShaderGenerator$1=function(){function t(r,n){if(this.vertexSrc=r,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},n.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(n.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(r){if(!this.programCache[r]){for(var n=new Int32Array(r),s=0;s<r;s++)n[s]=s;this.defaultGroupCache[r]=UniformGroup$1.from({uSamplers:n},!0);var o=this.fragTemplate;o=o.replace(/%count%/gi,""+r),o=o.replace(/%forloop%/gi,this.generateSampleSrc(r)),this.programCache[r]=new Program$1(this.vertexSrc,o)}var h={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix$1,default:this.defaultGroupCache[r]};return new Shader$1(this.programCache[r],h)},t.prototype.generateSampleSrc=function(r){var n="";n+=`
`,n+=`
`;for(var s=0;s<r;s++)s>0&&(n+=`
else `),s<r-1&&(n+="if(vTextureId < "+s+".5)"),n+=`
{`,n+=`
	color = texture2D(uSamplers[`+s+"], vTextureCoord);",n+=`
}`;return n+=`
`,n+=`
`,n},t}(),BatchGeometry$1=function(t){__extends$l(r,t);function r(n){n===void 0&&(n=!1);var s=t.call(this)||this;return s._buffer=new Buffer$1(null,n,!1),s._indexBuffer=new Buffer$1(null,n,!0),s.addAttribute("aVertexPosition",s._buffer,2,!1,TYPES$4.FLOAT).addAttribute("aTextureCoord",s._buffer,2,!1,TYPES$4.FLOAT).addAttribute("aColor",s._buffer,4,!0,TYPES$4.UNSIGNED_BYTE).addAttribute("aTextureId",s._buffer,1,!0,TYPES$4.FLOAT).addIndex(s._indexBuffer),s}return r}(Geometry$1),defaultVertex$4=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,defaultFragment$3=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,BatchPluginFactory$1=function(){function t(){}return t.create=function(r){var n=Object.assign({vertex:defaultVertex$4,fragment:defaultFragment$3,geometryClass:BatchGeometry$1,vertexSize:6},r),s=n.vertex,o=n.fragment,h=n.vertexSize,l=n.geometryClass;return function(c){__extends$l(d,c);function d(v){var g=c.call(this,v)||this;return g.shaderGenerator=new BatchShaderGenerator$1(s,o),g.geometryClass=l,g.vertexSize=h,g}return d}(AbstractBatchRenderer$1)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return defaultVertex$4},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return defaultFragment$3},enumerable:!1,configurable:!0}),t}(),BatchRenderer=BatchPluginFactory$1.create(),resources$1={},_loop_1$1=function(t){Object.defineProperty(resources$1,t,{get:function(){return deprecation$1("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),_resources$1[t]}})};for(var name$1 in _resources$1)_loop_1$1(name$1);var systems$1={},_loop_2$1=function(t){Object.defineProperty(systems$1,t,{get:function(){return deprecation$1("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),_systems$1[t]}})};for(var name$1 in _systems$1)_loop_2$1(name$1);/*!
 * @pixi/app - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Application=function(){function t(r){var n=this;this.stage=new Container$1,r=Object.assign({forceCanvas:!1},r),this.renderer=autoDetectRenderer(r),t._plugins.forEach(function(s){s.init.call(n,r)})}return t.registerPlugin=function(r){t._plugins.push(r)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(r,n){var s=this,o=t._plugins.slice(0);o.reverse(),o.forEach(function(h){h.destroy.call(s)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(r),this.renderer=null},t._plugins=[],t}(),ResizePlugin=function(){function t(){}return t.init=function(r){var n=this;Object.defineProperty(this,"resizeTo",{set:function(s){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=s,s&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!n._resizeTo||(n.cancelResize(),n._resizeId=requestAnimationFrame(function(){return n.resize()}))},this.cancelResize=function(){n._resizeId&&(cancelAnimationFrame(n._resizeId),n._resizeId=null)},this.resize=function(){if(!!n._resizeTo){n.cancelResize();var s,o;if(n._resizeTo===globalThis.window)s=globalThis.innerWidth,o=globalThis.innerHeight;else{var h=n._resizeTo,l=h.clientWidth,c=h.clientHeight;s=l,o=c}n.renderer.resize(s,o)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=r.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();Application.registerPlugin(ResizePlugin);/*!
 * @pixi/extract - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var appleIphone=/iPhone/i,appleIpod=/iPod/i,appleTablet=/iPad/i,appleUniversal=/\biOS-universal(?:.+)Mac\b/i,androidPhone=/\bAndroid(?:.+)Mobile\b/i,androidTablet=/Android/i,amazonPhone=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,amazonTablet=/Silk/i,windowsPhone=/Windows Phone/i,windowsTablet=/\bWindows(?:.+)ARM\b/i,otherBlackBerry=/BlackBerry/i,otherBlackBerry10=/BB10/i,otherOpera=/Opera Mini/i,otherChrome=/\b(CriOS|Chrome)(?:.+)Mobile/i,otherFirefox=/Mobile(?:.+)Firefox\b/i,isAppleTabletOnIos13=function(t){return typeof t!="undefined"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream=="undefined"};function createMatch(t){return function(r){return r.test(t)}}function isMobile$1(t){var r={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator!="undefined"?r={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?r.userAgent=t:t&&t.userAgent&&(r={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var n=r.userAgent,s=n.split("[FBAN");typeof s[1]!="undefined"&&(n=s[0]),s=n.split("Twitter"),typeof s[1]!="undefined"&&(n=s[0]);var o=createMatch(n),h={apple:{phone:o(appleIphone)&&!o(windowsPhone),ipod:o(appleIpod),tablet:!o(appleIphone)&&(o(appleTablet)||isAppleTabletOnIos13(r))&&!o(windowsPhone),universal:o(appleUniversal),device:(o(appleIphone)||o(appleIpod)||o(appleTablet)||o(appleUniversal)||isAppleTabletOnIos13(r))&&!o(windowsPhone)},amazon:{phone:o(amazonPhone),tablet:!o(amazonPhone)&&o(amazonTablet),device:o(amazonPhone)||o(amazonTablet)},android:{phone:!o(windowsPhone)&&o(amazonPhone)||!o(windowsPhone)&&o(androidPhone),tablet:!o(windowsPhone)&&!o(amazonPhone)&&!o(androidPhone)&&(o(amazonTablet)||o(androidTablet)),device:!o(windowsPhone)&&(o(amazonPhone)||o(amazonTablet)||o(androidPhone)||o(androidTablet))||o(/\bokhttp\b/i)},windows:{phone:o(windowsPhone),tablet:o(windowsTablet),device:o(windowsPhone)||o(windowsTablet)},other:{blackberry:o(otherBlackBerry),blackberry10:o(otherBlackBerry10),opera:o(otherOpera),firefox:o(otherFirefox),chrome:o(otherChrome),device:o(otherBlackBerry)||o(otherBlackBerry10)||o(otherOpera)||o(otherFirefox)||o(otherChrome)},any:!1,phone:!1,tablet:!1};return h.any=h.apple.device||h.android.device||h.windows.device||h.other.device,h.phone=h.apple.phone||h.android.phone||h.windows.phone,h.tablet=h.apple.tablet||h.android.tablet||h.windows.tablet,h}/*!
 * @pixi/settings - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var isMobile=isMobile$1(globalThis.navigator);function maxRecommendedTextures(t){var r=!0;if(isMobile.tablet||isMobile.phone){if(isMobile.apple.device){var n=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(n){var s=parseInt(n[1],10);s<11&&(r=!1)}}if(isMobile.android.device){var n=navigator.userAgent.match(/Android\s([0-9.]*)/);if(n){var s=parseInt(n[1],10);s<7&&(r=!1)}}}return r?t:4}function canUploadSameBuffer(){return!isMobile.apple.device}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV$1$1;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(ENV$1$1||(ENV$1$1={}));var RENDERER_TYPE$1$1;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(RENDERER_TYPE$1$1||(RENDERER_TYPE$1$1={}));var BUFFER_BITS$1$1;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(BUFFER_BITS$1$1||(BUFFER_BITS$1$1={}));var BLEND_MODES$1$1;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(BLEND_MODES$1$1||(BLEND_MODES$1$1={}));var DRAW_MODES$1$1;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES$1$1||(DRAW_MODES$1$1={}));var FORMATS$1$1;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS$1$1||(FORMATS$1$1={}));var TARGETS$1$1;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS$1$1||(TARGETS$1$1={}));var TYPES$1$1;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES$1$1||(TYPES$1$1={}));var SAMPLER_TYPES$1$1;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(SAMPLER_TYPES$1$1||(SAMPLER_TYPES$1$1={}));var SCALE_MODES$1$1;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(SCALE_MODES$1$1||(SCALE_MODES$1$1={}));var WRAP_MODES$1$1;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES$1$1||(WRAP_MODES$1$1={}));var MIPMAP_MODES$1$1;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES$1$1||(MIPMAP_MODES$1$1={}));var ALPHA_MODES$1$1;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES$1$1||(ALPHA_MODES$1$1={}));var CLEAR_MODES$1$1;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(CLEAR_MODES$1$1||(CLEAR_MODES$1$1={}));var GC_MODES$1$1;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(GC_MODES$1$1||(GC_MODES$1$1={}));var PRECISION$1$1;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(PRECISION$1$1||(PRECISION$1$1={}));var MASK_TYPES$1$1;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(MASK_TYPES$1$1||(MASK_TYPES$1$1={}));var MSAA_QUALITY$1$1;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(MSAA_QUALITY$1$1||(MSAA_QUALITY$1$1={}));var BUFFER_TYPE$1$1;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$1$1||(BUFFER_TYPE$1$1={}));var settings={MIPMAP_TEXTURES:MIPMAP_MODES$1$1.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:MSAA_QUALITY$1$1.NONE,SPRITE_MAX_TEXTURES:maxRecommendedTextures(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:GC_MODES$1$1.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:WRAP_MODES$1$1.CLAMP,SCALE_MODE:SCALE_MODES$1$1.LINEAR,PRECISION_VERTEX:PRECISION$1$1.HIGH,PRECISION_FRAGMENT:isMobile.apple.device?PRECISION$1$1.HIGH:PRECISION$1$1.MEDIUM,CAN_UPLOAD_SAME_BUFFER:canUploadSameBuffer(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};/*!
 * @pixi/display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings.SORTABLE_CHILDREN=!1;var Bounds=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(r){return this.minX>this.maxX||this.minY>this.maxY?Rectangle$1.EMPTY:(r=r||new Rectangle$1(0,0,1,1),r.x=this.minX,r.y=this.minY,r.width=this.maxX-this.minX,r.height=this.maxY-this.minY,r)},t.prototype.addPoint=function(r){this.minX=Math.min(this.minX,r.x),this.maxX=Math.max(this.maxX,r.x),this.minY=Math.min(this.minY,r.y),this.maxY=Math.max(this.maxY,r.y)},t.prototype.addPointMatrix=function(r,n){var s=r.a,o=r.b,h=r.c,l=r.d,c=r.tx,d=r.ty,v=s*n.x+h*n.y+c,g=o*n.x+l*n.y+d;this.minX=Math.min(this.minX,v),this.maxX=Math.max(this.maxX,v),this.minY=Math.min(this.minY,g),this.maxY=Math.max(this.maxY,g)},t.prototype.addQuad=function(r){var n=this.minX,s=this.minY,o=this.maxX,h=this.maxY,l=r[0],c=r[1];n=l<n?l:n,s=c<s?c:s,o=l>o?l:o,h=c>h?c:h,l=r[2],c=r[3],n=l<n?l:n,s=c<s?c:s,o=l>o?l:o,h=c>h?c:h,l=r[4],c=r[5],n=l<n?l:n,s=c<s?c:s,o=l>o?l:o,h=c>h?c:h,l=r[6],c=r[7],n=l<n?l:n,s=c<s?c:s,o=l>o?l:o,h=c>h?c:h,this.minX=n,this.minY=s,this.maxX=o,this.maxY=h},t.prototype.addFrame=function(r,n,s,o,h){this.addFrameMatrix(r.worldTransform,n,s,o,h)},t.prototype.addFrameMatrix=function(r,n,s,o,h){var l=r.a,c=r.b,d=r.c,v=r.d,g=r.tx,m=r.ty,_=this.minX,y=this.minY,B=this.maxX,w=this.maxY,C=l*n+d*s+g,b=c*n+v*s+m;_=C<_?C:_,y=b<y?b:y,B=C>B?C:B,w=b>w?b:w,C=l*o+d*s+g,b=c*o+v*s+m,_=C<_?C:_,y=b<y?b:y,B=C>B?C:B,w=b>w?b:w,C=l*n+d*h+g,b=c*n+v*h+m,_=C<_?C:_,y=b<y?b:y,B=C>B?C:B,w=b>w?b:w,C=l*o+d*h+g,b=c*o+v*h+m,_=C<_?C:_,y=b<y?b:y,B=C>B?C:B,w=b>w?b:w,this.minX=_,this.minY=y,this.maxX=B,this.maxY=w},t.prototype.addVertexData=function(r,n,s){for(var o=this.minX,h=this.minY,l=this.maxX,c=this.maxY,d=n;d<s;d+=2){var v=r[d],g=r[d+1];o=v<o?v:o,h=g<h?g:h,l=v>l?v:l,c=g>c?g:c}this.minX=o,this.minY=h,this.maxX=l,this.maxY=c},t.prototype.addVertices=function(r,n,s,o){this.addVerticesMatrix(r.worldTransform,n,s,o)},t.prototype.addVerticesMatrix=function(r,n,s,o,h,l){h===void 0&&(h=0),l===void 0&&(l=h);for(var c=r.a,d=r.b,v=r.c,g=r.d,m=r.tx,_=r.ty,y=this.minX,B=this.minY,w=this.maxX,C=this.maxY,b=s;b<o;b+=2){var I=n[b],S=n[b+1],R=c*I+v*S+m,O=g*S+d*I+_;y=Math.min(y,R-h),w=Math.max(w,R+h),B=Math.min(B,O-l),C=Math.max(C,O+l)}this.minX=y,this.minY=B,this.maxX=w,this.maxY=C},t.prototype.addBounds=function(r){var n=this.minX,s=this.minY,o=this.maxX,h=this.maxY;this.minX=r.minX<n?r.minX:n,this.minY=r.minY<s?r.minY:s,this.maxX=r.maxX>o?r.maxX:o,this.maxY=r.maxY>h?r.maxY:h},t.prototype.addBoundsMask=function(r,n){var s=r.minX>n.minX?r.minX:n.minX,o=r.minY>n.minY?r.minY:n.minY,h=r.maxX<n.maxX?r.maxX:n.maxX,l=r.maxY<n.maxY?r.maxY:n.maxY;if(s<=h&&o<=l){var c=this.minX,d=this.minY,v=this.maxX,g=this.maxY;this.minX=s<c?s:c,this.minY=o<d?o:d,this.maxX=h>v?h:v,this.maxY=l>g?l:g}},t.prototype.addBoundsMatrix=function(r,n){this.addFrameMatrix(n,r.minX,r.minY,r.maxX,r.maxY)},t.prototype.addBoundsArea=function(r,n){var s=r.minX>n.x?r.minX:n.x,o=r.minY>n.y?r.minY:n.y,h=r.maxX<n.x+n.width?r.maxX:n.x+n.width,l=r.maxY<n.y+n.height?r.maxY:n.y+n.height;if(s<=h&&o<=l){var c=this.minX,d=this.minY,v=this.maxX,g=this.maxY;this.minX=s<c?s:c,this.minY=o<d?o:d,this.maxX=h>v?h:v,this.maxY=l>g?l:g}},t.prototype.pad=function(r,n){r===void 0&&(r=0),n===void 0&&(n=r),this.isEmpty()||(this.minX-=r,this.maxX+=r,this.minY-=n,this.maxY+=n)},t.prototype.addFramePad=function(r,n,s,o,h,l){r-=h,n-=l,s+=h,o+=l,this.minX=this.minX<r?this.minX:r,this.maxX=this.maxX>s?this.maxX:s,this.minY=this.minY<n?this.minY:n,this.maxY=this.maxY>o?this.maxY:o},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$k=function(t,r){return extendStatics$k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$k(t,r)};function __extends$k(t,r){extendStatics$k(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var DisplayObject=function(t){__extends$k(r,t);function r(){var n=t.call(this)||this;return n.tempDisplayObjectParent=null,n.transform=new Transform,n.alpha=1,n.visible=!0,n.renderable=!0,n.cullable=!1,n.cullArea=null,n.parent=null,n.worldAlpha=1,n._lastSortedIndex=0,n._zIndex=0,n.filterArea=null,n.filters=null,n._enabledFilters=null,n._bounds=new Bounds,n._localBounds=null,n._boundsID=0,n._boundsRect=null,n._localBoundsRect=null,n._mask=null,n._maskRefCount=0,n._destroyed=!1,n.isSprite=!1,n.isMask=!1,n}return r.mixin=function(n){for(var s=Object.keys(n),o=0;o<s.length;++o){var h=s[o];Object.defineProperty(r.prototype,h,Object.getOwnPropertyDescriptor(n,h))}},Object.defineProperty(r.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),r.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},r.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},r.prototype.getBounds=function(n,s){return n||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),s||(this._boundsRect||(this._boundsRect=new Rectangle$1),s=this._boundsRect),this._bounds.getRectangle(s)},r.prototype.getLocalBounds=function(n){n||(this._localBoundsRect||(this._localBoundsRect=new Rectangle$1),n=this._localBoundsRect),this._localBounds||(this._localBounds=new Bounds);var s=this.transform,o=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var h=this._bounds,l=this._boundsID;this._bounds=this._localBounds;var c=this.getBounds(!1,n);return this.parent=o,this.transform=s,this._bounds=h,this._bounds.updateID+=this._boundsID-l,c},r.prototype.toGlobal=function(n,s,o){return o===void 0&&(o=!1),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(n,s)},r.prototype.toLocal=function(n,s,o,h){return s&&(n=s.toGlobal(n,o,h)),h||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(n,o)},r.prototype.setParent=function(n){if(!n||!n.addChild)throw new Error("setParent: Argument must be a Container");return n.addChild(this),n},r.prototype.setTransform=function(n,s,o,h,l,c,d,v,g){return n===void 0&&(n=0),s===void 0&&(s=0),o===void 0&&(o=1),h===void 0&&(h=1),l===void 0&&(l=0),c===void 0&&(c=0),d===void 0&&(d=0),v===void 0&&(v=0),g===void 0&&(g=0),this.position.x=n,this.position.y=s,this.scale.x=o||1,this.scale.y=h||1,this.rotation=l,this.skew.x=c,this.skew.y=d,this.pivot.x=v,this.pivot.y=g,this},r.prototype.destroy=function(n){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(r.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new TemporaryDisplayObject),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),r.prototype.enableTempParent=function(){var n=this.parent;return this.parent=this._tempDisplayObjectParent,n},r.prototype.disableTempParent=function(n){this.parent=n},Object.defineProperty(r.prototype,"x",{get:function(){return this.position.x},set:function(n){this.transform.position.x=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"y",{get:function(){return this.position.y},set:function(n){this.transform.position.y=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"position",{get:function(){return this.transform.position},set:function(n){this.transform.position.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scale",{get:function(){return this.transform.scale},set:function(n){this.transform.scale.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(n){this.transform.pivot.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"skew",{get:function(){return this.transform.skew},set:function(n){this.transform.skew.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(n){this.transform.rotation=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"angle",{get:function(){return this.transform.rotation*RAD_TO_DEG},set:function(n){this.transform.rotation=n*DEG_TO_RAD},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"zIndex",{get:function(){return this._zIndex},set:function(n){this._zIndex=n,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worldVisible",{get:function(){var n=this;do{if(!n.visible)return!1;n=n.parent}while(n);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mask",{get:function(){return this._mask},set:function(n){if(this._mask!==n){if(this._mask){var s=this._mask.maskObject||this._mask;s._maskRefCount--,s._maskRefCount===0&&(s.renderable=!0,s.isMask=!1)}if(this._mask=n,this._mask){var s=this._mask.maskObject||this._mask;s._maskRefCount===0&&(s.renderable=!1,s.isMask=!0),s._maskRefCount++}}},enumerable:!1,configurable:!0}),r}(EventEmitter),TemporaryDisplayObject=function(t){__extends$k(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.sortDirty=null,n}return r}(DisplayObject);DisplayObject.prototype.displayObjectUpdateTransform=DisplayObject.prototype.updateTransform;/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV$2;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(ENV$2||(ENV$2={}));var RENDERER_TYPE$2;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(RENDERER_TYPE$2||(RENDERER_TYPE$2={}));var BUFFER_BITS$2;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(BUFFER_BITS$2||(BUFFER_BITS$2={}));var BLEND_MODES$2;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(BLEND_MODES$2||(BLEND_MODES$2={}));var DRAW_MODES$2;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES$2||(DRAW_MODES$2={}));var FORMATS$2;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS$2||(FORMATS$2={}));var TARGETS$2;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS$2||(TARGETS$2={}));var TYPES$2;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES$2||(TYPES$2={}));var SAMPLER_TYPES$2;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(SAMPLER_TYPES$2||(SAMPLER_TYPES$2={}));var SCALE_MODES$2;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(SCALE_MODES$2||(SCALE_MODES$2={}));var WRAP_MODES$2;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES$2||(WRAP_MODES$2={}));var MIPMAP_MODES$2;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES$2||(MIPMAP_MODES$2={}));var ALPHA_MODES$2;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES$2||(ALPHA_MODES$2={}));var CLEAR_MODES$2;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(CLEAR_MODES$2||(CLEAR_MODES$2={}));var GC_MODES$2;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(GC_MODES$2||(GC_MODES$2={}));var PRECISION$2;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(PRECISION$2||(PRECISION$2={}));var MASK_TYPES$2;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(MASK_TYPES$2||(MASK_TYPES$2={}));var MSAA_QUALITY$2;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(MSAA_QUALITY$2||(MSAA_QUALITY$2={}));var BUFFER_TYPE$2;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$2||(BUFFER_TYPE$2={}));function sortChildren(t,r){return t.zIndex===r.zIndex?t._lastSortedIndex-r._lastSortedIndex:t.zIndex-r.zIndex}var Container=function(t){__extends$k(r,t);function r(){var n=t.call(this)||this;return n.children=[],n.sortableChildren=settings.SORTABLE_CHILDREN,n.sortDirty=!1,n}return r.prototype.onChildrenChange=function(n){},r.prototype.addChild=function(){for(var n=arguments,s=[],o=0;o<arguments.length;o++)s[o]=n[o];if(s.length>1)for(var h=0;h<s.length;h++)this.addChild(s[h]);else{var l=s[0];l.parent&&l.parent.removeChild(l),l.parent=this,this.sortDirty=!0,l.transform._parentID=-1,this.children.push(l),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",l,this,this.children.length-1),l.emit("added",this)}return s[0]},r.prototype.addChildAt=function(n,s){if(s<0||s>this.children.length)throw new Error(n+"addChildAt: The index "+s+" supplied is out of bounds "+this.children.length);return n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.splice(s,0,n),this._boundsID++,this.onChildrenChange(s),n.emit("added",this),this.emit("childAdded",n,this,s),n},r.prototype.swapChildren=function(n,s){if(n!==s){var o=this.getChildIndex(n),h=this.getChildIndex(s);this.children[o]=s,this.children[h]=n,this.onChildrenChange(o<h?o:h)}},r.prototype.getChildIndex=function(n){var s=this.children.indexOf(n);if(s===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return s},r.prototype.setChildIndex=function(n,s){if(s<0||s>=this.children.length)throw new Error("The index "+s+" supplied is out of bounds "+this.children.length);var o=this.getChildIndex(n);removeItems$1(this.children,o,1),this.children.splice(s,0,n),this.onChildrenChange(s)},r.prototype.getChildAt=function(n){if(n<0||n>=this.children.length)throw new Error("getChildAt: Index ("+n+") does not exist.");return this.children[n]},r.prototype.removeChild=function(){for(var n=arguments,s=[],o=0;o<arguments.length;o++)s[o]=n[o];if(s.length>1)for(var h=0;h<s.length;h++)this.removeChild(s[h]);else{var l=s[0],c=this.children.indexOf(l);if(c===-1)return null;l.parent=null,l.transform._parentID=-1,removeItems$1(this.children,c,1),this._boundsID++,this.onChildrenChange(c),l.emit("removed",this),this.emit("childRemoved",l,this,c)}return s[0]},r.prototype.removeChildAt=function(n){var s=this.getChildAt(n);return s.parent=null,s.transform._parentID=-1,removeItems$1(this.children,n,1),this._boundsID++,this.onChildrenChange(n),s.emit("removed",this),this.emit("childRemoved",s,this,n),s},r.prototype.removeChildren=function(n,s){n===void 0&&(n=0),s===void 0&&(s=this.children.length);var o=n,h=s,l=h-o,c;if(l>0&&l<=h){c=this.children.splice(o,l);for(var d=0;d<c.length;++d)c[d].parent=null,c[d].transform&&(c[d].transform._parentID=-1);this._boundsID++,this.onChildrenChange(n);for(var d=0;d<c.length;++d)c[d].emit("removed",this),this.emit("childRemoved",c[d],this,d);return c}else if(l===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},r.prototype.sortChildren=function(){for(var n=!1,s=0,o=this.children.length;s<o;++s){var h=this.children[s];h._lastSortedIndex=s,!n&&h.zIndex!==0&&(n=!0)}n&&this.children.length>1&&this.children.sort(sortChildren),this.sortDirty=!1},r.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var n=0,s=this.children.length;n<s;++n){var o=this.children[n];o.visible&&o.updateTransform()}},r.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var n=0;n<this.children.length;n++){var s=this.children[n];if(!(!s.visible||!s.renderable))if(s.calculateBounds(),s._mask){var o=s._mask.maskObject||s._mask;o.calculateBounds(),this._bounds.addBoundsMask(s._bounds,o._bounds)}else s.filterArea?this._bounds.addBoundsArea(s._bounds,s.filterArea):this._bounds.addBounds(s._bounds)}this._bounds.updateID=this._boundsID},r.prototype.getLocalBounds=function(n,s){s===void 0&&(s=!1);var o=t.prototype.getLocalBounds.call(this,n);if(!s)for(var h=0,l=this.children.length;h<l;++h){var c=this.children[h];c.visible&&c.updateTransform()}return o},r.prototype._calculateBounds=function(){},r.prototype._renderWithCulling=function(n){var s=n.renderTexture.sourceFrame;if(s.width>0&&s.height>0){var o,h;if(this.cullArea?(o=this.cullArea,h=this.worldTransform):this._render!==r.prototype._render&&(o=this.getBounds(!0)),o&&s.intersects(o,h))this._render(n);else if(this.cullArea)return;for(var l=0,c=this.children.length;l<c;++l){var d=this.children[l],v=d.cullable;d.cullable=v||!this.cullArea,d.render(n),d.cullable=v}}},r.prototype.render=function(n){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(n);else if(this.cullable)this._renderWithCulling(n);else{this._render(n);for(var s=0,o=this.children.length;s<o;++s)this.children[s].render(n)}},r.prototype.renderAdvanced=function(n){var s=this.filters,o=this._mask;if(s){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var h=0;h<s.length;h++)s[h].enabled&&this._enabledFilters.push(s[h])}var l=s&&this._enabledFilters&&this._enabledFilters.length||o&&(!o.isMaskData||o.enabled&&(o.autoDetect||o.type!==MASK_TYPES$2.NONE));if(l&&n.batch.flush(),s&&this._enabledFilters&&this._enabledFilters.length&&n.filter.push(this,this._enabledFilters),o&&n.mask.push(this,this._mask),this.cullable)this._renderWithCulling(n);else{this._render(n);for(var h=0,c=this.children.length;h<c;++h)this.children[h].render(n)}l&&n.batch.flush(),o&&n.mask.pop(this),s&&this._enabledFilters&&this._enabledFilters.length&&n.filter.pop()},r.prototype._render=function(n){},r.prototype.destroy=function(n){t.prototype.destroy.call(this),this.sortDirty=!1;var s=typeof n=="boolean"?n:n&&n.children,o=this.removeChildren(0,this.children.length);if(s)for(var h=0;h<o.length;++h)o[h].destroy(n)},Object.defineProperty(r.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(n){var s=this.getLocalBounds().width;s!==0?this.scale.x=n/s:this.scale.x=1,this._width=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(n){var s=this.getLocalBounds().height;s!==0?this.scale.y=n/s:this.scale.y=1,this._height=n},enumerable:!1,configurable:!0}),r}(DisplayObject);Container.prototype.containerUpdateTransform=Container.prototype.updateTransform;var TEMP_RECT$1=new Rectangle$1,BYTES_PER_PIXEL=4,Extract=function(){function t(r){this.renderer=r}return t.prototype.image=function(r,n,s){var o=new Image;return o.src=this.base64(r,n,s),o},t.prototype.base64=function(r,n,s){return this.canvas(r).toDataURL(n,s)},t.prototype.canvas=function(r){var n=this.renderer,s,o,h=!1,l,c=!1;r&&(r instanceof RenderTexture$1?l=r:(l=this.renderer.generateTexture(r),c=!0)),l?(s=l.baseTexture.resolution,o=l.frame,h=!1,n.renderTexture.bind(l)):(s=this.renderer.resolution,h=!0,o=TEMP_RECT$1,o.width=this.renderer.width,o.height=this.renderer.height,n.renderTexture.bind(null));var d=Math.floor(o.width*s+1e-4),v=Math.floor(o.height*s+1e-4),g=new CanvasRenderTarget(d,v,1),m=new Uint8Array(BYTES_PER_PIXEL*d*v),_=n.gl;_.readPixels(o.x*s,o.y*s,d,v,_.RGBA,_.UNSIGNED_BYTE,m);var y=g.context.getImageData(0,0,d,v);if(t.arrayPostDivide(m,y.data),g.context.putImageData(y,0,0),h){var B=new CanvasRenderTarget(g.width,g.height,1);B.context.scale(1,-1),B.context.drawImage(g.canvas,0,-v),g.destroy(),g=B}return c&&l.destroy(!0),g.canvas},t.prototype.pixels=function(r,n){var s=this.renderer,o,h,l,c=!1;r&&(r instanceof RenderTexture$1?l=r:r instanceof DisplayObject&&(l=this.renderer.generateTexture(r),c=!0)),l?n?(o=n.resolution,h=l.frame,s.renderTexture.bind(l)):(o=l.baseTexture.resolution,h=l.frame,s.renderTexture.bind(l)):n?(o=n.resolution,h=TEMP_RECT$1,h.width=n.width,h.height=n.height,s.renderTexture.bind(null)):(o=s.resolution,h=TEMP_RECT$1,h.width=s.width,h.height=s.height,s.renderTexture.bind(null));var d=h.width*o,v=h.height*o,g=new Uint8Array(BYTES_PER_PIXEL*d*v),m=s.gl;return m.readPixels(h.x*o,h.y*o,d,v,m.RGBA,m.UNSIGNED_BYTE,g),c&&l.destroy(!0),t.arrayPostDivide(g,g),g},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(r,n){for(var s=0;s<r.length;s+=4){var o=n[s+3]=r[s+3];o!==0?(n[s]=Math.round(Math.min(r[s]*255/o,255)),n[s+1]=Math.round(Math.min(r[s+1]*255/o,255)),n[s+2]=Math.round(Math.min(r[s+2]*255/o,255))):(n[s]=r[s],n[s+1]=r[s+1],n[s+2]=r[s+2])}},t}();/*!
 * @pixi/loaders - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var SignalBinding=function(){function t(r,n,s){n===void 0&&(n=!1),this._fn=r,this._once=n,this._thisArg=s,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function _addSignalBinding(t,r){return t._head?(t._tail._next=r,r._prev=t._tail,t._tail=r):(t._head=r,t._tail=r),r._owner=t,r}var Signal=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(r){r===void 0&&(r=!1);var n=this._head;if(r)return!!n;for(var s=[];n;)s.push(n),n=n._next;return s},t.prototype.has=function(r){if(!(r instanceof SignalBinding))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return r._owner===this},t.prototype.dispatch=function(){for(var r=arguments,n=[],s=0;s<arguments.length;s++)n[s]=r[s];var o=this._head;if(!o)return!1;for(;o;)o._once&&this.detach(o),o._fn.apply(o._thisArg,n),o=o._next;return!0},t.prototype.add=function(r,n){if(n===void 0&&(n=null),typeof r!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return _addSignalBinding(this,new SignalBinding(r,!1,n))},t.prototype.once=function(r,n){if(n===void 0&&(n=null),typeof r!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return _addSignalBinding(this,new SignalBinding(r,!0,n))},t.prototype.detach=function(r){if(!(r instanceof SignalBinding))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return r._owner!==this?this:(r._prev&&(r._prev._next=r._next),r._next&&(r._next._prev=r._prev),r===this._head?(this._head=r._next,r._next===null&&(this._tail=null)):r===this._tail&&(this._tail=r._prev,this._tail._next=null),r._owner=null,this)},t.prototype.detachAll=function(){var r=this._head;if(!r)return this;for(this._head=this._tail=null;r;)r._owner=null,r=r._next;return this},t}();function parseUri(t,r){r=r||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},s=n.parser[r.strictMode?"strict":"loose"].exec(t),o={},h=14;h--;)o[n.key[h]]=s[h]||"";return o[n.q.name]={},o[n.key[12]].replace(n.q.parser,function(l,c,d){c&&(o[n.q.name][c]=d)}),o}var useXdr,tempAnchor$1=null,STATUS_NONE=0,STATUS_OK=200,STATUS_EMPTY=204,STATUS_IE_BUG_EMPTY=1223,STATUS_TYPE_OK=2;function _noop$1(){}function setExtMap(t,r,n){r&&r.indexOf(".")===0&&(r=r.substring(1)),r&&(t[r]=n)}function reqType(t){return t.toString().replace("object ","")}var LoaderResource=function(){function t(r,n,s){if(this._dequeue=_noop$1,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof r!="string"||typeof n!="string")throw new Error("Both name and url are required for constructing a resource.");s=s||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,n.indexOf("data:")===0),this.name=r,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=s.crossOrigin===!0?"anonymous":s.crossOrigin,this.timeout=s.timeout||0,this.loadType=s.loadType||this._determineLoadType(),this.xhrType=s.xhrType,this.metadata=s.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=_noop$1,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Signal,this.onProgress=new Signal,this.onComplete=new Signal,this.onAfterMiddleware=new Signal}return t.setExtensionLoadType=function(r,n){setExtMap(t._loadTypeMap,r,n)},t.setExtensionXhrType=function(r,n){setExtMap(t._xhrTypeMap,r,n)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(r){if(!this.error){if(this.error=new Error(r),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(r){var n=this;if(!this.isLoading){if(this.isComplete){r&&setTimeout(function(){return r(n)},1);return}else r&&this.onComplete.once(r);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:typeof useXdr=="undefined"&&(useXdr=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),useXdr&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(r){return(this._flags&r)!==0},t.prototype._setFlag=function(r,n){this._flags=n?this._flags|r:this._flags&~r},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(r){this.metadata.loadElement?this.data=this.metadata.loadElement:r==="image"&&typeof globalThis.Image!="undefined"?this.data=new Image:this.data=document.createElement(r),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(r){if(this.metadata.loadElement?this.data=this.metadata.loadElement:r==="audio"&&typeof globalThis.Audio!="undefined"?this.data=new Audio:this.data=document.createElement(r),this.data===null){this.abort("Unsupported element: "+r);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var n=this.metadata.mimeType,s=0;s<this.url.length;++s)this.data.appendChild(this._createSource(r,this.url[s],Array.isArray(n)?n[s]:n));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(r,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var r=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(r.withCredentials=!0),r.open("GET",this.url,!0),r.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?r.responseType=t.XHR_RESPONSE_TYPE.TEXT:r.responseType=this.xhrType,r.addEventListener("error",this._boundXhrOnError,!1),r.addEventListener("timeout",this._boundXhrOnTimeout,!1),r.addEventListener("abort",this._boundXhrOnAbort,!1),r.addEventListener("progress",this._boundOnProgress,!1),r.addEventListener("load",this._boundXhrOnLoad,!1),r.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var r=this.xhr=new globalThis.XDomainRequest;r.timeout=this.timeout||5e3,r.onerror=this._boundXhrOnError,r.ontimeout=this._boundXhrOnTimeout,r.onprogress=this._boundOnProgress,r.onload=this._boundXhrOnLoad,r.open("GET",this.url,!0),setTimeout(function(){return r.send()},1)},t.prototype._createSource=function(r,n,s){s||(s=r+"/"+this._getExtension(n));var o=document.createElement("source");return o.src=n,o.type=s,o},t.prototype._onError=function(r){this.abort("Failed to load element using: "+r.target.nodeName)},t.prototype._onProgress=function(r){r&&r.lengthComputable&&this.onProgress.dispatch(this,r.loaded/r.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var r=this.xhr;this.abort(reqType(r)+" Request failed. Status: "+r.status+', text: "'+r.statusText+'"')},t.prototype._xhrOnTimeout=function(){var r=this.xhr;this.abort(reqType(r)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var r=this.xhr;this.abort(reqType(r)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var r=this.xhr,n="",s=typeof r.status=="undefined"?STATUS_OK:r.status;(r.responseType===""||r.responseType==="text"||typeof r.responseType=="undefined")&&(n=r.responseText),s===STATUS_NONE&&(n.length>0||r.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?s=STATUS_OK:s===STATUS_IE_BUG_EMPTY&&(s=STATUS_EMPTY);var o=s/100|0;if(o===STATUS_TYPE_OK)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=t.TYPE.JSON}catch(c){this.abort("Error trying to parse loaded json: "+c);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var h=new DOMParser;this.data=h.parseFromString(n,"text/xml")}else{var l=document.createElement("div");l.innerHTML=n,this.data=l}this.type=t.TYPE.XML}catch(c){this.abort("Error trying to parse loaded xml: "+c);return}else this.data=r.response||n;else{this.abort("["+r.status+"] "+r.statusText+": "+r.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(r,n){if(r.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";n=n||globalThis.location,tempAnchor$1||(tempAnchor$1=document.createElement("a")),tempAnchor$1.href=r;var s=parseUri(tempAnchor$1.href,{strictMode:!0}),o=!s.port&&n.port===""||s.port===n.port,h=s.protocol?s.protocol+":":"";return s.host!==n.hostname||!o||h!==n.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(r){r===void 0&&(r=this.url);var n="";if(this.isDataUrl){var s=r.indexOf("/");n=r.substring(s+1,r.indexOf(";",s))}else{var o=r.indexOf("?"),h=r.indexOf("#"),l=Math.min(o>-1?o:r.length,h>-1?h:r.length);r=r.substring(0,l),n=r.substring(r.lastIndexOf(".")+1)}return n.toLowerCase()},t.prototype._getMimeFromXhrType=function(r){switch(r){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(r){r[r.NONE=0]="NONE",r[r.DATA_URL=1]="DATA_URL",r[r.COMPLETE=2]="COMPLETE",r[r.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.JSON=1]="JSON",r[r.XML=2]="XML",r[r.IMAGE=3]="IMAGE",r[r.AUDIO=4]="AUDIO",r[r.VIDEO=5]="VIDEO",r[r.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(r){r[r.XHR=1]="XHR",r[r.IMAGE=2]="IMAGE",r[r.AUDIO=3]="AUDIO",r[r.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(r){r.DEFAULT="text",r.BUFFER="arraybuffer",r.BLOB="blob",r.DOCUMENT="document",r.JSON="json",r.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(LoaderResource||(LoaderResource={}));function _noop(){}function onlyOnce(t){return function(){for(var n=arguments,s=[],o=0;o<arguments.length;o++)s[o]=n[o];if(t===null)throw new Error("Callback was already called.");var h=t;t=null,h.apply(this,s)}}var AsyncQueueItem=function(){function t(r,n){this.data=r,this.callback=n}return t}(),AsyncQueue=function(){function t(r,n){var s=this;if(n===void 0&&(n=1),this.workers=0,this.saturated=_noop,this.unsaturated=_noop,this.empty=_noop,this.drain=_noop,this.error=_noop,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(o,h,l){if(l&&typeof l!="function")throw new Error("task callback must be a function");if(s.started=!0,o==null&&s.idle()){setTimeout(function(){return s.drain()},1);return}var c=new AsyncQueueItem(o,typeof l=="function"?l:_noop);h?s._tasks.unshift(c):s._tasks.push(c),setTimeout(s.process,1)},this.process=function(){for(;!s.paused&&s.workers<s.concurrency&&s._tasks.length;){var o=s._tasks.shift();s._tasks.length===0&&s.empty(),s.workers+=1,s.workers===s.concurrency&&s.saturated(),s._worker(o.data,onlyOnce(s._next(o)))}},this._worker=r,n===0)throw new Error("Concurrency must not be zero");this.concurrency=n,this.buffer=n/4}return t.prototype._next=function(r){var n=this;return function(){for(var s=arguments,o=[],h=0;h<arguments.length;h++)o[h]=s[h];n.workers-=1,r.callback.apply(r,o),o[0]!=null&&n.error(o[0],r.data),n.workers<=n.concurrency-n.buffer&&n.unsaturated(),n.idle()&&n.drain(),n.process()}},t.prototype.push=function(r,n){this._insert(r,!1,n)},t.prototype.kill=function(){this.workers=0,this.drain=_noop,this.started=!1,this._tasks=[]},t.prototype.unshift=function(r,n){this._insert(r,!0,n)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var r=1;r<=this.concurrency;r++)this.process()}},t.eachSeries=function(r,n,s,o){var h=0,l=r.length;function c(d){if(d||h===l){s&&s(d);return}o?setTimeout(function(){n(r[h++],c)},1):n(r[h++],c)}c()},t.queue=function(r,n){return new t(r,n)},t}(),MAX_PROGRESS=100,rgxExtractUrlHash=/(#[\w-]+)?$/,Loader=function(){function t(r,n){var s=this;r===void 0&&(r=""),n===void 0&&(n=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(d,v){return s._loadResource(d,v)},this.resources={},this.baseUrl=r,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(d,v){return s._loadResource(d,v)},this._queue=AsyncQueue.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new Signal,this.onError=new Signal,this.onLoad=new Signal,this.onStart=new Signal,this.onComplete=new Signal;for(var o=0;o<t._plugins.length;++o){var h=t._plugins[o],l=h.pre,c=h.use;l&&this.pre(l),c&&this.use(c)}this._protected=!1}return t.prototype._add=function(r,n,s,o){if(this.loading&&(!s||!s.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[r])throw new Error('Resource named "'+r+'" already exists.');if(n=this._prepareUrl(n),this.resources[r]=new LoaderResource(r,n,s),typeof o=="function"&&this.resources[r].onAfterMiddleware.once(o),this.loading){for(var h=s.parentResource,l=[],c=0;c<h.children.length;++c)h.children[c].isComplete||l.push(h.children[c]);var d=h.progressChunk*(l.length+1),v=d/(l.length+2);h.children.push(this.resources[r]),h.progressChunk=v;for(var c=0;c<l.length;++c)l[c].progressChunk=v;this.resources[r].progressChunk=v}return this._queue.push(this.resources[r]),this},t.prototype.pre=function(r){return this._beforeMiddleware.push(r),this},t.prototype.use=function(r){return this._afterMiddleware.push(r),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var r in this.resources){var n=this.resources[r];n._onLoadBinding&&n._onLoadBinding.detach(),n.isLoading&&n.abort("loader reset")}return this.resources={},this},t.prototype.load=function(r){if(typeof r=="function"&&this.onComplete.once(r),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var n=this._queue._tasks.length,s=MAX_PROGRESS/n,o=0;o<this._queue._tasks.length;++o)this._queue._tasks[o].data.progressChunk=s;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(r){this._queue.concurrency=r},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(r){var n=parseUri(r,{strictMode:!0}),s;if(n.protocol||!n.path||r.indexOf("//")===0?s=r:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&r.charAt(0)!=="/"?s=this.baseUrl+"/"+r:s=this.baseUrl+r,this.defaultQueryString){var o=rgxExtractUrlHash.exec(s)[0];s=s.slice(0,s.length-o.length),s.indexOf("?")!==-1?s+="&"+this.defaultQueryString:s+="?"+this.defaultQueryString,s+=o}return s},t.prototype._loadResource=function(r,n){var s=this;r._dequeue=n,AsyncQueue.eachSeries(this._beforeMiddleware,function(o,h){o.call(s,r,function(){h(r.isComplete?{}:null)})},function(){r.isComplete?s._onLoad(r):(r._onLoadBinding=r.onComplete.once(s._onLoad,s),r.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=MAX_PROGRESS,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(r){var n=this;r._onLoadBinding=null,this._resourcesParsing.push(r),r._dequeue(),AsyncQueue.eachSeries(this._afterMiddleware,function(s,o){s.call(n,r,o)},function(){r.onAfterMiddleware.dispatch(r),n.progress=Math.min(MAX_PROGRESS,n.progress+r.progressChunk),n.onProgress.dispatch(n,r),r.error?n.onError.dispatch(r.error,n,r):n.onLoad.dispatch(n,r),n._resourcesParsing.splice(n._resourcesParsing.indexOf(r),1),n._queue.idle()&&n._resourcesParsing.length===0&&n._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var r=t._shared;return r||(r=new t,r._protected=!0,t._shared=r),r},enumerable:!1,configurable:!0}),t.registerPlugin=function(r){return t._plugins.push(r),r.add&&r.add(),t},t._plugins=[],t}();Loader.prototype.add=function t(r,n,s,o){if(Array.isArray(r)){for(var h=0;h<r.length;++h)this.add(r[h]);return this}if(typeof r=="object"&&(s=r,o=n||s.callback||s.onComplete,n=s.url,r=s.name||s.key||s.url),typeof n!="string"&&(o=s,s=n,n=r),typeof n!="string")throw new Error("No url passed to add resource to loader.");return typeof s=="function"&&(o=s,s=null),this._add(r,n,s,o)};var AppLoaderPlugin=function(){function t(){}return t.init=function(r){r=Object.assign({sharedLoader:!1},r),this.loader=r.sharedLoader?Loader.shared:new Loader},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),TextureLoader=function(){function t(){}return t.add=function(){LoaderResource.setExtensionLoadType("svg",LoaderResource.LOAD_TYPE.XHR),LoaderResource.setExtensionXhrType("svg",LoaderResource.XHR_RESPONSE_TYPE.TEXT)},t.use=function(r,n){if(r.data&&(r.type===LoaderResource.TYPE.IMAGE||r.extension==="svg")){var s=r.data,o=r.url,h=r.name,l=r.metadata;Texture$1.fromLoader(s,o,h,l).then(function(c){r.texture=c,n()}).catch(n)}else n()},t}(),_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function encodeBinary(t){for(var r="",n=0;n<t.length;){for(var s=[0,0,0],o=[0,0,0,0],h=0;h<s.length;++h)n<t.length?s[h]=t.charCodeAt(n++)&255:s[h]=0;o[0]=s[0]>>2,o[1]=(s[0]&3)<<4|s[1]>>4,o[2]=(s[1]&15)<<2|s[2]>>6,o[3]=s[2]&63;var l=n-(t.length-1);switch(l){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64;break}for(var h=0;h<o.length;++h)r+=_keyStr.charAt(o[h])}return r}function parsing(t,r){if(!t.data){r();return}if(t.xhr&&t.xhrType===LoaderResource.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var n=t.xhr.getResponseHeader("content-type");if(n&&n.indexOf("image")===0){t.data=new Image,t.data.src="data:"+n+";base64,"+encodeBinary(t.xhr.responseText),t.type=LoaderResource.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,r()};return}}else if(t.data.type.indexOf("image")===0){var s=globalThis.URL||globalThis.webkitURL,o=s.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=o,t.type=LoaderResource.TYPE.IMAGE,t.data.onload=function(){s.revokeObjectURL(o),t.data.onload=null,r()};return}}r()}Loader.registerPlugin({use:parsing});Loader.registerPlugin(TextureLoader);/*!
 * @pixi/compressed-textures - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _a$2,INTERNAL_FORMATS;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(INTERNAL_FORMATS||(INTERNAL_FORMATS={}));var INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=(_a$2={},_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_R11_EAC]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SIGNED_R11_EAC]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RG11_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SIGNED_RG11_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB8_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA8_ETC2_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB8_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_ETC1_WEBGL]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_ATC_WEBGL]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,_a$2);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$j=function(t,r){return extendStatics$j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$j(t,r)};function __extends$j(t,r){extendStatics$j(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}function __awaiter(t,r,n,s){return new(n||(n=Promise))(function(o,h){function l(v){try{d(s.next(v))}catch(g){h(g)}}function c(v){try{d(s.throw(v))}catch(g){h(g)}}function d(v){v.done?o(v.value):new n(function(g){g(v.value)}).then(l,c)}d((s=s.apply(t,r||[])).next())})}function __generator(t,r){var n={label:0,sent:function(){if(h[0]&1)throw h[1];return h[1]},trys:[],ops:[]},s,o,h,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(v){return function(g){return d([v,g])}}function d(v){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,o&&(h=v[0]&2?o.return:v[0]?o.throw||((h=o.return)&&h.call(o),0):o.next)&&!(h=h.call(o,v[1])).done)return h;switch(o=0,h&&(v=[v[0]&2,h.value]),v[0]){case 0:case 1:h=v;break;case 4:return n.label++,{value:v[1],done:!1};case 5:n.label++,o=v[1],v=[0];continue;case 7:v=n.ops.pop(),n.trys.pop();continue;default:if(h=n.trys,!(h=h.length>0&&h[h.length-1])&&(v[0]===6||v[0]===2)){n=0;continue}if(v[0]===3&&(!h||v[1]>h[0]&&v[1]<h[3])){n.label=v[1];break}if(v[0]===6&&n.label<h[1]){n.label=h[1],h=v;break}if(h&&n.label<h[2]){n.label=h[2],n.ops.push(v);break}h[2]&&n.ops.pop(),n.trys.pop();continue}v=r.call(t,n)}catch(g){v=[6,g],o=0}finally{s=h=0}if(v[0]&5)throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}}var BlobResource=function(t){__extends$j(r,t);function r(n,s){s===void 0&&(s={width:1,height:1,autoLoad:!0});var o=this,h,l;return typeof n=="string"?(h=n,l=new Uint8Array):(h=null,l=n),o=t.call(this,l,s)||this,o.origin=h,o.buffer=l?new ViewableBuffer$1(l):null,o.origin&&s.autoLoad!==!1&&o.load(),l&&l.length&&(o.loaded=!0,o.onBlobLoaded(o.buffer.rawBinaryData)),o}return r.prototype.onBlobLoaded=function(n){},r.prototype.load=function(){return __awaiter(this,void 0,Promise,function(){var n,s,o;return __generator(this,function(h){switch(h.label){case 0:return[4,fetch(this.origin)];case 1:return n=h.sent(),[4,n.blob()];case 2:return s=h.sent(),[4,s.arrayBuffer()];case 3:return o=h.sent(),this.data=new Uint32Array(o),this.buffer=new ViewableBuffer$1(o),this.loaded=!0,this.onBlobLoaded(o),this.update(),[2,this]}})})},r}(BufferResource$1),CompressedTextureResource=function(t){__extends$j(r,t);function r(n,s){var o=t.call(this,n,s)||this;return o.format=s.format,o.levels=s.levels||1,o._width=s.width,o._height=s.height,o._extension=r._formatToExtension(o.format),(s.levelBuffers||o.buffer)&&(o._levelBuffers=s.levelBuffers||r._createLevelBuffers(n instanceof Uint8Array?n:o.buffer.uint8View,o.format,o.levels,4,4,o.width,o.height)),o}return r.prototype.upload=function(n,s,o){var h=n.gl,l=n.context.extensions[this._extension];if(!l)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var c=0,d=this.levels;c<d;c++){var v=this._levelBuffers[c],g=v.levelID,m=v.levelWidth,_=v.levelHeight,y=v.levelBuffer;h.compressedTexImage2D(h.TEXTURE_2D,g,this.format,m,_,0,y)}return!0},r.prototype.onBlobLoaded=function(){this._levelBuffers=r._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},r._formatToExtension=function(n){if(n>=33776&&n<=33779)return"s3tc";if(n>=37488&&n<=37497)return"etc";if(n>=35840&&n<=35843)return"pvrtc";if(n>=36196)return"etc1";if(n>=35986&&n<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},r._createLevelBuffers=function(n,s,o,h,l,c,d){for(var v=new Array(o),g=n.byteOffset,m=c,_=d,y=m+h-1&~(h-1),B=_+l-1&~(l-1),w=y*B*INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[s],C=0;C<o;C++)v[C]={levelID:C,levelWidth:o>1?m:y,levelHeight:o>1?_:B,levelBuffer:new Uint8Array(n.buffer,g,w)},g+=w,m=m>>1||1,_=_>>1||1,y=m+h-1&~(h-1),B=_+l-1&~(l-1),w=y*B*INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[s];return v},r}(BlobResource),CompressedTextureLoader=function(){function t(){}return t.use=function(r,n){var s=r.data,o=this;if(r.type===LoaderResource.TYPE.JSON&&s&&s.cacheID&&s.textures){for(var h=s.textures,l=void 0,c=void 0,d=0,v=h.length;d<v;d++){var g=h[d],m=g.src,_=g.format;if(_||(c=m),t.textureFormats[_]){l=m;break}}if(l=l||c,!l){n(new Error("Cannot load compressed-textures in "+r.url+", make sure you provide a fallback"));return}if(l===r.url){n(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var y={crossOrigin:r.crossOrigin,metadata:r.metadata.imageMetadata,parentResource:r},B=url$1.resolve(r.url.replace(o.baseUrl,""),l),w=s.cacheID;o.add(w,B,y,function(C){if(C.error){n(C.error);return}var b=C.texture,I=b===void 0?null:b,S=C.textures,R=S===void 0?{}:S;Object.assign(r,{texture:I,textures:R}),n()})}else n()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var r=document.createElement("canvas"),n=r.getContext("webgl");if(!n)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var s={s3tc:n.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:n.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:n.getExtension("WEBGL_compressed_texture_etc"),etc1:n.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:n.getExtension("WEBGL_compressed_texture_atc"),astc:n.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=s}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var r=t.textureExtensions;t._textureFormats={};for(var n in r){var s=r[n];!s||Object.assign(t._textureFormats,Object.getPrototypeOf(s))}}return t._textureFormats},enumerable:!1,configurable:!0}),t}();function registerCompressedTextures(t,r,n){var s={textures:{},texture:null};if(!r)return s;var o=r.map(function(h){return new Texture$1(new BaseTexture$1(h,Object.assign({mipmap:MIPMAP_MODES$4.OFF,alphaMode:ALPHA_MODES$4.NO_PREMULTIPLIED_ALPHA},n)))});return o.forEach(function(h,l){var c=h.baseTexture,d=t+"-"+(l+1);BaseTexture$1.addToCache(c,d),Texture$1.addToCache(h,d),l===0&&(BaseTexture$1.addToCache(c,t),Texture$1.addToCache(h,t),s.texture=h),s.textures[d]=h}),s}var _a$1,_b$1;LoaderResource.setExtensionXhrType("dds",LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var DDS_MAGIC_SIZE=4,DDS_HEADER_SIZE=124,DDS_HEADER_PF_SIZE=32,DDS_HEADER_DX10_SIZE=20,DDS_MAGIC=542327876,DDS_FIELDS={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},DDS_PF_FIELDS={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},DDS_DX10_FIELDS={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},DXGI_FORMAT;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(DXGI_FORMAT||(DXGI_FORMAT={}));var D3D10_RESOURCE_DIMENSION;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(D3D10_RESOURCE_DIMENSION||(D3D10_RESOURCE_DIMENSION={}));var PF_FLAGS=1,DDPF_ALPHA=2,DDPF_FOURCC=4,DDPF_RGB=64,DDPF_YUV=512,DDPF_LUMINANCE=131072,FOURCC_DXT1=827611204,FOURCC_DXT3=861165636,FOURCC_DXT5=894720068,FOURCC_DX10=808540228,DDS_RESOURCE_MISC_TEXTURECUBE=4,FOURCC_TO_FORMAT=(_a$1={},_a$1[FOURCC_DXT1]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_a$1[FOURCC_DXT3]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_a$1[FOURCC_DXT5]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_a$1),DXGI_TO_FORMAT=(_b$1={},_b$1[DXGI_FORMAT.DXGI_FORMAT_BC1_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC1_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC2_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC2_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC3_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC3_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC1_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC2_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC3_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,_b$1),DDSLoader=function(){function t(){}return t.use=function(r,n){if(r.extension==="dds"&&r.data)try{Object.assign(r,registerCompressedTextures(r.name||r.url,t.parse(r.data),r.metadata))}catch(s){n(s);return}n()},t.parse=function(r){var n=new Uint32Array(r),s=n[0];if(s!==DDS_MAGIC)throw new Error("Invalid DDS file magic word");var o=new Uint32Array(r,0,DDS_HEADER_SIZE/Uint32Array.BYTES_PER_ELEMENT),h=o[DDS_FIELDS.HEIGHT],l=o[DDS_FIELDS.WIDTH],c=o[DDS_FIELDS.MIPMAP_COUNT],d=new Uint32Array(r,DDS_FIELDS.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,DDS_HEADER_PF_SIZE/Uint32Array.BYTES_PER_ELEMENT),v=d[PF_FLAGS];if(v&DDPF_FOURCC){var g=d[DDS_PF_FIELDS.FOURCC];if(g!==FOURCC_DX10){var m=FOURCC_TO_FORMAT[g],_=DDS_MAGIC_SIZE+DDS_HEADER_SIZE,y=new Uint8Array(r,_),B=new CompressedTextureResource(y,{format:m,width:l,height:h,levels:c});return[B]}var w=DDS_MAGIC_SIZE+DDS_HEADER_SIZE,C=new Uint32Array(n.buffer,w,DDS_HEADER_DX10_SIZE/Uint32Array.BYTES_PER_ELEMENT),b=C[DDS_DX10_FIELDS.DXGI_FORMAT],I=C[DDS_DX10_FIELDS.RESOURCE_DIMENSION],S=C[DDS_DX10_FIELDS.MISC_FLAG],R=C[DDS_DX10_FIELDS.ARRAY_SIZE],O=DXGI_TO_FORMAT[b];if(O===void 0)throw new Error("DDSLoader cannot parse texture data with DXGI format "+b);if(S===DDS_RESOURCE_MISC_TEXTURECUBE)throw new Error("DDSLoader does not support cubemap textures");if(I===D3D10_RESOURCE_DIMENSION.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var P=new Array,N=DDS_MAGIC_SIZE+DDS_HEADER_SIZE+DDS_HEADER_DX10_SIZE;if(R===1)P.push(new Uint8Array(r,N));else{for(var M=INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[O],H=0,Y=l,J=h,ee=0;ee<c;ee++){var te=Math.max(1,Y+3&-4),se=Math.max(1,J+3&-4),W=te*se*M;H+=W,Y=Y>>>1,J=J>>>1}for(var k=N,ee=0;ee<R;ee++)P.push(new Uint8Array(r,k,H)),k+=H}return P.map(function(Q){return new CompressedTextureResource(Q,{format:O,width:l,height:h,levels:c})})}throw v&DDPF_RGB?new Error("DDSLoader does not support uncompressed texture data."):v&DDPF_YUV?new Error("DDSLoader does not supported YUV uncompressed texture data."):v&DDPF_LUMINANCE?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):v&DDPF_ALPHA?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},t}(),_a$3,_b,_c;LoaderResource.setExtensionXhrType("ktx",LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var FILE_IDENTIFIER=[171,75,84,88,32,49,49,187,13,10,26,10],ENDIANNESS=67305985,KTX_FIELDS={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},FILE_HEADER_SIZE=64,TYPES_TO_BYTES_PER_COMPONENT=(_a$3={},_a$3[TYPES$4.UNSIGNED_BYTE]=1,_a$3[TYPES$4.UNSIGNED_SHORT]=2,_a$3[TYPES$4.INT]=4,_a$3[TYPES$4.UNSIGNED_INT]=4,_a$3[TYPES$4.FLOAT]=4,_a$3[TYPES$4.HALF_FLOAT]=8,_a$3),FORMATS_TO_COMPONENTS=(_b={},_b[FORMATS$4.RGBA]=4,_b[FORMATS$4.RGB]=3,_b[FORMATS$4.RG]=2,_b[FORMATS$4.RED]=1,_b[FORMATS$4.LUMINANCE]=1,_b[FORMATS$4.LUMINANCE_ALPHA]=2,_b[FORMATS$4.ALPHA]=1,_b),TYPES_TO_BYTES_PER_PIXEL=(_c={},_c[TYPES$4.UNSIGNED_SHORT_4_4_4_4]=2,_c[TYPES$4.UNSIGNED_SHORT_5_5_5_1]=2,_c[TYPES$4.UNSIGNED_SHORT_5_6_5]=2,_c),KTXLoader=function(){function t(){}return t.use=function(r,n){if(r.extension==="ktx"&&r.data)try{var s=r.name||r.url,o=t.parse(s,r.data),h=o.compressed,l=o.uncompressed,c=o.kvData;if(h){var d=registerCompressedTextures(s,h,r.metadata);if(c&&d.textures)for(var v in d.textures)d.textures[v].baseTexture.ktxKeyValueData=c;Object.assign(r,d)}else if(l){var g={};l.forEach(function(m,_){var y=new Texture$1(new BaseTexture$1(m.resource,{mipmap:MIPMAP_MODES$4.OFF,alphaMode:ALPHA_MODES$4.NO_PREMULTIPLIED_ALPHA,type:m.type,format:m.format})),B=s+"-"+(_+1);c&&(y.baseTexture.ktxKeyValueData=c),BaseTexture$1.addToCache(y.baseTexture,B),Texture$1.addToCache(y,B),_===0&&(g[s]=y,BaseTexture$1.addToCache(y.baseTexture,s),Texture$1.addToCache(y,s)),g[B]=y}),Object.assign(r,{textures:g})}}catch(m){n(m);return}n()},t.parse=function(r,n){var s=new DataView(n);if(!t.validate(r,s))return null;var o=s.getUint32(KTX_FIELDS.ENDIANNESS,!0)===ENDIANNESS,h=s.getUint32(KTX_FIELDS.GL_TYPE,o),l=s.getUint32(KTX_FIELDS.GL_FORMAT,o),c=s.getUint32(KTX_FIELDS.GL_INTERNAL_FORMAT,o),d=s.getUint32(KTX_FIELDS.PIXEL_WIDTH,o),v=s.getUint32(KTX_FIELDS.PIXEL_HEIGHT,o)||1,g=s.getUint32(KTX_FIELDS.PIXEL_DEPTH,o)||1,m=s.getUint32(KTX_FIELDS.NUMBER_OF_ARRAY_ELEMENTS,o)||1,_=s.getUint32(KTX_FIELDS.NUMBER_OF_FACES,o),y=s.getUint32(KTX_FIELDS.NUMBER_OF_MIPMAP_LEVELS,o),B=s.getUint32(KTX_FIELDS.BYTES_OF_KEY_VALUE_DATA,o);if(v===0||g!==1)throw new Error("Only 2D textures are supported");if(_!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(m!==1)throw new Error("WebGL does not support array textures");var w=4,C=4,b=d+3&-4,I=v+3&-4,S=new Array(m),R=d*v;h===0&&(R=b*I);var O;if(h!==0?TYPES_TO_BYTES_PER_COMPONENT[h]?O=TYPES_TO_BYTES_PER_COMPONENT[h]*FORMATS_TO_COMPONENTS[l]:O=TYPES_TO_BYTES_PER_PIXEL[h]:O=INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[c],O===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var P=t.loadKeyValueData?t.parseKvData(s,B,o):null,N=R*O,M=N,H=d,Y=v,J=b,ee=I,te=FILE_HEADER_SIZE+B,se=0;se<y;se++){for(var W=s.getUint32(te,o),k=te+4,Q=0;Q<m;Q++){var D=S[Q];D||(D=S[Q]=new Array(y)),D[se]={levelID:se,levelWidth:y>1||h!==0?H:J,levelHeight:y>1||h!==0?Y:ee,levelBuffer:new Uint8Array(n,k,M)},k+=M}te+=W+4,te=te%4!==0?te+4-te%4:te,H=H>>1||1,Y=Y>>1||1,J=H+w-1&~(w-1),ee=Y+C-1&~(C-1),M=J*ee*O}return h!==0?{uncompressed:S.map(function(K){var X=K[0].levelBuffer,j=!1;return h===TYPES$4.FLOAT?X=new Float32Array(K[0].levelBuffer.buffer,K[0].levelBuffer.byteOffset,K[0].levelBuffer.byteLength/4):h===TYPES$4.UNSIGNED_INT?(j=!0,X=new Uint32Array(K[0].levelBuffer.buffer,K[0].levelBuffer.byteOffset,K[0].levelBuffer.byteLength/4)):h===TYPES$4.INT&&(j=!0,X=new Int32Array(K[0].levelBuffer.buffer,K[0].levelBuffer.byteOffset,K[0].levelBuffer.byteLength/4)),{resource:new BufferResource$1(X,{width:K[0].levelWidth,height:K[0].levelHeight}),type:h,format:j?t.convertFormatToInteger(l):l}}),kvData:P}:{compressed:S.map(function(K){return new CompressedTextureResource(null,{format:c,width:d,height:v,levels:y,levelBuffers:K})}),kvData:P}},t.validate=function(r,n){for(var s=0;s<FILE_IDENTIFIER.length;s++)if(n.getUint8(s)!==FILE_IDENTIFIER[s])return console.error(r+" is not a valid *.ktx file!"),!1;return!0},t.convertFormatToInteger=function(r){switch(r){case FORMATS$4.RGBA:return FORMATS$4.RGBA_INTEGER;case FORMATS$4.RGB:return FORMATS$4.RGB_INTEGER;case FORMATS$4.RG:return FORMATS$4.RG_INTEGER;case FORMATS$4.RED:return FORMATS$4.RED_INTEGER;default:return r}},t.parseKvData=function(r,n,s){for(var o=new Map,h=0;h<n;){var l=r.getUint32(FILE_HEADER_SIZE+h,s),c=FILE_HEADER_SIZE+h+4,d=3-(l+3)%4;if(l===0||l>n-h){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var v=0;v<l&&r.getUint8(c+v)!==0;v++);if(v===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var g=new TextDecoder().decode(new Uint8Array(r.buffer,c,v)),m=new DataView(r.buffer,c+v+1,l-v-1);o.set(g,m),h+=4+l+d}return o},t.loadKeyValueData=!1,t}();/*!
 * @pixi/particle-container - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$i=function(t,r){return extendStatics$i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$i(t,r)};function __extends$i(t,r){extendStatics$i(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var ParticleContainer=function(t){__extends$i(r,t);function r(n,s,o,h){n===void 0&&(n=1500),o===void 0&&(o=16384),h===void 0&&(h=!1);var l=t.call(this)||this,c=16384;return o>c&&(o=c),l._properties=[!1,!0,!1,!1,!1],l._maxSize=n,l._batchSize=o,l._buffers=null,l._bufferUpdateIDs=[],l._updateID=0,l.interactiveChildren=!1,l.blendMode=BLEND_MODES$4.NORMAL,l.autoResize=h,l.roundPixels=!0,l.baseTexture=null,l.setProperties(s),l._tint=0,l.tintRgb=new Float32Array(4),l.tint=16777215,l}return r.prototype.setProperties=function(n){n&&(this._properties[0]="vertices"in n||"scale"in n?!!n.vertices||!!n.scale:this._properties[0],this._properties[1]="position"in n?!!n.position:this._properties[1],this._properties[2]="rotation"in n?!!n.rotation:this._properties[2],this._properties[3]="uvs"in n?!!n.uvs:this._properties[3],this._properties[4]="tint"in n||"alpha"in n?!!n.tint||!!n.alpha:this._properties[4])},r.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(n){this._tint=n,hex2rgb$1(n,this.tintRgb)},enumerable:!1,configurable:!0}),r.prototype.render=function(n){var s=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return s.onChildrenChange(0)})),n.batch.setObjectRenderer(n.plugins.particle),n.plugins.particle.render(this))},r.prototype.onChildrenChange=function(n){for(var s=Math.floor(n/this._batchSize);this._bufferUpdateIDs.length<s;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[s]=++this._updateID},r.prototype.dispose=function(){if(this._buffers){for(var n=0;n<this._buffers.length;++n)this._buffers[n].destroy();this._buffers=null}},r.prototype.destroy=function(n){t.prototype.destroy.call(this,n),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},r}(Container$1),ParticleBuffer=function(){function t(r,n,s){this.geometry=new Geometry$1,this.indexBuffer=null,this.size=s,this.dynamicProperties=[],this.staticProperties=[];for(var o=0;o<r.length;++o){var h=r[o];h={attributeName:h.attributeName,size:h.size,uploadFunction:h.uploadFunction,type:h.type||TYPES$4.FLOAT,offset:h.offset},n[o]?this.dynamicProperties.push(h):this.staticProperties.push(h)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var r=this.geometry,n=0;this.indexBuffer=new Buffer$1(createIndicesForQuads(this.size),!0,!0),r.addIndex(this.indexBuffer),this.dynamicStride=0;for(var s=0;s<this.dynamicProperties.length;++s){var o=this.dynamicProperties[s];o.offset=n,n+=o.size,this.dynamicStride+=o.size}var h=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(h),this.dynamicDataUint32=new Uint32Array(h),this.dynamicBuffer=new Buffer$1(this.dynamicData,!1,!1);var l=0;this.staticStride=0;for(var s=0;s<this.staticProperties.length;++s){var o=this.staticProperties[s];o.offset=l,l+=o.size,this.staticStride+=o.size}var c=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(c),this.staticDataUint32=new Uint32Array(c),this.staticBuffer=new Buffer$1(this.staticData,!0,!1);for(var s=0;s<this.dynamicProperties.length;++s){var o=this.dynamicProperties[s];r.addAttribute(o.attributeName,this.dynamicBuffer,0,o.type===TYPES$4.UNSIGNED_BYTE,o.type,this.dynamicStride*4,o.offset*4)}for(var s=0;s<this.staticProperties.length;++s){var o=this.staticProperties[s];r.addAttribute(o.attributeName,this.staticBuffer,0,o.type===TYPES$4.UNSIGNED_BYTE,o.type,this.staticStride*4,o.offset*4)}},t.prototype.uploadDynamic=function(r,n,s){for(var o=0;o<this.dynamicProperties.length;o++){var h=this.dynamicProperties[o];h.uploadFunction(r,n,s,h.type===TYPES$4.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,h.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(r,n,s){for(var o=0;o<this.staticProperties.length;o++){var h=this.staticProperties[o];h.uploadFunction(r,n,s,h.type===TYPES$4.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,h.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),fragment$7=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,vertex$4=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,ParticleRenderer=function(t){__extends$i(r,t);function r(n){var s=t.call(this,n)||this;return s.shader=null,s.properties=null,s.tempMatrix=new Matrix$1,s.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:s.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:s.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:s.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:s.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:TYPES$4.UNSIGNED_BYTE,uploadFunction:s.uploadTint,offset:0}],s.shader=Shader$1.from(vertex$4,fragment$7,{}),s.state=State$1.for2d(),s}return r.prototype.render=function(n){var s=n.children,o=n._maxSize,h=n._batchSize,l=this.renderer,c=s.length;if(c!==0){c>o&&!n.autoResize&&(c=o);var d=n._buffers;d||(d=n._buffers=this.generateBuffers(n));var v=s[0]._texture.baseTexture;this.state.blendMode=correctBlendMode(n.blendMode,v.alphaMode),l.state.set(this.state);var g=l.gl,m=n.worldTransform.copyTo(this.tempMatrix);m.prepend(l.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=m.toArray(!0),this.shader.uniforms.uColor=premultiplyRgba(n.tintRgb,n.worldAlpha,this.shader.uniforms.uColor,v.alphaMode),this.shader.uniforms.uSampler=v,this.renderer.shader.bind(this.shader);for(var _=!1,y=0,B=0;y<c;y+=h,B+=1){var w=c-y;w>h&&(w=h),B>=d.length&&d.push(this._generateOneMoreBuffer(n));var C=d[B];C.uploadDynamic(s,y,w);var b=n._bufferUpdateIDs[B]||0;_=_||C._updateID<b,_&&(C._updateID=n._updateID,C.uploadStatic(s,y,w)),l.geometry.bind(C.geometry),g.drawElements(g.TRIANGLES,w*6,g.UNSIGNED_SHORT,0)}}},r.prototype.generateBuffers=function(n){for(var s=[],o=n._maxSize,h=n._batchSize,l=n._properties,c=0;c<o;c+=h)s.push(new ParticleBuffer(this.properties,l,h));return s},r.prototype._generateOneMoreBuffer=function(n){var s=n._batchSize,o=n._properties;return new ParticleBuffer(this.properties,o,s)},r.prototype.uploadVertices=function(n,s,o,h,l,c){for(var d=0,v=0,g=0,m=0,_=0;_<o;++_){var y=n[s+_],B=y._texture,w=y.scale.x,C=y.scale.y,b=B.trim,I=B.orig;b?(v=b.x-y.anchor.x*I.width,d=v+b.width,m=b.y-y.anchor.y*I.height,g=m+b.height):(d=I.width*(1-y.anchor.x),v=I.width*-y.anchor.x,g=I.height*(1-y.anchor.y),m=I.height*-y.anchor.y),h[c]=v*w,h[c+1]=m*C,h[c+l]=d*w,h[c+l+1]=m*C,h[c+l*2]=d*w,h[c+l*2+1]=g*C,h[c+l*3]=v*w,h[c+l*3+1]=g*C,c+=l*4}},r.prototype.uploadPosition=function(n,s,o,h,l,c){for(var d=0;d<o;d++){var v=n[s+d].position;h[c]=v.x,h[c+1]=v.y,h[c+l]=v.x,h[c+l+1]=v.y,h[c+l*2]=v.x,h[c+l*2+1]=v.y,h[c+l*3]=v.x,h[c+l*3+1]=v.y,c+=l*4}},r.prototype.uploadRotation=function(n,s,o,h,l,c){for(var d=0;d<o;d++){var v=n[s+d].rotation;h[c]=v,h[c+l]=v,h[c+l*2]=v,h[c+l*3]=v,c+=l*4}},r.prototype.uploadUvs=function(n,s,o,h,l,c){for(var d=0;d<o;++d){var v=n[s+d]._texture._uvs;v?(h[c]=v.x0,h[c+1]=v.y0,h[c+l]=v.x1,h[c+l+1]=v.y1,h[c+l*2]=v.x2,h[c+l*2+1]=v.y2,h[c+l*3]=v.x3,h[c+l*3+1]=v.y3,c+=l*4):(h[c]=0,h[c+1]=0,h[c+l]=0,h[c+l+1]=0,h[c+l*2]=0,h[c+l*2+1]=0,h[c+l*3]=0,h[c+l*3+1]=0,c+=l*4)}},r.prototype.uploadTint=function(n,s,o,h,l,c){for(var d=0;d<o;++d){var v=n[s+d],g=v._texture.baseTexture.alphaMode>0,m=v.alpha,_=m<1&&g?premultiplyTint$1(v._tintRGB,m):v._tintRGB+(m*255<<24);h[c]=_,h[c+l]=_,h[c+l*2]=_,h[c+l*3]=_,c+=l*4}},r.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},r}(ObjectRenderer$1);/*!
 * @pixi/graphics - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var LINE_JOIN;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(LINE_JOIN||(LINE_JOIN={}));var LINE_CAP;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(LINE_CAP||(LINE_CAP={}));var GRAPHICS_CURVES={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,r){if(r===void 0&&(r=20),!this.adaptive||!t||isNaN(t))return r;var n=Math.ceil(t/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},FillStyle=function(){function t(){this.color=16777215,this.alpha=1,this.texture=Texture$1.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var r=new t;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Texture$1.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$h=function(t,r){return extendStatics$h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$h(t,r)};function __extends$h(t,r){extendStatics$h(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}function fixOrientation(t,r){var n,s;r===void 0&&(r=!1);var o=t.length;if(!(o<6)){for(var h=0,l=0,c=t[o-2],d=t[o-1];l<o;l+=2){var v=t[l],g=t[l+1];h+=(v-c)*(g+d),c=v,d=g}if(!r&&h>0||r&&h<=0)for(var m=o/2,l=m+m%2;l<o;l+=2){var _=o-l-2,y=o-l-1,B=l,w=l+1;n=[t[B],t[_]],t[_]=n[0],t[B]=n[1],s=[t[w],t[y]],t[y]=s[0],t[w]=s[1]}}}var buildPoly={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,r){var n=t.points,s=t.holes,o=r.points,h=r.indices;if(n.length>=6){fixOrientation(n,!1);for(var l=[],c=0;c<s.length;c++){var d=s[c];fixOrientation(d.points,!0),l.push(n.length/2),n=n.concat(d.points)}var v=earcut$1(n,l,2);if(!v)return;for(var g=o.length/2,c=0;c<v.length;c+=3)h.push(v[c]+g),h.push(v[c+1]+g),h.push(v[c+2]+g);for(var c=0;c<n.length;c++)o.push(n[c])}}},buildCircle={build:function(t){var r=t.points,n,s,o,h,l,c;if(t.type===SHAPES$1.CIRC){var d=t.shape;n=d.x,s=d.y,l=c=d.radius,o=h=0}else if(t.type===SHAPES$1.ELIP){var v=t.shape;n=v.x,s=v.y,l=v.width,c=v.height,o=h=0}else{var g=t.shape,m=g.width/2,_=g.height/2;n=g.x+m,s=g.y+_,l=c=Math.max(0,Math.min(g.radius,Math.min(m,_))),o=m-l,h=_-c}if(!(l>=0&&c>=0&&o>=0&&h>=0)){r.length=0;return}var y=Math.ceil(2.3*Math.sqrt(l+c)),B=y*8+(o?4:0)+(h?4:0);if(r.length=B,B!==0){if(y===0){r.length=8,r[0]=r[6]=n+o,r[1]=r[3]=s+h,r[2]=r[4]=n-o,r[5]=r[7]=s-h;return}var w=0,C=y*4+(o?2:0)+2,b=C,I=B;{var S=o+l,R=h,O=n+S,P=n-S,N=s+R;if(r[w++]=O,r[w++]=N,r[--C]=N,r[--C]=P,h){var M=s-R;r[b++]=P,r[b++]=M,r[--I]=M,r[--I]=O}}for(var H=1;H<y;H++){var Y=Math.PI/2*(H/y),S=o+Math.cos(Y)*l,R=h+Math.sin(Y)*c,O=n+S,P=n-S,N=s+R,M=s-R;r[w++]=O,r[w++]=N,r[--C]=N,r[--C]=P,r[b++]=P,r[b++]=M,r[--I]=M,r[--I]=O}{var S=o,R=h+c,O=n+S,P=n-S,N=s+R,M=s-R;r[w++]=O,r[w++]=N,r[--I]=M,r[--I]=O,o&&(r[w++]=P,r[w++]=N,r[--I]=M,r[--I]=P)}}},triangulate:function(t,r){var n=t.points,s=r.points,o=r.indices,h=s.length/2,l=h,c,d;if(t.type!==SHAPES$1.RREC){var v=t.shape;c=v.x,d=v.y}else{var g=t.shape;c=g.x+g.width/2,d=g.y+g.height/2}var m=t.matrix;s.push(t.matrix?m.a*c+m.c*d+m.tx:c,t.matrix?m.b*c+m.d*d+m.ty:d),h++,s.push(n[0],n[1]);for(var _=2;_<n.length;_+=2)s.push(n[_],n[_+1]),o.push(h++,l,h);o.push(l+1,l,h)}},buildRectangle={build:function(t){var r=t.shape,n=r.x,s=r.y,o=r.width,h=r.height,l=t.points;l.length=0,l.push(n,s,n+o,s,n+o,s+h,n,s+h)},triangulate:function(t,r){var n=t.points,s=r.points,o=s.length/2;s.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),r.indices.push(o,o+1,o+2,o+1,o+2,o+3)}};function getPt(t,r,n){var s=r-t;return t+s*n}function quadraticBezierCurve(t,r,n,s,o,h,l){l===void 0&&(l=[]);for(var c=20,d=l,v=0,g=0,m=0,_=0,y=0,B=0,w=0,C=0;w<=c;++w)C=w/c,v=getPt(t,n,C),g=getPt(r,s,C),m=getPt(n,o,C),_=getPt(s,h,C),y=getPt(v,m,C),B=getPt(g,_,C),!(w===0&&d[d.length-2]===y&&d[d.length-1]===B)&&d.push(y,B);return d}var buildRoundedRectangle={build:function(t){if(Graphics.nextRoundedRectBehavior){buildCircle.build(t);return}var r=t.shape,n=t.points,s=r.x,o=r.y,h=r.width,l=r.height,c=Math.max(0,Math.min(r.radius,Math.min(h,l)/2));n.length=0,c?(quadraticBezierCurve(s,o+c,s,o,s+c,o,n),quadraticBezierCurve(s+h-c,o,s+h,o,s+h,o+c,n),quadraticBezierCurve(s+h,o+l-c,s+h,o+l,s+h-c,o+l,n),quadraticBezierCurve(s+c,o+l,s,o+l,s,o+l-c,n)):n.push(s,o,s+h,o,s+h,o+l,s,o+l)},triangulate:function(t,r){if(Graphics.nextRoundedRectBehavior){buildCircle.triangulate(t,r);return}for(var n=t.points,s=r.points,o=r.indices,h=s.length/2,l=earcut$1(n,null,2),c=0,d=l.length;c<d;c+=3)o.push(l[c]+h),o.push(l[c+1]+h),o.push(l[c+2]+h);for(var c=0,d=n.length;c<d;c++)s.push(n[c],n[++c])}};function square(t,r,n,s,o,h,l,c){var d=t-n*o,v=r-s*o,g=t+n*h,m=r+s*h,_,y;l?(_=s,y=-n):(_=-s,y=n);var B=d+_,w=v+y,C=g+_,b=m+y;return c.push(B,w),c.push(C,b),2}function round(t,r,n,s,o,h,l,c){var d=n-t,v=s-r,g=Math.atan2(d,v),m=Math.atan2(o-t,h-r);c&&g<m?g+=Math.PI*2:!c&&g>m&&(m+=Math.PI*2);var _=g,y=m-g,B=Math.abs(y),w=Math.sqrt(d*d+v*v),C=(15*B*Math.sqrt(w)/Math.PI>>0)+1,b=y/C;if(_+=b,c){l.push(t,r),l.push(n,s);for(var I=1,S=_;I<C;I++,S+=b)l.push(t,r),l.push(t+Math.sin(S)*w,r+Math.cos(S)*w);l.push(t,r),l.push(o,h)}else{l.push(n,s),l.push(t,r);for(var I=1,S=_;I<C;I++,S+=b)l.push(t+Math.sin(S)*w,r+Math.cos(S)*w),l.push(t,r);l.push(o,h),l.push(t,r)}return C*2}function buildNonNativeLine(t,r){var n=t.shape,s=t.points||n.points.slice(),o=r.closePointEps;if(s.length!==0){var h=t.lineStyle,l=new Point$1(s[0],s[1]),c=new Point$1(s[s.length-2],s[s.length-1]),d=n.type!==SHAPES$1.POLY||n.closeStroke,v=Math.abs(l.x-c.x)<o&&Math.abs(l.y-c.y)<o;if(d){s=s.slice(),v&&(s.pop(),s.pop(),c.set(s[s.length-2],s[s.length-1]));var g=(l.x+c.x)*.5,m=(c.y+l.y)*.5;s.unshift(g,m),s.push(g,m)}var _=r.points,y=s.length/2,B=s.length,w=_.length/2,C=h.width/2,b=C*C,I=h.miterLimit*h.miterLimit,S=s[0],R=s[1],O=s[2],P=s[3],N=0,M=0,H=-(R-P),Y=S-O,J=0,ee=0,te=Math.sqrt(H*H+Y*Y);H/=te,Y/=te,H*=C,Y*=C;var se=h.alignment,W=(1-se)*2,k=se*2;d||(h.cap===LINE_CAP.ROUND?B+=round(S-H*(W-k)*.5,R-Y*(W-k)*.5,S-H*W,R-Y*W,S+H*k,R+Y*k,_,!0)+2:h.cap===LINE_CAP.SQUARE&&(B+=square(S,R,H,Y,W,k,!0,_))),_.push(S-H*W,R-Y*W),_.push(S+H*k,R+Y*k);for(var Q=1;Q<y-1;++Q){S=s[(Q-1)*2],R=s[(Q-1)*2+1],O=s[Q*2],P=s[Q*2+1],N=s[(Q+1)*2],M=s[(Q+1)*2+1],H=-(R-P),Y=S-O,te=Math.sqrt(H*H+Y*Y),H/=te,Y/=te,H*=C,Y*=C,J=-(P-M),ee=O-N,te=Math.sqrt(J*J+ee*ee),J/=te,ee/=te,J*=C,ee*=C;var D=O-S,K=R-P,X=O-N,j=M-P,ie=K*X-j*D,ae=ie<0;if(Math.abs(ie)<.1){_.push(O-H*W,P-Y*W),_.push(O+H*k,P+Y*k);continue}var oe=(-H+S)*(-Y+P)-(-H+O)*(-Y+R),ve=(-J+N)*(-ee+P)-(-J+O)*(-ee+M),ce=(D*ve-X*oe)/ie,ge=(j*oe-K*ve)/ie,Te=(ce-O)*(ce-O)+(ge-P)*(ge-P),we=O+(ce-O)*W,_e=P+(ge-P)*W,pe=O-(ce-O)*k,ye=P-(ge-P)*k,G=Math.min(D*D+K*K,X*X+j*j),q=ae?W:k,re=G+q*q*b,ne=Te<=re;ne?h.join===LINE_JOIN.BEVEL||Te/b>I?(ae?(_.push(we,_e),_.push(O+H*k,P+Y*k),_.push(we,_e),_.push(O+J*k,P+ee*k)):(_.push(O-H*W,P-Y*W),_.push(pe,ye),_.push(O-J*W,P-ee*W),_.push(pe,ye)),B+=2):h.join===LINE_JOIN.ROUND?ae?(_.push(we,_e),_.push(O+H*k,P+Y*k),B+=round(O,P,O+H*k,P+Y*k,O+J*k,P+ee*k,_,!0)+4,_.push(we,_e),_.push(O+J*k,P+ee*k)):(_.push(O-H*W,P-Y*W),_.push(pe,ye),B+=round(O,P,O-H*W,P-Y*W,O-J*W,P-ee*W,_,!1)+4,_.push(O-J*W,P-ee*W),_.push(pe,ye)):(_.push(we,_e),_.push(pe,ye)):(_.push(O-H*W,P-Y*W),_.push(O+H*k,P+Y*k),h.join===LINE_JOIN.ROUND?ae?B+=round(O,P,O+H*k,P+Y*k,O+J*k,P+ee*k,_,!0)+2:B+=round(O,P,O-H*W,P-Y*W,O-J*W,P-ee*W,_,!1)+2:h.join===LINE_JOIN.MITER&&Te/b<=I&&(ae?(_.push(pe,ye),_.push(pe,ye)):(_.push(we,_e),_.push(we,_e)),B+=2),_.push(O-J*W,P-ee*W),_.push(O+J*k,P+ee*k),B+=2)}S=s[(y-2)*2],R=s[(y-2)*2+1],O=s[(y-1)*2],P=s[(y-1)*2+1],H=-(R-P),Y=S-O,te=Math.sqrt(H*H+Y*Y),H/=te,Y/=te,H*=C,Y*=C,_.push(O-H*W,P-Y*W),_.push(O+H*k,P+Y*k),d||(h.cap===LINE_CAP.ROUND?B+=round(O-H*(W-k)*.5,P-Y*(W-k)*.5,O-H*W,P-Y*W,O+H*k,P+Y*k,_,!1)+2:h.cap===LINE_CAP.SQUARE&&(B+=square(O,P,H,Y,W,k,!1,_)));for(var Ae=r.indices,le=GRAPHICS_CURVES.epsilon*GRAPHICS_CURVES.epsilon,Q=w;Q<B+w-2;++Q)S=_[Q*2],R=_[Q*2+1],O=_[(Q+1)*2],P=_[(Q+1)*2+1],N=_[(Q+2)*2],M=_[(Q+2)*2+1],!(Math.abs(S*(P-M)+O*(M-R)+N*(R-P))<le)&&Ae.push(Q,Q+1,Q+2)}}function buildNativeLine(t,r){var n=0,s=t.shape,o=t.points||s.points,h=s.type!==SHAPES$1.POLY||s.closeStroke;if(o.length!==0){var l=r.points,c=r.indices,d=o.length/2,v=l.length/2,g=v;for(l.push(o[0],o[1]),n=1;n<d;n++)l.push(o[n*2],o[n*2+1]),c.push(g,g+1),g++;h&&c.push(g,v)}}function buildLine(t,r){t.lineStyle.native?buildNativeLine(t,r):buildNonNativeLine(t,r)}var ArcUtils=function(){function t(){}return t.curveTo=function(r,n,s,o,h,l){var c=l[l.length-2],d=l[l.length-1],v=d-n,g=c-r,m=o-n,_=s-r,y=Math.abs(v*_-g*m);if(y<1e-8||h===0)return(l[l.length-2]!==r||l[l.length-1]!==n)&&l.push(r,n),null;var B=v*v+g*g,w=m*m+_*_,C=v*m+g*_,b=h*Math.sqrt(B)/y,I=h*Math.sqrt(w)/y,S=b*C/B,R=I*C/w,O=b*_+I*g,P=b*m+I*v,N=g*(I+S),M=v*(I+S),H=_*(b+R),Y=m*(b+R),J=Math.atan2(M-P,N-O),ee=Math.atan2(Y-P,H-O);return{cx:O+r,cy:P+n,radius:h,startAngle:J,endAngle:ee,anticlockwise:g*m>_*v}},t.arc=function(r,n,s,o,h,l,c,d,v){for(var g=c-l,m=GRAPHICS_CURVES._segmentsCount(Math.abs(g)*h,Math.ceil(Math.abs(g)/PI_2$1)*40),_=g/(m*2),y=_*2,B=Math.cos(_),w=Math.sin(_),C=m-1,b=C%1/C,I=0;I<=C;++I){var S=I+b*I,R=_+l+y*S,O=Math.cos(R),P=-Math.sin(R);v.push((B*O+w*P)*h+s,(B*-P+w*O)*h+o)}},t}(),BezierUtils=function(){function t(){}return t.curveLength=function(r,n,s,o,h,l,c,d){for(var v=10,g=0,m=0,_=0,y=0,B=0,w=0,C=0,b=0,I=0,S=0,R=0,O=r,P=n,N=1;N<=v;++N)m=N/v,_=m*m,y=_*m,B=1-m,w=B*B,C=w*B,b=C*r+3*w*m*s+3*B*_*h+y*c,I=C*n+3*w*m*o+3*B*_*l+y*d,S=O-b,R=P-I,O=b,P=I,g+=Math.sqrt(S*S+R*R);return g},t.curveTo=function(r,n,s,o,h,l,c){var d=c[c.length-2],v=c[c.length-1];c.length-=2;var g=GRAPHICS_CURVES._segmentsCount(t.curveLength(d,v,r,n,s,o,h,l)),m=0,_=0,y=0,B=0,w=0;c.push(d,v);for(var C=1,b=0;C<=g;++C)b=C/g,m=1-b,_=m*m,y=_*m,B=b*b,w=B*b,c.push(y*d+3*_*b*r+3*m*B*s+w*h,y*v+3*_*b*n+3*m*B*o+w*l)},t}(),QuadraticUtils=function(){function t(){}return t.curveLength=function(r,n,s,o,h,l){var c=r-2*s+h,d=n-2*o+l,v=2*s-2*r,g=2*o-2*n,m=4*(c*c+d*d),_=4*(c*v+d*g),y=v*v+g*g,B=2*Math.sqrt(m+_+y),w=Math.sqrt(m),C=2*m*w,b=2*Math.sqrt(y),I=_/w;return(C*B+w*_*(B-b)+(4*y*m-_*_)*Math.log((2*w+I+B)/(I+b)))/(4*C)},t.curveTo=function(r,n,s,o,h){for(var l=h[h.length-2],c=h[h.length-1],d=GRAPHICS_CURVES._segmentsCount(t.curveLength(l,c,r,n,s,o)),v=0,g=0,m=1;m<=d;++m){var _=m/d;v=l+(r-l)*_,g=c+(n-c)*_,h.push(v+(r+(s-r)*_-v)*_,g+(n+(o-n)*_-g)*_)}},t}(),BatchPart=function(){function t(){this.reset()}return t.prototype.begin=function(r,n,s){this.reset(),this.style=r,this.start=n,this.attribStart=s},t.prototype.end=function(r,n){this.attribSize=n-this.attribStart,this.size=r-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),_a,FILL_COMMANDS=(_a={},_a[SHAPES$1.POLY]=buildPoly,_a[SHAPES$1.CIRC]=buildCircle,_a[SHAPES$1.ELIP]=buildCircle,_a[SHAPES$1.RECT]=buildRectangle,_a[SHAPES$1.RREC]=buildRoundedRectangle,_a),BATCH_POOL=[],DRAW_CALL_POOL=[],GraphicsData=function(){function t(r,n,s,o){n===void 0&&(n=null),s===void 0&&(s=null),o===void 0&&(o=null),this.points=[],this.holes=[],this.shape=r,this.lineStyle=s,this.fillStyle=n,this.matrix=o,this.type=r.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),tmpPoint=new Point$1,tmpBounds=new Bounds$1,GraphicsGeometry=function(t){__extends$h(r,t);function r(){var n=t.call(this)||this;return n.closePointEps=1e-4,n.boundsPadding=0,n.uvsFloat32=null,n.indicesUint16=null,n.batchable=!1,n.points=[],n.colors=[],n.uvs=[],n.indices=[],n.textureIds=[],n.graphicsData=[],n.drawCalls=[],n.batchDirty=-1,n.batches=[],n.dirty=0,n.cacheDirty=-1,n.clearDirty=0,n.shapeIndex=0,n._bounds=new Bounds$1,n.boundsDirty=-1,n}return Object.defineProperty(r.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),r.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[n]);this.drawCalls.length=0;for(var n=0;n<this.batches.length;n++){var s=this.batches[n];s.reset(),BATCH_POOL.push(s)}this.batches.length=0},r.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},r.prototype.drawShape=function(n,s,o,h){s===void 0&&(s=null),o===void 0&&(o=null),h===void 0&&(h=null);var l=new GraphicsData(n,s,o,h);return this.graphicsData.push(l),this.dirty++,this},r.prototype.drawHole=function(n,s){if(s===void 0&&(s=null),!this.graphicsData.length)return null;var o=new GraphicsData(n,null,null,s),h=this.graphicsData[this.graphicsData.length-1];return o.lineStyle=h.lineStyle,h.holes.push(o),this.dirty++,this},r.prototype.destroy=function(){t.prototype.destroy.call(this);for(var n=0;n<this.graphicsData.length;++n)this.graphicsData[n].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},r.prototype.containsPoint=function(n){for(var s=this.graphicsData,o=0;o<s.length;++o){var h=s[o];if(!!h.fillStyle.visible&&h.shape&&(h.matrix?h.matrix.applyInverse(n,tmpPoint):tmpPoint.copyFrom(n),h.shape.contains(tmpPoint.x,tmpPoint.y))){var l=!1;if(h.holes)for(var c=0;c<h.holes.length;c++){var d=h.holes[c];if(d.shape.contains(tmpPoint.x,tmpPoint.y)){l=!0;break}}if(!l)return!0}}return!1},r.prototype.updateBatches=function(n){if(!this.graphicsData.length){this.batchable=!0;return}if(!!this.validateBatching()){this.cacheDirty=this.dirty;var s=this.uvs,o=this.graphicsData,h=null,l=null;this.batches.length>0&&(h=this.batches[this.batches.length-1],l=h.style);for(var c=this.shapeIndex;c<o.length;c++){this.shapeIndex++;var d=o[c],v=d.fillStyle,g=d.lineStyle,m=FILL_COMMANDS[d.type];m.build(d),d.matrix&&this.transformPoints(d.points,d.matrix),(v.visible||g.visible)&&this.processHoles(d.holes);for(var _=0;_<2;_++){var y=_===0?v:g;if(!!y.visible){var B=y.texture.baseTexture,w=this.indices.length,C=this.points.length/2;B.wrapMode=WRAP_MODES$4.REPEAT,_===0?this.processFill(d):this.processLine(d);var b=this.points.length/2-C;b!==0&&(h&&!this._compareStyles(l,y)&&(h.end(w,C),h=null),h||(h=BATCH_POOL.pop()||new BatchPart,h.begin(y,w,C),this.batches.push(h),l=y),this.addUvs(this.points,s,y.texture,C,b,y.matrix))}}}var I=this.indices.length,S=this.points.length/2;if(h&&h.end(I,S),this.batches.length===0){this.batchable=!0;return}if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var R=S>65535&&n;this.indicesUint16=R?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},r.prototype._compareStyles=function(n,s){return!(!n||!s||n.texture.baseTexture!==s.texture.baseTexture||n.color+n.alpha!==s.color+s.alpha||!!n.native!=!!s.native)},r.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var n=0,s=this.graphicsData.length;n<s;n++){var o=this.graphicsData[n],h=o.fillStyle,l=o.lineStyle;if(h&&!h.texture.baseTexture.valid||l&&!l.texture.baseTexture.valid)return!1}return!0},r.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var n=this.batches,s=0,o=n.length;s<o;s++)for(var h=n[s],l=0;l<h.size;l++){var c=h.start+l;this.indicesUint16[c]=this.indicesUint16[c]-h.attribStart}},r.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var n=this.batches,s=0;s<n.length;s++)if(n[s].style.native)return!1;return this.points.length<r.BATCHABLE_SIZE*2},r.prototype.buildDrawCalls=function(){for(var n=++BaseTexture$1._globalBatch,s=0;s<this.drawCalls.length;s++)this.drawCalls[s].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[s]);this.drawCalls.length=0;var o=this.colors,h=this.textureIds,l=DRAW_CALL_POOL.pop();l||(l=new BatchDrawCall$1,l.texArray=new BatchTextureArray$1),l.texArray.count=0,l.start=0,l.size=0,l.type=DRAW_MODES$4.TRIANGLES;var c=0,d=null,v=0,g=!1,m=DRAW_MODES$4.TRIANGLES,_=0;this.drawCalls.push(l);for(var s=0;s<this.batches.length;s++){var y=this.batches[s],B=8,w=y.style,C=w.texture.baseTexture;g!==!!w.native&&(g=!!w.native,m=g?DRAW_MODES$4.LINES:DRAW_MODES$4.TRIANGLES,d=null,c=B,n++),d!==C&&(d=C,C._batchEnabled!==n&&(c===B&&(n++,c=0,l.size>0&&(l=DRAW_CALL_POOL.pop(),l||(l=new BatchDrawCall$1,l.texArray=new BatchTextureArray$1),this.drawCalls.push(l)),l.start=_,l.size=0,l.texArray.count=0,l.type=m),C.touched=1,C._batchEnabled=n,C._batchLocation=c,C.wrapMode=WRAP_MODES$4.REPEAT,l.texArray.elements[l.texArray.count++]=C,c++)),l.size+=y.size,_+=y.size,v=C._batchLocation,this.addColors(o,w.color,w.alpha,y.attribSize,y.attribStart),this.addTextureIds(h,v,y.attribSize,y.attribStart)}BaseTexture$1._globalBatch=n,this.packAttributes()},r.prototype.packAttributes=function(){for(var n=this.points,s=this.uvs,o=this.colors,h=this.textureIds,l=new ArrayBuffer(n.length*3*4),c=new Float32Array(l),d=new Uint32Array(l),v=0,g=0;g<n.length/2;g++)c[v++]=n[g*2],c[v++]=n[g*2+1],c[v++]=s[g*2],c[v++]=s[g*2+1],d[v++]=o[g],c[v++]=h[g];this._buffer.update(l),this._indexBuffer.update(this.indicesUint16)},r.prototype.processFill=function(n){if(n.holes.length)buildPoly.triangulate(n,this);else{var s=FILL_COMMANDS[n.type];s.triangulate(n,this)}},r.prototype.processLine=function(n){buildLine(n,this);for(var s=0;s<n.holes.length;s++)buildLine(n.holes[s],this)},r.prototype.processHoles=function(n){for(var s=0;s<n.length;s++){var o=n[s],h=FILL_COMMANDS[o.type];h.build(o),o.matrix&&this.transformPoints(o.points,o.matrix)}},r.prototype.calculateBounds=function(){var n=this._bounds,s=tmpBounds,o=Matrix$1.IDENTITY;this._bounds.clear(),s.clear();for(var h=0;h<this.graphicsData.length;h++){var l=this.graphicsData[h],c=l.shape,d=l.type,v=l.lineStyle,g=l.matrix||Matrix$1.IDENTITY,m=0;if(v&&v.visible&&(m=v.width,d!==SHAPES$1.POLY||l.fillStyle.visible?m*=Math.max(0,v.alignment):m*=Math.max(v.alignment,1-v.alignment)),o!==g&&(s.isEmpty()||(n.addBoundsMatrix(s,o),s.clear()),o=g),d===SHAPES$1.RECT||d===SHAPES$1.RREC){var _=c;s.addFramePad(_.x,_.y,_.x+_.width,_.y+_.height,m,m)}else if(d===SHAPES$1.CIRC){var y=c;s.addFramePad(y.x,y.y,y.x,y.y,y.radius+m,y.radius+m)}else if(d===SHAPES$1.ELIP){var B=c;s.addFramePad(B.x,B.y,B.x,B.y,B.width+m,B.height+m)}else{var w=c;n.addVerticesMatrix(o,w.points,0,w.points.length,m,m)}}s.isEmpty()||n.addBoundsMatrix(s,o),n.pad(this.boundsPadding,this.boundsPadding)},r.prototype.transformPoints=function(n,s){for(var o=0;o<n.length/2;o++){var h=n[o*2],l=n[o*2+1];n[o*2]=s.a*h+s.c*l+s.tx,n[o*2+1]=s.b*h+s.d*l+s.ty}},r.prototype.addColors=function(n,s,o,h,l){l===void 0&&(l=0);var c=(s>>16)+(s&65280)+((s&255)<<16),d=premultiplyTint$1(c,o);n.length=Math.max(n.length,l+h);for(var v=0;v<h;v++)n[l+v]=d},r.prototype.addTextureIds=function(n,s,o,h){h===void 0&&(h=0),n.length=Math.max(n.length,h+o);for(var l=0;l<o;l++)n[h+l]=s},r.prototype.addUvs=function(n,s,o,h,l,c){c===void 0&&(c=null);for(var d=0,v=s.length,g=o.frame;d<l;){var m=n[(h+d)*2],_=n[(h+d)*2+1];if(c){var y=c.a*m+c.c*_+c.tx;_=c.b*m+c.d*_+c.ty,m=y}d++,s.push(m/g.width,_/g.height)}var B=o.baseTexture;(g.width<B.width||g.height<B.height)&&this.adjustUvs(s,o,v,l)},r.prototype.adjustUvs=function(n,s,o,h){for(var l=s.baseTexture,c=1e-6,d=o+h*2,v=s.frame,g=v.width/l.width,m=v.height/l.height,_=v.x/v.width,y=v.y/v.height,B=Math.floor(n[o]+c),w=Math.floor(n[o+1]+c),C=o+2;C<d;C+=2)B=Math.min(B,Math.floor(n[C]+c)),w=Math.min(w,Math.floor(n[C+1]+c));_-=B,y-=w;for(var C=o;C<d;C+=2)n[C]=(n[C]+_)*g,n[C+1]=(n[C+1]+y)*m},r.BATCHABLE_SIZE=100,r}(BatchGeometry$1),LineStyle=function(t){__extends$h(r,t);function r(){var n=t!==null&&t.apply(this,arguments)||this;return n.width=0,n.alignment=.5,n.native=!1,n.cap=LINE_CAP.BUTT,n.join=LINE_JOIN.MITER,n.miterLimit=10,n}return r.prototype.clone=function(){var n=new r;return n.color=this.color,n.alpha=this.alpha,n.texture=this.texture,n.matrix=this.matrix,n.visible=this.visible,n.width=this.width,n.alignment=this.alignment,n.native=this.native,n.cap=this.cap,n.join=this.join,n.miterLimit=this.miterLimit,n},r.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},r}(FillStyle),temp=new Float32Array(3),DEFAULT_SHADERS={},Graphics=function(t){__extends$h(r,t);function r(n){n===void 0&&(n=null);var s=t.call(this)||this;return s.shader=null,s.pluginName="batch",s.currentPath=null,s.batches=[],s.batchTint=-1,s.batchDirty=-1,s.vertexData=null,s._fillStyle=new FillStyle,s._lineStyle=new LineStyle,s._matrix=null,s._holeMode=!1,s.state=State$1.for2d(),s._geometry=n||new GraphicsGeometry,s._geometry.refCount++,s._transformID=-1,s.tint=16777215,s.blendMode=BLEND_MODES$4.NORMAL,s}return Object.defineProperty(r.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),r.prototype.clone=function(){return this.finishPoly(),new r(this._geometry)},Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(n){this.state.blendMode=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(n){this._tint=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),r.prototype.lineStyle=function(n,s,o,h,l){return n===void 0&&(n=null),s===void 0&&(s=0),o===void 0&&(o=1),h===void 0&&(h=.5),l===void 0&&(l=!1),typeof n=="number"&&(n={width:n,color:s,alpha:o,alignment:h,native:l}),this.lineTextureStyle(n)},r.prototype.lineTextureStyle=function(n){n=Object.assign({width:0,texture:Texture$1.WHITE,color:n&&n.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:LINE_CAP.BUTT,join:LINE_JOIN.MITER,miterLimit:10},n),this.currentPath&&this.startPoly();var s=n.width>0&&n.alpha>0;return s?(n.matrix&&(n.matrix=n.matrix.clone(),n.matrix.invert()),Object.assign(this._lineStyle,{visible:s},n)):this._lineStyle.reset(),this},r.prototype.startPoly=function(){if(this.currentPath){var n=this.currentPath.points,s=this.currentPath.points.length;s>2&&(this.drawShape(this.currentPath),this.currentPath=new Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(n[s-2],n[s-1]))}else this.currentPath=new Polygon,this.currentPath.closeStroke=!1},r.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},r.prototype.moveTo=function(n,s){return this.startPoly(),this.currentPath.points[0]=n,this.currentPath.points[1]=s,this},r.prototype.lineTo=function(n,s){this.currentPath||this.moveTo(0,0);var o=this.currentPath.points,h=o[o.length-2],l=o[o.length-1];return(h!==n||l!==s)&&o.push(n,s),this},r.prototype._initCurve=function(n,s){n===void 0&&(n=0),s===void 0&&(s=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[n,s]):this.moveTo(n,s)},r.prototype.quadraticCurveTo=function(n,s,o,h){this._initCurve();var l=this.currentPath.points;return l.length===0&&this.moveTo(0,0),QuadraticUtils.curveTo(n,s,o,h,l),this},r.prototype.bezierCurveTo=function(n,s,o,h,l,c){return this._initCurve(),BezierUtils.curveTo(n,s,o,h,l,c,this.currentPath.points),this},r.prototype.arcTo=function(n,s,o,h,l){this._initCurve(n,s);var c=this.currentPath.points,d=ArcUtils.curveTo(n,s,o,h,l,c);if(d){var v=d.cx,g=d.cy,m=d.radius,_=d.startAngle,y=d.endAngle,B=d.anticlockwise;this.arc(v,g,m,_,y,B)}return this},r.prototype.arc=function(n,s,o,h,l,c){if(c===void 0&&(c=!1),h===l)return this;!c&&l<=h?l+=PI_2$1:c&&h<=l&&(h+=PI_2$1);var d=l-h;if(d===0)return this;var v=n+Math.cos(h)*o,g=s+Math.sin(h)*o,m=this._geometry.closePointEps,_=this.currentPath?this.currentPath.points:null;if(_){var y=Math.abs(_[_.length-2]-v),B=Math.abs(_[_.length-1]-g);y<m&&B<m||_.push(v,g)}else this.moveTo(v,g),_=this.currentPath.points;return ArcUtils.arc(v,g,n,s,o,h,l,c,_),this},r.prototype.beginFill=function(n,s){return n===void 0&&(n=0),s===void 0&&(s=1),this.beginTextureFill({texture:Texture$1.WHITE,color:n,alpha:s})},r.prototype.beginTextureFill=function(n){n=Object.assign({texture:Texture$1.WHITE,color:16777215,alpha:1,matrix:null},n),this.currentPath&&this.startPoly();var s=n.alpha>0;return s?(n.matrix&&(n.matrix=n.matrix.clone(),n.matrix.invert()),Object.assign(this._fillStyle,{visible:s},n)):this._fillStyle.reset(),this},r.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},r.prototype.drawRect=function(n,s,o,h){return this.drawShape(new Rectangle$1(n,s,o,h))},r.prototype.drawRoundedRect=function(n,s,o,h,l){return this.drawShape(new RoundedRectangle(n,s,o,h,l))},r.prototype.drawCircle=function(n,s,o){return this.drawShape(new Circle(n,s,o))},r.prototype.drawEllipse=function(n,s,o,h){return this.drawShape(new Ellipse(n,s,o,h))},r.prototype.drawPolygon=function(){for(var n=arguments,s=[],o=0;o<arguments.length;o++)s[o]=n[o];var h,l=!0,c=s[0];c.points?(l=c.closeStroke,h=c.points):Array.isArray(s[0])?h=s[0]:h=s;var d=new Polygon(h);return d.closeStroke=l,this.drawShape(d),this},r.prototype.drawShape=function(n){return this._holeMode?this._geometry.drawHole(n,this._matrix):this._geometry.drawShape(n,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},r.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},r.prototype.isFastRect=function(){var n=this._geometry.graphicsData;return n.length===1&&n[0].shape.type===SHAPES$1.RECT&&!n[0].matrix&&!n[0].holes.length&&!(n[0].lineStyle.visible&&n[0].lineStyle.width)},r.prototype._render=function(n){this.finishPoly();var s=this._geometry,o=n.context.supports.uint32Indices;s.updateBatches(o),s.batchable?(this.batchDirty!==s.batchDirty&&this._populateBatches(),this._renderBatched(n)):(n.batch.flush(),this._renderDirect(n))},r.prototype._populateBatches=function(){var n=this._geometry,s=this.blendMode,o=n.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=n.batchDirty,this.batches.length=o,this.vertexData=new Float32Array(n.points);for(var h=0;h<o;h++){var l=n.batches[h],c=l.style.color,d=new Float32Array(this.vertexData.buffer,l.attribStart*4*2,l.attribSize*2),v=new Float32Array(n.uvsFloat32.buffer,l.attribStart*4*2,l.attribSize*2),g=new Uint16Array(n.indicesUint16.buffer,l.start*2,l.size),m={vertexData:d,blendMode:s,indices:g,uvs:v,_batchRGB:hex2rgb$1(c),_tintRGB:c,_texture:l.style.texture,alpha:l.style.alpha,worldAlpha:1};this.batches[h]=m}},r.prototype._renderBatched=function(n){if(!!this.batches.length){n.batch.setObjectRenderer(n.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var s=0,o=this.batches.length;s<o;s++){var h=this.batches[s];h.worldAlpha=this.worldAlpha*h.alpha,n.plugins[this.pluginName].render(h)}}},r.prototype._renderDirect=function(n){var s=this._resolveDirectShader(n),o=this._geometry,h=this.tint,l=this.worldAlpha,c=s.uniforms,d=o.drawCalls;c.translationMatrix=this.transform.worldTransform,c.tint[0]=(h>>16&255)/255*l,c.tint[1]=(h>>8&255)/255*l,c.tint[2]=(h&255)/255*l,c.tint[3]=l,n.shader.bind(s),n.geometry.bind(o,s),n.state.set(this.state);for(var v=0,g=d.length;v<g;v++)this._renderDrawCallDirect(n,o.drawCalls[v])},r.prototype._renderDrawCallDirect=function(n,s){for(var o=s.texArray,h=s.type,l=s.size,c=s.start,d=o.count,v=0;v<d;v++)n.texture.bind(o.elements[v],v);n.geometry.draw(h,l,c)},r.prototype._resolveDirectShader=function(n){var s=this.shader,o=this.pluginName;if(!s){if(!DEFAULT_SHADERS[o]){for(var h=n.plugins[o].MAX_TEXTURES,l=new Int32Array(h),c=0;c<h;c++)l[c]=c;var d={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix$1,default:UniformGroup$1.from({uSamplers:l},!0)},v=n.plugins[o]._shader.program;DEFAULT_SHADERS[o]=new Shader$1(v,d)}s=DEFAULT_SHADERS[o]}return s},r.prototype._calculateBounds=function(){this.finishPoly();var n=this._geometry;if(!!n.graphicsData.length){var s=n.bounds,o=s.minX,h=s.minY,l=s.maxX,c=s.maxY;this._bounds.addFrame(this.transform,o,h,l,c)}},r.prototype.containsPoint=function(n){return this.worldTransform.applyInverse(n,r._TEMP_POINT),this._geometry.containsPoint(r._TEMP_POINT)},r.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var n=hex2rgb$1(this.tint,temp),s=0;s<this.batches.length;s++){var o=this.batches[s],h=o._batchRGB,l=n[0]*h[0]*255,c=n[1]*h[1]*255,d=n[2]*h[2]*255,v=(l<<16)+(c<<8)+(d|0);o._tintRGB=(v>>16)+(v&65280)+((v&255)<<16)}}},r.prototype.calculateVertices=function(){var n=this.transform._worldID;if(this._transformID!==n){this._transformID=n;for(var s=this.transform.worldTransform,o=s.a,h=s.b,l=s.c,c=s.d,d=s.tx,v=s.ty,g=this._geometry.points,m=this.vertexData,_=0,y=0;y<g.length;y+=2){var B=g[y],w=g[y+1];m[_++]=o*B+l*w+d,m[_++]=c*w+h*B+v}}},r.prototype.closePath=function(){var n=this.currentPath;return n&&(n.closeStroke=!0,this.finishPoly()),this},r.prototype.setMatrix=function(n){return this._matrix=n,this},r.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},r.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},r.prototype.destroy=function(n){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,n)},r.nextRoundedRectBehavior=!1,r._TEMP_POINT=new Point$1,r}(Container$1);/*!
 * @pixi/sprite - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$g=function(t,r){return extendStatics$g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$g(t,r)};function __extends$g(t,r){extendStatics$g(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var tempPoint$2=new Point$1,indices=new Uint16Array([0,1,2,0,2,3]),Sprite=function(t){__extends$g(r,t);function r(n){var s=t.call(this)||this;return s._anchor=new ObservablePoint$1(s._onAnchorUpdate,s,n?n.defaultAnchor.x:0,n?n.defaultAnchor.y:0),s._texture=null,s._width=0,s._height=0,s._tint=null,s._tintRGB=null,s.tint=16777215,s.blendMode=BLEND_MODES$4.NORMAL,s._cachedTint=16777215,s.uvs=null,s.texture=n||Texture$1.EMPTY,s.vertexData=new Float32Array(8),s.vertexTrimmedData=null,s._transformID=-1,s._textureID=-1,s._transformTrimmedID=-1,s._textureTrimmedID=-1,s.indices=indices,s.pluginName="batch",s.isSprite=!0,s._roundPixels=settings$1.ROUND_PIXELS,s}return r.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=sign(this.scale.y)*this._height/this._texture.orig.height)},r.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},r.prototype.calculateVertices=function(){var n=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===n._updateID)){this._textureID!==n._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=n._updateID;var s=this.transform.worldTransform,o=s.a,h=s.b,l=s.c,c=s.d,d=s.tx,v=s.ty,g=this.vertexData,m=n.trim,_=n.orig,y=this._anchor,B=0,w=0,C=0,b=0;if(m?(w=m.x-y._x*_.width,B=w+m.width,b=m.y-y._y*_.height,C=b+m.height):(w=-y._x*_.width,B=w+_.width,b=-y._y*_.height,C=b+_.height),g[0]=o*w+l*b+d,g[1]=c*b+h*w+v,g[2]=o*B+l*b+d,g[3]=c*b+h*B+v,g[4]=o*B+l*C+d,g[5]=c*C+h*B+v,g[6]=o*w+l*C+d,g[7]=c*C+h*w+v,this._roundPixels)for(var I=settings$1.RESOLUTION,S=0;S<g.length;++S)g[S]=Math.round((g[S]*I|0)/I)}},r.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var n=this._texture,s=this.vertexTrimmedData,o=n.orig,h=this._anchor,l=this.transform.worldTransform,c=l.a,d=l.b,v=l.c,g=l.d,m=l.tx,_=l.ty,y=-h._x*o.width,B=y+o.width,w=-h._y*o.height,C=w+o.height;s[0]=c*y+v*w+m,s[1]=g*w+d*y+_,s[2]=c*B+v*w+m,s[3]=g*w+d*B+_,s[4]=c*B+v*C+m,s[5]=g*C+d*B+_,s[6]=c*y+v*C+m,s[7]=g*C+d*y+_},r.prototype._render=function(n){this.calculateVertices(),n.batch.setObjectRenderer(n.plugins[this.pluginName]),n.plugins[this.pluginName].render(this)},r.prototype._calculateBounds=function(){var n=this._texture.trim,s=this._texture.orig;!n||n.width===s.width&&n.height===s.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},r.prototype.getLocalBounds=function(n){return this.children.length===0?(this._localBounds||(this._localBounds=new Bounds$1),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),n||(this._localBoundsRect||(this._localBoundsRect=new Rectangle$1),n=this._localBoundsRect),this._localBounds.getRectangle(n)):t.prototype.getLocalBounds.call(this,n)},r.prototype.containsPoint=function(n){this.worldTransform.applyInverse(n,tempPoint$2);var s=this._texture.orig.width,o=this._texture.orig.height,h=-s*this.anchor.x,l=0;return tempPoint$2.x>=h&&tempPoint$2.x<h+s&&(l=-o*this.anchor.y,tempPoint$2.y>=l&&tempPoint$2.y<l+o)},r.prototype.destroy=function(n){t.prototype.destroy.call(this,n),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var s=typeof n=="boolean"?n:n&&n.texture;if(s){var o=typeof n=="boolean"?n:n&&n.baseTexture;this._texture.destroy(!!o)}this._texture=null},r.from=function(n,s){var o=n instanceof Texture$1?n:Texture$1.from(n,s);return new r(o)},Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(n){this._roundPixels!==n&&(this._transformID=-1),this._roundPixels=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(n){var s=sign(this.scale.x)||1;this.scale.x=s*n/this._texture.orig.width,this._width=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(n){var s=sign(this.scale.y)||1;this.scale.y=s*n/this._texture.orig.height,this._height=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"anchor",{get:function(){return this._anchor},set:function(n){this._anchor.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(n){this._tint=n,this._tintRGB=(n>>16)+(n&65280)+((n&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"texture",{get:function(){return this._texture},set:function(n){this._texture!==n&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=n||Texture$1.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,n&&(n.baseTexture.valid?this._onTextureUpdate():n.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),r}(Container$1);/*!
 * @pixi/text - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$f=function(t,r){return extendStatics$f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$f(t,r)};function __extends$f(t,r){extendStatics$f(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var TEXT_GRADIENT;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(TEXT_GRADIENT||(TEXT_GRADIENT={}));var defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},genericFontFamilies=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],TextStyle=function(){function t(r){this.styleID=0,this.reset(),deepCopyProperties(this,r,r)}return t.prototype.clone=function(){var r={};return deepCopyProperties(r,this,defaultStyle),new t(r)},t.prototype.reset=function(){deepCopyProperties(this,defaultStyle,defaultStyle)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(r){this._breakWords!==r&&(this._breakWords=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(r){this._dropShadow!==r&&(this._dropShadow=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(r){this._dropShadowAlpha!==r&&(this._dropShadowAlpha=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(r){this._dropShadowAngle!==r&&(this._dropShadowAngle=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(r){this._dropShadowBlur!==r&&(this._dropShadowBlur=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(r){var n=getColor(r);this._dropShadowColor!==n&&(this._dropShadowColor=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(r){this._dropShadowDistance!==r&&(this._dropShadowDistance=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(r){var n=getColor(r);this._fill!==n&&(this._fill=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(r){this._fillGradientType!==r&&(this._fillGradientType=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(r){areArraysEqual(this._fillGradientStops,r)||(this._fillGradientStops=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(r){this.fontFamily!==r&&(this._fontFamily=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(r){this._fontStyle!==r&&(this._fontStyle=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(r){this._fontVariant!==r&&(this._fontVariant=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(r){this._fontWeight!==r&&(this._fontWeight=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(r){this._lineHeight!==r&&(this._lineHeight=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(r){this._leading!==r&&(this._leading=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(r){this._lineJoin!==r&&(this._lineJoin=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(r){this._miterLimit!==r&&(this._miterLimit=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(r){this._padding!==r&&(this._padding=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(r){var n=getColor(r);this._stroke!==n&&(this._stroke=n,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(r){this._strokeThickness!==r&&(this._strokeThickness=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(r){this._textBaseline!==r&&(this._textBaseline=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(r){this._trim!==r&&(this._trim=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(r){this._whiteSpace!==r&&(this._whiteSpace=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(r){this._wordWrap!==r&&(this._wordWrap=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(r){this._wordWrapWidth!==r&&(this._wordWrapWidth=r,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var r=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,n=this.fontFamily;Array.isArray(this.fontFamily)||(n=this.fontFamily.split(","));for(var s=n.length-1;s>=0;s--){var o=n[s].trim();!/([\"\'])[^\'\"]+\1/.test(o)&&genericFontFamilies.indexOf(o)<0&&(o='"'+o+'"'),n[s]=o}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+r+" "+n.join(",")},t}();function getSingleColor(t){return typeof t=="number"?hex2string$1(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function getColor(t){if(Array.isArray(t)){for(var r=0;r<t.length;++r)t[r]=getSingleColor(t[r]);return t}else return getSingleColor(t)}function areArraysEqual(t,r){if(!Array.isArray(t)||!Array.isArray(r)||t.length!==r.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==r[n])return!1;return!0}function deepCopyProperties(t,r,n){for(var s in n)Array.isArray(r[s])?t[s]=r[s].slice():t[s]=r[s]}var TextMetrics=function(){function t(r,n,s,o,h,l,c,d,v){this.text=r,this.style=n,this.width=s,this.height=o,this.lines=h,this.lineWidths=l,this.lineHeight=c,this.maxLineWidth=d,this.fontProperties=v}return t.measureText=function(r,n,s,o){o===void 0&&(o=t._canvas),s=s==null?n.wordWrap:s;var h=n.toFontString(),l=t.measureFont(h);l.fontSize===0&&(l.fontSize=n.fontSize,l.ascent=n.fontSize);var c=o.getContext("2d");c.font=h;for(var d=s?t.wordWrap(r,n,o):r,v=d.split(/(?:\r\n|\r|\n)/),g=new Array(v.length),m=0,_=0;_<v.length;_++){var y=c.measureText(v[_]).width+(v[_].length-1)*n.letterSpacing;g[_]=y,m=Math.max(m,y)}var B=m+n.strokeThickness;n.dropShadow&&(B+=n.dropShadowDistance);var w=n.lineHeight||l.fontSize+n.strokeThickness,C=Math.max(w,l.fontSize+n.strokeThickness)+(v.length-1)*(w+n.leading);return n.dropShadow&&(C+=n.dropShadowDistance),new t(r,n,B,C,v,g,w+n.leading,m,l)},t.wordWrap=function(r,n,s){s===void 0&&(s=t._canvas);for(var o=s.getContext("2d"),h=0,l="",c="",d=Object.create(null),v=n.letterSpacing,g=n.whiteSpace,m=t.collapseSpaces(g),_=t.collapseNewlines(g),y=!m,B=n.wordWrapWidth+v,w=t.tokenize(r),C=0;C<w.length;C++){var b=w[C];if(t.isNewline(b)){if(!_){c+=t.addLine(l),y=!m,l="",h=0;continue}b=" "}if(m){var I=t.isBreakingSpace(b),S=t.isBreakingSpace(l[l.length-1]);if(I&&S)continue}var R=t.getFromCache(b,v,d,o);if(R>B)if(l!==""&&(c+=t.addLine(l),l="",h=0),t.canBreakWords(b,n.breakWords))for(var O=t.wordWrapSplit(b),P=0;P<O.length;P++){for(var N=O[P],M=1;O[P+M];){var H=O[P+M],Y=N[N.length-1];if(!t.canBreakChars(Y,H,b,P,n.breakWords))N+=H;else break;M++}P+=N.length-1;var J=t.getFromCache(N,v,d,o);J+h>B&&(c+=t.addLine(l),y=!1,l="",h=0),l+=N,h+=J}else{l.length>0&&(c+=t.addLine(l),l="",h=0);var ee=C===w.length-1;c+=t.addLine(b,!ee),y=!1,l="",h=0}else R+h>B&&(y=!1,c+=t.addLine(l),l="",h=0),(l.length>0||!t.isBreakingSpace(b)||y)&&(l+=b,h+=R)}return c+=t.addLine(l,!1),c},t.addLine=function(r,n){return n===void 0&&(n=!0),r=t.trimRight(r),r=n?r+`
`:r,r},t.getFromCache=function(r,n,s,o){var h=s[r];if(typeof h!="number"){var l=r.length*n;h=o.measureText(r).width+l,s[r]=h}return h},t.collapseSpaces=function(r){return r==="normal"||r==="pre-line"},t.collapseNewlines=function(r){return r==="normal"},t.trimRight=function(r){if(typeof r!="string")return"";for(var n=r.length-1;n>=0;n--){var s=r[n];if(!t.isBreakingSpace(s))break;r=r.slice(0,-1)}return r},t.isNewline=function(r){return typeof r!="string"?!1:t._newlines.indexOf(r.charCodeAt(0))>=0},t.isBreakingSpace=function(r,n){return typeof r!="string"?!1:t._breakingSpaces.indexOf(r.charCodeAt(0))>=0},t.tokenize=function(r){var n=[],s="";if(typeof r!="string")return n;for(var o=0;o<r.length;o++){var h=r[o],l=r[o+1];if(t.isBreakingSpace(h,l)||t.isNewline(h)){s!==""&&(n.push(s),s=""),n.push(h);continue}s+=h}return s!==""&&n.push(s),n},t.canBreakWords=function(r,n){return n},t.canBreakChars=function(r,n,s,o,h){return!0},t.wordWrapSplit=function(r){return r.split("")},t.measureFont=function(r){if(t._fonts[r])return t._fonts[r];var n={ascent:0,descent:0,fontSize:0},s=t._canvas,o=t._context;o.font=r;var h=t.METRICS_STRING+t.BASELINE_SYMBOL,l=Math.ceil(o.measureText(h).width),c=Math.ceil(o.measureText(t.BASELINE_SYMBOL).width),d=Math.ceil(t.HEIGHT_MULTIPLIER*c);c=c*t.BASELINE_MULTIPLIER|0,s.width=l,s.height=d,o.fillStyle="#f00",o.fillRect(0,0,l,d),o.font=r,o.textBaseline="alphabetic",o.fillStyle="#000",o.fillText(h,0,c);var v=o.getImageData(0,0,l,d).data,g=v.length,m=l*4,_=0,y=0,B=!1;for(_=0;_<c;++_){for(var w=0;w<m;w+=4)if(v[y+w]!==255){B=!0;break}if(!B)y+=m;else break}for(n.ascent=c-_,y=g-m,B=!1,_=d;_>c;--_){for(var w=0;w<m;w+=4)if(v[y+w]!==255){B=!0;break}if(!B)y-=m;else break}return n.descent=_-c,n.fontSize=n.ascent+n.descent,t._fonts[r]=n,n},t.clearMetrics=function(r){r===void 0&&(r=""),r?delete t._fonts[r]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var r=void 0;try{var n=new OffscreenCanvas(0,0),s=n.getContext("2d");if(s&&s.measureText)return t.__canvas=n,n;r=document.createElement("canvas")}catch(o){r=document.createElement("canvas")}r.width=r.height=10,t.__canvas=r}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d")),t.__context},enumerable:!1,configurable:!0}),t}();TextMetrics._fonts={};TextMetrics.METRICS_STRING="|\xC9q\xC5";TextMetrics.BASELINE_SYMBOL="M";TextMetrics.BASELINE_MULTIPLIER=1.4;TextMetrics.HEIGHT_MULTIPLIER=2;TextMetrics._newlines=[10,13];TextMetrics._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Text=function(t){__extends$f(r,t);function r(n,s,o){var h=this,l=!1;o||(o=document.createElement("canvas"),l=!0),o.width=3,o.height=3;var c=Texture$1.from(o);return c.orig=new Rectangle$1,c.trim=new Rectangle$1,h=t.call(this,c)||this,h._ownCanvas=l,h.canvas=o,h.context=h.canvas.getContext("2d"),h._resolution=settings$1.RESOLUTION,h._autoResolution=!0,h._text=null,h._style=null,h._styleListener=null,h._font="",h.text=n,h.style=s,h.localStyleID=-1,h}return r.prototype.updateText=function(n){var s=this._style;if(this.localStyleID!==s.styleID&&(this.dirty=!0,this.localStyleID=s.styleID),!(!this.dirty&&n)){this._font=this._style.toFontString();var o=this.context,h=TextMetrics.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),l=h.width,c=h.height,d=h.lines,v=h.lineHeight,g=h.lineWidths,m=h.maxLineWidth,_=h.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,l)+s.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,c)+s.padding*2)*this._resolution),o.scale(this._resolution,this._resolution),o.clearRect(0,0,this.canvas.width,this.canvas.height),o.font=this._font,o.lineWidth=s.strokeThickness,o.textBaseline=s.textBaseline,o.lineJoin=s.lineJoin,o.miterLimit=s.miterLimit;for(var y,B,w=s.dropShadow?2:1,C=0;C<w;++C){var b=s.dropShadow&&C===0,I=b?Math.ceil(Math.max(1,c)+s.padding*2):0,S=I*this._resolution;if(b){o.fillStyle="black",o.strokeStyle="black";var R=s.dropShadowColor,O=hex2rgb$1(typeof R=="number"?R:string2hex(R)),P=s.dropShadowBlur*this._resolution,N=s.dropShadowDistance*this._resolution;o.shadowColor="rgba("+O[0]*255+","+O[1]*255+","+O[2]*255+","+s.dropShadowAlpha+")",o.shadowBlur=P,o.shadowOffsetX=Math.cos(s.dropShadowAngle)*N,o.shadowOffsetY=Math.sin(s.dropShadowAngle)*N+S}else o.fillStyle=this._generateFillStyle(s,d,h),o.strokeStyle=s.stroke,o.shadowColor="black",o.shadowBlur=0,o.shadowOffsetX=0,o.shadowOffsetY=0;var M=(v-_.fontSize)/2;(!r.nextLineHeightBehavior||v-_.fontSize<0)&&(M=0);for(var H=0;H<d.length;H++)y=s.strokeThickness/2,B=s.strokeThickness/2+H*v+_.ascent+M,s.align==="right"?y+=m-g[H]:s.align==="center"&&(y+=(m-g[H])/2),s.stroke&&s.strokeThickness&&this.drawLetterSpacing(d[H],y+s.padding,B+s.padding-I,!0),s.fill&&this.drawLetterSpacing(d[H],y+s.padding,B+s.padding-I)}this.updateTexture()}},r.prototype.drawLetterSpacing=function(n,s,o,h){h===void 0&&(h=!1);var l=this._style,c=l.letterSpacing,d=r.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(c===0||d){d&&(this.context.letterSpacing=c,this.context.textLetterSpacing=c),h?this.context.strokeText(n,s,o):this.context.fillText(n,s,o);return}for(var v=s,g=Array.from?Array.from(n):n.split(""),m=this.context.measureText(n).width,_=0,y=0;y<g.length;++y){var B=g[y];h?this.context.strokeText(B,v,o):this.context.fillText(B,v,o);for(var w="",C=y+1;C<g.length;++C)w+=g[C];_=this.context.measureText(w).width,v+=m-_+c,m=_}},r.prototype.updateTexture=function(){var n=this.canvas;if(this._style.trim){var s=trimCanvas(n);s.data&&(n.width=s.width,n.height=s.height,this.context.putImageData(s.data,0,0))}var o=this._texture,h=this._style,l=h.trim?0:h.padding,c=o.baseTexture;o.trim.width=o._frame.width=n.width/this._resolution,o.trim.height=o._frame.height=n.height/this._resolution,o.trim.x=-l,o.trim.y=-l,o.orig.width=o._frame.width-l*2,o.orig.height=o._frame.height-l*2,this._onTextureUpdate(),c.setRealSize(n.width,n.height,this._resolution),o.updateUvs(),this.dirty=!1},r.prototype._render=function(n){this._autoResolution&&this._resolution!==n.resolution&&(this._resolution=n.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,n)},r.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},r.prototype.getBounds=function(n,s){return this.updateText(!0),this._textureID===-1&&(n=!1),t.prototype.getBounds.call(this,n,s)},r.prototype.getLocalBounds=function(n){return this.updateText(!0),t.prototype.getLocalBounds.call(this,n)},r.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},r.prototype._generateFillStyle=function(n,s,o){var h=n.fill;if(Array.isArray(h)){if(h.length===1)return h[0]}else return h;var l,c=n.dropShadow?n.dropShadowDistance:0,d=n.padding||0,v=this.canvas.width/this._resolution-c-d*2,g=this.canvas.height/this._resolution-c-d*2,m=h.slice(),_=n.fillGradientStops.slice();if(!_.length)for(var y=m.length+1,B=1;B<y;++B)_.push(B/y);if(m.unshift(h[0]),_.unshift(0),m.push(h[h.length-1]),_.push(1),n.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL){l=this.context.createLinearGradient(v/2,d,v/2,g+d);for(var w=o.fontProperties.fontSize+n.strokeThickness,B=0;B<s.length;B++){var C=o.lineHeight*(B-1)+w,b=o.lineHeight*B,I=b;B>0&&C>b&&(I=(b+C)/2);var S=b+w,R=o.lineHeight*(B+1),O=S;B+1<s.length&&R<S&&(O=(S+R)/2);for(var P=(O-I)/g,N=0;N<m.length;N++){var M=0;typeof _[N]=="number"?M=_[N]:M=N/m.length;var H=Math.min(1,Math.max(0,I/g+M*P));H=Number(H.toFixed(5)),l.addColorStop(H,m[N])}}}else{l=this.context.createLinearGradient(d,g/2,v+d,g/2);for(var Y=m.length+1,J=1,B=0;B<m.length;B++){var ee=void 0;typeof _[B]=="number"?ee=_[B]:ee=J/Y,l.addColorStop(ee,m[B]),J++}}return l},r.prototype.destroy=function(n){typeof n=="boolean"&&(n={children:n}),n=Object.assign({},defaultDestroyOptions,n),t.prototype.destroy.call(this,n),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(r.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(n){this.updateText(!0);var s=sign(this.scale.x)||1;this.scale.x=s*n/this._texture.orig.width,this._width=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(n){this.updateText(!0);var s=sign(this.scale.y)||1;this.scale.y=s*n/this._texture.orig.height,this._height=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"style",{get:function(){return this._style},set:function(n){n=n||{},n instanceof TextStyle?this._style=n:this._style=new TextStyle(n),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._text},set:function(n){n=String(n==null?"":n),this._text!==n&&(this._text=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resolution",{get:function(){return this._resolution},set:function(n){this._autoResolution=!1,this._resolution!==n&&(this._resolution=n,this.dirty=!0)},enumerable:!1,configurable:!0}),r.nextLineHeightBehavior=!1,r.experimentalLetterSpacing=!1,r}(Sprite);/*!
 * @pixi/prepare - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings$1.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$e=function(t,r){return extendStatics$e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$e(t,r)};function __extends$e(t,r){extendStatics$e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var CountLimiter=function(){function t(r){this.maxItemsPerFrame=r,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function findMultipleBaseTextures(t,r){var n=!1;if(t&&t._textures&&t._textures.length){for(var s=0;s<t._textures.length;s++)if(t._textures[s]instanceof Texture$1){var o=t._textures[s].baseTexture;r.indexOf(o)===-1&&(r.push(o),n=!0)}}return n}function findBaseTexture(t,r){if(t.baseTexture instanceof BaseTexture$1){var n=t.baseTexture;return r.indexOf(n)===-1&&r.push(n),!0}return!1}function findTexture(t,r){if(t._texture&&t._texture instanceof Texture$1){var n=t._texture.baseTexture;return r.indexOf(n)===-1&&r.push(n),!0}return!1}function drawText(t,r){return r instanceof Text?(r.updateText(!0),!0):!1}function calculateTextStyle(t,r){if(r instanceof TextStyle){var n=r.toFontString();return TextMetrics.measureFont(n),!0}return!1}function findText(t,r){if(t instanceof Text){r.indexOf(t.style)===-1&&r.push(t.style),r.indexOf(t)===-1&&r.push(t);var n=t._texture.baseTexture;return r.indexOf(n)===-1&&r.push(n),!0}return!1}function findTextStyle(t,r){return t instanceof TextStyle?(r.indexOf(t)===-1&&r.push(t),!0):!1}var BasePrepare=function(){function t(r){var n=this;this.limiter=new CountLimiter(settings$1.UPLOADS_PER_FRAME),this.renderer=r,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!n.queue||n.prepareItems()},this.registerFindHook(findText),this.registerFindHook(findTextStyle),this.registerFindHook(findMultipleBaseTextures),this.registerFindHook(findBaseTexture),this.registerFindHook(findTexture),this.registerUploadHook(drawText),this.registerUploadHook(calculateTextStyle)}return t.prototype.upload=function(r,n){typeof r=="function"&&(n=r,r=null),r&&this.add(r),this.queue.length?(n&&this.completes.push(n),this.ticking||(this.ticking=!0,Ticker$1.system.addOnce(this.tick,this,UPDATE_PRIORITY$1.UTILITY))):n&&n()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var r=this.queue[0],n=!1;if(r&&!r._destroyed){for(var s=0,o=this.uploadHooks.length;s<o;s++)if(this.uploadHooks[s](this.uploadHookHelper,r)){this.queue.shift(),n=!0;break}}n||this.queue.shift()}if(this.queue.length)Ticker$1.system.addOnce(this.tick,this,UPDATE_PRIORITY$1.UTILITY);else{this.ticking=!1;var h=this.completes.slice(0);this.completes.length=0;for(var s=0,o=h.length;s<o;s++)h[s]()}},t.prototype.registerFindHook=function(r){return r&&this.addHooks.push(r),this},t.prototype.registerUploadHook=function(r){return r&&this.uploadHooks.push(r),this},t.prototype.add=function(r){for(var n=0,s=this.addHooks.length;n<s&&!this.addHooks[n](r,this.queue);n++);if(r instanceof Container$1)for(var n=r.children.length-1;n>=0;n--)this.add(r.children[n]);return this},t.prototype.destroy=function(){this.ticking&&Ticker$1.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function uploadBaseTextures$1(t,r){return r instanceof BaseTexture$1?(r._glTextures[t.CONTEXT_UID]||t.texture.bind(r),!0):!1}function uploadGraphics(t,r){if(!(r instanceof Graphics))return!1;var n=r.geometry;r.finishPoly(),n.updateBatches();for(var s=n.batches,o=0;o<s.length;o++){var h=s[o].style.texture;h&&uploadBaseTextures$1(t,h.baseTexture)}return n.batchable||t.geometry.bind(n,r._resolveDirectShader(t)),!0}function findGraphics(t,r){return t instanceof Graphics?(r.push(t),!0):!1}var Prepare=function(t){__extends$e(r,t);function r(n){var s=t.call(this,n)||this;return s.uploadHookHelper=s.renderer,s.registerFindHook(findGraphics),s.registerUploadHook(uploadBaseTextures$1),s.registerUploadHook(uploadGraphics),s}return r}(BasePrepare);/*!
 * @pixi/spritesheet - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Spritesheet=function(){function t(r,n,s){s===void 0&&(s=null),this._texture=r instanceof Texture$1?r:null,this.baseTexture=r instanceof BaseTexture$1?r:this._texture.baseTexture,this.textures={},this.animations={},this.data=n;var o=this.baseTexture.resource;this.resolution=this._updateResolution(s||(o?o.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(r){r===void 0&&(r=null);var n=this.data.meta.scale,s=getResolutionOfUrl$1(r,null);return s===null&&(s=n!==void 0?parseFloat(n):1),s!==1&&this.baseTexture.setResolution(s),s},t.prototype.parse=function(r){this._batchIndex=0,this._callback=r,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(r){for(var n=r,s=t.BATCH_SIZE;n-r<s&&n<this._frameKeys.length;){var o=this._frameKeys[n],h=this._frames[o],l=h.frame;if(l){var c=null,d=null,v=h.trimmed!==!1&&h.sourceSize?h.sourceSize:h.frame,g=new Rectangle$1(0,0,Math.floor(v.w)/this.resolution,Math.floor(v.h)/this.resolution);h.rotated?c=new Rectangle$1(Math.floor(l.x)/this.resolution,Math.floor(l.y)/this.resolution,Math.floor(l.h)/this.resolution,Math.floor(l.w)/this.resolution):c=new Rectangle$1(Math.floor(l.x)/this.resolution,Math.floor(l.y)/this.resolution,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution),h.trimmed!==!1&&h.spriteSourceSize&&(d=new Rectangle$1(Math.floor(h.spriteSourceSize.x)/this.resolution,Math.floor(h.spriteSourceSize.y)/this.resolution,Math.floor(l.w)/this.resolution,Math.floor(l.h)/this.resolution)),this.textures[o]=new Texture$1(this.baseTexture,c,g,d,h.rotated?2:0,h.anchor),Texture$1.addToCache(this.textures[o],o)}n++}},t.prototype._processAnimations=function(){var r=this.data.animations||{};for(var n in r){this.animations[n]=[];for(var s=0;s<r[n].length;s++){var o=r[n][s];this.animations[n].push(this.textures[o])}}},t.prototype._parseComplete=function(){var r=this._callback;this._callback=null,this._batchIndex=0,r.call(this,this.textures)},t.prototype._nextBatch=function(){var r=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){r._batchIndex*t.BATCH_SIZE<r._frameKeys.length?r._nextBatch():(r._processAnimations(),r._parseComplete())},0)},t.prototype.destroy=function(r){var n;r===void 0&&(r=!1);for(var s in this.textures)this.textures[s].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,r&&((n=this._texture)===null||n===void 0||n.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),SpritesheetLoader=function(){function t(){}return t.use=function(r,n){var s,o,h=this,l=r.name+"_image";if(!r.data||r.type!==LoaderResource.TYPE.JSON||!r.data.frames||h.resources[l]){n();return}var c=(o=(s=r.data)===null||s===void 0?void 0:s.meta)===null||o===void 0?void 0:o.related_multi_packs;if(Array.isArray(c))for(var d=function(B){if(typeof B!="string")return"continue";var w=B.replace(".json",""),C=url$1.resolve(r.url.replace(h.baseUrl,""),B);if(h.resources[w]||Object.values(h.resources).some(function(I){return url$1.format(url$1.parse(I.url))===C}))return"continue";var b={crossOrigin:r.crossOrigin,loadType:LoaderResource.LOAD_TYPE.XHR,xhrType:LoaderResource.XHR_RESPONSE_TYPE.JSON,parentResource:r,metadata:r.metadata};h.add(w,C,b)},v=0,g=c;v<g.length;v++){var m=g[v];d(m)}var _={crossOrigin:r.crossOrigin,metadata:r.metadata.imageMetadata,parentResource:r},y=t.getResourcePath(r,h.baseUrl);h.add(l,y,_,function(w){if(w.error){n(w.error);return}var C=new Spritesheet(w.texture,r.data,r.url);C.parse(function(){r.spritesheet=C,r.textures=C.textures,n()})})},t.getResourcePath=function(r,n){return r.isDataUrl?r.data.meta.image:url$1.resolve(r.url.replace(n,""),r.data.meta.image)},t}();/*!
 * @pixi/sprite-tiling - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$d=function(t,r){return extendStatics$d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$d(t,r)};function __extends$d(t,r){extendStatics$d(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var tempPoint$1=new Point$1,TilingSprite=function(t){__extends$d(r,t);function r(n,s,o){s===void 0&&(s=100),o===void 0&&(o=100);var h=t.call(this,n)||this;return h.tileTransform=new Transform,h._width=s,h._height=o,h.uvMatrix=h.texture.uvMatrix||new TextureMatrix$1(n),h.pluginName="tilingSprite",h.uvRespectAnchor=!1,h}return Object.defineProperty(r.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(n){this.uvMatrix.clampMargin=n,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(n){this.tileTransform.scale.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(n){this.tileTransform.position.copyFrom(n)},enumerable:!1,configurable:!0}),r.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},r.prototype._render=function(n){var s=this._texture;!s||!s.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),n.batch.setObjectRenderer(n.plugins[this.pluginName]),n.plugins[this.pluginName].render(this))},r.prototype._calculateBounds=function(){var n=this._width*-this._anchor._x,s=this._height*-this._anchor._y,o=this._width*(1-this._anchor._x),h=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,n,s,o,h)},r.prototype.getLocalBounds=function(n){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),n||(this._localBoundsRect||(this._localBoundsRect=new Rectangle$1),n=this._localBoundsRect),this._bounds.getRectangle(n)):t.prototype.getLocalBounds.call(this,n)},r.prototype.containsPoint=function(n){this.worldTransform.applyInverse(n,tempPoint$1);var s=this._width,o=this._height,h=-s*this.anchor._x;if(tempPoint$1.x>=h&&tempPoint$1.x<h+s){var l=-o*this.anchor._y;if(tempPoint$1.y>=l&&tempPoint$1.y<l+o)return!0}return!1},r.prototype.destroy=function(n){t.prototype.destroy.call(this,n),this.tileTransform=null,this.uvMatrix=null},r.from=function(n,s){var o=n instanceof Texture$1?n:Texture$1.from(n,s);return new r(o,s.width,s.height)},Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(n){this._width=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(n){this._height=n},enumerable:!1,configurable:!0}),r}(Sprite),fragmentSimpleSrc=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,gl1VertexSrc=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,gl1FragmentSrc=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,gl2VertexSrc=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,gl2FragmentSrc=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,tempMat$1=new Matrix$1,TilingSpriteRenderer=function(t){__extends$d(r,t);function r(n){var s=t.call(this,n)||this;return n.runners.contextChange.add(s),s.quad=new QuadUv$1,s.state=State$1.for2d(),s}return r.prototype.contextChange=function(){var n=this.renderer,s={globals:n.globalUniforms};this.simpleShader=Shader$1.from(gl1VertexSrc,fragmentSimpleSrc,s),this.shader=n.context.webGLVersion>1?Shader$1.from(gl2VertexSrc,gl2FragmentSrc,s):Shader$1.from(gl1VertexSrc,gl1FragmentSrc,s)},r.prototype.render=function(n){var s=this.renderer,o=this.quad,h=o.vertices;h[0]=h[6]=n._width*-n.anchor.x,h[1]=h[3]=n._height*-n.anchor.y,h[2]=h[4]=n._width*(1-n.anchor.x),h[5]=h[7]=n._height*(1-n.anchor.y);var l=n.uvRespectAnchor?n.anchor.x:0,c=n.uvRespectAnchor?n.anchor.y:0;h=o.uvs,h[0]=h[6]=-l,h[1]=h[3]=-c,h[2]=h[4]=1-l,h[5]=h[7]=1-c,o.invalidate();var d=n._texture,v=d.baseTexture,g=n.tileTransform.localTransform,m=n.uvMatrix,_=v.isPowerOfTwo&&d.frame.width===v.width&&d.frame.height===v.height;_&&(v._glTextures[s.CONTEXT_UID]?_=v.wrapMode!==WRAP_MODES$4.CLAMP:v.wrapMode===WRAP_MODES$4.CLAMP&&(v.wrapMode=WRAP_MODES$4.REPEAT));var y=_?this.simpleShader:this.shader,B=d.width,w=d.height,C=n._width,b=n._height;tempMat$1.set(g.a*B/C,g.b*B/b,g.c*w/C,g.d*w/b,g.tx/C,g.ty/b),tempMat$1.invert(),_?tempMat$1.prepend(m.mapCoord):(y.uniforms.uMapCoord=m.mapCoord.toArray(!0),y.uniforms.uClampFrame=m.uClampFrame,y.uniforms.uClampOffset=m.uClampOffset),y.uniforms.uTransform=tempMat$1.toArray(!0),y.uniforms.uColor=premultiplyTintToRgba(n.tint,n.worldAlpha,y.uniforms.uColor,v.alphaMode),y.uniforms.translationMatrix=n.transform.worldTransform.toArray(!0),y.uniforms.uSampler=d,s.shader.bind(y),s.geometry.bind(o),this.state.blendMode=correctBlendMode(n.blendMode,v.alphaMode),s.state.set(this.state),s.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},r}(ObjectRenderer$1);/*!
 * @pixi/mesh - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$c=function(t,r){return extendStatics$c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$c(t,r)};function __extends$c(t,r){extendStatics$c(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var MeshBatchUvs=function(){function t(r,n){this.uvBuffer=r,this.uvMatrix=n,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(r){if(!(!r&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var n=this.uvBuffer.data;(!this.data||this.data.length!==n.length)&&(this.data=new Float32Array(n.length)),this.uvMatrix.multiplyUvs(n,this.data),this._updateID++}},t}(),tempPoint=new Point$1,tempPolygon=new Polygon,Mesh=function(t){__extends$c(r,t);function r(n,s,o,h){h===void 0&&(h=DRAW_MODES$4.TRIANGLES);var l=t.call(this)||this;return l.geometry=n,l.shader=s,l.state=o||State$1.for2d(),l.drawMode=h,l.start=0,l.size=0,l.uvs=null,l.indices=null,l.vertexData=new Float32Array(1),l.vertexDirty=-1,l._transformID=-1,l._roundPixels=settings$1.ROUND_PIXELS,l.batchUvs=null,l}return Object.defineProperty(r.prototype,"geometry",{get:function(){return this._geometry},set:function(n){this._geometry!==n&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=n,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"material",{get:function(){return this.shader},set:function(n){this.shader=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(n){this.state.blendMode=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(n){this._roundPixels!==n&&(this._transformID=-1),this._roundPixels=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(n){this.shader.tint=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(n){this.shader.texture=n},enumerable:!1,configurable:!0}),r.prototype._render=function(n){var s=this.geometry.buffers[0].data,o=this.shader;o.batchable&&this.drawMode===DRAW_MODES$4.TRIANGLES&&s.length<r.BATCHABLE_SIZE*2?this._renderToBatch(n):this._renderDefault(n)},r.prototype._renderDefault=function(n){var s=this.shader;s.alpha=this.worldAlpha,s.update&&s.update(),n.batch.flush(),s.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),n.shader.bind(s),n.state.set(this.state),n.geometry.bind(this.geometry,s),n.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},r.prototype._renderToBatch=function(n){var s=this.geometry,o=this.shader;o.uvMatrix&&(o.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=s.indexBuffer.data,this._tintRGB=o._tintRGB,this._texture=o.texture;var h=this.material.pluginName;n.batch.setObjectRenderer(n.plugins[h]),n.plugins[h].render(this)},r.prototype.calculateVertices=function(){var n=this.geometry,s=n.buffers[0],o=s.data,h=s._updateID;if(!(h===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==o.length&&(this.vertexData=new Float32Array(o.length));for(var l=this.transform.worldTransform,c=l.a,d=l.b,v=l.c,g=l.d,m=l.tx,_=l.ty,y=this.vertexData,B=0;B<y.length/2;B++){var w=o[B*2],C=o[B*2+1];y[B*2]=c*w+v*C+m,y[B*2+1]=d*w+g*C+_}if(this._roundPixels)for(var b=settings$1.RESOLUTION,B=0;B<y.length;++B)y[B]=Math.round((y[B]*b|0)/b);this.vertexDirty=h}},r.prototype.calculateUvs=function(){var n=this.geometry.buffers[1],s=this.shader;s.uvMatrix.isSimple?this.uvs=n.data:(this.batchUvs||(this.batchUvs=new MeshBatchUvs(n,s.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},r.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},r.prototype.containsPoint=function(n){if(!this.getBounds().contains(n.x,n.y))return!1;this.worldTransform.applyInverse(n,tempPoint);for(var s=this.geometry.getBuffer("aVertexPosition").data,o=tempPolygon.points,h=this.geometry.getIndex().data,l=h.length,c=this.drawMode===4?3:1,d=0;d+2<l;d+=c){var v=h[d]*2,g=h[d+1]*2,m=h[d+2]*2;if(o[0]=s[v],o[1]=s[v+1],o[2]=s[g],o[3]=s[g+1],o[4]=s[m],o[5]=s[m+1],tempPolygon.contains(tempPoint.x,tempPoint.y))return!0}return!1},r.prototype.destroy=function(n){t.prototype.destroy.call(this,n),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},r.BATCHABLE_SIZE=100,r}(Container$1),fragment$6=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,vertex$3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,MeshMaterial=function(t){__extends$c(r,t);function r(n,s){var o=this,h={uSampler:n,alpha:1,uTextureMatrix:Matrix$1.IDENTITY,uColor:new Float32Array([1,1,1,1])};return s=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},s),s.uniforms&&Object.assign(h,s.uniforms),o=t.call(this,s.program||Program$1.from(vertex$3,fragment$6),h)||this,o._colorDirty=!1,o.uvMatrix=new TextureMatrix$1(n),o.batchable=s.program===void 0,o.pluginName=s.pluginName,o.tint=s.tint,o.alpha=s.alpha,o}return Object.defineProperty(r.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(n){this.uniforms.uSampler!==n&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!n.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=n,this.uvMatrix.texture=n)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"alpha",{get:function(){return this._alpha},set:function(n){n!==this._alpha&&(this._alpha=n,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(n){n!==this._tint&&(this._tint=n,this._tintRGB=(n>>16)+(n&65280)+((n&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),r.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var n=this.texture.baseTexture;premultiplyTintToRgba(this._tint,this._alpha,this.uniforms.uColor,n.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},r}(Shader$1),MeshGeometry=function(t){__extends$c(r,t);function r(n,s,o){var h=t.call(this)||this,l=new Buffer$1(n),c=new Buffer$1(s,!0),d=new Buffer$1(o,!0,!0);return h.addAttribute("aVertexPosition",l,2,!1,TYPES$4.FLOAT).addAttribute("aTextureCoord",c,2,!1,TYPES$4.FLOAT).addIndex(d),h._updateId=-1,h}return Object.defineProperty(r.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),r}(Geometry$1);/*!
 * @pixi/text-bitmap - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$b=function(t,r){return extendStatics$b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$b(t,r)};function __extends$b(t,r){extendStatics$b(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var BitmapFontData=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return t}(),TextFormat=function(){function t(){}return t.test=function(r){return typeof r=="string"&&r.indexOf("info face=")===0},t.parse=function(r){var n=r.match(/^[a-z]+\s+.+$/gm),s={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var o in n){var h=n[o].match(/^[a-z]+/gm)[0],l=n[o].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(var d in l){var v=l[d].split("="),g=v[0],m=v[1].replace(/"/gm,""),_=parseFloat(m),y=isNaN(_)?m:_;c[g]=y}s[h].push(c)}var B=new BitmapFontData;return s.info.forEach(function(w){return B.info.push({face:w.face,size:parseInt(w.size,10)})}),s.common.forEach(function(w){return B.common.push({lineHeight:parseInt(w.lineHeight,10)})}),s.page.forEach(function(w){return B.page.push({id:parseInt(w.id,10),file:w.file})}),s.char.forEach(function(w){return B.char.push({id:parseInt(w.id,10),page:parseInt(w.page,10),x:parseInt(w.x,10),y:parseInt(w.y,10),width:parseInt(w.width,10),height:parseInt(w.height,10),xoffset:parseInt(w.xoffset,10),yoffset:parseInt(w.yoffset,10),xadvance:parseInt(w.xadvance,10)})}),s.kerning.forEach(function(w){return B.kerning.push({first:parseInt(w.first,10),second:parseInt(w.second,10),amount:parseInt(w.amount,10)})}),s.distanceField.forEach(function(w){return B.distanceField.push({distanceRange:parseInt(w.distanceRange,10),fieldType:w.fieldType})}),B},t}(),XMLFormat=function(){function t(){}return t.test=function(r){return r instanceof XMLDocument&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(r){for(var n=new BitmapFontData,s=r.getElementsByTagName("info"),o=r.getElementsByTagName("common"),h=r.getElementsByTagName("page"),l=r.getElementsByTagName("char"),c=r.getElementsByTagName("kerning"),d=r.getElementsByTagName("distanceField"),v=0;v<s.length;v++)n.info.push({face:s[v].getAttribute("face"),size:parseInt(s[v].getAttribute("size"),10)});for(var v=0;v<o.length;v++)n.common.push({lineHeight:parseInt(o[v].getAttribute("lineHeight"),10)});for(var v=0;v<h.length;v++)n.page.push({id:parseInt(h[v].getAttribute("id"),10)||0,file:h[v].getAttribute("file")});for(var v=0;v<l.length;v++){var g=l[v];n.char.push({id:parseInt(g.getAttribute("id"),10),page:parseInt(g.getAttribute("page"),10)||0,x:parseInt(g.getAttribute("x"),10),y:parseInt(g.getAttribute("y"),10),width:parseInt(g.getAttribute("width"),10),height:parseInt(g.getAttribute("height"),10),xoffset:parseInt(g.getAttribute("xoffset"),10),yoffset:parseInt(g.getAttribute("yoffset"),10),xadvance:parseInt(g.getAttribute("xadvance"),10)})}for(var v=0;v<c.length;v++)n.kerning.push({first:parseInt(c[v].getAttribute("first"),10),second:parseInt(c[v].getAttribute("second"),10),amount:parseInt(c[v].getAttribute("amount"),10)});for(var v=0;v<d.length;v++)n.distanceField.push({fieldType:d[v].getAttribute("fieldType"),distanceRange:parseInt(d[v].getAttribute("distanceRange"),10)});return n},t}(),XMLStringFormat=function(){function t(){}return t.test=function(r){if(typeof r=="string"&&r.indexOf("<font>")>-1){var n=new globalThis.DOMParser().parseFromString(r,"text/xml");return XMLFormat.test(n)}return!1},t.parse=function(r){var n=new globalThis.DOMParser().parseFromString(r,"text/xml");return XMLFormat.parse(n)},t}(),formats=[TextFormat,XMLFormat,XMLStringFormat];function autoDetectFormat(t){for(var r=0;r<formats.length;r++)if(formats[r].test(t))return formats[r];return null}function generateFillStyle(t,r,n,s,o,h){var l=n.fill;if(Array.isArray(l)){if(l.length===1)return l[0]}else return l;var c,d=n.dropShadow?n.dropShadowDistance:0,v=n.padding||0,g=t.width/s-d-v*2,m=t.height/s-d-v*2,_=l.slice(),y=n.fillGradientStops.slice();if(!y.length)for(var B=_.length+1,w=1;w<B;++w)y.push(w/B);if(_.unshift(l[0]),y.unshift(0),_.push(l[l.length-1]),y.push(1),n.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL){c=r.createLinearGradient(g/2,v,g/2,m+v);for(var C=0,b=h.fontProperties.fontSize+n.strokeThickness,I=b/m,w=0;w<o.length;w++)for(var S=h.lineHeight*w,R=0;R<_.length;R++){var O=0;typeof y[R]=="number"?O=y[R]:O=R/_.length;var P=S/m+O*I,N=Math.max(C,P);N=Math.min(N,1),c.addColorStop(N,_[R]),C=N}}else{c=r.createLinearGradient(v,m/2,g+v,m/2);for(var M=_.length+1,H=1,w=0;w<_.length;w++){var Y=void 0;typeof y[w]=="number"?Y=y[w]:Y=H/M,c.addColorStop(Y,_[w]),H++}}return c}function drawGlyph(t,r,n,s,o,h,l){var c=n.text,d=n.fontProperties;r.translate(s,o),r.scale(h,h);var v=l.strokeThickness/2,g=-(l.strokeThickness/2);if(r.font=l.toFontString(),r.lineWidth=l.strokeThickness,r.textBaseline=l.textBaseline,r.lineJoin=l.lineJoin,r.miterLimit=l.miterLimit,r.fillStyle=generateFillStyle(t,r,l,h,[c],n),r.strokeStyle=l.stroke,l.dropShadow){var m=l.dropShadowColor,_=hex2rgb$1(typeof m=="number"?m:string2hex(m)),y=l.dropShadowBlur*h,B=l.dropShadowDistance*h;r.shadowColor="rgba("+_[0]*255+","+_[1]*255+","+_[2]*255+","+l.dropShadowAlpha+")",r.shadowBlur=y,r.shadowOffsetX=Math.cos(l.dropShadowAngle)*B,r.shadowOffsetY=Math.sin(l.dropShadowAngle)*B}else r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;l.stroke&&l.strokeThickness&&r.strokeText(c,v,g+n.lineHeight-d.descent),l.fill&&r.fillText(c,v,g+n.lineHeight-d.descent),r.setTransform(1,0,0,1,0,0),r.fillStyle="rgba(0, 0, 0, 0)"}function splitTextToCharacters(t){return Array.from?Array.from(t):t.split("")}function resolveCharacters(t){typeof t=="string"&&(t=[t]);for(var r=[],n=0,s=t.length;n<s;n++){var o=t[n];if(Array.isArray(o)){if(o.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+o.length+".");var h=o[0].charCodeAt(0),l=o[1].charCodeAt(0);if(l<h)throw new Error("[BitmapFont]: Invalid character range.");for(var c=h,d=l;c<=d;c++)r.push(String.fromCharCode(c))}else r.push.apply(r,splitTextToCharacters(o))}if(r.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return r}function extractCharCode(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var BitmapFont=function(){function t(r,n,s){var o,h,l=r.info[0],c=r.common[0],d=r.page[0],v=r.distanceField[0],g=getResolutionOfUrl$1(d.file),m={};this._ownsTextures=s,this.font=l.face,this.size=l.size,this.lineHeight=c.lineHeight/g,this.chars={},this.pageTextures=m;for(var _=0;_<r.page.length;_++){var y=r.page[_],B=y.id,w=y.file;m[B]=n instanceof Array?n[_]:n[w],(v==null?void 0:v.fieldType)&&v.fieldType!=="none"&&(m[B].baseTexture.alphaMode=ALPHA_MODES$4.NO_PREMULTIPLIED_ALPHA)}for(var _=0;_<r.char.length;_++){var C=r.char[_],B=C.id,b=C.page,I=r.char[_],S=I.x,R=I.y,O=I.width,P=I.height,N=I.xoffset,M=I.yoffset,H=I.xadvance;S/=g,R/=g,O/=g,P/=g,N/=g,M/=g,H/=g;var Y=new Rectangle$1(S+m[b].frame.x/g,R+m[b].frame.y/g,O,P);this.chars[B]={xOffset:N,yOffset:M,xAdvance:H,kerning:{},texture:new Texture$1(m[b].baseTexture,Y),page:b}}for(var _=0;_<r.kerning.length;_++){var J=r.kerning[_],ee=J.first,te=J.second,se=J.amount;ee/=g,te/=g,se/=g,this.chars[te]&&(this.chars[te].kerning[ee]=se)}this.distanceFieldRange=v==null?void 0:v.distanceRange,this.distanceFieldType=(h=(o=v==null?void 0:v.fieldType)===null||o===void 0?void 0:o.toLowerCase())!==null&&h!==void 0?h:"none"}return t.prototype.destroy=function(){for(var r in this.chars)this.chars[r].texture.destroy(),this.chars[r].texture=null;for(var r in this.pageTextures)this._ownsTextures&&this.pageTextures[r].destroy(!0),this.pageTextures[r]=null;this.chars=null,this.pageTextures=null},t.install=function(r,n,s){var o;if(r instanceof BitmapFontData)o=r;else{var h=autoDetectFormat(r);if(!h)throw new Error("Unrecognized data format for font.");o=h.parse(r)}n instanceof Texture$1&&(n=[n]);var l=new t(o,n,s);return t.available[l.font]=l,l},t.uninstall=function(r){var n=t.available[r];if(!n)throw new Error("No font found named '"+r+"'");n.destroy(),delete t.available[r]},t.from=function(r,n,s){if(!r)throw new Error("[BitmapFont] Property `name` is required.");var o=Object.assign({},t.defaultOptions,s),h=o.chars,l=o.padding,c=o.resolution,d=o.textureWidth,v=o.textureHeight,g=resolveCharacters(h),m=n instanceof TextStyle?n:new TextStyle(n),_=d,y=new BitmapFontData;y.info[0]={face:m.fontFamily,size:m.fontSize},y.common[0]={lineHeight:m.fontSize};for(var B=0,w=0,C,b,I,S=0,R=[],O=0;O<g.length;O++){C||(C=document.createElement("canvas"),C.width=d,C.height=v,b=C.getContext("2d"),I=new BaseTexture$1(C,{resolution:c}),R.push(new Texture$1(I)),y.page.push({id:R.length-1,file:""}));var P=TextMetrics.measureText(g[O],m,!1,C),N=P.width,M=Math.ceil(P.height),H=Math.ceil((m.fontStyle==="italic"?2:1)*N);if(w>=v-M*c){if(w===0)throw new Error("[BitmapFont] textureHeight "+v+"px is "+("too small for "+m.fontSize+"px fonts"));--O,C=null,b=null,I=null,w=0,B=0,S=0;continue}if(S=Math.max(M+P.fontProperties.descent,S),H*c+B>=_){--O,w+=S*c,w=Math.ceil(w),B=0,S=0;continue}drawGlyph(C,b,P,B,w,c,m);var Y=extractCharCode(P.text);y.char.push({id:Y,page:R.length-1,x:B/c,y:w/c,width:H,height:M,xoffset:0,yoffset:0,xadvance:Math.ceil(N-(m.dropShadow?m.dropShadowDistance:0)-(m.stroke?m.strokeThickness:0))}),B+=(H+2*l)*c,B=Math.ceil(B)}for(var O=0,J=g.length;O<J;O++)for(var ee=g[O],te=0;te<J;te++){var se=g[te],W=b.measureText(ee).width,k=b.measureText(se).width,Q=b.measureText(ee+se).width,D=Q-(W+k);D&&y.kerning.push({first:extractCharCode(ee),second:extractCharCode(se),amount:D})}var K=new t(y,R,!0);return t.available[r]!==void 0&&t.uninstall(r),t.available[r]=K,K},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),msdfFrag=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,msdfVert=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,pageMeshDataDefaultPageMeshData=[],pageMeshDataMSDFPageMeshData=[],charRenderDataPool=[];(function(t){__extends$b(r,t);function r(n,s){s===void 0&&(s={});var o=t.call(this)||this;o._tint=16777215;var h=Object.assign({},r.styleDefaults,s),l=h.align,c=h.tint,d=h.maxWidth,v=h.letterSpacing,g=h.fontName,m=h.fontSize;if(!BitmapFont.available[g])throw new Error('Missing BitmapFont "'+g+'"');return o._activePagesMeshData=[],o._textWidth=0,o._textHeight=0,o._align=l,o._tint=c,o._fontName=g,o._fontSize=m||BitmapFont.available[g].size,o.text=n,o._maxWidth=d,o._maxLineHeight=0,o._letterSpacing=v,o._anchor=new ObservablePoint$1(function(){o.dirty=!0},o,0,0),o._roundPixels=settings$1.ROUND_PIXELS,o.dirty=!0,o._resolution=settings$1.RESOLUTION,o._autoResolution=!0,o._textureCache={},o}return r.prototype.updateText=function(){for(var n,s=BitmapFont.available[this._fontName],o=this._fontSize/s.size,h=new Point$1,l=[],c=[],d=[],v=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",g=splitTextToCharacters(v),m=this._maxWidth*s.size/this._fontSize,_=s.distanceFieldType==="none"?pageMeshDataDefaultPageMeshData:pageMeshDataMSDFPageMeshData,y=null,B=0,w=0,C=0,b=-1,I=0,S=0,R=0,O=0,P=0;P<g.length;P++){var N=g[P],M=extractCharCode(N);if(/(?:\s)/.test(N)&&(b=P,I=B,O++),N==="\r"||N===`
`){c.push(B),d.push(-1),w=Math.max(w,B),++C,++S,h.x=0,h.y+=s.lineHeight,y=null,O=0;continue}var H=s.chars[M];if(!!H){y&&H.kerning[y]&&(h.x+=H.kerning[y]);var Y=charRenderDataPool.pop()||{texture:Texture$1.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Point$1};Y.texture=H.texture,Y.line=C,Y.charCode=M,Y.position.x=h.x+H.xOffset+this._letterSpacing/2,Y.position.y=h.y+H.yOffset,Y.prevSpaces=O,l.push(Y),B=Y.position.x+Math.max(H.xAdvance,H.texture.orig.width),h.x+=H.xAdvance+this._letterSpacing,R=Math.max(R,H.yOffset+H.texture.height),y=M,b!==-1&&m>0&&h.x>m&&(++S,removeItems$1(l,1+b-S,1+P-b),P=b,b=-1,c.push(I),d.push(l.length>0?l[l.length-1].prevSpaces:0),w=Math.max(w,I),C++,h.x=0,h.y+=s.lineHeight,y=null,O=0)}}var J=g[g.length-1];J!=="\r"&&J!==`
`&&(/(?:\s)/.test(J)&&(B=I),c.push(B),w=Math.max(w,B),d.push(-1));for(var ee=[],P=0;P<=C;P++){var te=0;this._align==="right"?te=w-c[P]:this._align==="center"?te=(w-c[P])/2:this._align==="justify"&&(te=d[P]<0?0:(w-c[P])/d[P]),ee.push(te)}for(var se=l.length,W={},k=[],Q=this._activePagesMeshData,P=0;P<Q.length;P++)_.push(Q[P]);for(var P=0;P<se;P++){var D=l[P].texture,K=D.baseTexture.uid;if(!W[K]){var X=_.pop();if(!X){var j=new MeshGeometry,ie=void 0,ae=void 0;s.distanceFieldType==="none"?(ie=new MeshMaterial(Texture$1.EMPTY),ae=BLEND_MODES$4.NORMAL):(ie=new MeshMaterial(Texture$1.EMPTY,{program:Program$1.from(msdfVert,msdfFrag),uniforms:{uFWidth:0}}),ae=BLEND_MODES$4.NORMAL_NPM);var oe=new Mesh(j,ie);oe.blendMode=ae,X={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:oe,vertices:null,uvs:null,indices:null}}X.index=0,X.indexCount=0,X.vertexCount=0,X.uvsCount=0,X.total=0;var ve=this._textureCache;ve[K]=ve[K]||new Texture$1(D.baseTexture),X.mesh.texture=ve[K],X.mesh.tint=this._tint,k.push(X),W[K]=X}W[K].total++}for(var P=0;P<Q.length;P++)k.indexOf(Q[P])===-1&&this.removeChild(Q[P].mesh);for(var P=0;P<k.length;P++)k[P].mesh.parent!==this&&this.addChild(k[P].mesh);this._activePagesMeshData=k;for(var P in W){var X=W[P],ce=X.total;if(!(((n=X.indices)===null||n===void 0?void 0:n.length)>6*ce)||X.vertices.length<Mesh.BATCHABLE_SIZE*2)X.vertices=new Float32Array(4*2*ce),X.uvs=new Float32Array(4*2*ce),X.indices=new Uint16Array(6*ce);else for(var ge=X.total,Te=X.vertices,we=ge*4*2;we<Te.length;we++)Te[we]=0;X.mesh.size=6*ce}for(var P=0;P<se;P++){var N=l[P],_e=N.position.x+ee[N.line]*(this._align==="justify"?N.prevSpaces:1);this._roundPixels&&(_e=Math.round(_e));var pe=_e*o,ye=N.position.y*o,D=N.texture,G=W[D.baseTexture.uid],q=D.frame,re=D._uvs,ne=G.index++;G.indices[ne*6+0]=0+ne*4,G.indices[ne*6+1]=1+ne*4,G.indices[ne*6+2]=2+ne*4,G.indices[ne*6+3]=0+ne*4,G.indices[ne*6+4]=2+ne*4,G.indices[ne*6+5]=3+ne*4,G.vertices[ne*8+0]=pe,G.vertices[ne*8+1]=ye,G.vertices[ne*8+2]=pe+q.width*o,G.vertices[ne*8+3]=ye,G.vertices[ne*8+4]=pe+q.width*o,G.vertices[ne*8+5]=ye+q.height*o,G.vertices[ne*8+6]=pe,G.vertices[ne*8+7]=ye+q.height*o,G.uvs[ne*8+0]=re.x0,G.uvs[ne*8+1]=re.y0,G.uvs[ne*8+2]=re.x1,G.uvs[ne*8+3]=re.y1,G.uvs[ne*8+4]=re.x2,G.uvs[ne*8+5]=re.y2,G.uvs[ne*8+6]=re.x3,G.uvs[ne*8+7]=re.y3}this._textWidth=w*o,this._textHeight=(h.y+s.lineHeight)*o;for(var P in W){var X=W[P];if(this.anchor.x!==0||this.anchor.y!==0)for(var Ae=0,le=this._textWidth*this.anchor.x,de=this._textHeight*this.anchor.y,ue=0;ue<X.total;ue++)X.vertices[Ae++]-=le,X.vertices[Ae++]-=de,X.vertices[Ae++]-=le,X.vertices[Ae++]-=de,X.vertices[Ae++]-=le,X.vertices[Ae++]-=de,X.vertices[Ae++]-=le,X.vertices[Ae++]-=de;this._maxLineHeight=R*o;var fe=X.mesh.geometry.getBuffer("aVertexPosition"),he=X.mesh.geometry.getBuffer("aTextureCoord"),Ee=X.mesh.geometry.getIndex();fe.data=X.vertices,he.data=X.uvs,Ee.data=X.indices,fe.update(),he.update(),Ee.update()}for(var P=0;P<l.length;P++)charRenderDataPool.push(l[P])},r.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},r.prototype._render=function(n){this._autoResolution&&this._resolution!==n.resolution&&(this._resolution=n.resolution,this.dirty=!0);var s=BitmapFont.available[this._fontName],o=s.distanceFieldRange,h=s.distanceFieldType,l=s.size;if(h!=="none")for(var c=this.worldTransform,d=c.a,v=c.b,g=c.c,m=c.d,_=Math.sqrt(d*d+v*v),y=Math.sqrt(g*g+m*m),B=(Math.abs(_)+Math.abs(y))/2,w=this._fontSize/l,C=0,b=this._activePagesMeshData;C<b.length;C++){var I=b[C];I.mesh.shader.uniforms.uFWidth=B*o*w*this._resolution}t.prototype._render.call(this,n)},r.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},r.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(r.prototype,"tint",{get:function(){return this._tint},set:function(n){if(this._tint!==n){this._tint=n;for(var s=0;s<this._activePagesMeshData.length;s++)this._activePagesMeshData[s].mesh.tint=n}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"align",{get:function(){return this._align},set:function(n){this._align!==n&&(this._align=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontName",{get:function(){return this._fontName},set:function(n){if(!BitmapFont.available[n])throw new Error('Missing BitmapFont "'+n+'"');this._fontName!==n&&(this._fontName=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"fontSize",{get:function(){return this._fontSize},set:function(n){this._fontSize!==n&&(this._fontSize=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"anchor",{get:function(){return this._anchor},set:function(n){typeof n=="number"?this._anchor.set(n):this._anchor.copyFrom(n)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this._text},set:function(n){n=String(n==null?"":n),this._text!==n&&(this._text=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(n){this._maxWidth!==n&&(this._maxWidth=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(n){this._letterSpacing!==n&&(this._letterSpacing=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(n){n!==this._roundPixels&&(this._roundPixels=n,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resolution",{get:function(){return this._resolution},set:function(n){this._autoResolution=!1,this._resolution!==n&&(this._resolution=n,this.dirty=!0)},enumerable:!1,configurable:!0}),r.prototype.destroy=function(n){var s=this._textureCache;for(var o in s){var h=s[o];h.destroy(),delete s[o]}this._textureCache=null,t.prototype.destroy.call(this,n)},r.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},r})(Container$1);var BitmapFontLoader=function(){function t(){}return t.add=function(){LoaderResource.setExtensionXhrType("fnt",LoaderResource.XHR_RESPONSE_TYPE.TEXT)},t.use=function(r,n){var s=autoDetectFormat(r.data);if(!s){n();return}for(var o=t.getBaseUrl(this,r),h=s.parse(r.data),l={},c=function(w){l[w.metadata.pageFile]=w.texture,Object.keys(l).length===h.page.length&&(r.bitmapFont=BitmapFont.install(h,l,!0),n())},d=0;d<h.page.length;++d){var v=h.page[d].file,g=o+v,m=!1;for(var _ in this.resources){var y=this.resources[_];if(y.url===g){y.metadata.pageFile=v,y.texture?c(y):y.onAfterMiddleware.add(c),m=!0;break}}if(!m){var B={crossOrigin:r.crossOrigin,loadType:LoaderResource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:v},r.metadata.imageMetadata),parentResource:r};this.add(g,B,c)}}},t.getBaseUrl=function(r,n){var s=n.isDataUrl?"":t.dirname(n.url);return n.isDataUrl&&(s==="."&&(s=""),r.baseUrl&&s&&r.baseUrl.charAt(r.baseUrl.length-1)==="/"&&(s+="/")),s=s.replace(r.baseUrl,""),s&&s.charAt(s.length-1)!=="/"&&(s+="/"),s},t.dirname=function(r){var n=r.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return n===r?".":n===""?"/":n},t}();/*!
 * @pixi/filter-alpha - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$a=function(t,r){return extendStatics$a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$a(t,r)};function __extends$a(t,r){extendStatics$a(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var fragment$5=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;(function(t){__extends$a(r,t);function r(n){n===void 0&&(n=1);var s=t.call(this,defaultVertex$1,fragment$5,{uAlpha:1})||this;return s.alpha=n,s}return Object.defineProperty(r.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(n){this.uniforms.uAlpha=n},enumerable:!1,configurable:!0}),r})(Filter$1);/*!
 * @pixi/filter-blur - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$9=function(t,r){return extendStatics$9=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$9(t,r)};function __extends$9(t,r){extendStatics$9(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var vertTemplate=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function generateBlurVertSource(t,r){var n=Math.ceil(t/2),s=vertTemplate,o="",h;r?h="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":h="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var l=0;l<t;l++){var c=h.replace("%index%",l.toString());c=c.replace("%sampleIndex%",l-(n-1)+".0"),o+=c,o+=`
`}return s=s.replace("%blur%",o),s=s.replace("%size%",t.toString()),s}var GAUSSIAN_VALUES={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},fragTemplate$1=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function generateBlurFragSource(t){for(var r=GAUSSIAN_VALUES[t],n=r.length,s=fragTemplate$1,o="",h="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",l,c=0;c<t;c++){var d=h.replace("%index%",c.toString());l=c,c>=n&&(l=t-c-1),d=d.replace("%value%",r[l].toString()),o+=d,o+=`
`}return s=s.replace("%blur%",o),s=s.replace("%size%",t.toString()),s}/*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV$1;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(ENV$1||(ENV$1={}));var RENDERER_TYPE$1;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(RENDERER_TYPE$1||(RENDERER_TYPE$1={}));var BUFFER_BITS$1;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(BUFFER_BITS$1||(BUFFER_BITS$1={}));var BLEND_MODES$1;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(BLEND_MODES$1||(BLEND_MODES$1={}));var DRAW_MODES$1;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES$1||(DRAW_MODES$1={}));var FORMATS$1;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS$1||(FORMATS$1={}));var TARGETS$1;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS$1||(TARGETS$1={}));var TYPES$1;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES$1||(TYPES$1={}));var SAMPLER_TYPES$1;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(SAMPLER_TYPES$1||(SAMPLER_TYPES$1={}));var SCALE_MODES$1;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(SCALE_MODES$1||(SCALE_MODES$1={}));var WRAP_MODES$1;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES$1||(WRAP_MODES$1={}));var MIPMAP_MODES$1;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES$1||(MIPMAP_MODES$1={}));var ALPHA_MODES$1;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES$1||(ALPHA_MODES$1={}));var CLEAR_MODES$1;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(CLEAR_MODES$1||(CLEAR_MODES$1={}));var GC_MODES$1;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(GC_MODES$1||(GC_MODES$1={}));var PRECISION$1;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(PRECISION$1||(PRECISION$1={}));var MASK_TYPES$1;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(MASK_TYPES$1||(MASK_TYPES$1={}));var MSAA_QUALITY$1;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(MSAA_QUALITY$1||(MSAA_QUALITY$1={}));var BUFFER_TYPE$1;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE$1||(BUFFER_TYPE$1={}));var BlurFilterPass=function(t){__extends$9(r,t);function r(n,s,o,h,l){s===void 0&&(s=8),o===void 0&&(o=4),h===void 0&&(h=settings$1.FILTER_RESOLUTION),l===void 0&&(l=5);var c=this,d=generateBlurVertSource(l,n),v=generateBlurFragSource(l);return c=t.call(this,d,v)||this,c.horizontal=n,c.resolution=h,c._quality=0,c.quality=o,c.blur=s,c}return r.prototype.apply=function(n,s,o,h){if(o?this.horizontal?this.uniforms.strength=1/o.width*(o.width/s.width):this.uniforms.strength=1/o.height*(o.height/s.height):this.horizontal?this.uniforms.strength=1/n.renderer.width*(n.renderer.width/s.width):this.uniforms.strength=1/n.renderer.height*(n.renderer.height/s.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)n.applyFilter(this,s,o,h);else{var l=n.getFilterTexture(),c=n.renderer,d=s,v=l;this.state.blend=!1,n.applyFilter(this,d,v,CLEAR_MODES$1.CLEAR);for(var g=1;g<this.passes-1;g++){n.bindAndClear(d,CLEAR_MODES$1.BLIT),this.uniforms.uSampler=v;var m=v;v=d,d=m,c.shader.bind(this),c.geometry.draw(5)}this.state.blend=!0,n.applyFilter(this,v,o,h),n.returnFilterTexture(l)}},Object.defineProperty(r.prototype,"blur",{get:function(){return this.strength},set:function(n){this.padding=1+Math.abs(n)*2,this.strength=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"quality",{get:function(){return this._quality},set:function(n){this._quality=n,this.passes=n},enumerable:!1,configurable:!0}),r}(Filter$1);(function(t){__extends$9(r,t);function r(n,s,o,h){n===void 0&&(n=8),s===void 0&&(s=4),o===void 0&&(o=settings$1.FILTER_RESOLUTION),h===void 0&&(h=5);var l=t.call(this)||this;return l.blurXFilter=new BlurFilterPass(!0,n,s,o,h),l.blurYFilter=new BlurFilterPass(!1,n,s,o,h),l.resolution=o,l.quality=s,l.blur=n,l.repeatEdgePixels=!1,l}return r.prototype.apply=function(n,s,o,h){var l=Math.abs(this.blurXFilter.strength),c=Math.abs(this.blurYFilter.strength);if(l&&c){var d=n.getFilterTexture();this.blurXFilter.apply(n,s,d,CLEAR_MODES$1.CLEAR),this.blurYFilter.apply(n,d,o,h),n.returnFilterTexture(d)}else c?this.blurYFilter.apply(n,s,o,h):this.blurXFilter.apply(n,s,o,h)},r.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(r.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(n){this.blurXFilter.blur=this.blurYFilter.blur=n,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(n){this.blurXFilter.quality=this.blurYFilter.quality=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(n){this.blurXFilter.blur=n,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(n){this.blurYFilter.blur=n,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(n){this.blurYFilter.blendMode=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(n){this._repeatEdgePixels=n,this.updatePadding()},enumerable:!1,configurable:!0}),r})(Filter$1);/*!
 * @pixi/filter-color-matrix - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$8=function(t,r){return extendStatics$8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$8(t,r)};function __extends$8(t,r){extendStatics$8(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var fragment$4=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,ColorMatrixFilter=function(t){__extends$8(r,t);function r(){var n=this,s={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return n=t.call(this,defaultFilterVertex,fragment$4,s)||this,n.alpha=1,n}return r.prototype._loadMatrix=function(n,s){s===void 0&&(s=!1);var o=n;s&&(this._multiply(o,this.uniforms.m,n),o=this._colorMatrix(o)),this.uniforms.m=o},r.prototype._multiply=function(n,s,o){return n[0]=s[0]*o[0]+s[1]*o[5]+s[2]*o[10]+s[3]*o[15],n[1]=s[0]*o[1]+s[1]*o[6]+s[2]*o[11]+s[3]*o[16],n[2]=s[0]*o[2]+s[1]*o[7]+s[2]*o[12]+s[3]*o[17],n[3]=s[0]*o[3]+s[1]*o[8]+s[2]*o[13]+s[3]*o[18],n[4]=s[0]*o[4]+s[1]*o[9]+s[2]*o[14]+s[3]*o[19]+s[4],n[5]=s[5]*o[0]+s[6]*o[5]+s[7]*o[10]+s[8]*o[15],n[6]=s[5]*o[1]+s[6]*o[6]+s[7]*o[11]+s[8]*o[16],n[7]=s[5]*o[2]+s[6]*o[7]+s[7]*o[12]+s[8]*o[17],n[8]=s[5]*o[3]+s[6]*o[8]+s[7]*o[13]+s[8]*o[18],n[9]=s[5]*o[4]+s[6]*o[9]+s[7]*o[14]+s[8]*o[19]+s[9],n[10]=s[10]*o[0]+s[11]*o[5]+s[12]*o[10]+s[13]*o[15],n[11]=s[10]*o[1]+s[11]*o[6]+s[12]*o[11]+s[13]*o[16],n[12]=s[10]*o[2]+s[11]*o[7]+s[12]*o[12]+s[13]*o[17],n[13]=s[10]*o[3]+s[11]*o[8]+s[12]*o[13]+s[13]*o[18],n[14]=s[10]*o[4]+s[11]*o[9]+s[12]*o[14]+s[13]*o[19]+s[14],n[15]=s[15]*o[0]+s[16]*o[5]+s[17]*o[10]+s[18]*o[15],n[16]=s[15]*o[1]+s[16]*o[6]+s[17]*o[11]+s[18]*o[16],n[17]=s[15]*o[2]+s[16]*o[7]+s[17]*o[12]+s[18]*o[17],n[18]=s[15]*o[3]+s[16]*o[8]+s[17]*o[13]+s[18]*o[18],n[19]=s[15]*o[4]+s[16]*o[9]+s[17]*o[14]+s[18]*o[19]+s[19],n},r.prototype._colorMatrix=function(n){var s=new Float32Array(n);return s[4]/=255,s[9]/=255,s[14]/=255,s[19]/=255,s},r.prototype.brightness=function(n,s){var o=[n,0,0,0,0,0,n,0,0,0,0,0,n,0,0,0,0,0,1,0];this._loadMatrix(o,s)},r.prototype.tint=function(n,s){var o=n>>16&255,h=n>>8&255,l=n&255,c=[o/255,0,0,0,0,0,h/255,0,0,0,0,0,l/255,0,0,0,0,0,1,0];this._loadMatrix(c,s)},r.prototype.greyscale=function(n,s){var o=[n,n,n,0,0,n,n,n,0,0,n,n,n,0,0,0,0,0,1,0];this._loadMatrix(o,s)},r.prototype.blackAndWhite=function(n){var s=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(s,n)},r.prototype.hue=function(n,s){n=(n||0)/180*Math.PI;var o=Math.cos(n),h=Math.sin(n),l=Math.sqrt,c=1/3,d=l(c),v=o+(1-o)*c,g=c*(1-o)-d*h,m=c*(1-o)+d*h,_=c*(1-o)+d*h,y=o+c*(1-o),B=c*(1-o)-d*h,w=c*(1-o)-d*h,C=c*(1-o)+d*h,b=o+c*(1-o),I=[v,g,m,0,0,_,y,B,0,0,w,C,b,0,0,0,0,0,1,0];this._loadMatrix(I,s)},r.prototype.contrast=function(n,s){var o=(n||0)+1,h=-.5*(o-1),l=[o,0,0,0,h,0,o,0,0,h,0,0,o,0,h,0,0,0,1,0];this._loadMatrix(l,s)},r.prototype.saturate=function(n,s){n===void 0&&(n=0);var o=n*2/3+1,h=(o-1)*-.5,l=[o,h,h,0,0,h,o,h,0,0,h,h,o,0,0,0,0,0,1,0];this._loadMatrix(l,s)},r.prototype.desaturate=function(){this.saturate(-1)},r.prototype.negative=function(n){var s=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(s,n)},r.prototype.sepia=function(n){var s=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(s,n)},r.prototype.technicolor=function(n){var s=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(s,n)},r.prototype.polaroid=function(n){var s=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(s,n)},r.prototype.toBGR=function(n){var s=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(s,n)},r.prototype.kodachrome=function(n){var s=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(s,n)},r.prototype.browni=function(n){var s=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(s,n)},r.prototype.vintage=function(n){var s=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(s,n)},r.prototype.colorTone=function(n,s,o,h,l){n=n||.2,s=s||.15,o=o||16770432,h=h||3375104;var c=(o>>16&255)/255,d=(o>>8&255)/255,v=(o&255)/255,g=(h>>16&255)/255,m=(h>>8&255)/255,_=(h&255)/255,y=[.3,.59,.11,0,0,c,d,v,n,0,g,m,_,s,0,c-g,d-m,v-_,0,0];this._loadMatrix(y,l)},r.prototype.night=function(n,s){n=n||.1;var o=[n*-2,-n,0,0,0,-n,0,n,0,0,0,n,n*2,0,0,0,0,0,1,0];this._loadMatrix(o,s)},r.prototype.predator=function(n,s){var o=[11.224130630493164*n,-4.794486999511719*n,-2.8746118545532227*n,0*n,.40342438220977783*n,-3.6330697536468506*n,9.193157196044922*n,-2.951810836791992*n,0*n,-1.316135048866272*n,-3.2184197902679443*n,-4.2375030517578125*n,7.476448059082031*n,0*n,.8044459223747253*n,0,0,0,1,0];this._loadMatrix(o,s)},r.prototype.lsd=function(n){var s=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(s,n)},r.prototype.reset=function(){var n=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(n,!1)},Object.defineProperty(r.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(n){this.uniforms.m=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(n){this.uniforms.uAlpha=n},enumerable:!1,configurable:!0}),r}(Filter$1);ColorMatrixFilter.prototype.grayscale=ColorMatrixFilter.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$7=function(t,r){return extendStatics$7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$7(t,r)};function __extends$7(t,r){extendStatics$7(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var fragment$3=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,vertex$2=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;(function(t){__extends$7(r,t);function r(n,s){var o=this,h=new Matrix$1;return n.renderable=!1,o=t.call(this,vertex$2,fragment$3,{mapSampler:n._texture,filterMatrix:h,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,o.maskSprite=n,o.maskMatrix=h,s==null&&(s=20),o.scale=new Point$1(s,s),o}return r.prototype.apply=function(n,s,o,h){this.uniforms.filterMatrix=n.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var l=this.maskSprite.worldTransform,c=Math.sqrt(l.a*l.a+l.b*l.b),d=Math.sqrt(l.c*l.c+l.d*l.d);c!==0&&d!==0&&(this.uniforms.rotation[0]=l.a/c,this.uniforms.rotation[1]=l.b/c,this.uniforms.rotation[2]=l.c/d,this.uniforms.rotation[3]=l.d/d),n.applyFilter(this,s,o,h)},Object.defineProperty(r.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(n){this.uniforms.mapSampler=n},enumerable:!1,configurable:!0}),r})(Filter$1);/*!
 * @pixi/filter-fxaa - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$6=function(t,r){return extendStatics$6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$6(t,r)};function __extends$6(t,r){extendStatics$6(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var vertex$1=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,fragment$2=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`;(function(t){__extends$6(r,t);function r(){return t.call(this,vertex$1,fragment$2)||this}return r})(Filter$1);/*!
 * @pixi/filter-noise - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$5=function(t,r){return extendStatics$5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$5(t,r)};function __extends$5(t,r){extendStatics$5(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var fragment$1=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;(function(t){__extends$5(r,t);function r(n,s){n===void 0&&(n=.5),s===void 0&&(s=Math.random());var o=t.call(this,defaultFilterVertex,fragment$1,{uNoise:0,uSeed:0})||this;return o.noise=n,o.seed=s,o}return Object.defineProperty(r.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(n){this.uniforms.uNoise=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(n){this.uniforms.uSeed=n},enumerable:!1,configurable:!0}),r})(Filter$1);/*!
 * @pixi/mixin-cache-as-bitmap - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*!
 * @pixi/constants - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ENV;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(ENV||(ENV={}));var RENDERER_TYPE;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(RENDERER_TYPE||(RENDERER_TYPE={}));var BUFFER_BITS;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(BUFFER_BITS||(BUFFER_BITS={}));var BLEND_MODES;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(BLEND_MODES||(BLEND_MODES={}));var DRAW_MODES;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(DRAW_MODES||(DRAW_MODES={}));var FORMATS;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(FORMATS||(FORMATS={}));var TARGETS;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(TARGETS||(TARGETS={}));var TYPES;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(TYPES||(TYPES={}));var SAMPLER_TYPES;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(SAMPLER_TYPES||(SAMPLER_TYPES={}));var SCALE_MODES;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(SCALE_MODES||(SCALE_MODES={}));var WRAP_MODES;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(WRAP_MODES||(WRAP_MODES={}));var MIPMAP_MODES;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(MIPMAP_MODES||(MIPMAP_MODES={}));var ALPHA_MODES;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(ALPHA_MODES||(ALPHA_MODES={}));var CLEAR_MODES;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(CLEAR_MODES||(CLEAR_MODES={}));var GC_MODES;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(GC_MODES||(GC_MODES={}));var PRECISION;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(PRECISION||(PRECISION={}));var MASK_TYPES;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"})(MASK_TYPES||(MASK_TYPES={}));var MSAA_QUALITY;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(MSAA_QUALITY||(MSAA_QUALITY={}));var BUFFER_TYPE;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(BUFFER_TYPE||(BUFFER_TYPE={}));var _tempMatrix=new Matrix$1;DisplayObject$1.prototype._cacheAsBitmap=!1;DisplayObject$1.prototype._cacheData=null;DisplayObject$1.prototype._cacheAsBitmapResolution=null;DisplayObject$1.prototype._cacheAsBitmapMultisample=MSAA_QUALITY.NONE;var CacheData=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(DisplayObject$1.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var r;t?(this._cacheData||(this._cacheData=new CacheData),r=this._cacheData,r.originalRender=this.render,r.originalRenderCanvas=this.renderCanvas,r.originalUpdateTransform=this.updateTransform,r.originalCalculateBounds=this.calculateBounds,r.originalGetLocalBounds=this.getLocalBounds,r.originalDestroy=this.destroy,r.originalContainsPoint=this.containsPoint,r.originalMask=this._mask,r.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(r=this._cacheData,r.sprite&&this._destroyCachedDisplayObject(),this.render=r.originalRender,this.renderCanvas=r.originalRenderCanvas,this.calculateBounds=r.originalCalculateBounds,this.getLocalBounds=r.originalGetLocalBounds,this.destroy=r.originalDestroy,this.updateTransform=r.originalUpdateTransform,this.containsPoint=r.originalContainsPoint,this._mask=r.originalMask,this.filterArea=r.originalFilterArea)}}}});DisplayObject$1.prototype._renderCached=function t(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(r),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(r))};DisplayObject$1.prototype._initCachedDisplayObject=function t(r){var n;if(!(this._cacheData&&this._cacheData.sprite)){var s=this.alpha;this.alpha=1,r.batch.flush();var o=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var h=this.filters[0].padding;o.pad(h)}o.ceil(settings$1.RESOLUTION);var l=r.renderTexture.current,c=r.renderTexture.sourceFrame.clone(),d=r.renderTexture.destinationFrame.clone(),v=r.projection.transform,g=RenderTexture$1.create({width:o.width,height:o.height,resolution:this.cacheAsBitmapResolution||r.resolution,multisample:(n=this.cacheAsBitmapMultisample)!==null&&n!==void 0?n:r.multisample}),m="cacheAsBitmap_"+uid$1();this._cacheData.textureCacheId=m,BaseTexture$1.addToCache(g.baseTexture,m),Texture$1.addToCache(g,m);var _=this.transform.localTransform.copyTo(_tempMatrix).invert().translate(-o.x,-o.y);this.render=this._cacheData.originalRender,r.render(this,{renderTexture:g,clear:!0,transform:_,skipUpdateTransform:!1}),r.framebuffer.blit(),r.projection.transform=v,r.renderTexture.bind(l,c,d),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=s;var y=new Sprite(g);y.transform.worldTransform=this.transform.worldTransform,y.anchor.x=-(o.x/o.width),y.anchor.y=-(o.y/o.height),y.alpha=s,y._bounds=this._bounds,this._cacheData.sprite=y,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=y.containsPoint.bind(y)}};DisplayObject$1.prototype._renderCachedCanvas=function t(r){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(r),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(r))};DisplayObject$1.prototype._initCachedDisplayObjectCanvas=function t(r){if(!(this._cacheData&&this._cacheData.sprite)){var n=this.getLocalBounds(null,!0),s=this.alpha;this.alpha=1;var o=r.context,h=r._projTransform;n.ceil(settings$1.RESOLUTION);var l=RenderTexture$1.create({width:n.width,height:n.height}),c="cacheAsBitmap_"+uid$1();this._cacheData.textureCacheId=c,BaseTexture$1.addToCache(l.baseTexture,c),Texture$1.addToCache(l,c);var d=_tempMatrix;this.transform.localTransform.copyTo(d),d.invert(),d.tx-=n.x,d.ty-=n.y,this.renderCanvas=this._cacheData.originalRenderCanvas,r.render(this,{renderTexture:l,clear:!0,transform:d,skipUpdateTransform:!1}),r.context=o,r._projTransform=h,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=s;var v=new Sprite(l);v.transform.worldTransform=this.transform.worldTransform,v.anchor.x=-(n.x/n.width),v.anchor.y=-(n.y/n.height),v.alpha=s,v._bounds=this._bounds,this._cacheData.sprite=v,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=r._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=v.containsPoint.bind(v)}};DisplayObject$1.prototype._calculateCachedBounds=function t(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};DisplayObject$1.prototype._getCachedLocalBounds=function t(){return this._cacheData.sprite.getLocalBounds(null)};DisplayObject$1.prototype._destroyCachedDisplayObject=function t(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,BaseTexture$1.removeFromCache(this._cacheData.textureCacheId),Texture$1.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};DisplayObject$1.prototype._cacheAsBitmapDestroy=function t(r){this.cacheAsBitmap=!1,this.destroy(r)};/*!
 * @pixi/mixin-get-child-by-name - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */DisplayObject$1.prototype.name=null;Container$1.prototype.getChildByName=function t(r,n){for(var s=0,o=this.children.length;s<o;s++)if(this.children[s].name===r)return this.children[s];if(n)for(var s=0,o=this.children.length;s<o;s++){var h=this.children[s];if(!!h.getChildByName){var l=this.children[s].getChildByName(r,!0);if(l)return l}}return null};/*!
 * @pixi/mixin-get-global-position - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */DisplayObject$1.prototype.getGlobalPosition=function t(r,n){return r===void 0&&(r=new Point$1),n===void 0&&(n=!1),this.parent?this.parent.toGlobal(this.position,r,n):(r.x=this.position.x,r.y=this.position.y),r};/*!
 * @pixi/mesh-extras - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$4=function(t,r){return extendStatics$4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$4(t,r)};function __extends$4(t,r){extendStatics$4(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var PlaneGeometry=function(t){__extends$4(r,t);function r(n,s,o,h){n===void 0&&(n=100),s===void 0&&(s=100),o===void 0&&(o=10),h===void 0&&(h=10);var l=t.call(this)||this;return l.segWidth=o,l.segHeight=h,l.width=n,l.height=s,l.build(),l}return r.prototype.build=function(){for(var n=this.segWidth*this.segHeight,s=[],o=[],h=[],l=this.segWidth-1,c=this.segHeight-1,d=this.width/l,v=this.height/c,g=0;g<n;g++){var m=g%this.segWidth,_=g/this.segWidth|0;s.push(m*d,_*v),o.push(m/l,_/c)}for(var y=l*c,g=0;g<y;g++){var B=g%l,w=g/l|0,C=w*this.segWidth+B,b=w*this.segWidth+B+1,I=(w+1)*this.segWidth+B,S=(w+1)*this.segWidth+B+1;h.push(C,b,I,b,S,I)}this.buffers[0].data=new Float32Array(s),this.buffers[1].data=new Float32Array(o),this.indexBuffer.data=new Uint16Array(h),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},r}(MeshGeometry),RopeGeometry=function(t){__extends$4(r,t);function r(n,s,o){n===void 0&&(n=200),o===void 0&&(o=0);var h=t.call(this,new Float32Array(s.length*4),new Float32Array(s.length*4),new Uint16Array((s.length-1)*6))||this;return h.points=s,h._width=n,h.textureScale=o,h.build(),h}return Object.defineProperty(r.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),r.prototype.build=function(){var n=this.points;if(!!n){var s=this.getBuffer("aVertexPosition"),o=this.getBuffer("aTextureCoord"),h=this.getIndex();if(!(n.length<1)){s.data.length/4!==n.length&&(s.data=new Float32Array(n.length*4),o.data=new Float32Array(n.length*4),h.data=new Uint16Array((n.length-1)*6));var l=o.data,c=h.data;l[0]=0,l[1]=0,l[2]=0,l[3]=1;for(var d=0,v=n[0],g=this._width*this.textureScale,m=n.length,_=0;_<m;_++){var y=_*4;if(this.textureScale>0){var B=v.x-n[_].x,w=v.y-n[_].y,C=Math.sqrt(B*B+w*w);v=n[_],d+=C/g}else d=_/(m-1);l[y]=d,l[y+1]=0,l[y+2]=d,l[y+3]=1}for(var b=0,_=0;_<m-1;_++){var y=_*2;c[b++]=y,c[b++]=y+1,c[b++]=y+2,c[b++]=y+2,c[b++]=y+1,c[b++]=y+3}o.update(),h.update(),this.updateVertices()}}},r.prototype.updateVertices=function(){var n=this.points;if(!(n.length<1)){for(var s=n[0],o,h=0,l=0,c=this.buffers[0].data,d=n.length,v=0;v<d;v++){var g=n[v],m=v*4;v<n.length-1?o=n[v+1]:o=g,l=-(o.x-s.x),h=o.y-s.y;var _=Math.sqrt(h*h+l*l),y=this.textureScale>0?this.textureScale*this._width/2:this._width/2;h/=_,l/=_,h*=y,l*=y,c[m]=g.x+h,c[m+1]=g.y+l,c[m+2]=g.x-h,c[m+3]=g.y-l,s=g}this.buffers[0].update()}},r.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},r}(MeshGeometry),SimpleRope=function(t){__extends$4(r,t);function r(n,s,o){o===void 0&&(o=0);var h=this,l=new RopeGeometry(n.height,s,o),c=new MeshMaterial(n);return o>0&&(n.baseTexture.wrapMode=WRAP_MODES$4.REPEAT),h=t.call(this,l,c)||this,h.autoUpdate=!0,h}return r.prototype._render=function(n){var s=this.geometry;(this.autoUpdate||s._width!==this.shader.texture.height)&&(s._width=this.shader.texture.height,s.update()),t.prototype._render.call(this,n)},r}(Mesh),SimplePlane=function(t){__extends$4(r,t);function r(n,s,o){var h=this,l=new PlaneGeometry(n.width,n.height,s,o),c=new MeshMaterial(Texture$1.WHITE);return h=t.call(this,l,c)||this,h.texture=n,h.autoResize=!0,h}return r.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var n=this.geometry,s=this.shader.texture,o=s.width,h=s.height;this.autoResize&&(n.width!==o||n.height!==h)&&(n.width=this.shader.texture.width,n.height=this.shader.texture.height,n.build())},Object.defineProperty(r.prototype,"texture",{get:function(){return this.shader.texture},set:function(n){this.shader.texture!==n&&(this.shader.texture=n,this._textureID=-1,n.baseTexture.valid?this.textureUpdated():n.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),r.prototype._render=function(n){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,n)},r.prototype.destroy=function(n){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,n)},r}(Mesh),SimpleMesh=function(t){__extends$4(r,t);function r(n,s,o,h,l){n===void 0&&(n=Texture$1.EMPTY);var c=this,d=new MeshGeometry(s,o,h);d.getBuffer("aVertexPosition").static=!1;var v=new MeshMaterial(n);return c=t.call(this,d,v,null,l)||this,c.autoUpdate=!0,c}return Object.defineProperty(r.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(n){this.geometry.getBuffer("aVertexPosition").data=n},enumerable:!1,configurable:!0}),r.prototype._render=function(n){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,n)},r}(Mesh),DEFAULT_BORDER_SIZE=10,NineSlicePlane=function(t){__extends$4(r,t);function r(n,s,o,h,l){s===void 0&&(s=DEFAULT_BORDER_SIZE),o===void 0&&(o=DEFAULT_BORDER_SIZE),h===void 0&&(h=DEFAULT_BORDER_SIZE),l===void 0&&(l=DEFAULT_BORDER_SIZE);var c=t.call(this,Texture$1.WHITE,4,4)||this;return c._origWidth=n.orig.width,c._origHeight=n.orig.height,c._width=c._origWidth,c._height=c._origHeight,c._leftWidth=s,c._rightWidth=h,c._topHeight=o,c._bottomHeight=l,c.texture=n,c}return r.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(r.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(n){this.geometry.getBuffer("aVertexPosition").data=n},enumerable:!1,configurable:!0}),r.prototype.updateHorizontalVertices=function(){var n=this.vertices,s=this._getMinScale();n[9]=n[11]=n[13]=n[15]=this._topHeight*s,n[17]=n[19]=n[21]=n[23]=this._height-this._bottomHeight*s,n[25]=n[27]=n[29]=n[31]=this._height},r.prototype.updateVerticalVertices=function(){var n=this.vertices,s=this._getMinScale();n[2]=n[10]=n[18]=n[26]=this._leftWidth*s,n[4]=n[12]=n[20]=n[28]=this._width-this._rightWidth*s,n[6]=n[14]=n[22]=n[30]=this._width},r.prototype._getMinScale=function(){var n=this._leftWidth+this._rightWidth,s=this._width>n?1:this._width/n,o=this._topHeight+this._bottomHeight,h=this._height>o?1:this._height/o,l=Math.min(s,h);return l},Object.defineProperty(r.prototype,"width",{get:function(){return this._width},set:function(n){this._width=n,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this._height},set:function(n){this._height=n,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(n){this._leftWidth=n,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(n){this._rightWidth=n,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"topHeight",{get:function(){return this._topHeight},set:function(n){this._topHeight=n,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(n){this._bottomHeight=n,this._refresh()},enumerable:!1,configurable:!0}),r.prototype._refresh=function(){var n=this.texture,s=this.geometry.buffers[1].data;this._origWidth=n.orig.width,this._origHeight=n.orig.height;var o=1/this._origWidth,h=1/this._origHeight;s[0]=s[8]=s[16]=s[24]=0,s[1]=s[3]=s[5]=s[7]=0,s[6]=s[14]=s[22]=s[30]=1,s[25]=s[27]=s[29]=s[31]=1,s[2]=s[10]=s[18]=s[26]=o*this._leftWidth,s[4]=s[12]=s[20]=s[28]=1-o*this._rightWidth,s[9]=s[11]=s[13]=s[15]=h*this._topHeight,s[17]=s[19]=s[21]=s[23]=1-h*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},r}(SimplePlane);/*!
 * @pixi/sprite-animated - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$3=function(t,r){return extendStatics$3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$3(t,r)};function __extends$3(t,r){extendStatics$3(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}(function(t){__extends$3(r,t);function r(n,s){s===void 0&&(s=!0);var o=t.call(this,n[0]instanceof Texture$1?n[0]:n[0].texture)||this;return o._textures=null,o._durations=null,o._autoUpdate=s,o._isConnectedToTicker=!1,o.animationSpeed=1,o.loop=!0,o.updateAnchor=!1,o.onComplete=null,o.onFrameChange=null,o.onLoop=null,o._currentTime=0,o._playing=!1,o._previousFrame=null,o.textures=n,o}return r.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ticker$1.shared.remove(this.update,this),this._isConnectedToTicker=!1))},r.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ticker$1.shared.add(this.update,this,UPDATE_PRIORITY$1.HIGH),this._isConnectedToTicker=!0))},r.prototype.gotoAndStop=function(n){this.stop();var s=this.currentFrame;this._currentTime=n,s!==this.currentFrame&&this.updateTexture()},r.prototype.gotoAndPlay=function(n){var s=this.currentFrame;this._currentTime=n,s!==this.currentFrame&&this.updateTexture(),this.play()},r.prototype.update=function(n){if(!!this._playing){var s=this.animationSpeed*n,o=this.currentFrame;if(this._durations!==null){var h=this._currentTime%1*this._durations[this.currentFrame];for(h+=s/60*1e3;h<0;)this._currentTime--,h+=this._durations[this.currentFrame];var l=Math.sign(this.animationSpeed*n);for(this._currentTime=Math.floor(this._currentTime);h>=this._durations[this.currentFrame];)h-=this._durations[this.currentFrame]*l,this._currentTime+=l;this._currentTime+=h/this._durations[this.currentFrame]}else this._currentTime+=s;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):o!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<o?this.onLoop():this.animationSpeed<0&&this.currentFrame>o&&this.onLoop()),this.updateTexture())}},r.prototype.updateTexture=function(){var n=this.currentFrame;this._previousFrame!==n&&(this._previousFrame=n,this._texture=this._textures[n],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},r.prototype.destroy=function(n){this.stop(),t.prototype.destroy.call(this,n),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},r.fromFrames=function(n){for(var s=[],o=0;o<n.length;++o)s.push(Texture$1.from(n[o]));return new r(s)},r.fromImages=function(n){for(var s=[],o=0;o<n.length;++o)s.push(Texture$1.from(n[o]));return new r(s)},Object.defineProperty(r.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"textures",{get:function(){return this._textures},set:function(n){if(n[0]instanceof Texture$1)this._textures=n,this._durations=null;else{this._textures=[],this._durations=[];for(var s=0;s<n.length;s++)this._textures.push(n[s].texture),this._durations.push(n[s].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"currentFrame",{get:function(){var n=Math.floor(this._currentTime)%this._textures.length;return n<0&&(n+=this._textures.length),n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(n){n!==this._autoUpdate&&(this._autoUpdate=n,!this._autoUpdate&&this._isConnectedToTicker?(Ticker$1.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ticker$1.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),r})(Sprite);/*!
 * pixi.js - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Renderer.registerPlugin("accessibility",AccessibilityManager);Renderer.registerPlugin("extract",Extract);Renderer.registerPlugin("interaction",InteractionManager);Renderer.registerPlugin("particle",ParticleRenderer);Renderer.registerPlugin("prepare",Prepare);Renderer.registerPlugin("batch",BatchRenderer);Renderer.registerPlugin("tilingSprite",TilingSpriteRenderer);Loader.registerPlugin(BitmapFontLoader);Loader.registerPlugin(CompressedTextureLoader);Loader.registerPlugin(DDSLoader);Loader.registerPlugin(KTXLoader);Loader.registerPlugin(SpritesheetLoader);Application.registerPlugin(TickerPlugin);Application.registerPlugin(AppLoaderPlugin);/*!
 * @pixi/canvas-renderer - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/canvas-renderer is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$2=function(t,r){return extendStatics$2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$2(t,r)};function __extends$2(t,r){extendStatics$2(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var CanvasMaskManager=function(){function t(r){this._foundShapes=[],this.renderer=r}return t.prototype.pushMask=function(r){var n=this.renderer,s=r.maskObject||r;n.context.save();var o=this._foundShapes;if(this.recursiveFindShapes(s,o),o.length>0){var h=n.context;h.beginPath();for(var l=0;l<o.length;l++){var c=o[l],d=c.transform.worldTransform;this.renderer.setContextTransform(d),this.renderGraphicsShape(c)}o.length=0,h.clip()}},t.prototype.recursiveFindShapes=function(r,n){r.geometry&&r.geometry.graphicsData&&n.push(r);var s=r.children;if(s)for(var o=0;o<s.length;o++)this.recursiveFindShapes(s[o],n)},t.prototype.renderGraphicsShape=function(r){r.finishPoly();var n=this.renderer.context,s=r.geometry.graphicsData,o=s.length;if(o!==0)for(var h=0;h<o;h++){var l=s[h],c=l.shape;if(c.type===SHAPES$1.POLY){var d=c.points,v=l.holes,g=void 0,m=void 0,_=void 0,y=void 0;n.moveTo(d[0],d[1]);for(var B=1;B<d.length/2;B++)n.lineTo(d[B*2],d[B*2+1]);if(v.length>0){g=0,_=d[0],y=d[1];for(var B=2;B+2<d.length;B+=2)g+=(d[B]-_)*(d[B+3]-y)-(d[B+2]-_)*(d[B+1]-y);for(var w=0;w<v.length;w++)if(d=v[w].shape.points,!!d){m=0,_=d[0],y=d[1];for(var B=2;B+2<d.length;B+=2)m+=(d[B]-_)*(d[B+3]-y)-(d[B+2]-_)*(d[B+1]-y);if(m*g<0){n.moveTo(d[0],d[1]);for(var B=2;B<d.length;B+=2)n.lineTo(d[B],d[B+1])}else{n.moveTo(d[d.length-2],d[d.length-1]);for(var B=d.length-4;B>=0;B-=2)n.lineTo(d[B],d[B+1])}v[w].shape.closeStroke&&n.closePath()}}d[0]===d[d.length-2]&&d[1]===d[d.length-1]&&n.closePath()}else if(c.type===SHAPES$1.RECT)n.rect(c.x,c.y,c.width,c.height),n.closePath();else if(c.type===SHAPES$1.CIRC)n.arc(c.x,c.y,c.radius,0,2*Math.PI),n.closePath();else if(c.type===SHAPES$1.ELIP){var C=c.width*2,b=c.height*2,I=c.x-C/2,S=c.y-b/2,R=.5522848,O=C/2*R,P=b/2*R,N=I+C,M=S+b,H=I+C/2,Y=S+b/2;n.moveTo(I,Y),n.bezierCurveTo(I,Y-P,H-O,S,H,S),n.bezierCurveTo(H+O,S,N,Y-P,N,Y),n.bezierCurveTo(N,Y+P,H+O,M,H,M),n.bezierCurveTo(H-O,M,I,Y+P,I,Y),n.closePath()}else if(c.type===SHAPES$1.RREC){var J=c.x,ee=c.y,te=c.width,se=c.height,W=c.radius,k=Math.min(te,se)/2;W=W>k?k:W,n.moveTo(J,ee+W),n.lineTo(J,ee+se-W),n.quadraticCurveTo(J,ee+se,J+W,ee+se),n.lineTo(J+te-W,ee+se),n.quadraticCurveTo(J+te,ee+se,J+te,ee+se-W),n.lineTo(J+te,ee+W),n.quadraticCurveTo(J+te,ee,J+te-W,ee),n.lineTo(J+W,ee),n.quadraticCurveTo(J,ee,J,ee+W),n.closePath()}}},t.prototype.popMask=function(r){r.context.restore(),r.invalidateBlendMode()},t.prototype.destroy=function(){},t}();function createColoredCanvas(t){var r=document.createElement("canvas");r.width=6,r.height=1;var n=r.getContext("2d");return n.fillStyle=t,n.fillRect(0,0,6,1),r}function canUseNewCanvasBlendModes(){if(typeof document=="undefined")return!1;var t=createColoredCanvas("#ff00ff"),r=createColoredCanvas("#ffff00"),n=document.createElement("canvas");n.width=6,n.height=1;var s=n.getContext("2d");s.globalCompositeOperation="multiply",s.drawImage(t,0,0),s.drawImage(r,2,0);var o=s.getImageData(2,0,1,1);if(!o)return!1;var h=o.data;return h[0]===255&&h[1]===0&&h[2]===0}function mapCanvasBlendModesToPixi(t){return t===void 0&&(t=[]),canUseNewCanvasBlendModes()?(t[BLEND_MODES$4.NORMAL]="source-over",t[BLEND_MODES$4.ADD]="lighter",t[BLEND_MODES$4.MULTIPLY]="multiply",t[BLEND_MODES$4.SCREEN]="screen",t[BLEND_MODES$4.OVERLAY]="overlay",t[BLEND_MODES$4.DARKEN]="darken",t[BLEND_MODES$4.LIGHTEN]="lighten",t[BLEND_MODES$4.COLOR_DODGE]="color-dodge",t[BLEND_MODES$4.COLOR_BURN]="color-burn",t[BLEND_MODES$4.HARD_LIGHT]="hard-light",t[BLEND_MODES$4.SOFT_LIGHT]="soft-light",t[BLEND_MODES$4.DIFFERENCE]="difference",t[BLEND_MODES$4.EXCLUSION]="exclusion",t[BLEND_MODES$4.HUE]="hue",t[BLEND_MODES$4.SATURATION]="saturate",t[BLEND_MODES$4.COLOR]="color",t[BLEND_MODES$4.LUMINOSITY]="luminosity"):(t[BLEND_MODES$4.NORMAL]="source-over",t[BLEND_MODES$4.ADD]="lighter",t[BLEND_MODES$4.MULTIPLY]="source-over",t[BLEND_MODES$4.SCREEN]="source-over",t[BLEND_MODES$4.OVERLAY]="source-over",t[BLEND_MODES$4.DARKEN]="source-over",t[BLEND_MODES$4.LIGHTEN]="source-over",t[BLEND_MODES$4.COLOR_DODGE]="source-over",t[BLEND_MODES$4.COLOR_BURN]="source-over",t[BLEND_MODES$4.HARD_LIGHT]="source-over",t[BLEND_MODES$4.SOFT_LIGHT]="source-over",t[BLEND_MODES$4.DIFFERENCE]="source-over",t[BLEND_MODES$4.EXCLUSION]="source-over",t[BLEND_MODES$4.HUE]="source-over",t[BLEND_MODES$4.SATURATION]="source-over",t[BLEND_MODES$4.COLOR]="source-over",t[BLEND_MODES$4.LUMINOSITY]="source-over"),t[BLEND_MODES$4.NORMAL_NPM]=t[BLEND_MODES$4.NORMAL],t[BLEND_MODES$4.ADD_NPM]=t[BLEND_MODES$4.ADD],t[BLEND_MODES$4.SCREEN_NPM]=t[BLEND_MODES$4.SCREEN],t[BLEND_MODES$4.SRC_IN]="source-in",t[BLEND_MODES$4.SRC_OUT]="source-out",t[BLEND_MODES$4.SRC_ATOP]="source-atop",t[BLEND_MODES$4.DST_OVER]="destination-over",t[BLEND_MODES$4.DST_IN]="destination-in",t[BLEND_MODES$4.DST_OUT]="destination-out",t[BLEND_MODES$4.DST_ATOP]="destination-atop",t[BLEND_MODES$4.XOR]="xor",t[BLEND_MODES$4.SUBTRACT]="source-over",t}var tempMatrix$4=new Matrix$1,CanvasRenderer=function(t){__extends$2(r,t);function r(n){var s=t.call(this,RENDERER_TYPE$4.CANVAS,n)||this;if(s.refresh=!0,s.maskManager=new CanvasMaskManager(s),s.smoothProperty="imageSmoothingEnabled",s.blendModes=mapCanvasBlendModesToPixi(),s.renderingToScreen=!1,s._activeBlendMode=null,s._projTransform=null,s._outerBlend=!1,s.rootContext=s.view.getContext("2d",{alpha:s.useContextAlpha}),s.context=s.rootContext,!s.rootContext.imageSmoothingEnabled){var o=s.rootContext;o.webkitImageSmoothingEnabled?s.smoothProperty="webkitImageSmoothingEnabled":o.mozImageSmoothingEnabled?s.smoothProperty="mozImageSmoothingEnabled":o.oImageSmoothingEnabled?s.smoothProperty="oImageSmoothingEnabled":o.msImageSmoothingEnabled&&(s.smoothProperty="msImageSmoothingEnabled")}return s.initPlugins(r.__plugins),sayHello$1("Canvas"),s.resize(s.options.width,s.options.height),s}return r.prototype.addSystem=function(){return this},r.prototype.render=function(n,s){if(!!this.view){var o,h,l,c;s&&(s instanceof RenderTexture$1||s instanceof BaseRenderTexture$1?(deprecation$1("6.0.0","CanvasRenderer#render arguments changed, use options instead."),o=s,h=arguments[2],l=arguments[3],c=arguments[4]):(o=s.renderTexture,h=s.clear,l=s.transform,c=s.skipUpdateTransform)),this.renderingToScreen=!o,this.emit("prerender");var d=this.resolution;o?(o=o.castToBaseTexture(),o._canvasRenderTarget||(o._canvasRenderTarget=new CanvasRenderTarget(o.width,o.height,o.resolution),o.resource=new CanvasResource$1(o._canvasRenderTarget.canvas),o.valid=!0),this.context=o._canvasRenderTarget.context,this.resolution=o._canvasRenderTarget.resolution):this.context=this.rootContext;var v=this.context;if(this._projTransform=l||null,o||(this._lastObjectRendered=n),!c){var g=n.enableTempParent();n.updateTransform(),n.disableTempParent(g)}if(v.save(),v.setTransform(1,0,0,1,0,0),v.globalAlpha=1,this._activeBlendMode=BLEND_MODES$4.NORMAL,this._outerBlend=!1,v.globalCompositeOperation=this.blendModes[BLEND_MODES$4.NORMAL],h!==void 0?h:this.clearBeforeRender)if(this.renderingToScreen)v.clearRect(0,0,this.width,this.height),this.backgroundAlpha>0&&(v.globalAlpha=this.useContextAlpha?this.backgroundAlpha:1,v.fillStyle=this._backgroundColorString,v.fillRect(0,0,this.width,this.height),v.globalAlpha=1);else{o=o,o._canvasRenderTarget.clear();var m=o.clearColor;m[3]>0&&(v.globalAlpha=this.useContextAlpha?m[3]:1,v.fillStyle=hex2string$1(rgb2hex(m)),v.fillRect(0,0,o.realWidth,o.realHeight),v.globalAlpha=1)}var _=this.context;this.context=v,n.renderCanvas(this),this.context=_,v.restore(),this.resolution=d,this._projTransform=null,this.emit("postrender")}},r.prototype.setContextTransform=function(n,s,o){var h=n,l=this._projTransform,c=this.resolution;o=o||c,l&&(h=tempMatrix$4,h.copyFrom(n),h.prepend(l)),s?this.context.setTransform(h.a*o,h.b*o,h.c*o,h.d*o,h.tx*c|0,h.ty*c|0):this.context.setTransform(h.a*o,h.b*o,h.c*o,h.d*o,h.tx*c,h.ty*c)},r.prototype.clear=function(n,s){n===void 0&&(n=this._backgroundColorString),s===void 0&&(s=this.backgroundAlpha);var o=this.context;o.clearRect(0,0,this.width,this.height),n&&(o.globalAlpha=this.useContextAlpha?s:1,o.fillStyle=n,o.fillRect(0,0,this.width,this.height),o.globalAlpha=1)},r.prototype.setBlendMode=function(n,s){var o=n===BLEND_MODES$4.SRC_IN||n===BLEND_MODES$4.SRC_OUT||n===BLEND_MODES$4.DST_IN||n===BLEND_MODES$4.DST_ATOP;!s&&o&&(n=BLEND_MODES$4.NORMAL),this._activeBlendMode!==n&&(this._activeBlendMode=n,this._outerBlend=o,this.context.globalCompositeOperation=this.blendModes[n])},r.prototype.destroy=function(n){t.prototype.destroy.call(this,n),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},r.prototype.resize=function(n,s){t.prototype.resize.call(this,n,s),this.smoothProperty&&(this.rootContext[this.smoothProperty]=settings$1.SCALE_MODE===SCALE_MODES$4.LINEAR)},r.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},r.registerPlugin=function(n,s){r.__plugins=r.__plugins||{},r.__plugins[n]=s},r}(AbstractRenderer$1),canvasUtils={canvas:null,getTintedCanvas:function(t,r){var n=t.texture;r=canvasUtils.roundColor(r);var s="#"+("00000"+(r|0).toString(16)).slice(-6);n.tintCache=n.tintCache||{};var o=n.tintCache[s],h;if(o){if(o.tintId===n._updateID)return n.tintCache[s];h=n.tintCache[s]}else h=document.createElement("canvas");return canvasUtils.tintMethod(n,r,h),h.tintId=n._updateID,n.tintCache[s]=h,h},getTintedPattern:function(t,r){r=canvasUtils.roundColor(r);var n="#"+("00000"+(r|0).toString(16)).slice(-6);t.patternCache=t.patternCache||{};var s=t.patternCache[n];return s&&s.tintId===t._updateID||(canvasUtils.canvas||(canvasUtils.canvas=document.createElement("canvas")),canvasUtils.tintMethod(t,r,canvasUtils.canvas),s=canvasUtils.canvas.getContext("2d").createPattern(canvasUtils.canvas,"repeat"),s.tintId=t._updateID,t.patternCache[n]=s),s},tintWithMultiply:function(t,r,n){var s=n.getContext("2d"),o=t._frame.clone(),h=t.baseTexture.resolution;o.x*=h,o.y*=h,o.width*=h,o.height*=h,n.width=Math.ceil(o.width),n.height=Math.ceil(o.height),s.save(),s.fillStyle="#"+("00000"+(r|0).toString(16)).slice(-6),s.fillRect(0,0,o.width,o.height),s.globalCompositeOperation="multiply";var l=t.baseTexture.getDrawableSource();s.drawImage(l,o.x,o.y,o.width,o.height,0,0,o.width,o.height),s.globalCompositeOperation="destination-atop",s.drawImage(l,o.x,o.y,o.width,o.height,0,0,o.width,o.height),s.restore()},tintWithOverlay:function(t,r,n){var s=n.getContext("2d"),o=t._frame.clone(),h=t.baseTexture.resolution;o.x*=h,o.y*=h,o.width*=h,o.height*=h,n.width=Math.ceil(o.width),n.height=Math.ceil(o.height),s.save(),s.globalCompositeOperation="copy",s.fillStyle="#"+("00000"+(r|0).toString(16)).slice(-6),s.fillRect(0,0,o.width,o.height),s.globalCompositeOperation="destination-atop",s.drawImage(t.baseTexture.getDrawableSource(),o.x,o.y,o.width,o.height,0,0,o.width,o.height),s.restore()},tintWithPerPixel:function(t,r,n){var s=n.getContext("2d"),o=t._frame.clone(),h=t.baseTexture.resolution;o.x*=h,o.y*=h,o.width*=h,o.height*=h,n.width=Math.ceil(o.width),n.height=Math.ceil(o.height),s.save(),s.globalCompositeOperation="copy",s.drawImage(t.baseTexture.getDrawableSource(),o.x,o.y,o.width,o.height,0,0,o.width,o.height),s.restore();for(var l=hex2rgb$1(r),c=l[0],d=l[1],v=l[2],g=s.getImageData(0,0,o.width,o.height),m=g.data,_=0;_<m.length;_+=4)m[_+0]*=c,m[_+1]*=d,m[_+2]*=v;s.putImageData(g,0,0)},roundColor:function(t){var r=canvasUtils.cacheStepsPerColorChannel,n=hex2rgb$1(t);return n[0]=Math.min(255,n[0]/r*r),n[1]=Math.min(255,n[1]/r*r),n[2]=Math.min(255,n[2]/r*r),rgb2hex(n)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:canUseNewCanvasBlendModes(),tintMethod:null};canvasUtils.tintMethod=canvasUtils.canUseMultiply?canvasUtils.tintWithMultiply:canvasUtils.tintWithPerPixel;var parentCreate=Renderer.create;Renderer.create=function t(r){var n=r&&r.forceCanvas;if(!n)try{return parentCreate(r)}catch(s){}return new CanvasRenderer(r)};BaseTexture$1.prototype.getDrawableSource=function t(){var r=this.resource;return r?r.bitmap||r.source:null};BaseRenderTexture$1.prototype._canvasRenderTarget=null;Texture$1.prototype.patternCache=null;Texture$1.prototype.tintCache=null;/*!
 * @pixi/canvas-mesh - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/canvas-mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function createCommonjsModule(t,r,n){return n={path:r,exports:{},require:function(s,o){return commonjsRequire(s,o==null?n.path:o)}},t(n,n.exports),n.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var eventemitter3=createCommonjsModule(function(t){var r=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function o(d,v,g){this.fn=d,this.context=v,this.once=g||!1}function h(d,v,g,m,_){if(typeof g!="function")throw new TypeError("The listener must be a function");var y=new o(g,m||d,_),B=n?n+v:v;return d._events[B]?d._events[B].fn?d._events[B]=[d._events[B],y]:d._events[B].push(y):(d._events[B]=y,d._eventsCount++),d}function l(d,v){--d._eventsCount===0?d._events=new s:delete d._events[v]}function c(){this._events=new s,this._eventsCount=0}c.prototype.eventNames=function(){var v=[],g,m;if(this._eventsCount===0)return v;for(m in g=this._events)r.call(g,m)&&v.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?v.concat(Object.getOwnPropertySymbols(g)):v},c.prototype.listeners=function(v){var g=n?n+v:v,m=this._events[g];if(!m)return[];if(m.fn)return[m.fn];for(var _=0,y=m.length,B=new Array(y);_<y;_++)B[_]=m[_].fn;return B},c.prototype.listenerCount=function(v){var g=n?n+v:v,m=this._events[g];return m?m.fn?1:m.length:0},c.prototype.emit=function(v,g,m,_,y,B){var w=arguments,C=n?n+v:v;if(!this._events[C])return!1;var b=this._events[C],I=arguments.length,S,R;if(b.fn){switch(b.once&&this.removeListener(v,b.fn,void 0,!0),I){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,g),!0;case 3:return b.fn.call(b.context,g,m),!0;case 4:return b.fn.call(b.context,g,m,_),!0;case 5:return b.fn.call(b.context,g,m,_,y),!0;case 6:return b.fn.call(b.context,g,m,_,y,B),!0}for(R=1,S=new Array(I-1);R<I;R++)S[R-1]=w[R];b.fn.apply(b.context,S)}else{var O=b.length,P;for(R=0;R<O;R++)switch(b[R].once&&this.removeListener(v,b[R].fn,void 0,!0),I){case 1:b[R].fn.call(b[R].context);break;case 2:b[R].fn.call(b[R].context,g);break;case 3:b[R].fn.call(b[R].context,g,m);break;case 4:b[R].fn.call(b[R].context,g,m,_);break;default:if(!S)for(P=1,S=new Array(I-1);P<I;P++)S[P-1]=w[P];b[R].fn.apply(b[R].context,S)}}return!0},c.prototype.on=function(v,g,m){return h(this,v,g,m,!1)},c.prototype.once=function(v,g,m){return h(this,v,g,m,!0)},c.prototype.removeListener=function(v,g,m,_){var y=n?n+v:v;if(!this._events[y])return this;if(!g)return l(this,y),this;var B=this._events[y];if(B.fn)B.fn===g&&(!_||B.once)&&(!m||B.context===m)&&l(this,y);else{for(var w=0,C=[],b=B.length;w<b;w++)(B[w].fn!==g||_&&!B[w].once||m&&B[w].context!==m)&&C.push(B[w]);C.length?this._events[y]=C.length===1?C[0]:C:l(this,y)}return this},c.prototype.removeAllListeners=function(v){var g;return v?(g=n?n+v:v,this._events[g]&&l(this,g)):(this._events=new s,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c}),punycode=createCommonjsModule(function(t,r){(function(n){var s=r&&!r.nodeType&&r,o=t&&!t.nodeType&&t,h=typeof commonjsGlobal=="object"&&commonjsGlobal;(h.global===h||h.window===h||h.self===h)&&(n=h);var l,c=2147483647,d=36,v=1,g=26,m=38,_=700,y=72,B=128,w="-",C=/^xn--/,b=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=d-v,O=Math.floor,P=String.fromCharCode,N;function M(X){throw RangeError(S[X])}function H(X,j){for(var ie=X.length,ae=[];ie--;)ae[ie]=j(X[ie]);return ae}function Y(X,j){var ie=X.split("@"),ae="";ie.length>1&&(ae=ie[0]+"@",X=ie[1]),X=X.replace(I,".");var oe=X.split("."),ve=H(oe,j).join(".");return ae+ve}function J(X){for(var j=[],ie=0,ae=X.length,oe,ve;ie<ae;)oe=X.charCodeAt(ie++),oe>=55296&&oe<=56319&&ie<ae?(ve=X.charCodeAt(ie++),(ve&64512)==56320?j.push(((oe&1023)<<10)+(ve&1023)+65536):(j.push(oe),ie--)):j.push(oe);return j}function ee(X){return H(X,function(j){var ie="";return j>65535&&(j-=65536,ie+=P(j>>>10&1023|55296),j=56320|j&1023),ie+=P(j),ie}).join("")}function te(X){return X-48<10?X-22:X-65<26?X-65:X-97<26?X-97:d}function se(X,j){return X+22+75*(X<26)-((j!=0)<<5)}function W(X,j,ie){var ae=0;for(X=ie?O(X/_):X>>1,X+=O(X/j);X>R*g>>1;ae+=d)X=O(X/R);return O(ae+(R+1)*X/(X+m))}function k(X){var j=[],ie=X.length,ae,oe=0,ve=B,ce=y,ge,Te,we,_e,pe,ye,G,q,re;for(ge=X.lastIndexOf(w),ge<0&&(ge=0),Te=0;Te<ge;++Te)X.charCodeAt(Te)>=128&&M("not-basic"),j.push(X.charCodeAt(Te));for(we=ge>0?ge+1:0;we<ie;){for(_e=oe,pe=1,ye=d;we>=ie&&M("invalid-input"),G=te(X.charCodeAt(we++)),(G>=d||G>O((c-oe)/pe))&&M("overflow"),oe+=G*pe,q=ye<=ce?v:ye>=ce+g?g:ye-ce,!(G<q);ye+=d)re=d-q,pe>O(c/re)&&M("overflow"),pe*=re;ae=j.length+1,ce=W(oe-_e,ae,_e==0),O(oe/ae)>c-ve&&M("overflow"),ve+=O(oe/ae),oe%=ae,j.splice(oe++,0,ve)}return ee(j)}function Q(X){var j,ie,ae,oe,ve,ce,ge,Te,we,_e,pe,ye=[],G,q,re,ne;for(X=J(X),G=X.length,j=B,ie=0,ve=y,ce=0;ce<G;++ce)pe=X[ce],pe<128&&ye.push(P(pe));for(ae=oe=ye.length,oe&&ye.push(w);ae<G;){for(ge=c,ce=0;ce<G;++ce)pe=X[ce],pe>=j&&pe<ge&&(ge=pe);for(q=ae+1,ge-j>O((c-ie)/q)&&M("overflow"),ie+=(ge-j)*q,j=ge,ce=0;ce<G;++ce)if(pe=X[ce],pe<j&&++ie>c&&M("overflow"),pe==j){for(Te=ie,we=d;_e=we<=ve?v:we>=ve+g?g:we-ve,!(Te<_e);we+=d)ne=Te-_e,re=d-_e,ye.push(P(se(_e+ne%re,0))),Te=O(ne/re);ye.push(P(se(Te,0))),ve=W(ie,q,ae==oe),ie=0,++ae}++ie,++j}return ye.join("")}function D(X){return Y(X,function(j){return C.test(j)?k(j.slice(4).toLowerCase()):j})}function K(X){return Y(X,function(j){return b.test(j)?"xn--"+Q(j):j})}if(l={version:"1.3.2",ucs2:{decode:J,encode:ee},decode:k,encode:Q,toASCII:K,toUnicode:D},s&&o)if(t.exports==s)o.exports=l;else for(N in l)l.hasOwnProperty(N)&&(s[N]=l[N]);else n.punycode=l})(commonjsGlobal)}),util={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}};function hasOwnProperty(t,r){return Object.prototype.hasOwnProperty.call(t,r)}var decode=function(t,r,n,s){r=r||"&",n=n||"=";var o={};if(typeof t!="string"||t.length===0)return o;var h=/\+/g;t=t.split(r);var l=1e3;s&&typeof s.maxKeys=="number"&&(l=s.maxKeys);var c=t.length;l>0&&c>l&&(c=l);for(var d=0;d<c;++d){var v=t[d].replace(h,"%20"),g=v.indexOf(n),m,_,y,B;g>=0?(m=v.substr(0,g),_=v.substr(g+1)):(m=v,_=""),y=decodeURIComponent(m),B=decodeURIComponent(_),hasOwnProperty(o,y)?Array.isArray(o[y])?o[y].push(B):o[y]=[o[y],B]:o[y]=B}return o},stringifyPrimitive=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},encode=function(t,r,n,s){return r=r||"&",n=n||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(o){var h=encodeURIComponent(stringifyPrimitive(o))+n;return Array.isArray(t[o])?t[o].map(function(l){return h+encodeURIComponent(stringifyPrimitive(l))}).join(r):h+encodeURIComponent(stringifyPrimitive(t[o]))}).join(r):s?encodeURIComponent(stringifyPrimitive(s))+n+encodeURIComponent(stringifyPrimitive(t)):""},querystring=createCommonjsModule(function(t,r){r.decode=r.parse=decode,r.encode=r.stringify=encode}),parse=urlParse,resolve=urlResolve,format=urlFormat;function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r",`
`,"	"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function urlParse(t,r,n){if(t&&util.isObject(t)&&t instanceof Url)return t;var s=new Url;return s.parse(t,r,n),s}Url.prototype.parse=function(t,r,n){if(!util.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var s=t.indexOf("?"),o=s!==-1&&s<t.indexOf("#")?"?":"#",h=t.split(o),l=/\\/g;h[0]=h[0].replace(l,"/"),t=h.join(o);var c=t;if(c=c.trim(),!n&&t.split("#").length===1){var d=simplePathPattern.exec(c);if(d)return this.path=c,this.href=c,this.pathname=d[1],d[2]?(this.search=d[2],r?this.query=querystring.parse(this.search.substr(1)):this.query=this.search.substr(1)):r&&(this.search="",this.query={}),this}var v=protocolPattern.exec(c);if(v){v=v[0];var g=v.toLowerCase();this.protocol=g,c=c.substr(v.length)}if(n||v||c.match(/^\/\/[^@\/]+@[^@\/]+/)){var m=c.substr(0,2)==="//";m&&!(v&&hostlessProtocol[v])&&(c=c.substr(2),this.slashes=!0)}if(!hostlessProtocol[v]&&(m||v&&!slashedProtocol[v])){for(var _=-1,y=0;y<hostEndingChars.length;y++){var B=c.indexOf(hostEndingChars[y]);B!==-1&&(_===-1||B<_)&&(_=B)}var w,C;_===-1?C=c.lastIndexOf("@"):C=c.lastIndexOf("@",_),C!==-1&&(w=c.slice(0,C),c=c.slice(C+1),this.auth=decodeURIComponent(w)),_=-1;for(var y=0;y<nonHostChars.length;y++){var B=c.indexOf(nonHostChars[y]);B!==-1&&(_===-1||B<_)&&(_=B)}_===-1&&(_=c.length),this.host=c.slice(0,_),c=c.slice(_),this.parseHost(),this.hostname=this.hostname||"";var b=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!b)for(var I=this.hostname.split(/\./),y=0,S=I.length;y<S;y++){var R=I[y];if(!!R&&!R.match(hostnamePartPattern)){for(var O="",P=0,N=R.length;P<N;P++)R.charCodeAt(P)>127?O+="x":O+=R[P];if(!O.match(hostnamePartPattern)){var M=I.slice(0,y),H=I.slice(y+1),Y=R.match(hostnamePartStart);Y&&(M.push(Y[1]),H.unshift(Y[2])),H.length&&(c="/"+H.join(".")+c),this.hostname=M.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),b||(this.hostname=punycode.toASCII(this.hostname));var J=this.port?":"+this.port:"",ee=this.hostname||"";this.host=ee+J,this.href+=this.host,b&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),c[0]!=="/"&&(c="/"+c))}if(!unsafeProtocol[g])for(var y=0,S=autoEscape.length;y<S;y++){var te=autoEscape[y];if(c.indexOf(te)!==-1){var se=encodeURIComponent(te);se===te&&(se=escape(te)),c=c.split(te).join(se)}}var W=c.indexOf("#");W!==-1&&(this.hash=c.substr(W),c=c.slice(0,W));var k=c.indexOf("?");if(k!==-1?(this.search=c.substr(k),this.query=c.substr(k+1),r&&(this.query=querystring.parse(this.query)),c=c.slice(0,k)):r&&(this.search="",this.query={}),c&&(this.pathname=c),slashedProtocol[g]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var J=this.pathname||"",Q=this.search||"";this.path=J+Q}return this.href=this.format(),this};function urlFormat(t){return util.isString(t)&&(t=urlParse(t)),t instanceof Url?t.format():Url.prototype.format.call(t)}Url.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var r=this.protocol||"",n=this.pathname||"",s=this.hash||"",o=!1,h="";this.host?o=t+this.host:this.hostname&&(o=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(h=querystring.stringify(this.query));var l=this.search||h&&"?"+h||"";return r&&r.substr(-1)!==":"&&(r+=":"),this.slashes||(!r||slashedProtocol[r])&&o!==!1?(o="//"+(o||""),n&&n.charAt(0)!=="/"&&(n="/"+n)):o||(o=""),s&&s.charAt(0)!=="#"&&(s="#"+s),l&&l.charAt(0)!=="?"&&(l="?"+l),n=n.replace(/[?#]/g,function(c){return encodeURIComponent(c)}),l=l.replace("#","%23"),r+o+n+l+s};function urlResolve(t,r){return urlParse(t,!1,!0).resolve(r)}Url.prototype.resolve=function(t){return this.resolveObject(urlParse(t,!1,!0)).format()};Url.prototype.resolveObject=function(t){if(util.isString(t)){var r=new Url;r.parse(t,!1,!0),t=r}for(var n=new Url,s=Object.keys(this),o=0;o<s.length;o++){var h=s[o];n[h]=this[h]}if(n.hash=t.hash,t.href==="")return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var l=Object.keys(t),c=0;c<l.length;c++){var d=l[c];d!=="protocol"&&(n[d]=t[d])}return slashedProtocol[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!slashedProtocol[t.protocol]){for(var v=Object.keys(t),g=0;g<v.length;g++){var m=v[g];n[m]=t[m]}return n.href=n.format(),n}if(n.protocol=t.protocol,!t.host&&!hostlessProtocol[t.protocol]){for(var S=(t.pathname||"").split("/");S.length&&!(t.host=S.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),S[0]!==""&&S.unshift(""),S.length<2&&S.unshift(""),n.pathname=S.join("/")}else n.pathname=t.pathname;if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var _=n.pathname||"",y=n.search||"";n.path=_+y}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var B=n.pathname&&n.pathname.charAt(0)==="/",w=t.host||t.pathname&&t.pathname.charAt(0)==="/",C=w||B||n.host&&t.pathname,b=C,I=n.pathname&&n.pathname.split("/")||[],S=t.pathname&&t.pathname.split("/")||[],R=n.protocol&&!slashedProtocol[n.protocol];if(R&&(n.hostname="",n.port=null,n.host&&(I[0]===""?I[0]=n.host:I.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(S[0]===""?S[0]=t.host:S.unshift(t.host)),t.host=null),C=C&&(S[0]===""||I[0]==="")),w)n.host=t.host||t.host===""?t.host:n.host,n.hostname=t.hostname||t.hostname===""?t.hostname:n.hostname,n.search=t.search,n.query=t.query,I=S;else if(S.length)I||(I=[]),I.pop(),I=I.concat(S),n.search=t.search,n.query=t.query;else if(!util.isNullOrUndefined(t.search)){if(R){n.hostname=n.host=I.shift();var O=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;O&&(n.auth=O.shift(),n.host=n.hostname=O.shift())}return n.search=t.search,n.query=t.query,(!util.isNull(n.pathname)||!util.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!I.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var P=I.slice(-1)[0],N=(n.host||t.host||I.length>1)&&(P==="."||P==="..")||P==="",M=0,H=I.length;H>=0;H--)P=I[H],P==="."?I.splice(H,1):P===".."?(I.splice(H,1),M++):M&&(I.splice(H,1),M--);if(!C&&!b)for(;M--;M)I.unshift("..");C&&I[0]!==""&&(!I[0]||I[0].charAt(0)!=="/")&&I.unshift(""),N&&I.join("/").substr(-1)!=="/"&&I.push("");var Y=I[0]===""||I[0]&&I[0].charAt(0)==="/";if(R){n.hostname=n.host=Y?"":I.length?I.shift():"";var O=n.host&&n.host.indexOf("@")>0?n.host.split("@"):!1;O&&(n.auth=O.shift(),n.host=n.hostname=O.shift())}return C=C||n.host&&I.length,C&&!Y&&I.unshift(""),I.length?n.pathname=I.join("/"):(n.pathname=null,n.path=null),(!util.isNull(n.pathname)||!util.isNull(n.search))&&(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n};Url.prototype.parseHost=function(){var t=this.host,r=portPattern.exec(t);r&&(r=r[0],r!==":"&&(this.port=r.substr(1)),t=t.substr(0,t.length-r.length)),t&&(this.hostname=t)};/*!
 * @pixi/utils - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var url={parse,format,resolve};settings$1.RETINA_PREFIX=/@([0-9\.]+)x/;settings$1.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var saidHello=!1,VERSION="6.4.2";function sayHello(t){var r;if(!saidHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var n=[`
 %c %c %c PixiJS `+VERSION+" - \u2730 "+t+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(r=globalThis.console).log.apply(r,n)}else globalThis.console&&globalThis.console.log("PixiJS "+VERSION+" - "+t+" - http://www.pixijs.com/");saidHello=!0}}var supported;function isWebGLSupported(){return typeof supported=="undefined"&&(supported=function(){var r={stencil:!0,failIfMajorPerformanceCaveat:settings$1.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var n=document.createElement("canvas"),s=n.getContext("webgl",r)||n.getContext("experimental-webgl",r),o=!!(s&&s.getContextAttributes().stencil);if(s){var h=s.getExtension("WEBGL_lose_context");h&&h.loseContext()}return s=null,o}catch(l){return!1}}()),supported}function hex2rgb(t,r){return r===void 0&&(r=[]),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,r}function hex2string(t){var r=t.toString(16);return r="000000".substring(0,6-r.length)+r,"#"+r}function mapPremultipliedBlendModes(){for(var t=[],r=[],n=0;n<32;n++)t[n]=n,r[n]=n;t[BLEND_MODES$4.NORMAL_NPM]=BLEND_MODES$4.NORMAL,t[BLEND_MODES$4.ADD_NPM]=BLEND_MODES$4.ADD,t[BLEND_MODES$4.SCREEN_NPM]=BLEND_MODES$4.SCREEN,r[BLEND_MODES$4.NORMAL]=BLEND_MODES$4.NORMAL_NPM,r[BLEND_MODES$4.ADD]=BLEND_MODES$4.ADD_NPM,r[BLEND_MODES$4.SCREEN]=BLEND_MODES$4.SCREEN_NPM;var s=[];return s.push(r),s.push(t),s}var premultiplyBlendMode=mapPremultipliedBlendModes();function premultiplyTint(t,r){if(r===1)return(r*255<<24)+t;if(r===0)return 0;var n=t>>16&255,s=t>>8&255,o=t&255;return n=n*r+.5|0,s=s*r+.5|0,o=o*r+.5|0,(r*255<<24)+(n<<16)+(s<<8)+o}function getBufferType(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function nextPow2(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function isPow2(t){return!(t&t-1)&&!!t}function log2(t){var r=(t>65535?1:0)<<4;t>>>=r;var n=(t>255?1:0)<<3;return t>>>=n,r|=n,n=(t>15?1:0)<<2,t>>>=n,r|=n,n=(t>3?1:0)<<1,t>>>=n,r|=n,r|t>>1}function removeItems(t,r,n){var s=t.length,o;if(!(r>=s||n===0)){n=r+n>s?s-r:n;var h=s-n;for(o=r;o<h;++o)t[o]=t[o+n];t.length=h}}var nextUid=0;function uid(){return++nextUid}var warnings={};function deprecation(t,r,n){if(n===void 0&&(n=3),!warnings[r]){var s=new Error().stack;typeof s=="undefined"?console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+t):(s=s.split(`
`).splice(n).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",r+`
Deprecated since v`+t),console.warn(s),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",r+`
Deprecated since v`+t),console.warn(s))),warnings[r]=!0}}var ProgramCache={},TextureCache=Object.create(null),BaseTextureCache=Object.create(null);(function(){function t(r,n,s){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=s||settings$1.RESOLUTION,this.resize(r,n)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(r,n){this.canvas.width=Math.round(r*this.resolution),this.canvas.height=Math.round(n*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(r){this.canvas.width=Math.round(r)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(r){this.canvas.height=Math.round(r)},enumerable:!1,configurable:!0}),t})();var tempAnchor;function determineCrossOrigin(t,r){if(r===void 0&&(r=globalThis.location),t.indexOf("data:")===0)return"";r=r||globalThis.location,tempAnchor||(tempAnchor=document.createElement("a")),tempAnchor.href=t;var n=url.parse(tempAnchor.href),s=!n.port&&r.port===""||n.port===r.port;return n.hostname!==r.hostname||!s||n.protocol!==r.protocol?"anonymous":""}function getResolutionOfUrl(t,r){var n=settings$1.RETINA_PREFIX.exec(t);return n?parseFloat(n[1]):r!==void 0?r:1}/*!
 * @pixi/runner - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Runner=function(){function t(r){this.items=[],this._name=r,this._aliasCount=0}return t.prototype.emit=function(r,n,s,o,h,l,c,d){if(arguments.length>8)throw new Error("max arguments reached");var v=this,g=v.name,m=v.items;this._aliasCount++;for(var _=0,y=m.length;_<y;_++)m[_][g](r,n,s,o,h,l,c,d);return m===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(r){return r[this._name]&&(this.ensureNonAliasedItems(),this.remove(r),this.items.push(r)),this},t.prototype.remove=function(r){var n=this.items.indexOf(r);return n!==-1&&(this.ensureNonAliasedItems(),this.items.splice(n,1)),this},t.prototype.contains=function(r){return this.items.indexOf(r)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(Runner.prototype,{dispatch:{value:Runner.prototype.emit},run:{value:Runner.prototype.emit}});/*!
 * @pixi/ticker - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings$1.TARGET_FPMS=.06;var UPDATE_PRIORITY;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(UPDATE_PRIORITY||(UPDATE_PRIORITY={}));var TickerListener=function(){function t(r,n,s,o){n===void 0&&(n=null),s===void 0&&(s=0),o===void 0&&(o=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=r,this.context=n,this.priority=s,this.once=o}return t.prototype.match=function(r,n){return n===void 0&&(n=null),this.fn===r&&this.context===n},t.prototype.emit=function(r){this.fn&&(this.context?this.fn.call(this.context,r):this.fn(r));var n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n},t.prototype.connect=function(r){this.previous=r,r.next&&(r.next.previous=this),this.next=r.next,r.next=this},t.prototype.destroy=function(r){r===void 0&&(r=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var n=this.next;return this.next=r?null:n,this.previous=null,n},t}(),Ticker=function(){function t(){var r=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new TickerListener(null,null,1/0),this.deltaMS=1/settings$1.TARGET_FPMS,this.elapsedMS=1/settings$1.TARGET_FPMS,this._tick=function(n){r._requestId=null,r.started&&(r.update(n),r.started&&r._requestId===null&&r._head.next&&(r._requestId=requestAnimationFrame(r._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(r,n,s){return s===void 0&&(s=UPDATE_PRIORITY.NORMAL),this._addListener(new TickerListener(r,n,s))},t.prototype.addOnce=function(r,n,s){return s===void 0&&(s=UPDATE_PRIORITY.NORMAL),this._addListener(new TickerListener(r,n,s,!0))},t.prototype._addListener=function(r){var n=this._head.next,s=this._head;if(!n)r.connect(s);else{for(;n;){if(r.priority>n.priority){r.connect(s);break}s=n,n=n.next}r.previous||r.connect(s)}return this._startIfPossible(),this},t.prototype.remove=function(r,n){for(var s=this._head.next;s;)s.match(r,n)?s=s.destroy():s=s.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var r=0,n=this._head;n=n.next;)r++;return r},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var r=this._head.next;r;)r=r.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(r){r===void 0&&(r=performance.now());var n;if(r>this.lastTime){if(n=this.elapsedMS=r-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){var s=r-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=r-s%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*settings$1.TARGET_FPMS;for(var o=this._head,h=o.next;h;)h=h.emit(this.deltaTime);o.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=r},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(r){var n=Math.min(this.maxFPS,r),s=Math.min(Math.max(0,n)/1e3,settings$1.TARGET_FPMS);this._maxElapsedMS=1/s},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(r){if(r===0)this._minElapsedMS=0;else{var n=Math.max(this.minFPS,r);this._minElapsedMS=1/(n/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var r=t._shared=new t;r.autoStart=!0,r._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var r=t._system=new t;r.autoStart=!0,r._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}();/*!
 * @pixi/math - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var PI_2=Math.PI*2,SHAPES;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(SHAPES||(SHAPES={}));var Point=function(){function t(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.x=0,this.y=0,this.x=r,this.y=n}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(r){return this.set(r.x,r.y),this},t.prototype.copyTo=function(r){return r.set(this.x,this.y),r},t.prototype.equals=function(r){return r.x===this.x&&r.y===this.y},t.prototype.set=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=r),this.x=r,this.y=n,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),tempPoints$1=[new Point,new Point,new Point,new Point],Rectangle=function(){function t(r,n,s,o){r===void 0&&(r=0),n===void 0&&(n=0),s===void 0&&(s=0),o===void 0&&(o=0),this.x=Number(r),this.y=Number(n),this.width=Number(s),this.height=Number(o),this.type=SHAPES.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(r){return this.x=r.x,this.y=r.y,this.width=r.width,this.height=r.height,this},t.prototype.copyTo=function(r){return r.x=this.x,r.y=this.y,r.width=this.width,r.height=this.height,r},t.prototype.contains=function(r,n){return this.width<=0||this.height<=0?!1:r>=this.x&&r<this.x+this.width&&n>=this.y&&n<this.y+this.height},t.prototype.intersects=function(r,n){if(!n){var s=this.x<r.x?r.x:this.x,o=this.right>r.right?r.right:this.right;if(o<=s)return!1;var h=this.y<r.y?r.y:this.y,l=this.bottom>r.bottom?r.bottom:this.bottom;return l>h}var c=this.left,d=this.right,v=this.top,g=this.bottom;if(d<=c||g<=v)return!1;var m=tempPoints$1[0].set(r.left,r.top),_=tempPoints$1[1].set(r.left,r.bottom),y=tempPoints$1[2].set(r.right,r.top),B=tempPoints$1[3].set(r.right,r.bottom);if(y.x<=m.x||_.y<=m.y)return!1;var w=Math.sign(n.a*n.d-n.b*n.c);if(w===0||(n.apply(m,m),n.apply(_,_),n.apply(y,y),n.apply(B,B),Math.max(m.x,_.x,y.x,B.x)<=c||Math.min(m.x,_.x,y.x,B.x)>=d||Math.max(m.y,_.y,y.y,B.y)<=v||Math.min(m.y,_.y,y.y,B.y)>=g))return!1;var C=w*(_.y-m.y),b=w*(m.x-_.x),I=C*c+b*v,S=C*d+b*v,R=C*c+b*g,O=C*d+b*g;if(Math.max(I,S,R,O)<=C*m.x+b*m.y||Math.min(I,S,R,O)>=C*B.x+b*B.y)return!1;var P=w*(m.y-y.y),N=w*(y.x-m.x),M=P*c+N*v,H=P*d+N*v,Y=P*c+N*g,J=P*d+N*g;return!(Math.max(M,H,Y,J)<=P*m.x+N*m.y||Math.min(M,H,Y,J)>=P*B.x+N*B.y)},t.prototype.pad=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=r),this.x-=r,this.y-=n,this.width+=r*2,this.height+=n*2,this},t.prototype.fit=function(r){var n=Math.max(this.x,r.x),s=Math.min(this.x+this.width,r.x+r.width),o=Math.max(this.y,r.y),h=Math.min(this.y+this.height,r.y+r.height);return this.x=n,this.width=Math.max(s-n,0),this.y=o,this.height=Math.max(h-o,0),this},t.prototype.ceil=function(r,n){r===void 0&&(r=1),n===void 0&&(n=.001);var s=Math.ceil((this.x+this.width-n)*r)/r,o=Math.ceil((this.y+this.height-n)*r)/r;return this.x=Math.floor((this.x+n)*r)/r,this.y=Math.floor((this.y+n)*r)/r,this.width=s-this.x,this.height=o-this.y,this},t.prototype.enlarge=function(r){var n=Math.min(this.x,r.x),s=Math.max(this.x+this.width,r.x+r.width),o=Math.min(this.y,r.y),h=Math.max(this.y+this.height,r.y+r.height);return this.x=n,this.width=s-n,this.y=o,this.height=h-o,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),ObservablePoint=function(){function t(r,n,s,o){s===void 0&&(s=0),o===void 0&&(o=0),this._x=s,this._y=o,this.cb=r,this.scope=n}return t.prototype.clone=function(r,n){return r===void 0&&(r=this.cb),n===void 0&&(n=this.scope),new t(r,n,this._x,this._y)},t.prototype.set=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=r),(this._x!==r||this._y!==n)&&(this._x=r,this._y=n,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(r){return(this._x!==r.x||this._y!==r.y)&&(this._x=r.x,this._y=r.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(r){return r.set(this._x,this._y),r},t.prototype.equals=function(r){return r.x===this._x&&r.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x="+0+" y="+0+" scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(r){this._x!==r&&(this._x=r,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(r){this._y!==r&&(this._y=r,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),Matrix=function(){function t(r,n,s,o,h,l){r===void 0&&(r=1),n===void 0&&(n=0),s===void 0&&(s=0),o===void 0&&(o=1),h===void 0&&(h=0),l===void 0&&(l=0),this.array=null,this.a=r,this.b=n,this.c=s,this.d=o,this.tx=h,this.ty=l}return t.prototype.fromArray=function(r){this.a=r[0],this.b=r[1],this.c=r[3],this.d=r[4],this.tx=r[2],this.ty=r[5]},t.prototype.set=function(r,n,s,o,h,l){return this.a=r,this.b=n,this.c=s,this.d=o,this.tx=h,this.ty=l,this},t.prototype.toArray=function(r,n){this.array||(this.array=new Float32Array(9));var s=n||this.array;return r?(s[0]=this.a,s[1]=this.b,s[2]=0,s[3]=this.c,s[4]=this.d,s[5]=0,s[6]=this.tx,s[7]=this.ty,s[8]=1):(s[0]=this.a,s[1]=this.c,s[2]=this.tx,s[3]=this.b,s[4]=this.d,s[5]=this.ty,s[6]=0,s[7]=0,s[8]=1),s},t.prototype.apply=function(r,n){n=n||new Point;var s=r.x,o=r.y;return n.x=this.a*s+this.c*o+this.tx,n.y=this.b*s+this.d*o+this.ty,n},t.prototype.applyInverse=function(r,n){n=n||new Point;var s=1/(this.a*this.d+this.c*-this.b),o=r.x,h=r.y;return n.x=this.d*s*o+-this.c*s*h+(this.ty*this.c-this.tx*this.d)*s,n.y=this.a*s*h+-this.b*s*o+(-this.ty*this.a+this.tx*this.b)*s,n},t.prototype.translate=function(r,n){return this.tx+=r,this.ty+=n,this},t.prototype.scale=function(r,n){return this.a*=r,this.d*=n,this.c*=r,this.b*=n,this.tx*=r,this.ty*=n,this},t.prototype.rotate=function(r){var n=Math.cos(r),s=Math.sin(r),o=this.a,h=this.c,l=this.tx;return this.a=o*n-this.b*s,this.b=o*s+this.b*n,this.c=h*n-this.d*s,this.d=h*s+this.d*n,this.tx=l*n-this.ty*s,this.ty=l*s+this.ty*n,this},t.prototype.append=function(r){var n=this.a,s=this.b,o=this.c,h=this.d;return this.a=r.a*n+r.b*o,this.b=r.a*s+r.b*h,this.c=r.c*n+r.d*o,this.d=r.c*s+r.d*h,this.tx=r.tx*n+r.ty*o+this.tx,this.ty=r.tx*s+r.ty*h+this.ty,this},t.prototype.setTransform=function(r,n,s,o,h,l,c,d,v){return this.a=Math.cos(c+v)*h,this.b=Math.sin(c+v)*h,this.c=-Math.sin(c-d)*l,this.d=Math.cos(c-d)*l,this.tx=r-(s*this.a+o*this.c),this.ty=n-(s*this.b+o*this.d),this},t.prototype.prepend=function(r){var n=this.tx;if(r.a!==1||r.b!==0||r.c!==0||r.d!==1){var s=this.a,o=this.c;this.a=s*r.a+this.b*r.c,this.b=s*r.b+this.b*r.d,this.c=o*r.a+this.d*r.c,this.d=o*r.b+this.d*r.d}return this.tx=n*r.a+this.ty*r.c+r.tx,this.ty=n*r.b+this.ty*r.d+r.ty,this},t.prototype.decompose=function(r){var n=this.a,s=this.b,o=this.c,h=this.d,l=r.pivot,c=-Math.atan2(-o,h),d=Math.atan2(s,n),v=Math.abs(c+d);return v<1e-5||Math.abs(PI_2-v)<1e-5?(r.rotation=d,r.skew.x=r.skew.y=0):(r.rotation=0,r.skew.x=c,r.skew.y=d),r.scale.x=Math.sqrt(n*n+s*s),r.scale.y=Math.sqrt(o*o+h*h),r.position.x=this.tx+(l.x*n+l.y*o),r.position.y=this.ty+(l.x*s+l.y*h),r},t.prototype.invert=function(){var r=this.a,n=this.b,s=this.c,o=this.d,h=this.tx,l=r*o-n*s;return this.a=o/l,this.b=-n/l,this.c=-s/l,this.d=r/l,this.tx=(s*this.ty-o*h)/l,this.ty=-(r*this.ty-n*h)/l,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var r=new t;return r.a=this.a,r.b=this.b,r.c=this.c,r.d=this.d,r.tx=this.tx,r.ty=this.ty,r},t.prototype.copyTo=function(r){return r.a=this.a,r.b=this.b,r.c=this.c,r.d=this.d,r.tx=this.tx,r.ty=this.ty,r},t.prototype.copyFrom=function(r){return this.a=r.a,this.b=r.b,this.c=r.c,this.d=r.d,this.tx=r.tx,this.ty=r.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),ux=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],uy=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],vx=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vy=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rotationCayley=[],rotationMatrices=[],signum=Math.sign;function init(){for(var t=0;t<16;t++){var r=[];rotationCayley.push(r);for(var n=0;n<16;n++)for(var s=signum(ux[t]*ux[n]+vx[t]*uy[n]),o=signum(uy[t]*ux[n]+vy[t]*uy[n]),h=signum(ux[t]*vx[n]+vx[t]*vy[n]),l=signum(uy[t]*vx[n]+vy[t]*vy[n]),c=0;c<16;c++)if(ux[c]===s&&uy[c]===o&&vx[c]===h&&vy[c]===l){r.push(c);break}}for(var t=0;t<16;t++){var d=new Matrix;d.set(ux[t],uy[t],vx[t],vy[t],0,0),rotationMatrices.push(d)}}init();var groupD8={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return ux[t]},uY:function(t){return uy[t]},vX:function(t){return vx[t]},vY:function(t){return vy[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,r){return rotationCayley[t][r]},sub:function(t,r){return rotationCayley[t][groupD8.inv(r)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,r){return Math.abs(t)*2<=Math.abs(r)?r>=0?groupD8.S:groupD8.N:Math.abs(r)*2<=Math.abs(t)?t>0?groupD8.E:groupD8.W:r>0?t>0?groupD8.SE:groupD8.SW:t>0?groupD8.NE:groupD8.NW},matrixAppendRotationInv:function(t,r,n,s){n===void 0&&(n=0),s===void 0&&(s=0);var o=rotationMatrices[groupD8.inv(r)];o.tx=n,o.ty=s,t.append(o)}};(function(){function t(){this.worldTransform=new Matrix,this.localTransform=new Matrix,this.position=new ObservablePoint(this.onChange,this,0,0),this.scale=new ObservablePoint(this.onChange,this,1,1),this.pivot=new ObservablePoint(this.onChange,this,0,0),this.skew=new ObservablePoint(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(r){var n=this.localTransform;if(this._localID!==this._currentLocalID&&(n.a=this._cx*this.scale.x,n.b=this._sx*this.scale.x,n.c=this._cy*this.scale.y,n.d=this._sy*this.scale.y,n.tx=this.position.x-(this.pivot.x*n.a+this.pivot.y*n.c),n.ty=this.position.y-(this.pivot.x*n.b+this.pivot.y*n.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==r._worldID){var s=r.worldTransform,o=this.worldTransform;o.a=n.a*s.a+n.b*s.c,o.b=n.a*s.b+n.b*s.d,o.c=n.c*s.a+n.d*s.c,o.d=n.c*s.b+n.d*s.d,o.tx=n.tx*s.a+n.ty*s.c+s.tx,o.ty=n.tx*s.b+n.ty*s.d+s.ty,this._parentID=r._worldID,this._worldID++}},t.prototype.setFromMatrix=function(r){r.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(r){this._rotation!==r&&(this._rotation=r,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t})();/*!
 * @pixi/core - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */settings$1.PREFER_ENV=isMobile$2.any?ENV$4.WEBGL:ENV$4.WEBGL2;settings$1.STRICT_TEXTURE_CACHE=!1;var INSTALLED=[];function autoDetectResource(t,r){if(!t)return null;var n="";if(typeof t=="string"){var s=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);s&&(n=s[1].toLowerCase())}for(var o=INSTALLED.length-1;o>=0;--o){var h=INSTALLED[o];if(h.test&&h.test(t,n))return new h(t,r)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics$1=function(t,r){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics$1(t,r)};function __extends$1(t,r){extendStatics$1(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var __assign=function(){return __assign=Object.assign||function(r){for(var n=arguments,s,o=1,h=arguments.length;o<h;o++){s=n[o];for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(r[l]=s[l])}return r},__assign.apply(this,arguments)};function __rest(t,r){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&r.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(t);o<s.length;o++)r.indexOf(s[o])<0&&(n[s[o]]=t[s[o]]);return n}var Resource=function(){function t(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this._width=r,this._height=n,this.destroyed=!1,this.internal=!1,this.onResize=new Runner("setRealSize"),this.onUpdate=new Runner("update"),this.onError=new Runner("onError")}return t.prototype.bind=function(r){this.onResize.add(r),this.onUpdate.add(r),this.onError.add(r),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(r){this.onResize.remove(r),this.onUpdate.remove(r),this.onError.remove(r)},t.prototype.resize=function(r,n){(r!==this._width||n!==this._height)&&(this._width=r,this._height=n,this.onResize.emit(r,n))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(r,n,s){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(r,n){return!1},t}(),BufferResource=function(t){__extends$1(r,t);function r(n,s){var o=this,h=s||{},l=h.width,c=h.height;if(!l||!c)throw new Error("BufferResource width or height invalid");return o=t.call(this,l,c)||this,o.data=n,o}return r.prototype.upload=function(n,s,o){var h=n.gl;h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.alphaMode===ALPHA_MODES$4.UNPACK);var l=s.realWidth,c=s.realHeight;return o.width===l&&o.height===c?h.texSubImage2D(s.target,0,0,0,l,c,s.format,o.type,this.data):(o.width=l,o.height=c,h.texImage2D(s.target,0,o.internalFormat,l,c,0,s.format,o.type,this.data)),!0},r.prototype.dispose=function(){this.data=null},r.test=function(n){return n instanceof Float32Array||n instanceof Uint8Array||n instanceof Uint32Array},r}(Resource),defaultBufferOptions={scaleMode:SCALE_MODES$4.NEAREST,format:FORMATS$4.RGBA,alphaMode:ALPHA_MODES$4.NPM},BaseTexture=function(t){__extends$1(r,t);function r(n,s){n===void 0&&(n=null),s===void 0&&(s=null);var o=t.call(this)||this;s=s||{};var h=s.alphaMode,l=s.mipmap,c=s.anisotropicLevel,d=s.scaleMode,v=s.width,g=s.height,m=s.wrapMode,_=s.format,y=s.type,B=s.target,w=s.resolution,C=s.resourceOptions;return n&&!(n instanceof Resource)&&(n=autoDetectResource(n,C),n.internal=!0),o.resolution=w||settings$1.RESOLUTION,o.width=Math.round((v||0)*o.resolution)/o.resolution,o.height=Math.round((g||0)*o.resolution)/o.resolution,o._mipmap=l!==void 0?l:settings$1.MIPMAP_TEXTURES,o.anisotropicLevel=c!==void 0?c:settings$1.ANISOTROPIC_LEVEL,o._wrapMode=m||settings$1.WRAP_MODE,o._scaleMode=d!==void 0?d:settings$1.SCALE_MODE,o.format=_||FORMATS$4.RGBA,o.type=y||TYPES$4.UNSIGNED_BYTE,o.target=B||TARGETS$4.TEXTURE_2D,o.alphaMode=h!==void 0?h:ALPHA_MODES$4.UNPACK,o.uid=uid(),o.touched=0,o.isPowerOfTwo=!1,o._refreshPOT(),o._glTextures={},o.dirtyId=0,o.dirtyStyleId=0,o.cacheId=null,o.valid=v>0&&g>0,o.textureCacheIds=[],o.destroyed=!1,o.resource=null,o._batchEnabled=0,o._batchLocation=0,o.parentTextureArray=null,o.setResource(n),o}return Object.defineProperty(r.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"mipmap",{get:function(){return this._mipmap},set:function(n){this._mipmap!==n&&(this._mipmap=n,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(n){this._scaleMode!==n&&(this._scaleMode=n,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(n){this._wrapMode!==n&&(this._wrapMode=n,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),r.prototype.setStyle=function(n,s){var o;return n!==void 0&&n!==this.scaleMode&&(this.scaleMode=n,o=!0),s!==void 0&&s!==this.mipmap&&(this.mipmap=s,o=!0),o&&this.dirtyStyleId++,this},r.prototype.setSize=function(n,s,o){return o=o||this.resolution,this.setRealSize(n*o,s*o,o)},r.prototype.setRealSize=function(n,s,o){return this.resolution=o||this.resolution,this.width=Math.round(n)/this.resolution,this.height=Math.round(s)/this.resolution,this._refreshPOT(),this.update(),this},r.prototype._refreshPOT=function(){this.isPowerOfTwo=isPow2(this.realWidth)&&isPow2(this.realHeight)},r.prototype.setResolution=function(n){var s=this.resolution;return s===n?this:(this.resolution=n,this.valid&&(this.width=Math.round(this.width*s)/n,this.height=Math.round(this.height*s)/n,this.emit("update",this)),this._refreshPOT(),this)},r.prototype.setResource=function(n){if(this.resource===n)return this;if(this.resource)throw new Error("Resource can be set only once");return n.bind(this),this.resource=n,this},r.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},r.prototype.onError=function(n){this.emit("error",this,n)},r.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete BaseTextureCache[this.cacheId],delete TextureCache[this.cacheId],this.cacheId=null),this.dispose(),r.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},r.prototype.dispose=function(){this.emit("dispose",this)},r.prototype.castToBaseTexture=function(){return this},r.from=function(n,s,o){o===void 0&&(o=settings$1.STRICT_TEXTURE_CACHE);var h=typeof n=="string",l=null;if(h)l=n;else{if(!n._pixiId){var c=s&&s.pixiIdPrefix||"pixiid";n._pixiId=c+"_"+uid()}l=n._pixiId}var d=BaseTextureCache[l];if(h&&o&&!d)throw new Error('The cacheId "'+l+'" does not exist in BaseTextureCache.');return d||(d=new r(n,s),d.cacheId=l,r.addToCache(d,l)),d},r.fromBuffer=function(n,s,o,h){n=n||new Float32Array(s*o*4);var l=new BufferResource(n,{width:s,height:o}),c=n instanceof Float32Array?TYPES$4.FLOAT:TYPES$4.UNSIGNED_BYTE;return new r(l,Object.assign(defaultBufferOptions,h||{width:s,height:o,type:c}))},r.addToCache=function(n,s){s&&(n.textureCacheIds.indexOf(s)===-1&&n.textureCacheIds.push(s),BaseTextureCache[s]&&console.warn("BaseTexture added to the cache with an id ["+s+"] that already had an entry"),BaseTextureCache[s]=n)},r.removeFromCache=function(n){if(typeof n=="string"){var s=BaseTextureCache[n];if(s){var o=s.textureCacheIds.indexOf(n);return o>-1&&s.textureCacheIds.splice(o,1),delete BaseTextureCache[n],s}}else if(n&&n.textureCacheIds){for(var h=0;h<n.textureCacheIds.length;++h)delete BaseTextureCache[n.textureCacheIds[h]];return n.textureCacheIds.length=0,n}return null},r._globalBatch=0,r}(eventemitter3),AbstractMultiResource=function(t){__extends$1(r,t);function r(n,s){var o=this,h=s||{},l=h.width,c=h.height;o=t.call(this,l,c)||this,o.items=[],o.itemDirtyIds=[];for(var d=0;d<n;d++){var v=new BaseTexture;o.items.push(v),o.itemDirtyIds.push(-2)}return o.length=n,o._load=null,o.baseTexture=null,o}return r.prototype.initFromArray=function(n,s){for(var o=0;o<this.length;o++)!n[o]||(n[o].castToBaseTexture?this.addBaseTextureAt(n[o].castToBaseTexture(),o):n[o]instanceof Resource?this.addResourceAt(n[o],o):this.addResourceAt(autoDetectResource(n[o],s),o))},r.prototype.dispose=function(){for(var n=0,s=this.length;n<s;n++)this.items[n].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},r.prototype.addResourceAt=function(n,s){if(!this.items[s])throw new Error("Index "+s+" is out of bounds");return n.valid&&!this.valid&&this.resize(n.width,n.height),this.items[s].setResource(n),this},r.prototype.bind=function(n){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,n);for(var s=0;s<this.length;s++)this.items[s].parentTextureArray=n,this.items[s].on("update",n.update,n)},r.prototype.unbind=function(n){t.prototype.unbind.call(this,n);for(var s=0;s<this.length;s++)this.items[s].parentTextureArray=null,this.items[s].off("update",n.update,n)},r.prototype.load=function(){var n=this;if(this._load)return this._load;var s=this.items.map(function(h){return h.resource}).filter(function(h){return h}),o=s.map(function(h){return h.load()});return this._load=Promise.all(o).then(function(){var h=n.items[0],l=h.realWidth,c=h.realHeight;return n.resize(l,c),Promise.resolve(n)}),this._load},r}(Resource),ArrayResource=function(t){__extends$1(r,t);function r(n,s){var o=this,h=s||{},l=h.width,c=h.height,d,v;return Array.isArray(n)?(d=n,v=n.length):v=n,o=t.call(this,v,{width:l,height:c})||this,d&&o.initFromArray(d,s),o}return r.prototype.addBaseTextureAt=function(n,s){if(n.resource)this.addResourceAt(n.resource,s);else throw new Error("ArrayResource does not support RenderTexture");return this},r.prototype.bind=function(n){t.prototype.bind.call(this,n),n.target=TARGETS$4.TEXTURE_2D_ARRAY},r.prototype.upload=function(n,s,o){var h=this,l=h.length,c=h.itemDirtyIds,d=h.items,v=n.gl;o.dirtyId<0&&v.texImage3D(v.TEXTURE_2D_ARRAY,0,o.internalFormat,this._width,this._height,l,0,s.format,o.type,null);for(var g=0;g<l;g++){var m=d[g];c[g]<m.dirtyId&&(c[g]=m.dirtyId,m.valid&&v.texSubImage3D(v.TEXTURE_2D_ARRAY,0,0,0,g,m.resource.width,m.resource.height,1,s.format,o.type,m.resource.source))}return!0},r}(AbstractMultiResource),BaseImageResource=function(t){__extends$1(r,t);function r(n){var s=this,o=n,h=o.naturalWidth||o.videoWidth||o.width,l=o.naturalHeight||o.videoHeight||o.height;return s=t.call(this,h,l)||this,s.source=n,s.noSubImage=!1,s}return r.crossOrigin=function(n,s,o){o===void 0&&s.indexOf("data:")!==0?n.crossOrigin=determineCrossOrigin(s):o!==!1&&(n.crossOrigin=typeof o=="string"?o:"anonymous")},r.prototype.upload=function(n,s,o,h){var l=n.gl,c=s.realWidth,d=s.realHeight;if(h=h||this.source,h instanceof HTMLImageElement){if(!h.complete||h.naturalWidth===0)return!1}else if(h instanceof HTMLVideoElement&&h.readyState<=1)return!1;return l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.alphaMode===ALPHA_MODES$4.UNPACK),!this.noSubImage&&s.target===l.TEXTURE_2D&&o.width===c&&o.height===d?l.texSubImage2D(l.TEXTURE_2D,0,0,0,s.format,o.type,h):(o.width=c,o.height=d,l.texImage2D(s.target,0,o.internalFormat,s.format,o.type,h)),!0},r.prototype.update=function(){if(!this.destroyed){var n=this.source,s=n.naturalWidth||n.videoWidth||n.width,o=n.naturalHeight||n.videoHeight||n.height;this.resize(s,o),t.prototype.update.call(this)}},r.prototype.dispose=function(){this.source=null},r}(Resource),CanvasResource=function(t){__extends$1(r,t);function r(n){return t.call(this,n)||this}return r.test=function(n){var s=globalThis.OffscreenCanvas;return s&&n instanceof s?!0:globalThis.HTMLCanvasElement&&n instanceof HTMLCanvasElement},r}(BaseImageResource),CubeResource=function(t){__extends$1(r,t);function r(n,s){var o=this,h=s||{},l=h.width,c=h.height,d=h.autoLoad,v=h.linkBaseTexture;if(n&&n.length!==r.SIDES)throw new Error("Invalid length. Got "+n.length+", expected 6");o=t.call(this,6,{width:l,height:c})||this;for(var g=0;g<r.SIDES;g++)o.items[g].target=TARGETS$4.TEXTURE_CUBE_MAP_POSITIVE_X+g;return o.linkBaseTexture=v!==!1,n&&o.initFromArray(n,s),d!==!1&&o.load(),o}return r.prototype.bind=function(n){t.prototype.bind.call(this,n),n.target=TARGETS$4.TEXTURE_CUBE_MAP},r.prototype.addBaseTextureAt=function(n,s,o){if(!this.items[s])throw new Error("Index "+s+" is out of bounds");if(!this.linkBaseTexture||n.parentTextureArray||Object.keys(n._glTextures).length>0)if(n.resource)this.addResourceAt(n.resource,s);else throw new Error("CubeResource does not support copying of renderTexture.");else n.target=TARGETS$4.TEXTURE_CUBE_MAP_POSITIVE_X+s,n.parentTextureArray=this.baseTexture,this.items[s]=n;return n.valid&&!this.valid&&this.resize(n.realWidth,n.realHeight),this.items[s]=n,this},r.prototype.upload=function(n,s,o){for(var h=this.itemDirtyIds,l=0;l<r.SIDES;l++){var c=this.items[l];h[l]<c.dirtyId&&(c.valid&&c.resource?(c.resource.upload(n,c,o),h[l]=c.dirtyId):h[l]<-1&&(n.gl.texImage2D(c.target,0,o.internalFormat,s.realWidth,s.realHeight,0,s.format,o.type,null),h[l]=-1))}return!0},r.test=function(n){return Array.isArray(n)&&n.length===r.SIDES},r.SIDES=6,r}(AbstractMultiResource),ImageResource=function(t){__extends$1(r,t);function r(n,s){var o=this;if(s=s||{},!(n instanceof HTMLImageElement)){var h=new Image;BaseImageResource.crossOrigin(h,n,s.crossorigin),h.src=n,n=h}return o=t.call(this,n)||this,!n.complete&&!!o._width&&!!o._height&&(o._width=0,o._height=0),o.url=n.src,o._process=null,o.preserveBitmap=!1,o.createBitmap=(s.createBitmap!==void 0?s.createBitmap:settings$1.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,o.alphaMode=typeof s.alphaMode=="number"?s.alphaMode:null,o.bitmap=null,o._load=null,s.autoLoad!==!1&&o.load(),o}return r.prototype.load=function(n){var s=this;return this._load?this._load:(n!==void 0&&(this.createBitmap=n),this._load=new Promise(function(o,h){var l=s.source;s.url=l.src;var c=function(){s.destroyed||(l.onload=null,l.onerror=null,s.resize(l.width,l.height),s._load=null,s.createBitmap?o(s.process()):o(s))};l.complete&&l.src?c():(l.onload=c,l.onerror=function(d){h(d),s.onError.emit(d)})}),this._load)},r.prototype.process=function(){var n=this,s=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var o=globalThis.createImageBitmap,h=!s.crossOrigin||s.crossOrigin==="anonymous";return this._process=fetch(s.src,{mode:h?"cors":"no-cors"}).then(function(l){return l.blob()}).then(function(l){return o(l,0,0,s.width,s.height,{premultiplyAlpha:n.alphaMode===ALPHA_MODES$4.UNPACK?"premultiply":"none"})}).then(function(l){return n.destroyed?Promise.reject():(n.bitmap=l,n.update(),n._process=null,Promise.resolve(n))}),this._process},r.prototype.upload=function(n,s,o){if(typeof this.alphaMode=="number"&&(s.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,n,s,o);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,n,s,o,this.bitmap),!this.preserveBitmap){var h=!0,l=s._glTextures;for(var c in l){var d=l[c];if(d!==o&&d.dirtyId!==s.dirtyId){h=!1;break}}h&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},r.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},r.test=function(n){return typeof n=="string"||n instanceof HTMLImageElement},r}(BaseImageResource),SVGResource=function(t){__extends$1(r,t);function r(n,s){var o=this;return s=s||{},o=t.call(this,document.createElement("canvas"))||this,o._width=0,o._height=0,o.svg=n,o.scale=s.scale||1,o._overrideWidth=s.width,o._overrideHeight=s.height,o._resolve=null,o._crossorigin=s.crossorigin,o._load=null,s.autoLoad!==!1&&o.load(),o}return r.prototype.load=function(){var n=this;return this._load?this._load:(this._load=new Promise(function(s){if(n._resolve=function(){n.resize(n.source.width,n.source.height),s(n)},r.SVG_XML.test(n.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");n.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(n.svg)))}n._loadSvg()}),this._load)},r.prototype._loadSvg=function(){var n=this,s=new Image;BaseImageResource.crossOrigin(s,this.svg,this._crossorigin),s.src=this.svg,s.onerror=function(o){!n._resolve||(s.onerror=null,n.onError.emit(o))},s.onload=function(){if(!!n._resolve){var o=s.width,h=s.height;if(!o||!h)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var l=o*n.scale,c=h*n.scale;(n._overrideWidth||n._overrideHeight)&&(l=n._overrideWidth||n._overrideHeight/h*o,c=n._overrideHeight||n._overrideWidth/o*h),l=Math.round(l),c=Math.round(c);var d=n.source;d.width=l,d.height=c,d._pixiId="canvas_"+uid(),d.getContext("2d").drawImage(s,0,0,o,h,0,0,l,c),n._resolve(),n._resolve=null}}},r.getSize=function(n){var s=r.SVG_SIZE.exec(n),o={};return s&&(o[s[1]]=Math.round(parseFloat(s[3])),o[s[5]]=Math.round(parseFloat(s[7]))),o},r.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},r.test=function(n,s){return s==="svg"||typeof n=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(n)||typeof n=="string"&&r.SVG_XML.test(n)},r.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,r.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,r}(BaseImageResource),VideoResource=function(t){__extends$1(r,t);function r(n,s){var o=this;if(s=s||{},!(n instanceof HTMLVideoElement)){var h=document.createElement("video");h.setAttribute("preload","auto"),h.setAttribute("webkit-playsinline",""),h.setAttribute("playsinline",""),typeof n=="string"&&(n=[n]);var l=n[0].src||n[0];BaseImageResource.crossOrigin(h,l,s.crossorigin);for(var c=0;c<n.length;++c){var d=document.createElement("source"),v=n[c],g=v.src,m=v.mime;g=g||n[c];var _=g.split("?").shift().toLowerCase(),y=_.slice(_.lastIndexOf(".")+1);m=m||r.MIME_TYPES[y]||"video/"+y,d.src=g,d.type=m,h.appendChild(d)}n=h}return o=t.call(this,n)||this,o.noSubImage=!0,o._autoUpdate=!0,o._isConnectedToTicker=!1,o._updateFPS=s.updateFPS||0,o._msToNextUpdate=0,o.autoPlay=s.autoPlay!==!1,o._load=null,o._resolve=null,o._onCanPlay=o._onCanPlay.bind(o),o._onError=o._onError.bind(o),s.autoLoad!==!1&&o.load(),o}return r.prototype.update=function(n){if(!this.destroyed){var s=Ticker.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-s),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},r.prototype.load=function(){var n=this;if(this._load)return this._load;var s=this.source;return(s.readyState===s.HAVE_ENOUGH_DATA||s.readyState===s.HAVE_FUTURE_DATA)&&s.width&&s.height&&(s.complete=!0),s.addEventListener("play",this._onPlayStart.bind(this)),s.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(s.addEventListener("canplay",this._onCanPlay),s.addEventListener("canplaythrough",this._onCanPlay),s.addEventListener("error",this._onError,!0)),this._load=new Promise(function(o){n.valid?o(n):(n._resolve=o,s.load())}),this._load},r.prototype._onError=function(n){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(n)},r.prototype._isSourcePlaying=function(){var n=this.source;return n.currentTime>0&&n.paused===!1&&n.ended===!1&&n.readyState>2},r.prototype._isSourceReady=function(){var n=this.source;return n.readyState===3||n.readyState===4},r.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0)},r.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1)},r.prototype._onCanPlay=function(){var n=this.source;n.removeEventListener("canplay",this._onCanPlay),n.removeEventListener("canplaythrough",this._onCanPlay);var s=this.valid;this.resize(n.videoWidth,n.videoHeight),!s&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&n.play()},r.prototype.dispose=function(){this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1);var n=this.source;n&&(n.removeEventListener("error",this._onError,!0),n.pause(),n.src="",n.load()),t.prototype.dispose.call(this)},Object.defineProperty(r.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(n){n!==this._autoUpdate&&(this._autoUpdate=n,!this._autoUpdate&&this._isConnectedToTicker?(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(n){n!==this._updateFPS&&(this._updateFPS=n)},enumerable:!1,configurable:!0}),r.test=function(n,s){return globalThis.HTMLVideoElement&&n instanceof HTMLVideoElement||r.TYPES.indexOf(s)>-1},r.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],r.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},r}(BaseImageResource),ImageBitmapResource=function(t){__extends$1(r,t);function r(n){return t.call(this,n)||this}return r.test=function(n){return!!globalThis.createImageBitmap&&n instanceof ImageBitmap},r}(BaseImageResource);INSTALLED.push(ImageResource,ImageBitmapResource,CanvasResource,VideoResource,SVGResource,BufferResource,CubeResource,ArrayResource);var _resources={__proto__:null,Resource,BaseImageResource,INSTALLED,autoDetectResource,AbstractMultiResource,ArrayResource,BufferResource,CanvasResource,CubeResource,ImageResource,SVGResource,VideoResource,ImageBitmapResource},DepthResource=function(t){__extends$1(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r.prototype.upload=function(n,s,o){var h=n.gl;h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,s.alphaMode===ALPHA_MODES$4.UNPACK);var l=s.realWidth,c=s.realHeight;return o.width===l&&o.height===c?h.texSubImage2D(s.target,0,0,0,l,c,s.format,o.type,this.data):(o.width=l,o.height=c,h.texImage2D(s.target,0,o.internalFormat,l,c,0,s.format,o.type,this.data)),!0},r}(BufferResource),Framebuffer=function(){function t(r,n){this.width=Math.round(r||100),this.height=Math.round(n||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Runner("disposeFramebuffer"),this.multisample=MSAA_QUALITY$4.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(r,n){return r===void 0&&(r=0),this.colorTextures[r]=n||new BaseTexture(null,{scaleMode:SCALE_MODES$4.NEAREST,resolution:1,mipmap:MIPMAP_MODES$4.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(r){return this.depthTexture=r||new BaseTexture(new DepthResource(null,{width:this.width,height:this.height}),{scaleMode:SCALE_MODES$4.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:MIPMAP_MODES$4.OFF,format:FORMATS$4.DEPTH_COMPONENT,type:TYPES$4.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(r,n){if(r=Math.round(r),n=Math.round(n),!(r===this.width&&n===this.height)){this.width=r,this.height=n,this.dirtyId++,this.dirtySize++;for(var s=0;s<this.colorTextures.length;s++){var o=this.colorTextures[s],h=o.resolution;o.setSize(r/h,n/h)}if(this.depthTexture){var h=this.depthTexture.resolution;this.depthTexture.setSize(r/h,n/h)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),BaseRenderTexture=function(t){__extends$1(r,t);function r(n){n===void 0&&(n={});var s=this;if(typeof n=="number"){var o=arguments[0],h=arguments[1],l=arguments[2],c=arguments[3];n={width:o,height:h,scaleMode:l,resolution:c}}return n.width=n.width||100,n.height=n.height||100,n.multisample=n.multisample!==void 0?n.multisample:MSAA_QUALITY$4.NONE,s=t.call(this,null,n)||this,s.mipmap=MIPMAP_MODES$4.OFF,s.valid=!0,s.clearColor=[0,0,0,0],s.framebuffer=new Framebuffer(s.realWidth,s.realHeight).addColorTexture(0,s),s.framebuffer.multisample=n.multisample,s.maskStack=[],s.filterStack=[{}],s}return r.prototype.resize=function(n,s){this.framebuffer.resize(n*this.resolution,s*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},r.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},r.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},r}(BaseTexture),TextureUvs=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(r,n,s){var o=n.width,h=n.height;if(s){var l=r.width/2/o,c=r.height/2/h,d=r.x/o+l,v=r.y/h+c;s=groupD8.add(s,groupD8.NW),this.x0=d+l*groupD8.uX(s),this.y0=v+c*groupD8.uY(s),s=groupD8.add(s,2),this.x1=d+l*groupD8.uX(s),this.y1=v+c*groupD8.uY(s),s=groupD8.add(s,2),this.x2=d+l*groupD8.uX(s),this.y2=v+c*groupD8.uY(s),s=groupD8.add(s,2),this.x3=d+l*groupD8.uX(s),this.y3=v+c*groupD8.uY(s)}else this.x0=r.x/o,this.y0=r.y/h,this.x1=(r.x+r.width)/o,this.y1=r.y/h,this.x2=(r.x+r.width)/o,this.y2=(r.y+r.height)/h,this.x3=r.x/o,this.y3=(r.y+r.height)/h;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),DEFAULT_UVS=new TextureUvs;function removeAllHandlers(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var Texture=function(t){__extends$1(r,t);function r(n,s,o,h,l,c){var d=t.call(this)||this;if(d.noFrame=!1,s||(d.noFrame=!0,s=new Rectangle(0,0,1,1)),n instanceof r&&(n=n.baseTexture),d.baseTexture=n,d._frame=s,d.trim=h,d.valid=!1,d._uvs=DEFAULT_UVS,d.uvMatrix=null,d.orig=o||s,d._rotate=Number(l||0),l===!0)d._rotate=2;else if(d._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return d.defaultAnchor=c?new Point(c.x,c.y):new Point(0,0),d._updateID=0,d.textureCacheIds=[],n.valid?d.noFrame?n.valid&&d.onBaseTextureUpdated(n):d.frame=s:n.once("loaded",d.onBaseTextureUpdated,d),d.noFrame&&n.on("update",d.onBaseTextureUpdated,d),d}return r.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},r.prototype.onBaseTextureUpdated=function(n){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=n.width,this._frame.height=n.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},r.prototype.destroy=function(n){if(this.baseTexture){if(n){var s=this.baseTexture.resource;s&&s.url&&TextureCache[s.url]&&r.removeFromCache(s.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,r.removeFromCache(this),this.textureCacheIds=null},r.prototype.clone=function(){var n=this._frame.clone(),s=this._frame===this.orig?n:this.orig.clone(),o=new r(this.baseTexture,!this.noFrame&&n,s,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(o._frame=n),o},r.prototype.updateUvs=function(){this._uvs===DEFAULT_UVS&&(this._uvs=new TextureUvs),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},r.from=function(n,s,o){s===void 0&&(s={}),o===void 0&&(o=settings$1.STRICT_TEXTURE_CACHE);var h=typeof n=="string",l=null;if(h)l=n;else if(n instanceof BaseTexture){if(!n.cacheId){var c=s&&s.pixiIdPrefix||"pixiid";n.cacheId=c+"-"+uid(),BaseTexture.addToCache(n,n.cacheId)}l=n.cacheId}else{if(!n._pixiId){var c=s&&s.pixiIdPrefix||"pixiid";n._pixiId=c+"_"+uid()}l=n._pixiId}var d=TextureCache[l];if(h&&o&&!d)throw new Error('The cacheId "'+l+'" does not exist in TextureCache.');return!d&&!(n instanceof BaseTexture)?(s.resolution||(s.resolution=getResolutionOfUrl(n)),d=new r(new BaseTexture(n,s)),d.baseTexture.cacheId=l,BaseTexture.addToCache(d.baseTexture,l),r.addToCache(d,l)):!d&&n instanceof BaseTexture&&(d=new r(n),r.addToCache(d,l)),d},r.fromURL=function(n,s){var o=Object.assign({autoLoad:!1},s==null?void 0:s.resourceOptions),h=r.from(n,Object.assign({resourceOptions:o},s),!1),l=h.baseTexture.resource;return h.baseTexture.valid?Promise.resolve(h):l.load().then(function(){return Promise.resolve(h)})},r.fromBuffer=function(n,s,o,h){return new r(BaseTexture.fromBuffer(n,s,o,h))},r.fromLoader=function(n,s,o,h){var l=new BaseTexture(n,Object.assign({scaleMode:settings$1.SCALE_MODE,resolution:getResolutionOfUrl(s)},h)),c=l.resource;c instanceof ImageResource&&(c.url=s);var d=new r(l);return o||(o=s),BaseTexture.addToCache(d.baseTexture,o),r.addToCache(d,o),o!==s&&(BaseTexture.addToCache(d.baseTexture,s),r.addToCache(d,s)),d.baseTexture.valid?Promise.resolve(d):new Promise(function(v){d.baseTexture.once("loaded",function(){return v(d)})})},r.addToCache=function(n,s){s&&(n.textureCacheIds.indexOf(s)===-1&&n.textureCacheIds.push(s),TextureCache[s]&&console.warn("Texture added to the cache with an id ["+s+"] that already had an entry"),TextureCache[s]=n)},r.removeFromCache=function(n){if(typeof n=="string"){var s=TextureCache[n];if(s){var o=s.textureCacheIds.indexOf(n);return o>-1&&s.textureCacheIds.splice(o,1),delete TextureCache[n],s}}else if(n&&n.textureCacheIds){for(var h=0;h<n.textureCacheIds.length;++h)TextureCache[n.textureCacheIds[h]]===n&&delete TextureCache[n.textureCacheIds[h]];return n.textureCacheIds.length=0,n}return null},Object.defineProperty(r.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"frame",{get:function(){return this._frame},set:function(n){this._frame=n,this.noFrame=!1;var s=n.x,o=n.y,h=n.width,l=n.height,c=s+h>this.baseTexture.width,d=o+l>this.baseTexture.height;if(c||d){var v=c&&d?"and":"or",g="X: "+s+" + "+h+" = "+(s+h)+" > "+this.baseTexture.width,m="Y: "+o+" + "+l+" = "+(o+l)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(g+" "+v+" "+m))}this.valid=h&&l&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=n),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"rotate",{get:function(){return this._rotate},set:function(n){this._rotate=n,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),r.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(r,"EMPTY",{get:function(){return r._EMPTY||(r._EMPTY=new r(new BaseTexture),removeAllHandlers(r._EMPTY),removeAllHandlers(r._EMPTY.baseTexture)),r._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(r,"WHITE",{get:function(){if(!r._WHITE){var n=document.createElement("canvas"),s=n.getContext("2d");n.width=16,n.height=16,s.fillStyle="white",s.fillRect(0,0,16,16),r._WHITE=new r(new BaseTexture(new CanvasResource(n))),removeAllHandlers(r._WHITE),removeAllHandlers(r._WHITE.baseTexture)}return r._WHITE},enumerable:!1,configurable:!0}),r}(eventemitter3),RenderTexture=function(t){__extends$1(r,t);function r(n,s){var o=t.call(this,n,s)||this;return o.valid=!0,o.filterFrame=null,o.filterPoolKey=null,o.updateUvs(),o}return Object.defineProperty(r.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(n){this.framebuffer.multisample=n},enumerable:!1,configurable:!0}),r.prototype.resize=function(n,s,o){o===void 0&&(o=!0);var h=this.baseTexture.resolution,l=Math.round(n*h)/h,c=Math.round(s*h)/h;this.valid=l>0&&c>0,this._frame.width=this.orig.width=l,this._frame.height=this.orig.height=c,o&&this.baseTexture.resize(l,c),this.updateUvs()},r.prototype.setResolution=function(n){var s=this.baseTexture;s.resolution!==n&&(s.setResolution(n),this.resize(s.width,s.height,!1))},r.create=function(n){for(var s=arguments,o=[],h=1;h<arguments.length;h++)o[h-1]=s[h];return typeof n=="number"&&(deprecation("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),n={width:n,height:o[0],scaleMode:o[1],resolution:o[2]}),new r(new BaseRenderTexture(n))},r}(Texture),RenderTexturePool=function(){function t(r){this.texturePool={},this.textureOptions=r||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(r,n,s){s===void 0&&(s=MSAA_QUALITY$4.NONE);var o=new BaseRenderTexture(Object.assign({width:r,height:n,resolution:1,multisample:s},this.textureOptions));return new RenderTexture(o)},t.prototype.getOptimalTexture=function(r,n,s,o){s===void 0&&(s=1),o===void 0&&(o=MSAA_QUALITY$4.NONE);var h;r=Math.ceil(r*s-1e-6),n=Math.ceil(n*s-1e-6),!this.enableFullScreen||r!==this._pixelsWidth||n!==this._pixelsHeight?(r=nextPow2(r),n=nextPow2(n),h=((r&65535)<<16|n&65535)>>>0,o>1&&(h+=o*4294967296)):h=o>1?-o:-1,this.texturePool[h]||(this.texturePool[h]=[]);var l=this.texturePool[h].pop();return l||(l=this.createTexture(r,n,o)),l.filterPoolKey=h,l.setResolution(s),l},t.prototype.getFilterTexture=function(r,n,s){var o=this.getOptimalTexture(r.width,r.height,n||r.resolution,s||MSAA_QUALITY$4.NONE);return o.filterFrame=r.filterFrame,o},t.prototype.returnTexture=function(r){var n=r.filterPoolKey;r.filterFrame=null,this.texturePool[n].push(r)},t.prototype.returnFilterTexture=function(r){this.returnTexture(r)},t.prototype.clear=function(r){if(r=r!==!1,r)for(var n in this.texturePool){var s=this.texturePool[n];if(s)for(var o=0;o<s.length;o++)s[o].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(r){if(!(r.width===this._pixelsWidth&&r.height===this._pixelsHeight)){this.enableFullScreen=r.width>0&&r.height>0;for(var n in this.texturePool)if(Number(n)<0){var s=this.texturePool[n];if(s)for(var o=0;o<s.length;o++)s[o].destroy(!0);this.texturePool[n]=[]}this._pixelsWidth=r.width,this._pixelsHeight=r.height}},t.SCREEN_KEY=-1,t}(),Attribute=function(){function t(r,n,s,o,h,l,c){n===void 0&&(n=0),s===void 0&&(s=!1),o===void 0&&(o=TYPES$4.FLOAT),this.buffer=r,this.size=n,this.normalized=s,this.type=o,this.stride=h,this.start=l,this.instance=c}return t.prototype.destroy=function(){this.buffer=null},t.from=function(r,n,s,o,h){return new t(r,n,s,o,h)},t}(),UID$4=0,Buffer=function(){function t(r,n,s){n===void 0&&(n=!0),s===void 0&&(s=!1),this.data=r||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=s,this.static=n,this.id=UID$4++,this.disposeRunner=new Runner("disposeBuffer")}return t.prototype.update=function(r){r instanceof Array&&(r=new Float32Array(r)),this.data=r||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===BUFFER_TYPE$4.ELEMENT_ARRAY_BUFFER},set:function(r){this.type=r?BUFFER_TYPE$4.ELEMENT_ARRAY_BUFFER:BUFFER_TYPE$4.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(r){return r instanceof Array&&(r=new Float32Array(r)),new t(r)},t}(),map$1={Float32Array,Uint32Array,Int32Array,Uint8Array};function interleaveTypedArrays(t,r){for(var n=0,s=0,o={},h=0;h<t.length;h++)s+=r[h],n+=t[h].length;for(var l=new ArrayBuffer(n*4),c=null,d=0,h=0;h<t.length;h++){var v=r[h],g=t[h],m=getBufferType(g);o[m]||(o[m]=new map$1[m](l)),c=o[m];for(var _=0;_<g.length;_++){var y=(_/v|0)*s+d,B=_%v;c[y+B]=g[_]}d+=v}return new Float32Array(l)}var byteSizeMap$1={5126:4,5123:2,5121:1},UID$3=0,map={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Geometry=function(){function t(r,n){r===void 0&&(r=[]),n===void 0&&(n={}),this.buffers=r,this.indexBuffer=null,this.attributes=n,this.glVertexArrayObjects={},this.id=UID$3++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Runner("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(r,n,s,o,h,l,c,d){if(s===void 0&&(s=0),o===void 0&&(o=!1),d===void 0&&(d=!1),!n)throw new Error("You must pass a buffer when creating an attribute");n instanceof Buffer||(n instanceof Array&&(n=new Float32Array(n)),n=new Buffer(n));var v=r.split("|");if(v.length>1){for(var g=0;g<v.length;g++)this.addAttribute(v[g],n,s,o,h);return this}var m=this.buffers.indexOf(n);return m===-1&&(this.buffers.push(n),m=this.buffers.length-1),this.attributes[r]=new Attribute(m,s,o,h,l,c,d),this.instanced=this.instanced||d,this},t.prototype.getAttribute=function(r){return this.attributes[r]},t.prototype.getBuffer=function(r){return this.buffers[this.getAttribute(r).buffer]},t.prototype.addIndex=function(r){return r instanceof Buffer||(r instanceof Array&&(r=new Uint16Array(r)),r=new Buffer(r)),r.type=BUFFER_TYPE$4.ELEMENT_ARRAY_BUFFER,this.indexBuffer=r,this.buffers.indexOf(r)===-1&&this.buffers.push(r),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var r=[],n=[],s=new Buffer,o;for(o in this.attributes){var h=this.attributes[o],l=this.buffers[h.buffer];r.push(l.data),n.push(h.size*byteSizeMap$1[h.type]/4),h.buffer=0}for(s.data=interleaveTypedArrays(r,n),o=0;o<this.buffers.length;o++)this.buffers[o]!==this.indexBuffer&&this.buffers[o].destroy();return this.buffers=[s],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var r in this.attributes){var n=this.attributes[r],s=this.buffers[n.buffer];return s.data.length/(n.stride/4||n.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var r=new t,n=0;n<this.buffers.length;n++)r.buffers[n]=new Buffer(this.buffers[n].data.slice(0));for(var n in this.attributes){var s=this.attributes[n];r.attributes[n]=new Attribute(s.buffer,s.size,s.normalized,s.type,s.stride,s.start,s.instance)}return this.indexBuffer&&(r.indexBuffer=r.buffers[this.buffers.indexOf(this.indexBuffer)],r.indexBuffer.type=BUFFER_TYPE$4.ELEMENT_ARRAY_BUFFER),r},t.merge=function(r){for(var n=new t,s=[],o=[],h=[],l,c=0;c<r.length;c++){l=r[c];for(var d=0;d<l.buffers.length;d++)o[d]=o[d]||0,o[d]+=l.buffers[d].data.length,h[d]=0}for(var c=0;c<l.buffers.length;c++)s[c]=new map[getBufferType(l.buffers[c].data)](o[c]),n.buffers[c]=new Buffer(s[c]);for(var c=0;c<r.length;c++){l=r[c];for(var d=0;d<l.buffers.length;d++)s[d].set(l.buffers[d].data,h[d]),h[d]+=l.buffers[d].data.length}if(n.attributes=l.attributes,l.indexBuffer){n.indexBuffer=n.buffers[l.buffers.indexOf(l.indexBuffer)],n.indexBuffer.type=BUFFER_TYPE$4.ELEMENT_ARRAY_BUFFER;for(var v=0,g=0,m=0,_=0,c=0;c<l.buffers.length;c++)if(l.buffers[c]!==l.indexBuffer){_=c;break}for(var c in l.attributes){var y=l.attributes[c];(y.buffer|0)===_&&(g+=y.size*byteSizeMap$1[y.type]/4)}for(var c=0;c<r.length;c++){for(var B=r[c].indexBuffer.data,d=0;d<B.length;d++)n.indexBuffer.data[d+m]+=v;v+=r[c].buffers[_].data.length/g,m+=B.length}}return n},t}(),Quad=function(t){__extends$1(r,t);function r(){var n=t.call(this)||this;return n.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),n}return r}(Geometry),QuadUv=function(t){__extends$1(r,t);function r(){var n=t.call(this)||this;return n.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),n.uvs=new Float32Array([0,0,1,0,1,1,0,1]),n.vertexBuffer=new Buffer(n.vertices),n.uvBuffer=new Buffer(n.uvs),n.addAttribute("aVertexPosition",n.vertexBuffer).addAttribute("aTextureCoord",n.uvBuffer).addIndex([0,1,2,0,2,3]),n}return r.prototype.map=function(n,s){var o=0,h=0;return this.uvs[0]=o,this.uvs[1]=h,this.uvs[2]=o+s.width/n.width,this.uvs[3]=h,this.uvs[4]=o+s.width/n.width,this.uvs[5]=h+s.height/n.height,this.uvs[6]=o,this.uvs[7]=h+s.height/n.height,o=s.x,h=s.y,this.vertices[0]=o,this.vertices[1]=h,this.vertices[2]=o+s.width,this.vertices[3]=h,this.vertices[4]=o+s.width,this.vertices[5]=h+s.height,this.vertices[6]=o,this.vertices[7]=h+s.height,this.invalidate(),this},r.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},r}(Geometry),UID$2=0,UniformGroup=function(){function t(r,n,s){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=UID$2++,this.static=!!n,this.ubo=!!s,r instanceof Buffer?(this.buffer=r,this.buffer.type=BUFFER_TYPE$4.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=r,this.ubo&&(this.buffer=new Buffer(new Float32Array(1)),this.buffer.type=BUFFER_TYPE$4.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(r,n,s){if(!this.ubo)this.uniforms[r]=new t(n,s);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(r,n,s){return new t(r,n,s)},t.uboFrom=function(r,n){return new t(r,n!=null?n:!0,!0)},t}(),FilterState=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=MSAA_QUALITY$4.NONE,this.sourceFrame=new Rectangle,this.destinationFrame=new Rectangle,this.bindingSourceFrame=new Rectangle,this.bindingDestinationFrame=new Rectangle,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),tempPoints=[new Point,new Point,new Point,new Point],tempMatrix$2=new Matrix,FilterSystem=function(){function t(r){this.renderer=r,this.defaultFilterStack=[{}],this.texturePool=new RenderTexturePool,this.texturePool.setScreenSize(r.view),this.statePool=[],this.quad=new Quad,this.quadUv=new QuadUv,this.tempRect=new Rectangle,this.activeState={},this.globalUniforms=new UniformGroup({outputFrame:new Rectangle,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(r,n){for(var s,o,h=this.renderer,l=this.defaultFilterStack,c=this.statePool.pop()||new FilterState,d=this.renderer.renderTexture,v=n[0].resolution,g=n[0].multisample,m=n[0].padding,_=n[0].autoFit,y=(s=n[0].legacy)!==null&&s!==void 0?s:!0,B=1;B<n.length;B++){var w=n[B];v=Math.min(v,w.resolution),g=Math.min(g,w.multisample),m=this.useMaxPadding?Math.max(m,w.padding):m+w.padding,_=_&&w.autoFit,y=y||((o=w.legacy)!==null&&o!==void 0?o:!0)}l.length===1&&(this.defaultFilterStack[0].renderTexture=d.current),l.push(c),c.resolution=v,c.multisample=g,c.legacy=y,c.target=r,c.sourceFrame.copyFrom(r.filterArea||r.getBounds(!0)),c.sourceFrame.pad(m);var C=this.tempRect.copyFrom(d.sourceFrame);h.projection.transform&&this.transformAABB(tempMatrix$2.copyFrom(h.projection.transform).invert(),C),_?(c.sourceFrame.fit(C),(c.sourceFrame.width<=0||c.sourceFrame.height<=0)&&(c.sourceFrame.width=0,c.sourceFrame.height=0)):c.sourceFrame.intersects(C)||(c.sourceFrame.width=0,c.sourceFrame.height=0),this.roundFrame(c.sourceFrame,d.current?d.current.resolution:h.resolution,d.sourceFrame,d.destinationFrame,h.projection.transform),c.renderTexture=this.getOptimalFilterTexture(c.sourceFrame.width,c.sourceFrame.height,v,g),c.filters=n,c.destinationFrame.width=c.renderTexture.width,c.destinationFrame.height=c.renderTexture.height;var b=this.tempRect;b.x=0,b.y=0,b.width=c.sourceFrame.width,b.height=c.sourceFrame.height,c.renderTexture.filterFrame=c.sourceFrame,c.bindingSourceFrame.copyFrom(d.sourceFrame),c.bindingDestinationFrame.copyFrom(d.destinationFrame),c.transform=h.projection.transform,h.projection.transform=null,d.bind(c.renderTexture,c.sourceFrame,b),h.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var r=this.defaultFilterStack,n=r.pop(),s=n.filters;this.activeState=n;var o=this.globalUniforms.uniforms;o.outputFrame=n.sourceFrame,o.resolution=n.resolution;var h=o.inputSize,l=o.inputPixel,c=o.inputClamp;if(h[0]=n.destinationFrame.width,h[1]=n.destinationFrame.height,h[2]=1/h[0],h[3]=1/h[1],l[0]=Math.round(h[0]*n.resolution),l[1]=Math.round(h[1]*n.resolution),l[2]=1/l[0],l[3]=1/l[1],c[0]=.5*l[2],c[1]=.5*l[3],c[2]=n.sourceFrame.width*h[2]-.5*l[2],c[3]=n.sourceFrame.height*h[3]-.5*l[3],n.legacy){var d=o.filterArea;d[0]=n.destinationFrame.width,d[1]=n.destinationFrame.height,d[2]=n.sourceFrame.x,d[3]=n.sourceFrame.y,o.filterClamp=o.inputClamp}this.globalUniforms.update();var v=r[r.length-1];if(this.renderer.framebuffer.blit(),s.length===1)s[0].apply(this,n.renderTexture,v.renderTexture,CLEAR_MODES$4.BLEND,n),this.returnFilterTexture(n.renderTexture);else{var g=n.renderTexture,m=this.getOptimalFilterTexture(g.width,g.height,n.resolution);m.filterFrame=g.filterFrame;var _=0;for(_=0;_<s.length-1;++_){_===1&&n.multisample>1&&(m=this.getOptimalFilterTexture(g.width,g.height,n.resolution),m.filterFrame=g.filterFrame),s[_].apply(this,g,m,CLEAR_MODES$4.CLEAR,n);var y=g;g=m,m=y}s[_].apply(this,g,v.renderTexture,CLEAR_MODES$4.BLEND,n),_>1&&n.multisample>1&&this.returnFilterTexture(n.renderTexture),this.returnFilterTexture(g),this.returnFilterTexture(m)}n.clear(),this.statePool.push(n)},t.prototype.bindAndClear=function(r,n){n===void 0&&(n=CLEAR_MODES$4.CLEAR);var s=this.renderer,o=s.renderTexture,h=s.state;if(r===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,r&&r.filterFrame){var l=this.tempRect;l.x=0,l.y=0,l.width=r.filterFrame.width,l.height=r.filterFrame.height,o.bind(r,r.filterFrame,l)}else r!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?o.bind(r):this.renderer.renderTexture.bind(r,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var c=h.stateId&1||this.forceClear;(n===CLEAR_MODES$4.CLEAR||n===CLEAR_MODES$4.BLIT&&c)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(r,n,s,o){var h=this.renderer;h.state.set(r.state),this.bindAndClear(s,o),r.uniforms.uSampler=n,r.uniforms.filterGlobals=this.globalUniforms,h.shader.bind(r),r.legacy=!!r.program.attributeData.aTextureCoord,r.legacy?(this.quadUv.map(n._frame,n.filterFrame),h.geometry.bind(this.quadUv),h.geometry.draw(DRAW_MODES$4.TRIANGLES)):(h.geometry.bind(this.quad),h.geometry.draw(DRAW_MODES$4.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(r,n){var s=this.activeState,o=s.sourceFrame,h=s.destinationFrame,l=n._texture.orig,c=r.set(h.width,0,0,h.height,o.x,o.y),d=n.worldTransform.copyTo(Matrix.TEMP_MATRIX);return d.invert(),c.prepend(d),c.scale(1/l.width,1/l.height),c.translate(n.anchor.x,n.anchor.y),c},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(r,n,s,o){return s===void 0&&(s=1),o===void 0&&(o=MSAA_QUALITY$4.NONE),this.texturePool.getOptimalTexture(r,n,s,o)},t.prototype.getFilterTexture=function(r,n,s){if(typeof r=="number"){var o=r;r=n,n=o}r=r||this.activeState.renderTexture;var h=this.texturePool.getOptimalTexture(r.width,r.height,n||r.resolution,s||MSAA_QUALITY$4.NONE);return h.filterFrame=r.filterFrame,h},t.prototype.returnFilterTexture=function(r){this.texturePool.returnTexture(r)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(r,n){var s=tempPoints[0],o=tempPoints[1],h=tempPoints[2],l=tempPoints[3];s.set(n.left,n.top),o.set(n.left,n.bottom),h.set(n.right,n.top),l.set(n.right,n.bottom),r.apply(s,s),r.apply(o,o),r.apply(h,h),r.apply(l,l);var c=Math.min(s.x,o.x,h.x,l.x),d=Math.min(s.y,o.y,h.y,l.y),v=Math.max(s.x,o.x,h.x,l.x),g=Math.max(s.y,o.y,h.y,l.y);n.x=c,n.y=d,n.width=v-c,n.height=g-d},t.prototype.roundFrame=function(r,n,s,o,h){if(!(r.width<=0||r.height<=0||s.width<=0||s.height<=0)){if(h){var l=h.a,c=h.b,d=h.c,v=h.d;if((Math.abs(c)>1e-4||Math.abs(d)>1e-4)&&(Math.abs(l)>1e-4||Math.abs(v)>1e-4))return}h=h?tempMatrix$2.copyFrom(h):tempMatrix$2.identity(),h.translate(-s.x,-s.y).scale(o.width/s.width,o.height/s.height).translate(o.x,o.y),this.transformAABB(h,r),r.ceil(n),this.transformAABB(h.invert(),r)}},t}(),ObjectRenderer=function(){function t(r){this.renderer=r}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(r){},t}(),BatchSystem=function(){function t(r){this.renderer=r,this.emptyRenderer=new ObjectRenderer(r),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(r){this.currentRenderer!==r&&(this.currentRenderer.stop(),this.currentRenderer=r,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(r,n){for(var s=this.renderer.texture.boundTextures,o=n-1;o>=0;--o)r[o]=s[o]||null,r[o]&&(r[o]._batchLocation=o)},t.prototype.boundArray=function(r,n,s,o){for(var h=r.elements,l=r.ids,c=r.count,d=0,v=0;v<c;v++){var g=h[v],m=g._batchLocation;if(m>=0&&m<o&&n[m]===g){l[v]=m;continue}for(;d<o;){var _=n[d];if(_&&_._batchEnabled===s&&_._batchLocation===d){d++;continue}l[v]=d,g._batchLocation=d,n[d]=g;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),CONTEXT_UID_COUNTER=0,ContextSystem=function(){function t(r){this.renderer=r,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),r.view.addEventListener("webglcontextlost",this.handleContextLost,!1),r.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(r){this.gl=r,this.renderer.gl=r,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++,r.isContextLost()&&r.getExtension("WEBGL_lose_context")&&r.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(r){this.gl=r,this.validateContext(r),this.renderer.gl=r,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++,this.renderer.runners.contextChange.emit(r)},t.prototype.initFromOptions=function(r){var n=this.createContext(this.renderer.view,r);this.initFromContext(n)},t.prototype.createContext=function(r,n){var s;if(settings$1.PREFER_ENV>=ENV$4.WEBGL2&&(s=r.getContext("webgl2",n)),s)this.webGLVersion=2;else if(this.webGLVersion=1,s=r.getContext("webgl",n)||r.getContext("experimental-webgl",n),!s)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=s,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var r=this.gl,n={anisotropicFiltering:r.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:r.getExtension("OES_texture_float_linear"),s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,n,{drawBuffers:r.getExtension("WEBGL_draw_buffers"),depthTexture:r.getExtension("WEBGL_depth_texture"),loseContext:r.getExtension("WEBGL_lose_context"),vertexArrayObject:r.getExtension("OES_vertex_array_object")||r.getExtension("MOZ_OES_vertex_array_object")||r.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:r.getExtension("OES_element_index_uint"),floatTexture:r.getExtension("OES_texture_float"),floatTextureLinear:r.getExtension("OES_texture_float_linear"),textureHalfFloat:r.getExtension("OES_texture_half_float"),textureHalfFloatLinear:r.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,n,{colorBufferFloat:r.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(r){r.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var r=this.renderer.view;this.renderer=null,r.removeEventListener("webglcontextlost",this.handleContextLost),r.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(r){var n=r.getContextAttributes(),s="WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext;s&&(this.webGLVersion=2),n&&!n.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var o=s||!!r.getExtension("OES_element_index_uint");this.supports.uint32Indices=o,o||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),GLFramebuffer=function(){function t(r){this.framebuffer=r,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=MSAA_QUALITY$4.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),tempRectangle=new Rectangle,FramebufferSystem=function(){function t(r){this.renderer=r,this.managedFramebuffers=[],this.unknownFramebuffer=new Framebuffer(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var n=this.renderer.context.extensions.drawBuffers,s=this.renderer.context.extensions.depthTexture;settings$1.PREFER_ENV===ENV$4.WEBGL_LEGACY&&(n=null,s=null),n?r.drawBuffers=function(o){return n.drawBuffersWEBGL(o)}:(this.hasMRT=!1,r.drawBuffers=function(){}),s||(this.writeDepthTexture=!1)}else this.msaaSamples=r.getInternalformatParameter(r.RENDERBUFFER,r.RGBA8,r.SAMPLES)},t.prototype.bind=function(r,n,s){s===void 0&&(s=0);var o=this.gl;if(r){var h=r.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(r);this.current!==r&&(this.current=r,o.bindFramebuffer(o.FRAMEBUFFER,h.framebuffer)),h.mipLevel!==s&&(r.dirtyId++,r.dirtyFormat++,h.mipLevel=s),h.dirtyId!==r.dirtyId&&(h.dirtyId=r.dirtyId,h.dirtyFormat!==r.dirtyFormat?(h.dirtyFormat=r.dirtyFormat,h.dirtySize=r.dirtySize,this.updateFramebuffer(r,s)):h.dirtySize!==r.dirtySize&&(h.dirtySize=r.dirtySize,this.resizeFramebuffer(r)));for(var l=0;l<r.colorTextures.length;l++){var c=r.colorTextures[l];this.renderer.texture.unbind(c.parentTextureArray||c)}if(r.depthTexture&&this.renderer.texture.unbind(r.depthTexture),n){var d=n.width>>s,v=n.height>>s,g=d/n.width;this.setViewport(n.x*g,n.y*g,d,v)}else{var d=r.width>>s,v=r.height>>s;this.setViewport(0,0,d,v)}}else this.current&&(this.current=null,o.bindFramebuffer(o.FRAMEBUFFER,null)),n?this.setViewport(n.x,n.y,n.width,n.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(r,n,s,o){var h=this.viewport;r=Math.round(r),n=Math.round(n),s=Math.round(s),o=Math.round(o),(h.width!==s||h.height!==o||h.x!==r||h.y!==n)&&(h.x=r,h.y=n,h.width=s,h.height=o,this.gl.viewport(r,n,s,o))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(r,n,s,o,h){h===void 0&&(h=BUFFER_BITS$4.COLOR|BUFFER_BITS$4.DEPTH);var l=this.gl;l.clearColor(r,n,s,o),l.clear(h)},t.prototype.initFramebuffer=function(r){var n=this.gl,s=new GLFramebuffer(n.createFramebuffer());return s.multisample=this.detectSamples(r.multisample),r.glFramebuffers[this.CONTEXT_UID]=s,this.managedFramebuffers.push(r),r.disposeRunner.add(this),s},t.prototype.resizeFramebuffer=function(r){var n=this.gl,s=r.glFramebuffers[this.CONTEXT_UID];s.msaaBuffer&&(n.bindRenderbuffer(n.RENDERBUFFER,s.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,s.multisample,n.RGBA8,r.width,r.height)),s.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,s.stencil),s.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,s.multisample,n.DEPTH24_STENCIL8,r.width,r.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r.width,r.height));var o=r.colorTextures,h=o.length;n.drawBuffers||(h=Math.min(h,1));for(var l=0;l<h;l++){var c=o[l],d=c.parentTextureArray||c;this.renderer.texture.bind(d,0)}r.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(r.depthTexture,0)},t.prototype.updateFramebuffer=function(r,n){var s=this.gl,o=r.glFramebuffers[this.CONTEXT_UID],h=r.colorTextures,l=h.length;s.drawBuffers||(l=Math.min(l,1)),o.multisample>1&&this.canMultisampleFramebuffer(r)?(o.msaaBuffer=o.msaaBuffer||s.createRenderbuffer(),s.bindRenderbuffer(s.RENDERBUFFER,o.msaaBuffer),s.renderbufferStorageMultisample(s.RENDERBUFFER,o.multisample,s.RGBA8,r.width,r.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.RENDERBUFFER,o.msaaBuffer)):o.msaaBuffer&&(s.deleteRenderbuffer(o.msaaBuffer),o.msaaBuffer=null,o.blitFramebuffer&&(o.blitFramebuffer.dispose(),o.blitFramebuffer=null));for(var c=[],d=0;d<l;d++){var v=h[d],g=v.parentTextureArray||v;this.renderer.texture.bind(g,0),!(d===0&&o.msaaBuffer)&&(s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0+d,v.target,g._glTextures[this.CONTEXT_UID].texture,n),c.push(s.COLOR_ATTACHMENT0+d))}if(c.length>1&&s.drawBuffers(c),r.depthTexture){var m=this.writeDepthTexture;if(m){var _=r.depthTexture;this.renderer.texture.bind(_,0),s.framebufferTexture2D(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.TEXTURE_2D,_._glTextures[this.CONTEXT_UID].texture,n)}}(r.stencil||r.depth)&&!(r.depthTexture&&this.writeDepthTexture)?(o.stencil=o.stencil||s.createRenderbuffer(),s.bindRenderbuffer(s.RENDERBUFFER,o.stencil),o.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,o.multisample,s.DEPTH24_STENCIL8,r.width,r.height):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,r.width,r.height),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o.stencil)):o.stencil&&(s.deleteRenderbuffer(o.stencil),o.stencil=null)},t.prototype.canMultisampleFramebuffer=function(r){return this.renderer.context.webGLVersion!==1&&r.colorTextures.length<=1&&!r.depthTexture},t.prototype.detectSamples=function(r){var n=this.msaaSamples,s=MSAA_QUALITY$4.NONE;if(r<=1||n===null)return s;for(var o=0;o<n.length;o++)if(n[o]<=r){s=n[o];break}return s===1&&(s=MSAA_QUALITY$4.NONE),s},t.prototype.blit=function(r,n,s){var o=this,h=o.current,l=o.renderer,c=o.gl,d=o.CONTEXT_UID;if(l.context.webGLVersion===2&&!!h){var v=h.glFramebuffers[d];if(!!v){if(!r){if(!v.msaaBuffer)return;var g=h.colorTextures[0];if(!g)return;v.blitFramebuffer||(v.blitFramebuffer=new Framebuffer(h.width,h.height),v.blitFramebuffer.addColorTexture(0,g)),r=v.blitFramebuffer,r.colorTextures[0]!==g&&(r.colorTextures[0]=g,r.dirtyId++,r.dirtyFormat++),(r.width!==h.width||r.height!==h.height)&&(r.width=h.width,r.height=h.height,r.dirtyId++,r.dirtySize++)}n||(n=tempRectangle,n.width=h.width,n.height=h.height),s||(s=n);var m=n.width===s.width&&n.height===s.height;this.bind(r),c.bindFramebuffer(c.READ_FRAMEBUFFER,v.framebuffer),c.blitFramebuffer(n.left,n.top,n.right,n.bottom,s.left,s.top,s.right,s.bottom,c.COLOR_BUFFER_BIT,m?c.NEAREST:c.LINEAR)}}},t.prototype.disposeFramebuffer=function(r,n){var s=r.glFramebuffers[this.CONTEXT_UID],o=this.gl;if(!!s){delete r.glFramebuffers[this.CONTEXT_UID];var h=this.managedFramebuffers.indexOf(r);h>=0&&this.managedFramebuffers.splice(h,1),r.disposeRunner.remove(this),n||(o.deleteFramebuffer(s.framebuffer),s.msaaBuffer&&o.deleteRenderbuffer(s.msaaBuffer),s.stencil&&o.deleteRenderbuffer(s.stencil)),s.blitFramebuffer&&s.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(r){var n=this.managedFramebuffers;this.managedFramebuffers=[];for(var s=0;s<n.length;s++)this.disposeFramebuffer(n[s],r)},t.prototype.forceStencil=function(){var r=this.current;if(!!r){var n=r.glFramebuffers[this.CONTEXT_UID];if(!(!n||n.stencil)){r.stencil=!0;var s=r.width,o=r.height,h=this.gl,l=h.createRenderbuffer();h.bindRenderbuffer(h.RENDERBUFFER,l),n.msaaBuffer?h.renderbufferStorageMultisample(h.RENDERBUFFER,n.multisample,h.DEPTH24_STENCIL8,s,o):h.renderbufferStorage(h.RENDERBUFFER,h.DEPTH_STENCIL,s,o),n.stencil=l,h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_STENCIL_ATTACHMENT,h.RENDERBUFFER,l)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Rectangle},t.prototype.destroy=function(){this.renderer=null},t}(),byteSizeMap={5126:4,5123:2,5121:1},GeometrySystem=function(){function t(r){this.renderer=r,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var r=this.gl=this.renderer.gl,n=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,n.webGLVersion!==2){var s=this.renderer.context.extensions.vertexArrayObject;settings$1.PREFER_ENV===ENV$4.WEBGL_LEGACY&&(s=null),s?(r.createVertexArray=function(){return s.createVertexArrayOES()},r.bindVertexArray=function(h){return s.bindVertexArrayOES(h)},r.deleteVertexArray=function(h){return s.deleteVertexArrayOES(h)}):(this.hasVao=!1,r.createVertexArray=function(){return null},r.bindVertexArray=function(){return null},r.deleteVertexArray=function(){return null})}if(n.webGLVersion!==2){var o=r.getExtension("ANGLE_instanced_arrays");o?(r.vertexAttribDivisor=function(h,l){return o.vertexAttribDivisorANGLE(h,l)},r.drawElementsInstanced=function(h,l,c,d,v){return o.drawElementsInstancedANGLE(h,l,c,d,v)},r.drawArraysInstanced=function(h,l,c,d){return o.drawArraysInstancedANGLE(h,l,c,d)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=n.webGLVersion===2||!!n.extensions.uint32ElementIndex},t.prototype.bind=function(r,n){n=n||this.renderer.shader.shader;var s=this.gl,o=r.glVertexArrayObjects[this.CONTEXT_UID],h=!1;o||(this.managedGeometries[r.id]=r,r.disposeRunner.add(this),r.glVertexArrayObjects[this.CONTEXT_UID]=o={},h=!0);var l=o[n.program.id]||this.initGeometryVao(r,n,h);this._activeGeometry=r,this._activeVao!==l&&(this._activeVao=l,this.hasVao?s.bindVertexArray(l):this.activateVao(r,n.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var r=this._activeGeometry,n=this.renderer.buffer,s=0;s<r.buffers.length;s++){var o=r.buffers[s];n.update(o)}},t.prototype.checkCompatibility=function(r,n){var s=r.attributes,o=n.attributeData;for(var h in o)if(!s[h])throw new Error('shader and geometry incompatible, geometry missing the "'+h+'" attribute')},t.prototype.getSignature=function(r,n){var s=r.attributes,o=n.attributeData,h=["g",r.id];for(var l in s)o[l]&&h.push(l,o[l].location);return h.join("-")},t.prototype.initGeometryVao=function(r,n,s){s===void 0&&(s=!0);var o=this.gl,h=this.CONTEXT_UID,l=this.renderer.buffer,c=n.program;c.glPrograms[h]||this.renderer.shader.generateProgram(n),this.checkCompatibility(r,c);var d=this.getSignature(r,c),v=r.glVertexArrayObjects[this.CONTEXT_UID],g=v[d];if(g)return v[c.id]=g,g;var m=r.buffers,_=r.attributes,y={},B={};for(var w in m)y[w]=0,B[w]=0;for(var w in _)!_[w].size&&c.attributeData[w]?_[w].size=c.attributeData[w].size:_[w].size||console.warn("PIXI Geometry attribute '"+w+"' size cannot be determined (likely the bound shader does not have the attribute)"),y[_[w].buffer]+=_[w].size*byteSizeMap[_[w].type];for(var w in _){var C=_[w],b=C.size;C.stride===void 0&&(y[C.buffer]===b*byteSizeMap[C.type]?C.stride=0:C.stride=y[C.buffer]),C.start===void 0&&(C.start=B[C.buffer],B[C.buffer]+=b*byteSizeMap[C.type])}g=o.createVertexArray(),o.bindVertexArray(g);for(var I=0;I<m.length;I++){var S=m[I];l.bind(S),s&&S._glBuffers[h].refCount++}return this.activateVao(r,c),this._activeVao=g,v[c.id]=g,v[d]=g,g},t.prototype.disposeGeometry=function(r,n){var s;if(!!this.managedGeometries[r.id]){delete this.managedGeometries[r.id];var o=r.glVertexArrayObjects[this.CONTEXT_UID],h=this.gl,l=r.buffers,c=(s=this.renderer)===null||s===void 0?void 0:s.buffer;if(r.disposeRunner.remove(this),!!o){if(c)for(var d=0;d<l.length;d++){var v=l[d]._glBuffers[this.CONTEXT_UID];v&&(v.refCount--,v.refCount===0&&!n&&c.dispose(l[d],n))}if(!n){for(var g in o)if(g[0]==="g"){var m=o[g];this._activeVao===m&&this.unbind(),h.deleteVertexArray(m)}}delete r.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(r){for(var n=Object.keys(this.managedGeometries),s=0;s<n.length;s++)this.disposeGeometry(this.managedGeometries[n[s]],r)},t.prototype.activateVao=function(r,n){var s=this.gl,o=this.CONTEXT_UID,h=this.renderer.buffer,l=r.buffers,c=r.attributes;r.indexBuffer&&h.bind(r.indexBuffer);var d=null;for(var v in c){var g=c[v],m=l[g.buffer],_=m._glBuffers[o];if(n.attributeData[v]){d!==_&&(h.bind(m),d=_);var y=n.attributeData[v].location;if(s.enableVertexAttribArray(y),s.vertexAttribPointer(y,g.size,g.type||s.FLOAT,g.normalized,g.stride,g.start),g.instance)if(this.hasInstance)s.vertexAttribDivisor(y,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(r,n,s,o){var h=this.gl,l=this._activeGeometry;if(l.indexBuffer){var c=l.indexBuffer.data.BYTES_PER_ELEMENT,d=c===2?h.UNSIGNED_SHORT:h.UNSIGNED_INT;c===2||c===4&&this.canUseUInt32ElementIndex?l.instanced?h.drawElementsInstanced(r,n||l.indexBuffer.data.length,d,(s||0)*c,o||1):h.drawElements(r,n||l.indexBuffer.data.length,d,(s||0)*c):console.warn("unsupported index buffer type: uint32")}else l.instanced?h.drawArraysInstanced(r,s,n||l.getSize(),o||1):h.drawArrays(r,s,n||l.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),MaskData=function(){function t(r){r===void 0&&(r=null),this.type=MASK_TYPES$4.NONE,this.autoDetect=!0,this.maskObject=r||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=settings$1.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(r){r?this._filters?this._filters[0]=r:this._filters=[r]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=MASK_TYPES$4.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(r){r?(this._stencilCounter=r._stencilCounter,this._scissorCounter=r._scissorCounter,this._scissorRect=r._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function compileShader(t,r,n){var s=t.createShader(r);return t.shaderSource(s,n),t.compileShader(s),s}function logPrettyShaderError(t,r){var n=t.getShaderSource(r).split(`
`).map(function(v,g){return g+": "+v}),s=t.getShaderInfoLog(r),o=s.split(`
`),h={},l=o.map(function(v){return parseFloat(v.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(v){return v&&!h[v]?(h[v]=!0,!0):!1}),c=[""];l.forEach(function(v){n[v-1]="%c"+n[v-1]+"%c",c.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var d=n.join(`
`);c[0]=d,console.error(s),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,c),console.groupEnd()}function logProgramError(t,r,n,s){t.getProgramParameter(r,t.LINK_STATUS)||(t.getShaderParameter(n,t.COMPILE_STATUS)||logPrettyShaderError(t,n),t.getShaderParameter(s,t.COMPILE_STATUS)||logPrettyShaderError(t,s),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(r)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(r)))}function booleanArray(t){for(var r=new Array(t),n=0;n<r.length;n++)r[n]=!1;return r}function defaultValue(t,r){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*r);case"vec3":return new Float32Array(3*r);case"vec4":return new Float32Array(4*r);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*r);case"ivec3":return new Int32Array(3*r);case"ivec4":return new Int32Array(4*r);case"uvec2":return new Uint32Array(2*r);case"uvec3":return new Uint32Array(3*r);case"uvec4":return new Uint32Array(4*r);case"bool":return!1;case"bvec2":return booleanArray(2*r);case"bvec3":return booleanArray(3*r);case"bvec4":return booleanArray(4*r);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var unknownContext={},context=unknownContext;function getTestContext(){if(context===unknownContext||context&&context.isContextLost()){var t=document.createElement("canvas"),r=void 0;settings$1.PREFER_ENV>=ENV$4.WEBGL2&&(r=t.getContext("webgl2",{})),r||(r=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),r?r.getExtension("WEBGL_draw_buffers"):r=null),context=r}return context}var maxFragmentPrecision;function getMaxFragmentPrecision(){if(!maxFragmentPrecision){maxFragmentPrecision=PRECISION$4.MEDIUM;var t=getTestContext();if(t&&t.getShaderPrecisionFormat){var r=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);maxFragmentPrecision=r.precision?PRECISION$4.HIGH:PRECISION$4.MEDIUM}}return maxFragmentPrecision}function setPrecision(t,r,n){if(t.substring(0,9)!=="precision"){var s=r;return r===PRECISION$4.HIGH&&n!==PRECISION$4.HIGH&&(s=PRECISION$4.MEDIUM),"precision "+s+` float;
`+t}else if(n!==PRECISION$4.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var GLSL_TO_SIZE={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function mapSize(t){return GLSL_TO_SIZE[t]}var GL_TABLE=null,GL_TO_GLSL_TYPES={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function mapType(t,r){if(!GL_TABLE){var n=Object.keys(GL_TO_GLSL_TYPES);GL_TABLE={};for(var s=0;s<n.length;++s){var o=n[s];GL_TABLE[t[o]]=GL_TO_GLSL_TYPES[o]}}return GL_TABLE[r]}var uniformParsers=[{test:function(t){return t.type==="float"&&t.size===1},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,r){return t.type==="mat3"&&t.size===1&&r.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,r){return t.type==="vec2"&&t.size===1&&r.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,r){return t.type==="vec4"&&t.size===1&&r.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],GLSL_TO_SINGLE_SETTERS_CACHED={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},GLSL_TO_ARRAY_SETTERS={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function generateUniformsSync(t,r){var n,s=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var o in t.uniforms){var h=r[o];if(!h){!((n=t.uniforms[o])===null||n===void 0)&&n.group&&(t.uniforms[o].ubo?s.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+o+", '"+o+`');
                    `):s.push(`
                        renderer.shader.syncUniformGroup(uv.`+o+`, syncData);
                    `));continue}for(var l=t.uniforms[o],c=!1,d=0;d<uniformParsers.length;d++)if(uniformParsers[d].test(h,l)){s.push(uniformParsers[d].code(o,l)),c=!0;break}if(!c){var v=h.size===1?GLSL_TO_SINGLE_SETTERS_CACHED:GLSL_TO_ARRAY_SETTERS,g=v[h.type].replace("location",'ud["'+o+'"].location');s.push(`
            cu = ud["`+o+`"];
            cv = cu.value;
            v = uv["`+o+`"];
            `+g+";")}}return new Function("ud","uv","renderer","syncData",s.join(`
`))}var fragTemplate=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function generateIfTestSrc(t){for(var r="",n=0;n<t;++n)n>0&&(r+=`
else `),n<t-1&&(r+="if(test == "+n+".0){}");return r}function checkMaxIfStatementsInShader(t,r){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var n=r.createShader(r.FRAGMENT_SHADER);;){var s=fragTemplate.replace(/%forloop%/gi,generateIfTestSrc(t));if(r.shaderSource(n,s),r.compileShader(n),!r.getShaderParameter(n,r.COMPILE_STATUS))t=t/2|0;else break}return t}var unsafeEval;function unsafeEvalSupported(){if(typeof unsafeEval=="boolean")return unsafeEval;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");unsafeEval=t({a:"b"},"a","b")===!0}catch(r){unsafeEval=!1}return unsafeEval}var defaultFragment$2=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,defaultVertex$3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,UID$1=0,nameCache={},Program=function(){function t(r,n,s){s===void 0&&(s="pixi-shader"),this.id=UID$1++,this.vertexSrc=r||t.defaultVertexSrc,this.fragmentSrc=n||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(s=s.replace(/\s+/g,"-"),nameCache[s]?(nameCache[s]++,s+="-"+nameCache[s]):nameCache[s]=1,this.vertexSrc="#define SHADER_NAME "+s+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+s+`
`+this.fragmentSrc,this.vertexSrc=setPrecision(this.vertexSrc,settings$1.PRECISION_VERTEX,PRECISION$4.HIGH),this.fragmentSrc=setPrecision(this.fragmentSrc,settings$1.PRECISION_FRAGMENT,getMaxFragmentPrecision())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return defaultVertex$3},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return defaultFragment$2},enumerable:!1,configurable:!0}),t.from=function(r,n,s){var o=r+n,h=ProgramCache[o];return h||(ProgramCache[o]=h=new t(r,n,s)),h},t}(),Shader=function(){function t(r,n){this.uniformBindCount=0,this.program=r,n?n instanceof UniformGroup?this.uniformGroup=n:this.uniformGroup=new UniformGroup(n):this.uniformGroup=new UniformGroup({})}return t.prototype.checkUniformExists=function(r,n){if(n.uniforms[r])return!0;for(var s in n.uniforms){var o=n.uniforms[s];if(o.group&&this.checkUniformExists(r,o))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(r,n,s){var o=Program.from(r,n);return new t(o,s)},t}(),BLEND$1=0,OFFSET$1=1,CULLING$1=2,DEPTH_TEST$1=3,WINDING$1=4,DEPTH_MASK$1=5,State=function(){function t(){this.data=0,this.blendMode=BLEND_MODES$4.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<BLEND$1)},set:function(r){!!(this.data&1<<BLEND$1)!==r&&(this.data^=1<<BLEND$1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<OFFSET$1)},set:function(r){!!(this.data&1<<OFFSET$1)!==r&&(this.data^=1<<OFFSET$1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<CULLING$1)},set:function(r){!!(this.data&1<<CULLING$1)!==r&&(this.data^=1<<CULLING$1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<DEPTH_TEST$1)},set:function(r){!!(this.data&1<<DEPTH_TEST$1)!==r&&(this.data^=1<<DEPTH_TEST$1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<DEPTH_MASK$1)},set:function(r){!!(this.data&1<<DEPTH_MASK$1)!==r&&(this.data^=1<<DEPTH_MASK$1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<WINDING$1)},set:function(r){!!(this.data&1<<WINDING$1)!==r&&(this.data^=1<<WINDING$1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(r){this.blend=r!==BLEND_MODES$4.NONE,this._blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(r){this.offsets=!!r,this._polygonOffset=r},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var r=new t;return r.depthTest=!1,r.blend=!0,r},t}(),defaultVertex$2=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,defaultFragment$1=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Filter=function(t){__extends$1(r,t);function r(n,s,o){var h=this,l=Program.from(n||r.defaultVertexSrc,s||r.defaultFragmentSrc);return h=t.call(this,l,o)||this,h.padding=0,h.resolution=settings$1.FILTER_RESOLUTION,h.multisample=settings$1.FILTER_MULTISAMPLE,h.enabled=!0,h.autoFit=!0,h.state=new State,h}return r.prototype.apply=function(n,s,o,h,l){n.applyFilter(this,s,o,h)},Object.defineProperty(r.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(n){this.state.blendMode=n},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resolution",{get:function(){return this._resolution},set:function(n){this._resolution=n},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultVertexSrc",{get:function(){return defaultVertex$2},enumerable:!1,configurable:!0}),Object.defineProperty(r,"defaultFragmentSrc",{get:function(){return defaultFragment$1},enumerable:!1,configurable:!0}),r}(Shader),vertex=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,fragment=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,tempMat=new Matrix,TextureMatrix=function(){function t(r,n){this._texture=r,this.mapCoord=new Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof n=="undefined"?.5:n,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture=r,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(r,n){n===void 0&&(n=r);for(var s=this.mapCoord,o=0;o<r.length;o+=2){var h=r[o],l=r[o+1];n[o]=h*s.a+l*s.c+s.tx,n[o+1]=h*s.b+l*s.d+s.ty}return n},t.prototype.update=function(r){var n=this._texture;if(!n||!n.valid||!r&&this._textureID===n._updateID)return!1;this._textureID=n._updateID,this._updateID++;var s=n._uvs;this.mapCoord.set(s.x1-s.x0,s.y1-s.y0,s.x3-s.x0,s.y3-s.y0,s.x0,s.y0);var o=n.orig,h=n.trim;h&&(tempMat.set(o.width/h.width,0,0,o.height/h.height,-h.x/h.width,-h.y/h.height),this.mapCoord.append(tempMat));var l=n.baseTexture,c=this.uClampFrame,d=this.clampMargin/l.resolution,v=this.clampOffset;return c[0]=(n._frame.x+d+v)/l.width,c[1]=(n._frame.y+d+v)/l.height,c[2]=(n._frame.x+n._frame.width-d+v)/l.width,c[3]=(n._frame.y+n._frame.height-d+v)/l.height,this.uClampOffset[0]=v/l.realWidth,this.uClampOffset[1]=v/l.realHeight,this.isSimple=n._frame.width===l.width&&n._frame.height===l.height&&n.rotate===0,!0},t}(),SpriteMaskFilter=function(t){__extends$1(r,t);function r(n,s,o){var h=this,l=null;return typeof n!="string"&&s===void 0&&o===void 0&&(l=n,n=void 0,s=void 0,o=void 0),h=t.call(this,n||vertex,s||fragment,o)||this,h.maskSprite=l,h.maskMatrix=new Matrix,h}return Object.defineProperty(r.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(n){this._maskSprite=n,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),r.prototype.apply=function(n,s,o,h){var l=this._maskSprite,c=l._texture;!c.valid||(c.uvMatrix||(c.uvMatrix=new TextureMatrix(c,0)),c.uvMatrix.update(),this.uniforms.npmAlpha=c.baseTexture.alphaMode?0:1,this.uniforms.mask=c,this.uniforms.otherMatrix=n.calculateSpriteMatrix(this.maskMatrix,l).prepend(c.uvMatrix.mapCoord),this.uniforms.alpha=l.worldAlpha,this.uniforms.maskClamp=c.uvMatrix.uClampFrame,n.applyFilter(this,s,o,h))},r}(Filter),MaskSystem=function(){function t(r){this.renderer=r,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(r){this.maskStack=r,this.renderer.scissor.setMaskStack(r),this.renderer.stencil.setMaskStack(r)},t.prototype.push=function(r,n){var s=n;if(!s.isMaskData){var o=this.maskDataPool.pop()||new MaskData;o.pooled=!0,o.maskObject=n,s=o}var h=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(s.copyCountersOrReset(h),s.autoDetect&&this.detect(s),s._target=r,s.type!==MASK_TYPES$4.SPRITE&&this.maskStack.push(s),s.enabled)switch(s.type){case MASK_TYPES$4.SCISSOR:this.renderer.scissor.push(s);break;case MASK_TYPES$4.STENCIL:this.renderer.stencil.push(s);break;case MASK_TYPES$4.SPRITE:s.copyCountersOrReset(null),this.pushSpriteMask(s);break}s.type===MASK_TYPES$4.SPRITE&&this.maskStack.push(s)},t.prototype.pop=function(r){var n=this.maskStack.pop();if(!(!n||n._target!==r)){if(n.enabled)switch(n.type){case MASK_TYPES$4.SCISSOR:this.renderer.scissor.pop();break;case MASK_TYPES$4.STENCIL:this.renderer.stencil.pop(n.maskObject);break;case MASK_TYPES$4.SPRITE:this.popSpriteMask(n);break}if(n.reset(),n.pooled&&this.maskDataPool.push(n),this.maskStack.length!==0){var s=this.maskStack[this.maskStack.length-1];s.type===MASK_TYPES$4.SPRITE&&s._filters&&(s._filters[0].maskSprite=s.maskObject)}}},t.prototype.detect=function(r){var n=r.maskObject;n.isSprite?r.type=MASK_TYPES$4.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(r)?r.type=MASK_TYPES$4.SCISSOR:r.type=MASK_TYPES$4.STENCIL},t.prototype.pushSpriteMask=function(r){var n,s,o=r.maskObject,h=r._target,l=r._filters;l||(l=this.alphaMaskPool[this.alphaMaskIndex],l||(l=this.alphaMaskPool[this.alphaMaskIndex]=[new SpriteMaskFilter]));var c=this.renderer,d=c.renderTexture,v,g;if(d.current){var m=d.current;v=r.resolution||m.resolution,g=(n=r.multisample)!==null&&n!==void 0?n:m.multisample}else v=r.resolution||c.resolution,g=(s=r.multisample)!==null&&s!==void 0?s:c.multisample;l[0].resolution=v,l[0].multisample=g,l[0].maskSprite=o;var _=h.filterArea;h.filterArea=o.getBounds(!0),c.filter.push(h,l),h.filterArea=_,r._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(r){this.renderer.filter.pop(),r._filters?r._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.destroy=function(){this.renderer=null},t}(),AbstractMaskSystem=function(){function t(r){this.renderer=r,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(r){var n=this.renderer.gl,s=this.getStackLength();this.maskStack=r;var o=this.getStackLength();o!==s&&(o===0?n.disable(this.glConst):(n.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),tempMatrix$1=new Matrix,ScissorSystem=function(t){__extends$1(r,t);function r(n){var s=t.call(this,n)||this;return s.glConst=WebGLRenderingContext.SCISSOR_TEST,s}return r.prototype.getStackLength=function(){var n=this.maskStack[this.maskStack.length-1];return n?n._scissorCounter:0},r.prototype.calcScissorRect=function(n){if(!n._scissorRectLocal){var s=n._scissorRect,o=n.maskObject,h=this.renderer,l=h.renderTexture;o.renderable=!0;var c=o.getBounds();this.roundFrameToPixels(c,l.current?l.current.resolution:h.resolution,l.sourceFrame,l.destinationFrame,h.projection.transform),o.renderable=!1,s&&c.fit(s),n._scissorRectLocal=c}},r.isMatrixRotated=function(n){if(!n)return!1;var s=n.a,o=n.b,h=n.c,l=n.d;return(Math.abs(o)>1e-4||Math.abs(h)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(l)>1e-4)},r.prototype.testScissor=function(n){var s=n.maskObject;if(!s.isFastRect||!s.isFastRect()||r.isMatrixRotated(s.worldTransform)||r.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(n);var o=n._scissorRectLocal;return o.width>0&&o.height>0},r.prototype.roundFrameToPixels=function(n,s,o,h,l){r.isMatrixRotated(l)||(l=l?tempMatrix$1.copyFrom(l):tempMatrix$1.identity(),l.translate(-o.x,-o.y).scale(h.width/o.width,h.height/o.height).translate(h.x,h.y),this.renderer.filter.transformAABB(l,n),n.fit(h),n.x=Math.round(n.x*s),n.y=Math.round(n.y*s),n.width=Math.round(n.width*s),n.height=Math.round(n.height*s))},r.prototype.push=function(n){n._scissorRectLocal||this.calcScissorRect(n);var s=this.renderer.gl;n._scissorRect||s.enable(s.SCISSOR_TEST),n._scissorCounter++,n._scissorRect=n._scissorRectLocal,this._useCurrent()},r.prototype.pop=function(){var n=this.renderer.gl;this.getStackLength()>0?this._useCurrent():n.disable(n.SCISSOR_TEST)},r.prototype._useCurrent=function(){var n=this.maskStack[this.maskStack.length-1]._scissorRect,s;this.renderer.renderTexture.current?s=n.y:s=this.renderer.height-n.height-n.y,this.renderer.gl.scissor(n.x,s,n.width,n.height)},r}(AbstractMaskSystem),StencilSystem=function(t){__extends$1(r,t);function r(n){var s=t.call(this,n)||this;return s.glConst=WebGLRenderingContext.STENCIL_TEST,s}return r.prototype.getStackLength=function(){var n=this.maskStack[this.maskStack.length-1];return n?n._stencilCounter:0},r.prototype.push=function(n){var s=n.maskObject,o=this.renderer.gl,h=n._stencilCounter;h===0&&(this.renderer.framebuffer.forceStencil(),o.clearStencil(0),o.clear(o.STENCIL_BUFFER_BIT),o.enable(o.STENCIL_TEST)),n._stencilCounter++,o.colorMask(!1,!1,!1,!1),o.stencilFunc(o.EQUAL,h,4294967295),o.stencilOp(o.KEEP,o.KEEP,o.INCR),s.renderable=!0,s.render(this.renderer),this.renderer.batch.flush(),s.renderable=!1,this._useCurrent()},r.prototype.pop=function(n){var s=this.renderer.gl;this.getStackLength()===0?s.disable(s.STENCIL_TEST):(s.colorMask(!1,!1,!1,!1),s.stencilOp(s.KEEP,s.KEEP,s.DECR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,this._useCurrent())},r.prototype._useCurrent=function(){var n=this.renderer.gl;n.colorMask(!0,!0,!0,!0),n.stencilFunc(n.EQUAL,this.getStackLength(),4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP)},r}(AbstractMaskSystem),ProjectionSystem=function(){function t(r){this.renderer=r,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Matrix,this.transform=null}return t.prototype.update=function(r,n,s,o){this.destinationFrame=r||this.destinationFrame||this.defaultFrame,this.sourceFrame=n||this.sourceFrame||r,this.calculateProjection(this.destinationFrame,this.sourceFrame,s,o),this.transform&&this.projectionMatrix.append(this.transform);var h=this.renderer;h.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,h.globalUniforms.update(),h.shader.shader&&h.shader.syncUniformGroup(h.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(r,n,s,o){var h=this.projectionMatrix,l=o?-1:1;h.identity(),h.a=1/n.width*2,h.d=l*(1/n.height*2),h.tx=-1-n.x*h.a,h.ty=-l-n.y*h.d},t.prototype.setTransform=function(r){},t.prototype.destroy=function(){this.renderer=null},t}(),tempRect=new Rectangle,tempRect2=new Rectangle,RenderTextureSystem=function(){function t(r){this.renderer=r,this.clearColor=r._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Rectangle,this.destinationFrame=new Rectangle,this.viewportFrame=new Rectangle}return t.prototype.bind=function(r,n,s){r===void 0&&(r=null);var o=this.renderer;this.current=r;var h,l,c;r?(h=r.baseTexture,c=h.resolution,n||(tempRect.width=r.frame.width,tempRect.height=r.frame.height,n=tempRect),s||(tempRect2.x=r.frame.x,tempRect2.y=r.frame.y,tempRect2.width=n.width,tempRect2.height=n.height,s=tempRect2),l=h.framebuffer):(c=o.resolution,n||(tempRect.width=o.screen.width,tempRect.height=o.screen.height,n=tempRect),s||(s=tempRect,s.width=n.width,s.height=n.height));var d=this.viewportFrame;d.x=s.x*c,d.y=s.y*c,d.width=s.width*c,d.height=s.height*c,r||(d.y=o.view.height-(d.y+d.height)),d.ceil(),this.renderer.framebuffer.bind(l,d),this.renderer.projection.update(s,n,c,!l),r?this.renderer.mask.setMaskStack(h.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(n),this.destinationFrame.copyFrom(s)},t.prototype.clear=function(r,n){this.current?r=r||this.current.baseTexture.clearColor:r=r||this.clearColor;var s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer.screen,h=s.width!==o.width||s.height!==o.height;if(h){var l=this.viewportFrame,c=l.x,d=l.y,v=l.width,g=l.height;c=Math.round(c),d=Math.round(d),v=Math.round(v),g=Math.round(g),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,d,v,g)}this.renderer.framebuffer.clear(r[0],r[1],r[2],r[3],n),h&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function uboUpdate(t,r,n,s,o){n.buffer.update(o)}var UBO_TO_SINGLE_SETTERS={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},GLSL_TO_STD40_SIZE={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function createUBOElements(t){for(var r=t.map(function(d){return{data:d,offset:0,dataLen:0,dirty:0}}),n=0,s=0,o=0,h=0;h<r.length;h++){var l=r[h];if(n=GLSL_TO_STD40_SIZE[l.data.type],l.data.size>1&&(n=Math.max(n,16)*l.data.size),l.dataLen=n,s%n!==0&&s<16){var c=s%n%16;s+=c,o+=c}s+n>16?(o=Math.ceil(o/16)*16,l.offset=o,o+=n,s=n):(l.offset=o,s+=n,o+=n)}return o=Math.ceil(o/16)*16,{uboElements:r,size:o}}function getUBOData(t,r){var n=[];for(var s in t)r[s]&&n.push(r[s]);return n.sort(function(o,h){return o.index-h.index}),n}function generateUniformBufferSync(t,r){if(!t.autoManage)return{size:0,syncFunc:uboUpdate};for(var n=getUBOData(t.uniforms,r),s=createUBOElements(n),o=s.uboElements,h=s.size,l=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],c=0;c<o.length;c++){for(var d=o[c],v=t.uniforms[d.data.name],g=d.data.name,m=!1,_=0;_<uniformParsers.length;_++){var y=uniformParsers[_];if(y.codeUbo&&y.test(d.data,v)){l.push("offset = "+d.offset/4+";",uniformParsers[_].codeUbo(d.data.name,v)),m=!0;break}}if(!m)if(d.data.size>1){var B=mapSize(d.data.type),w=Math.max(GLSL_TO_STD40_SIZE[d.data.type]/16,1),C=B/w,b=(4-C%4)%4;l.push(`
                cv = ud.`+g+`.value;
                v = uv.`+g+`;
                offset = `+d.offset/4+`;

                t = 0;

                for(var i=0; i < `+d.data.size*w+`; i++)
                {
                    for(var j = 0; j < `+C+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+b+`;
                }

                `)}else{var I=UBO_TO_SINGLE_SETTERS[d.data.type];l.push(`
                cv = ud.`+g+`.value;
                v = uv.`+g+`;
                offset = `+d.offset/4+`;
                `+I+`;
                `)}}return l.push(`
       renderer.buffer.update(buffer);
    `),{size:h,syncFunc:new Function("ud","uv","renderer","syncData","buffer",l.join(`
`))}}var GLProgram=function(){function t(r,n){this.program=r,this.uniformData=n,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function getAttributeData(t,r){for(var n={},s=r.getProgramParameter(t,r.ACTIVE_ATTRIBUTES),o=0;o<s;o++){var h=r.getActiveAttrib(t,o);if(h.name.indexOf("gl_")!==0){var l=mapType(r,h.type),c={type:l,name:h.name,size:mapSize(l),location:r.getAttribLocation(t,h.name)};n[h.name]=c}}return n}function getUniformData(t,r){for(var n={},s=r.getProgramParameter(t,r.ACTIVE_UNIFORMS),o=0;o<s;o++){var h=r.getActiveUniform(t,o),l=h.name.replace(/\[.*?\]$/,""),c=!!h.name.match(/\[.*?\]$/),d=mapType(r,h.type);n[l]={name:l,index:o,type:d,size:h.size,isArray:c,value:defaultValue(d,h.size)}}return n}function generateProgram(t,r){var n=compileShader(t,t.VERTEX_SHADER,r.vertexSrc),s=compileShader(t,t.FRAGMENT_SHADER,r.fragmentSrc),o=t.createProgram();if(t.attachShader(o,n),t.attachShader(o,s),t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS)||logProgramError(t,o,n,s),r.attributeData=getAttributeData(o,t),r.uniformData=getUniformData(o,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(r.vertexSrc)){var h=Object.keys(r.attributeData);h.sort(function(g,m){return g>m?1:-1});for(var l=0;l<h.length;l++)r.attributeData[h[l]].location=l,t.bindAttribLocation(o,l,h[l]);t.linkProgram(o)}t.deleteShader(n),t.deleteShader(s);var c={};for(var l in r.uniformData){var d=r.uniformData[l];c[l]={location:t.getUniformLocation(o,l),value:defaultValue(d.type,d.size)}}var v=new GLProgram(o,c);return v}var UID=0,defaultSyncData={textureCount:0,uboCount:0},ShaderSystem=function(){function t(r){this.destroyed=!1,this.renderer=r,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=UID++}return t.prototype.systemCheck=function(){if(!unsafeEvalSupported())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(r){this.gl=r,this.reset()},t.prototype.bind=function(r,n){r.uniforms.globals=this.renderer.globalUniforms;var s=r.program,o=s.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(r);return this.shader=r,this.program!==s&&(this.program=s,this.gl.useProgram(o.program)),n||(defaultSyncData.textureCount=0,defaultSyncData.uboCount=0,this.syncUniformGroup(r.uniformGroup,defaultSyncData)),o},t.prototype.setUniforms=function(r){var n=this.shader.program,s=n.glPrograms[this.renderer.CONTEXT_UID];n.syncUniforms(s.uniformData,r,this.renderer)},t.prototype.syncUniformGroup=function(r,n){var s=this.getGlProgram();(!r.static||r.dirtyId!==s.uniformDirtyGroups[r.id])&&(s.uniformDirtyGroups[r.id]=r.dirtyId,this.syncUniforms(r,s,n))},t.prototype.syncUniforms=function(r,n,s){var o=r.syncUniforms[this.shader.program.id]||this.createSyncGroups(r);o(n.uniformData,r.uniforms,this.renderer,s)},t.prototype.createSyncGroups=function(r){var n=this.getSignature(r,this.shader.program.uniformData,"u");return this.cache[n]||(this.cache[n]=generateUniformsSync(r,this.shader.program.uniformData)),r.syncUniforms[this.shader.program.id]=this.cache[n],r.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(r,n){var s=this.getGlProgram();if(!r.static||r.dirtyId!==0||!s.uniformGroups[r.id]){r.dirtyId=0;var o=s.uniformGroups[r.id]||this.createSyncBufferGroup(r,s,n);r.buffer.update(),o(s.uniformData,r.uniforms,this.renderer,defaultSyncData,r.buffer)}this.renderer.buffer.bindBufferBase(r.buffer,s.uniformBufferBindings[n])},t.prototype.createSyncBufferGroup=function(r,n,s){var o=this.renderer.gl;this.renderer.buffer.bind(r.buffer);var h=this.gl.getUniformBlockIndex(n.program,s);n.uniformBufferBindings[s]=this.shader.uniformBindCount,o.uniformBlockBinding(n.program,h,this.shader.uniformBindCount),this.shader.uniformBindCount++;var l=this.getSignature(r,this.shader.program.uniformData,"ubo"),c=this._uboCache[l];if(c||(c=this._uboCache[l]=generateUniformBufferSync(r,this.shader.program.uniformData)),r.autoManage){var d=new Float32Array(c.size/4);r.buffer.update(d)}return n.uniformGroups[r.id]=c.syncFunc,n.uniformGroups[r.id]},t.prototype.getSignature=function(r,n,s){var o=r.uniforms,h=[s+"-"];for(var l in o)h.push(l),n[l]&&h.push(n[l].type);return h.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(r){var n=this.gl,s=r.program,o=generateProgram(n,s);return s.glPrograms[this.renderer.CONTEXT_UID]=o,o},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function mapWebGLBlendModesToPixi(t,r){return r===void 0&&(r=[]),r[BLEND_MODES$4.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.ADD]=[t.ONE,t.ONE],r[BLEND_MODES$4.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.NONE]=[0,0],r[BLEND_MODES$4.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],r[BLEND_MODES$4.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.SRC_IN]=[t.DST_ALPHA,t.ZERO],r[BLEND_MODES$4.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],r[BLEND_MODES$4.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],r[BLEND_MODES$4.DST_IN]=[t.ZERO,t.SRC_ALPHA],r[BLEND_MODES$4.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],r[BLEND_MODES$4.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],r[BLEND_MODES$4.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],r}var BLEND=0,OFFSET=1,CULLING=2,DEPTH_TEST=3,WINDING=4,DEPTH_MASK=5,StateSystem=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=BLEND_MODES$4.NONE,this._blendEq=!1,this.map=[],this.map[BLEND]=this.setBlend,this.map[OFFSET]=this.setOffset,this.map[CULLING]=this.setCullFace,this.map[DEPTH_TEST]=this.setDepthTest,this.map[WINDING]=this.setFrontFace,this.map[DEPTH_MASK]=this.setDepthMask,this.checks=[],this.defaultState=new State,this.defaultState.blend=!0}return t.prototype.contextChange=function(r){this.gl=r,this.blendModes=mapWebGLBlendModesToPixi(r),this.set(this.defaultState),this.reset()},t.prototype.set=function(r){if(r=r||this.defaultState,this.stateId!==r.data){for(var n=this.stateId^r.data,s=0;n;)n&1&&this.map[s].call(this,!!(r.data&1<<s)),n=n>>1,s++;this.stateId=r.data}for(var s=0;s<this.checks.length;s++)this.checks[s](this,r)},t.prototype.forceState=function(r){r=r||this.defaultState;for(var n=0;n<this.map.length;n++)this.map[n].call(this,!!(r.data&1<<n));for(var n=0;n<this.checks.length;n++)this.checks[n](this,r);this.stateId=r.data},t.prototype.setBlend=function(r){this.updateCheck(t.checkBlendMode,r),this.gl[r?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(r){this.updateCheck(t.checkPolygonOffset,r),this.gl[r?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(r){this.gl[r?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(r){this.gl.depthMask(r)},t.prototype.setCullFace=function(r){this.gl[r?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(r){this.gl.frontFace(this.gl[r?"CW":"CCW"])},t.prototype.setBlendMode=function(r){if(r!==this.blendMode){this.blendMode=r;var n=this.blendModes[r],s=this.gl;n.length===2?s.blendFunc(n[0],n[1]):s.blendFuncSeparate(n[0],n[1],n[2],n[3]),n.length===6?(this._blendEq=!0,s.blendEquationSeparate(n[4],n[5])):this._blendEq&&(this._blendEq=!1,s.blendEquationSeparate(s.FUNC_ADD,s.FUNC_ADD))}},t.prototype.setPolygonOffset=function(r,n){this.gl.polygonOffset(r,n)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(r,n){var s=this.checks.indexOf(r);n&&s===-1?this.checks.push(r):!n&&s!==-1&&this.checks.splice(s,1)},t.checkBlendMode=function(r,n){r.setBlendMode(n.blendMode)},t.checkPolygonOffset=function(r,n){r.setPolygonOffset(1,n.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),TextureGCSystem=function(){function t(r){this.renderer=r,this.count=0,this.checkCount=0,this.maxIdle=settings$1.GC_MAX_IDLE,this.checkCountMax=settings$1.GC_MAX_CHECK_COUNT,this.mode=settings$1.GC_MODE}return t.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==GC_MODES$4.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var r=this.renderer.texture,n=r.managedTextures,s=!1,o=0;o<n.length;o++){var h=n[o];!h.framebuffer&&this.count-h.touched>this.maxIdle&&(r.destroyTexture(h,!0),n[o]=null,s=!0)}if(s){for(var l=0,o=0;o<n.length;o++)n[o]!==null&&(n[l++]=n[o]);n.length=l}},t.prototype.unload=function(r){var n=this.renderer.texture,s=r._texture;s&&!s.framebuffer&&n.destroyTexture(s);for(var o=r.children.length-1;o>=0;o--)this.unload(r.children[o])},t.prototype.destroy=function(){this.renderer=null},t}();function mapTypeAndFormatToInternalFormat(t){var r,n,s,o,h,l,c,d,v,g,m,_,y,B,w,C,b,I,S,R,O,P,N;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?N=(r={},r[TYPES$4.UNSIGNED_BYTE]=(n={},n[FORMATS$4.RGBA]=t.RGBA8,n[FORMATS$4.RGB]=t.RGB8,n[FORMATS$4.RG]=t.RG8,n[FORMATS$4.RED]=t.R8,n[FORMATS$4.RGBA_INTEGER]=t.RGBA8UI,n[FORMATS$4.RGB_INTEGER]=t.RGB8UI,n[FORMATS$4.RG_INTEGER]=t.RG8UI,n[FORMATS$4.RED_INTEGER]=t.R8UI,n[FORMATS$4.ALPHA]=t.ALPHA,n[FORMATS$4.LUMINANCE]=t.LUMINANCE,n[FORMATS$4.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,n),r[TYPES$4.BYTE]=(s={},s[FORMATS$4.RGBA]=t.RGBA8_SNORM,s[FORMATS$4.RGB]=t.RGB8_SNORM,s[FORMATS$4.RG]=t.RG8_SNORM,s[FORMATS$4.RED]=t.R8_SNORM,s[FORMATS$4.RGBA_INTEGER]=t.RGBA8I,s[FORMATS$4.RGB_INTEGER]=t.RGB8I,s[FORMATS$4.RG_INTEGER]=t.RG8I,s[FORMATS$4.RED_INTEGER]=t.R8I,s),r[TYPES$4.UNSIGNED_SHORT]=(o={},o[FORMATS$4.RGBA_INTEGER]=t.RGBA16UI,o[FORMATS$4.RGB_INTEGER]=t.RGB16UI,o[FORMATS$4.RG_INTEGER]=t.RG16UI,o[FORMATS$4.RED_INTEGER]=t.R16UI,o[FORMATS$4.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,o),r[TYPES$4.SHORT]=(h={},h[FORMATS$4.RGBA_INTEGER]=t.RGBA16I,h[FORMATS$4.RGB_INTEGER]=t.RGB16I,h[FORMATS$4.RG_INTEGER]=t.RG16I,h[FORMATS$4.RED_INTEGER]=t.R16I,h),r[TYPES$4.UNSIGNED_INT]=(l={},l[FORMATS$4.RGBA_INTEGER]=t.RGBA32UI,l[FORMATS$4.RGB_INTEGER]=t.RGB32UI,l[FORMATS$4.RG_INTEGER]=t.RG32UI,l[FORMATS$4.RED_INTEGER]=t.R32UI,l[FORMATS$4.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,l),r[TYPES$4.INT]=(c={},c[FORMATS$4.RGBA_INTEGER]=t.RGBA32I,c[FORMATS$4.RGB_INTEGER]=t.RGB32I,c[FORMATS$4.RG_INTEGER]=t.RG32I,c[FORMATS$4.RED_INTEGER]=t.R32I,c),r[TYPES$4.FLOAT]=(d={},d[FORMATS$4.RGBA]=t.RGBA32F,d[FORMATS$4.RGB]=t.RGB32F,d[FORMATS$4.RG]=t.RG32F,d[FORMATS$4.RED]=t.R32F,d[FORMATS$4.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,d),r[TYPES$4.HALF_FLOAT]=(v={},v[FORMATS$4.RGBA]=t.RGBA16F,v[FORMATS$4.RGB]=t.RGB16F,v[FORMATS$4.RG]=t.RG16F,v[FORMATS$4.RED]=t.R16F,v),r[TYPES$4.UNSIGNED_SHORT_5_6_5]=(g={},g[FORMATS$4.RGB]=t.RGB565,g),r[TYPES$4.UNSIGNED_SHORT_4_4_4_4]=(m={},m[FORMATS$4.RGBA]=t.RGBA4,m),r[TYPES$4.UNSIGNED_SHORT_5_5_5_1]=(_={},_[FORMATS$4.RGBA]=t.RGB5_A1,_),r[TYPES$4.UNSIGNED_INT_2_10_10_10_REV]=(y={},y[FORMATS$4.RGBA]=t.RGB10_A2,y[FORMATS$4.RGBA_INTEGER]=t.RGB10_A2UI,y),r[TYPES$4.UNSIGNED_INT_10F_11F_11F_REV]=(B={},B[FORMATS$4.RGB]=t.R11F_G11F_B10F,B),r[TYPES$4.UNSIGNED_INT_5_9_9_9_REV]=(w={},w[FORMATS$4.RGB]=t.RGB9_E5,w),r[TYPES$4.UNSIGNED_INT_24_8]=(C={},C[FORMATS$4.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,C),r[TYPES$4.FLOAT_32_UNSIGNED_INT_24_8_REV]=(b={},b[FORMATS$4.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,b),r):N=(I={},I[TYPES$4.UNSIGNED_BYTE]=(S={},S[FORMATS$4.RGBA]=t.RGBA,S[FORMATS$4.RGB]=t.RGB,S[FORMATS$4.ALPHA]=t.ALPHA,S[FORMATS$4.LUMINANCE]=t.LUMINANCE,S[FORMATS$4.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,S),I[TYPES$4.UNSIGNED_SHORT_5_6_5]=(R={},R[FORMATS$4.RGB]=t.RGB,R),I[TYPES$4.UNSIGNED_SHORT_4_4_4_4]=(O={},O[FORMATS$4.RGBA]=t.RGBA,O),I[TYPES$4.UNSIGNED_SHORT_5_5_5_1]=(P={},P[FORMATS$4.RGBA]=t.RGBA,P),I),N}var GLTexture=function(){function t(r){this.texture=r,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=TYPES$4.UNSIGNED_BYTE,this.internalFormat=FORMATS$4.RGBA,this.samplerType=0}return t}(),TextureSystem=function(){function t(r){this.renderer=r,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new BaseTexture,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var r=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=mapTypeAndFormatToInternalFormat(r);var n=r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=n;for(var s=0;s<n;s++)this.boundTextures[s]=null;this.emptyTextures={};var o=new GLTexture(r.createTexture());r.bindTexture(r.TEXTURE_2D,o.texture),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[r.TEXTURE_2D]=o,this.emptyTextures[r.TEXTURE_CUBE_MAP]=new GLTexture(r.createTexture()),r.bindTexture(r.TEXTURE_CUBE_MAP,this.emptyTextures[r.TEXTURE_CUBE_MAP].texture);for(var s=0;s<6;s++)r.texImage2D(r.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,r.RGBA,1,1,0,r.RGBA,r.UNSIGNED_BYTE,null);r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_CUBE_MAP,r.TEXTURE_MIN_FILTER,r.LINEAR);for(var s=0;s<this.boundTextures.length;s++)this.bind(null,s)},t.prototype.bind=function(r,n){n===void 0&&(n=0);var s=this.gl;if(r=r==null?void 0:r.castToBaseTexture(),r&&r.valid&&!r.parentTextureArray){r.touched=this.renderer.textureGC.count;var o=r._glTextures[this.CONTEXT_UID]||this.initTexture(r);this.boundTextures[n]!==r&&(this.currentLocation!==n&&(this.currentLocation=n,s.activeTexture(s.TEXTURE0+n)),s.bindTexture(r.target,o.texture)),o.dirtyId!==r.dirtyId&&(this.currentLocation!==n&&(this.currentLocation=n,s.activeTexture(s.TEXTURE0+n)),this.updateTexture(r)),this.boundTextures[n]=r}else this.currentLocation!==n&&(this.currentLocation=n,s.activeTexture(s.TEXTURE0+n)),s.bindTexture(s.TEXTURE_2D,this.emptyTextures[s.TEXTURE_2D].texture),this.boundTextures[n]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]=this.unknownTexture},t.prototype.unbind=function(r){var n=this,s=n.gl,o=n.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var h=0;h<o.length;h++)o[h]===this.unknownTexture&&this.bind(null,h)}for(var h=0;h<o.length;h++)o[h]===r&&(this.currentLocation!==h&&(s.activeTexture(s.TEXTURE0+h),this.currentLocation=h),s.bindTexture(r.target,this.emptyTextures[r.target].texture),o[h]=null)},t.prototype.ensureSamplerType=function(r){var n=this,s=n.boundTextures,o=n.hasIntegerTextures,h=n.CONTEXT_UID;if(!!o)for(var l=r-1;l>=0;--l){var c=s[l];if(c){var d=c._glTextures[h];d.samplerType!==SAMPLER_TYPES$4.FLOAT&&this.renderer.texture.unbind(c)}}},t.prototype.initTexture=function(r){var n=new GLTexture(this.gl.createTexture());return n.dirtyId=-1,r._glTextures[this.CONTEXT_UID]=n,this.managedTextures.push(r),r.on("dispose",this.destroyTexture,this),n},t.prototype.initTextureType=function(r,n){var s,o;n.internalFormat=(o=(s=this.internalFormats[r.type])===null||s===void 0?void 0:s[r.format])!==null&&o!==void 0?o:r.format,this.webGLVersion===2&&r.type===TYPES$4.HALF_FLOAT?n.type=this.gl.HALF_FLOAT:n.type=r.type},t.prototype.updateTexture=function(r){var n=r._glTextures[this.CONTEXT_UID];if(!!n){var s=this.renderer;if(this.initTextureType(r,n),r.resource&&r.resource.upload(s,r,n))n.samplerType!==SAMPLER_TYPES$4.FLOAT&&(this.hasIntegerTextures=!0);else{var o=r.realWidth,h=r.realHeight,l=s.gl;(n.width!==o||n.height!==h||n.dirtyId<0)&&(n.width=o,n.height=h,l.texImage2D(r.target,0,n.internalFormat,o,h,0,r.format,n.type,null))}r.dirtyStyleId!==n.dirtyStyleId&&this.updateTextureStyle(r),n.dirtyId=r.dirtyId}},t.prototype.destroyTexture=function(r,n){var s=this.gl;if(r=r.castToBaseTexture(),r._glTextures[this.CONTEXT_UID]&&(this.unbind(r),s.deleteTexture(r._glTextures[this.CONTEXT_UID].texture),r.off("dispose",this.destroyTexture,this),delete r._glTextures[this.CONTEXT_UID],!n)){var o=this.managedTextures.indexOf(r);o!==-1&&removeItems(this.managedTextures,o,1)}},t.prototype.updateTextureStyle=function(r){var n=r._glTextures[this.CONTEXT_UID];!n||((r.mipmap===MIPMAP_MODES$4.POW2||this.webGLVersion!==2)&&!r.isPowerOfTwo?n.mipmap=!1:n.mipmap=r.mipmap>=1,this.webGLVersion!==2&&!r.isPowerOfTwo?n.wrapMode=WRAP_MODES$4.CLAMP:n.wrapMode=r.wrapMode,r.resource&&r.resource.style(this.renderer,r,n)||this.setStyle(r,n),n.dirtyStyleId=r.dirtyStyleId)},t.prototype.setStyle=function(r,n){var s=this.gl;if(n.mipmap&&r.mipmap!==MIPMAP_MODES$4.ON_MANUAL&&s.generateMipmap(r.target),s.texParameteri(r.target,s.TEXTURE_WRAP_S,n.wrapMode),s.texParameteri(r.target,s.TEXTURE_WRAP_T,n.wrapMode),n.mipmap){s.texParameteri(r.target,s.TEXTURE_MIN_FILTER,r.scaleMode===SCALE_MODES$4.LINEAR?s.LINEAR_MIPMAP_LINEAR:s.NEAREST_MIPMAP_NEAREST);var o=this.renderer.context.extensions.anisotropicFiltering;if(o&&r.anisotropicLevel>0&&r.scaleMode===SCALE_MODES$4.LINEAR){var h=Math.min(r.anisotropicLevel,s.getParameter(o.MAX_TEXTURE_MAX_ANISOTROPY_EXT));s.texParameterf(r.target,o.TEXTURE_MAX_ANISOTROPY_EXT,h)}}else s.texParameteri(r.target,s.TEXTURE_MIN_FILTER,r.scaleMode===SCALE_MODES$4.LINEAR?s.LINEAR:s.NEAREST);s.texParameteri(r.target,s.TEXTURE_MAG_FILTER,r.scaleMode===SCALE_MODES$4.LINEAR?s.LINEAR:s.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),_systems={__proto__:null,FilterSystem,BatchSystem,ContextSystem,FramebufferSystem,GeometrySystem,MaskSystem,ScissorSystem,StencilSystem,ProjectionSystem,RenderTextureSystem,ShaderSystem,StateSystem,TextureGCSystem,TextureSystem},tempMatrix$3=new Matrix,AbstractRenderer=function(t){__extends$1(r,t);function r(n,s){n===void 0&&(n=RENDERER_TYPE$4.UNKNOWN);var o=t.call(this)||this;return s=Object.assign({},settings$1.RENDER_OPTIONS,s),o.options=s,o.type=n,o.screen=new Rectangle(0,0,s.width,s.height),o.view=s.view||document.createElement("canvas"),o.resolution=s.resolution||settings$1.RESOLUTION,o.useContextAlpha=s.useContextAlpha,o.autoDensity=!!s.autoDensity,o.preserveDrawingBuffer=s.preserveDrawingBuffer,o.clearBeforeRender=s.clearBeforeRender,o._backgroundColor=0,o._backgroundColorRgba=[0,0,0,1],o._backgroundColorString="#000000",o.backgroundColor=s.backgroundColor||o._backgroundColor,o.backgroundAlpha=s.backgroundAlpha,s.transparent!==void 0&&(deprecation("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),o.useContextAlpha=s.transparent,o.backgroundAlpha=s.transparent?0:1),o._lastObjectRendered=null,o.plugins={},o}return r.prototype.initPlugins=function(n){for(var s in n)this.plugins[s]=new n[s](this)},Object.defineProperty(r.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),r.prototype.resize=function(n,s){this.view.width=Math.round(n*this.resolution),this.view.height=Math.round(s*this.resolution);var o=this.view.width/this.resolution,h=this.view.height/this.resolution;this.screen.width=o,this.screen.height=h,this.autoDensity&&(this.view.style.width=o+"px",this.view.style.height=h+"px"),this.emit("resize",o,h)},r.prototype.generateTexture=function(n,s,o,h){s===void 0&&(s={}),typeof s=="number"&&(deprecation("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),s={scaleMode:s,resolution:o,region:h});var l=s.region,c=__rest(s,["region"]);h=l||n.getLocalBounds(null,!0),h.width===0&&(h.width=1),h.height===0&&(h.height=1);var d=RenderTexture.create(__assign({width:h.width,height:h.height},c));return tempMatrix$3.tx=-h.x,tempMatrix$3.ty=-h.y,this.render(n,{renderTexture:d,clear:!1,transform:tempMatrix$3,skipUpdateTransform:!!n.parent}),d},r.prototype.destroy=function(n){for(var s in this.plugins)this.plugins[s].destroy(),this.plugins[s]=null;n&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var o=this;o.plugins=null,o.type=RENDERER_TYPE$4.UNKNOWN,o.view=null,o.screen=null,o._tempDisplayObjectParent=null,o.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(r.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(n){this._backgroundColor=n,this._backgroundColorString=hex2string(n),hex2rgb(n,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(n){this._backgroundColorRgba[3]=n},enumerable:!1,configurable:!0}),r}(eventemitter3),GLBuffer=function(){function t(r){this.buffer=r||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),BufferSystem=function(){function t(r){this.renderer=r,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(r){var n=this,s=n.gl,o=n.CONTEXT_UID,h=r._glBuffers[o]||this.createGLBuffer(r);s.bindBuffer(r.type,h.buffer)},t.prototype.bindBufferBase=function(r,n){var s=this,o=s.gl,h=s.CONTEXT_UID;if(this.boundBufferBases[n]!==r){var l=r._glBuffers[h]||this.createGLBuffer(r);this.boundBufferBases[n]=r,o.bindBufferBase(o.UNIFORM_BUFFER,n,l.buffer)}},t.prototype.bindBufferRange=function(r,n,s){var o=this,h=o.gl,l=o.CONTEXT_UID;s=s||0;var c=r._glBuffers[l]||this.createGLBuffer(r);h.bindBufferRange(h.UNIFORM_BUFFER,n||0,c.buffer,s*256,256)},t.prototype.update=function(r){var n=this,s=n.gl,o=n.CONTEXT_UID,h=r._glBuffers[o];if(r._updateID!==h.updateID)if(h.updateID=r._updateID,s.bindBuffer(r.type,h.buffer),h.byteLength>=r.data.byteLength)s.bufferSubData(r.type,0,r.data);else{var l=r.static?s.STATIC_DRAW:s.DYNAMIC_DRAW;h.byteLength=r.data.byteLength,s.bufferData(r.type,r.data,l)}},t.prototype.dispose=function(r,n){if(!!this.managedBuffers[r.id]){delete this.managedBuffers[r.id];var s=r._glBuffers[this.CONTEXT_UID],o=this.gl;r.disposeRunner.remove(this),s&&(n||o.deleteBuffer(s.buffer),delete r._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(r){for(var n=Object.keys(this.managedBuffers),s=0;s<n.length;s++)this.dispose(this.managedBuffers[n[s]],r)},t.prototype.createGLBuffer=function(r){var n=this,s=n.CONTEXT_UID,o=n.gl;return r._glBuffers[s]=new GLBuffer(o.createBuffer()),this.managedBuffers[r.id]=r,r.disposeRunner.add(this),r._glBuffers[s]},t}();(function(t){__extends$1(r,t);function r(n){var s=t.call(this,RENDERER_TYPE$4.WEBGL,n)||this;return n=s.options,s.gl=null,s.CONTEXT_UID=0,s.runners={destroy:new Runner("destroy"),contextChange:new Runner("contextChange"),reset:new Runner("reset"),update:new Runner("update"),postrender:new Runner("postrender"),prerender:new Runner("prerender"),resize:new Runner("resize")},s.runners.contextChange.add(s),s.globalUniforms=new UniformGroup({projectionMatrix:new Matrix},!0),s.addSystem(MaskSystem,"mask").addSystem(ContextSystem,"context").addSystem(StateSystem,"state").addSystem(ShaderSystem,"shader").addSystem(TextureSystem,"texture").addSystem(BufferSystem,"buffer").addSystem(GeometrySystem,"geometry").addSystem(FramebufferSystem,"framebuffer").addSystem(ScissorSystem,"scissor").addSystem(StencilSystem,"stencil").addSystem(ProjectionSystem,"projection").addSystem(TextureGCSystem,"textureGC").addSystem(FilterSystem,"filter").addSystem(RenderTextureSystem,"renderTexture").addSystem(BatchSystem,"batch"),s.initPlugins(r.__plugins),s.multisample=void 0,n.context?s.context.initFromContext(n.context):s.context.initFromOptions({alpha:!!s.useContextAlpha,antialias:n.antialias,premultipliedAlpha:s.useContextAlpha&&s.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer,powerPreference:s.options.powerPreference}),s.renderingToScreen=!0,sayHello(s.context.webGLVersion===2?"WebGL 2":"WebGL 1"),s.resize(s.options.width,s.options.height),s}return r.create=function(n){if(isWebGLSupported())return new r(n);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},r.prototype.contextChange=function(){var n=this.gl,s;if(this.context.webGLVersion===1){var o=n.getParameter(n.FRAMEBUFFER_BINDING);n.bindFramebuffer(n.FRAMEBUFFER,null),s=n.getParameter(n.SAMPLES),n.bindFramebuffer(n.FRAMEBUFFER,o)}else{var o=n.getParameter(n.DRAW_FRAMEBUFFER_BINDING);n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),s=n.getParameter(n.SAMPLES),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,o)}s>=MSAA_QUALITY$4.HIGH?this.multisample=MSAA_QUALITY$4.HIGH:s>=MSAA_QUALITY$4.MEDIUM?this.multisample=MSAA_QUALITY$4.MEDIUM:s>=MSAA_QUALITY$4.LOW?this.multisample=MSAA_QUALITY$4.LOW:this.multisample=MSAA_QUALITY$4.NONE},r.prototype.addSystem=function(n,s){var o=new n(this);if(this[s])throw new Error('Whoops! The name "'+s+'" is already in use');this[s]=o;for(var h in this.runners)this.runners[h].add(o);return this},r.prototype.render=function(n,s){var o,h,l,c;if(s&&(s instanceof RenderTexture?(deprecation("6.0.0","Renderer#render arguments changed, use options instead."),o=s,h=arguments[2],l=arguments[3],c=arguments[4]):(o=s.renderTexture,h=s.clear,l=s.transform,c=s.skipUpdateTransform)),this.renderingToScreen=!o,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=l,!this.context.isLost){if(o||(this._lastObjectRendered=n),!c){var d=n.enableTempParent();n.updateTransform(),n.disableTempParent(d)}this.renderTexture.bind(o),this.batch.currentRenderer.start(),(h!==void 0?h:this.clearBeforeRender)&&this.renderTexture.clear(),n.render(this),this.batch.currentRenderer.flush(),o&&o.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},r.prototype.generateTexture=function(n,s,o,h){s===void 0&&(s={});var l=t.prototype.generateTexture.call(this,n,s,o,h);return this.framebuffer.blit(),l},r.prototype.resize=function(n,s){t.prototype.resize.call(this,n,s),this.runners.resize.emit(this.screen.height,this.screen.width)},r.prototype.reset=function(){return this.runners.reset.emit(),this},r.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},r.prototype.destroy=function(n){this.runners.destroy.emit();for(var s in this.runners)this.runners[s].destroy();t.prototype.destroy.call(this,n),this.gl=null},Object.defineProperty(r.prototype,"extract",{get:function(){return deprecation("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),r.registerPlugin=function(n,s){r.__plugins=r.__plugins||{},r.__plugins[n]=s},r})(AbstractRenderer);var BatchDrawCall=function(){function t(){this.texArray=null,this.blend=0,this.type=DRAW_MODES$4.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),BatchTextureArray=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var r=0;r<this.count;r++)this.elements[r]=null;this.count=0},t}(),ViewableBuffer=function(){function t(r){typeof r=="number"?this.rawBinaryData=new ArrayBuffer(r):r instanceof Uint8Array?this.rawBinaryData=r.buffer:this.rawBinaryData=r,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(r){return this[r+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(r){switch(r){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(r+" isn't a valid view type")}},t}(),AbstractBatchRenderer=function(t){__extends$1(r,t);function r(n){var s=t.call(this,n)||this;return s.shaderGenerator=null,s.geometryClass=null,s.vertexSize=null,s.state=State.for2d(),s.size=settings$1.SPRITE_BATCH_SIZE*4,s._vertexCount=0,s._indexCount=0,s._bufferedElements=[],s._bufferedTextures=[],s._bufferSize=0,s._shader=null,s._packedGeometries=[],s._packedGeometryPoolSize=2,s._flushId=0,s._aBuffers={},s._iBuffers={},s.MAX_TEXTURES=1,s.renderer.on("prerender",s.onPrerender,s),n.runners.contextChange.add(s),s._dcIndex=0,s._aIndex=0,s._iIndex=0,s._attributeBuffer=null,s._indexBuffer=null,s._tempBoundTextures=[],s}return r.prototype.contextChange=function(){var n=this.renderer.gl;settings$1.PREFER_ENV===ENV$4.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),settings$1.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=checkMaxIfStatementsInShader(this.MAX_TEXTURES,n)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var s=0;s<this._packedGeometryPoolSize;s++)this._packedGeometries[s]=new this.geometryClass;this.initFlushBuffers()},r.prototype.initFlushBuffers=function(){for(var n=r._drawCallPool,s=r._textureArrayPool,o=this.size/4,h=Math.floor(o/this.MAX_TEXTURES)+1;n.length<o;)n.push(new BatchDrawCall);for(;s.length<h;)s.push(new BatchTextureArray);for(var l=0;l<this.MAX_TEXTURES;l++)this._tempBoundTextures[l]=null},r.prototype.onPrerender=function(){this._flushId=0},r.prototype.render=function(n){!n._texture.valid||(this._vertexCount+n.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=n.vertexData.length/2,this._indexCount+=n.indices.length,this._bufferedTextures[this._bufferSize]=n._texture.baseTexture,this._bufferedElements[this._bufferSize++]=n)},r.prototype.buildTexturesAndDrawCalls=function(){var n=this,s=n._bufferedTextures,o=n.MAX_TEXTURES,h=r._textureArrayPool,l=this.renderer.batch,c=this._tempBoundTextures,d=this.renderer.textureGC.count,v=++BaseTexture._globalBatch,g=0,m=h[0],_=0;l.copyBoundTextures(c,o);for(var y=0;y<this._bufferSize;++y){var B=s[y];s[y]=null,B._batchEnabled!==v&&(m.count>=o&&(l.boundArray(m,c,v,o),this.buildDrawCalls(m,_,y),_=y,m=h[++g],++v),B._batchEnabled=v,B.touched=d,m.elements[m.count++]=B)}m.count>0&&(l.boundArray(m,c,v,o),this.buildDrawCalls(m,_,this._bufferSize),++g,++v);for(var y=0;y<c.length;y++)c[y]=null;BaseTexture._globalBatch=v},r.prototype.buildDrawCalls=function(n,s,o){var h=this,l=h._bufferedElements,c=h._attributeBuffer,d=h._indexBuffer,v=h.vertexSize,g=r._drawCallPool,m=this._dcIndex,_=this._aIndex,y=this._iIndex,B=g[m];B.start=this._iIndex,B.texArray=n;for(var w=s;w<o;++w){var C=l[w],b=C._texture.baseTexture,I=premultiplyBlendMode[b.alphaMode?1:0][C.blendMode];l[w]=null,s<w&&B.blend!==I&&(B.size=y-B.start,s=w,B=g[++m],B.texArray=n,B.start=y),this.packInterleavedGeometry(C,c,d,_,y),_+=C.vertexData.length/2*v,y+=C.indices.length,B.blend=I}s<o&&(B.size=y-B.start,++m),this._dcIndex=m,this._aIndex=_,this._iIndex=y},r.prototype.bindAndClearTexArray=function(n){for(var s=this.renderer.texture,o=0;o<n.count;o++)s.bind(n.elements[o],n.ids[o]),n.elements[o]=null;n.count=0},r.prototype.updateGeometry=function(){var n=this,s=n._packedGeometries,o=n._attributeBuffer,h=n._indexBuffer;settings$1.CAN_UPLOAD_SAME_BUFFER?(s[this._flushId]._buffer.update(o.rawBinaryData),s[this._flushId]._indexBuffer.update(h),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,s[this._flushId]=new this.geometryClass),s[this._flushId]._buffer.update(o.rawBinaryData),s[this._flushId]._indexBuffer.update(h),this.renderer.geometry.bind(s[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},r.prototype.drawBatches=function(){for(var n=this._dcIndex,s=this.renderer,o=s.gl,h=s.state,l=r._drawCallPool,c=null,d=0;d<n;d++){var v=l[d],g=v.texArray,m=v.type,_=v.size,y=v.start,B=v.blend;c!==g&&(c=g,this.bindAndClearTexArray(g)),this.state.blendMode=B,h.set(this.state),o.drawElements(m,_,o.UNSIGNED_SHORT,y*2)}},r.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},r.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),settings$1.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},r.prototype.stop=function(){this.flush()},r.prototype.destroy=function(){for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]&&this._packedGeometries[n].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},r.prototype.getAttributeBuffer=function(n){var s=nextPow2(Math.ceil(n/8)),o=log2(s),h=s*8;this._aBuffers.length<=o&&(this._iBuffers.length=o+1);var l=this._aBuffers[h];return l||(this._aBuffers[h]=l=new ViewableBuffer(h*this.vertexSize*4)),l},r.prototype.getIndexBuffer=function(n){var s=nextPow2(Math.ceil(n/12)),o=log2(s),h=s*12;this._iBuffers.length<=o&&(this._iBuffers.length=o+1);var l=this._iBuffers[o];return l||(this._iBuffers[o]=l=new Uint16Array(h)),l},r.prototype.packInterleavedGeometry=function(n,s,o,h,l){for(var c=s.uint32View,d=s.float32View,v=h/this.vertexSize,g=n.uvs,m=n.indices,_=n.vertexData,y=n._texture.baseTexture._batchLocation,B=Math.min(n.worldAlpha,1),w=B<1&&n._texture.baseTexture.alphaMode?premultiplyTint(n._tintRGB,B):n._tintRGB+(B*255<<24),C=0;C<_.length;C+=2)d[h++]=_[C],d[h++]=_[C+1],d[h++]=g[C],d[h++]=g[C+1],c[h++]=w,d[h++]=y;for(var C=0;C<m.length;C++)o[l++]=v+m[C]},r._drawCallPool=[],r._textureArrayPool=[],r}(ObjectRenderer),BatchShaderGenerator=function(){function t(r,n){if(this.vertexSrc=r,this.fragTemplate=n,this.programCache={},this.defaultGroupCache={},n.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(n.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(r){if(!this.programCache[r]){for(var n=new Int32Array(r),s=0;s<r;s++)n[s]=s;this.defaultGroupCache[r]=UniformGroup.from({uSamplers:n},!0);var o=this.fragTemplate;o=o.replace(/%count%/gi,""+r),o=o.replace(/%forloop%/gi,this.generateSampleSrc(r)),this.programCache[r]=new Program(this.vertexSrc,o)}var h={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix,default:this.defaultGroupCache[r]};return new Shader(this.programCache[r],h)},t.prototype.generateSampleSrc=function(r){var n="";n+=`
`,n+=`
`;for(var s=0;s<r;s++)s>0&&(n+=`
else `),s<r-1&&(n+="if(vTextureId < "+s+".5)"),n+=`
{`,n+=`
	color = texture2D(uSamplers[`+s+"], vTextureCoord);",n+=`
}`;return n+=`
`,n+=`
`,n},t}(),BatchGeometry=function(t){__extends$1(r,t);function r(n){n===void 0&&(n=!1);var s=t.call(this)||this;return s._buffer=new Buffer(null,n,!1),s._indexBuffer=new Buffer(null,n,!0),s.addAttribute("aVertexPosition",s._buffer,2,!1,TYPES$4.FLOAT).addAttribute("aTextureCoord",s._buffer,2,!1,TYPES$4.FLOAT).addAttribute("aColor",s._buffer,4,!0,TYPES$4.UNSIGNED_BYTE).addAttribute("aTextureId",s._buffer,1,!0,TYPES$4.FLOAT).addIndex(s._indexBuffer),s}return r}(Geometry),defaultVertex=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,defaultFragment=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,BatchPluginFactory=function(){function t(){}return t.create=function(r){var n=Object.assign({vertex:defaultVertex,fragment:defaultFragment,geometryClass:BatchGeometry,vertexSize:6},r),s=n.vertex,o=n.fragment,h=n.vertexSize,l=n.geometryClass;return function(c){__extends$1(d,c);function d(v){var g=c.call(this,v)||this;return g.shaderGenerator=new BatchShaderGenerator(s,o),g.geometryClass=l,g.vertexSize=h,g}return d}(AbstractBatchRenderer)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return defaultVertex},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return defaultFragment},enumerable:!1,configurable:!0}),t}();BatchPluginFactory.create();var resources={},_loop_1=function(t){Object.defineProperty(resources,t,{get:function(){return deprecation("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),_resources[t]}})};for(var name in _resources)_loop_1(name);var systems={},_loop_2=function(t){Object.defineProperty(systems,t,{get:function(){return deprecation("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),_systems[t]}})};for(var name in _systems)_loop_2(name);var CanvasMeshRenderer=function(){function t(r){this.renderer=r}return t.prototype.render=function(r){var n=this.renderer,s=r.worldTransform;n.context.globalAlpha=r.worldAlpha,n.setBlendMode(r.blendMode),n.setContextTransform(s,r.roundPixels),r.drawMode!==DRAW_MODES$4.TRIANGLES?this._renderTriangleMesh(r):this._renderTriangles(r)},t.prototype._renderTriangleMesh=function(r){for(var n=r.geometry.buffers[0].data.length,s=0;s<n-2;s++){var o=s*2;this._renderDrawTriangle(r,o,o+2,o+4)}},t.prototype._renderTriangles=function(r){for(var n=r.geometry.getIndex().data,s=n.length,o=0;o<s;o+=3){var h=n[o]*2,l=n[o+1]*2,c=n[o+2]*2;this._renderDrawTriangle(r,h,l,c)}},t.prototype._renderDrawTriangle=function(r,n,s,o){var h=this.renderer.context,l=r.geometry.buffers[0].data,c=r.uvs,d=r.texture;if(!!d.valid){var v=r.tint!==16777215,g=d.baseTexture,m=g.width,_=g.height;v&&r._cachedTint!==r.tint&&(r._cachedTint=r.tint,r._cachedTexture=r._cachedTexture||new Texture(g),r._tintedCanvas=canvasUtils.getTintedCanvas({texture:r._cachedTexture},r.tint));var y=v?r._tintedCanvas:g.getDrawableSource(),B=c[n]*g.width,w=c[s]*g.width,C=c[o]*g.width,b=c[n+1]*g.height,I=c[s+1]*g.height,S=c[o+1]*g.height,R=l[n],O=l[s],P=l[o],N=l[n+1],M=l[s+1],H=l[o+1],Y=r.canvasPadding/this.renderer.resolution;if(Y>0){var J=r.worldTransform,ee=J.a,te=J.b,se=J.c,W=J.d,k=(R+O+P)/3,Q=(N+M+H)/3,D=R-k,K=N-Q,X=ee*D+se*K,j=te*D+W*K,ie=Math.sqrt(X*X+j*j),ae=1+Y/ie;R=k+D*ae,N=Q+K*ae,D=O-k,K=M-Q,X=ee*D+se*K,j=te*D+W*K,ie=Math.sqrt(X*X+j*j),ae=1+Y/ie,O=k+D*ae,M=Q+K*ae,D=P-k,K=H-Q,X=ee*D+se*K,j=te*D+W*K,ie=Math.sqrt(X*X+j*j),ae=1+Y/ie,P=k+D*ae,H=Q+K*ae}h.save(),h.beginPath(),h.moveTo(R,N),h.lineTo(O,M),h.lineTo(P,H),h.closePath(),h.clip();var oe=B*I+b*C+w*S-I*C-b*w-B*S,ve=R*I+b*P+O*S-I*P-b*O-R*S,ce=B*O+R*C+w*P-O*C-R*w-B*P,ge=B*I*P+b*O*C+R*w*S-R*I*C-b*w*P-B*O*S,Te=N*I+b*H+M*S-I*H-b*M-N*S,we=B*M+N*C+w*H-M*C-N*w-B*H,_e=B*I*H+b*M*C+N*w*S-N*I*C-b*w*H-B*M*S;h.transform(ve/oe,Te/oe,ce/oe,we/oe,ge/oe,_e/oe),h.drawImage(y,0,0,m*g.resolution,_*g.resolution,0,0,m,_),h.restore(),this.renderer.invalidateBlendMode()}},t.prototype.renderMeshFlat=function(r){var n=this.renderer.context,s=r.geometry.getBuffer("aVertexPosition").data,o=s.length/2;n.beginPath();for(var h=1;h<o-2;++h){var l=h*2,c=s[l],d=s[l+1],v=s[l+2],g=s[l+3],m=s[l+4],_=s[l+5];n.moveTo(c,d),n.lineTo(v,g),n.lineTo(m,_)}n.fillStyle="#FF0000",n.fill(),n.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();settings$1.MESH_CANVAS_PADDING=0;MeshMaterial.prototype._renderCanvas=function t(r,n){r.plugins.mesh.render(n)};NineSlicePlane.prototype._cachedTint=16777215;NineSlicePlane.prototype._tintedCanvas=null;NineSlicePlane.prototype._canvasUvs=null;NineSlicePlane.prototype._renderCanvas=function t(r){var n=r.context,s=this.worldTransform,o=this.tint!==16777215,h=this.texture;if(!!h.valid){o&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedCanvas=canvasUtils.getTintedCanvas(this,this.tint));var l=o?this._tintedCanvas:h.baseTexture.getDrawableSource();this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var c=this.vertices,d=this._canvasUvs,v=o?0:h.frame.x,g=o?0:h.frame.y,m=v+h.frame.width,_=g+h.frame.height;d[0]=v,d[1]=v+this._leftWidth,d[2]=m-this._rightWidth,d[3]=m,d[4]=g,d[5]=g+this._topHeight,d[6]=_-this._bottomHeight,d[7]=_;for(var y=0;y<8;y++)d[y]*=h.baseTexture.resolution;n.globalAlpha=this.worldAlpha,r.setBlendMode(this.blendMode),r.setContextTransform(s,this.roundPixels);for(var B=0;B<3;B++)for(var w=0;w<3;w++){var C=w*2+B*8,b=Math.max(1,d[w+1]-d[w]),I=Math.max(1,d[B+5]-d[B+4]),S=Math.max(1,c[C+10]-c[C]),R=Math.max(1,c[C+11]-c[C+1]);n.drawImage(l,d[w],d[B+4],b,I,c[C],c[C+1],S,R)}}};var warned=!1;Mesh.prototype._cachedTint=16777215;Mesh.prototype._tintedCanvas=null;Mesh.prototype._cachedTexture=null;Mesh.prototype._renderCanvas=function t(r){this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.material._renderCanvas?this.material._renderCanvas(r,this):warned||(warned=!0,globalThis.console&&console.warn("Mesh with custom shaders are not supported in CanvasRenderer."))};Mesh.prototype._canvasPadding=null;Object.defineProperty(Mesh.prototype,"canvasPadding",{get:function(){return this._canvasPadding!==null?this._canvasPadding:settings$1.MESH_CANVAS_PADDING},set:function(t){this._canvasPadding=t}});SimpleMesh.prototype._renderCanvas=function t(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(r,this)};SimpleRope.prototype._renderCanvas=function t(r){(this.autoUpdate||this.geometry._width!==this.shader.texture.height)&&(this.geometry._width=this.shader.texture.height,this.geometry.update()),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(r,this)};/*!
 * @pixi/canvas-graphics - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/canvas-graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var PolygonUtils=function(){function t(){}return t.offsetPolygon=function(r,n){var s=[],o=r.length;n=t.isPolygonClockwise(r)?n:-1*n;for(var h=0;h<o;h+=2){var l=h-2;l<0&&(l+=o);var c=(h+2)%o,d=r[h]-r[l],v=r[h+1]-r[l+1],g=Math.sqrt(d*d+v*v);d/=g,v/=g,d*=n,v*=n;var m=-v,_=d,y=[r[l]+m,r[l+1]+_],B=[r[h]+m,r[h+1]+_],w=r[c]-r[h],C=r[c+1]-r[h+1];g=Math.sqrt(w*w+C*C),w/=g,C/=g,w*=n,C*=n;var b=-C,I=w,S=[r[h]+b,r[h+1]+I],R=[r[c]+b,r[c+1]+I],O=t.findIntersection(y[0],y[1],B[0],B[1],S[0],S[1],R[0],R[1]);O&&s.push.apply(s,O)}return s},t.findIntersection=function(r,n,s,o,h,l,c,d){var v=(d-l)*(s-r)-(c-h)*(o-n),g=(c-h)*(n-l)-(d-l)*(r-h),m=(s-r)*(n-l)-(o-n)*(r-h);if(v===0)return g===0&&m===0?[(r+s)/2,(n+o)/2]:null;var _=g/v;return[r+_*(s-r),n+_*(o-n)]},t.isPolygonClockwise=function(r){for(var n=0,s=0,o=r.length-2;s<r.length;o=s,s+=2)n+=(r[s]-r[o])*(r[s+1]+r[o+1]);return n>0},t}(),CanvasGraphicsRenderer=function(){function t(r){this._svgMatrix=null,this._tempMatrix=new Matrix$1,this.renderer=r}return t.prototype._calcCanvasStyle=function(r,n){var s;return r.texture&&r.texture.baseTexture!==Texture$1.WHITE.baseTexture?r.texture.valid?(s=canvasUtils.getTintedPattern(r.texture,n),this.setPatternTransform(s,r.matrix||Matrix$1.IDENTITY)):s="#808080":s="#"+("00000"+(n|0).toString(16)).slice(-6),s},t.prototype.render=function(r){var n=this.renderer,s=n.context,o=r.worldAlpha,h=r.transform.worldTransform;n.setContextTransform(h),n.setBlendMode(r.blendMode);for(var l=r.geometry.graphicsData,c,d,v=(r.tint>>16&255)/255,g=(r.tint>>8&255)/255,m=(r.tint&255)/255,_=0;_<l.length;_++){var y=l[_],B=y.shape,w=y.fillStyle,C=y.lineStyle,b=y.fillStyle.color|0,I=y.lineStyle.color|0;if(y.matrix&&n.setContextTransform(h.copyTo(this._tempMatrix).append(y.matrix)),w.visible){var S=((b>>16&255)/255*v*255<<16)+((b>>8&255)/255*g*255<<8)+(b&255)/255*m*255;c=this._calcCanvasStyle(w,S)}if(C.visible){var R=((I>>16&255)/255*v*255<<16)+((I>>8&255)/255*g*255<<8)+(I&255)/255*m*255;d=this._calcCanvasStyle(C,R)}if(s.lineWidth=C.width,s.lineCap=C.cap,s.lineJoin=C.join,s.miterLimit=C.miterLimit,y.type===SHAPES$1.POLY){s.beginPath();var O=B,P=O.points,N=y.holes,M=void 0,H=void 0,Y=void 0,J=void 0,ee=void 0;s.moveTo(P[0],P[1]);for(var te=2;te<P.length;te+=2)s.lineTo(P[te],P[te+1]);if(O.closeStroke&&s.closePath(),N.length>0){ee=[],M=0,Y=P[0],J=P[1];for(var te=2;te+2<P.length;te+=2)M+=(P[te]-Y)*(P[te+3]-J)-(P[te+2]-Y)*(P[te+1]-J);for(var se=0;se<N.length;se++)if(P=N[se].shape.points,!!P){H=0,Y=P[0],J=P[1];for(var te=2;te+2<P.length;te+=2)H+=(P[te]-Y)*(P[te+3]-J)-(P[te+2]-Y)*(P[te+1]-J);if(H*M<0){s.moveTo(P[0],P[1]);for(var te=2;te<P.length;te+=2)s.lineTo(P[te],P[te+1])}else{s.moveTo(P[P.length-2],P[P.length-1]);for(var te=P.length-4;te>=0;te-=2)s.lineTo(P[te],P[te+1])}N[se].shape.closeStroke&&s.closePath(),ee[se]=H*M<0}}w.visible&&(s.globalAlpha=w.alpha*o,s.fillStyle=c,s.fill()),C.visible&&this.paintPolygonStroke(O,C,d,N,ee,o,s)}else if(y.type===SHAPES$1.RECT){var O=B;if(w.visible&&(s.globalAlpha=w.alpha*o,s.fillStyle=c,s.fillRect(O.x,O.y,O.width,O.height)),C.visible){var W=C.width*(.5-(1-C.alignment)),k=O.width+2*W,Q=O.height+2*W;s.globalAlpha=C.alpha*o,s.strokeStyle=d,s.strokeRect(O.x-W,O.y-W,k,Q)}}else if(y.type===SHAPES$1.CIRC){var O=B;if(s.beginPath(),s.arc(O.x,O.y,O.radius,0,2*Math.PI),s.closePath(),w.visible&&(s.globalAlpha=w.alpha*o,s.fillStyle=c,s.fill()),C.visible){if(C.alignment!==.5){var W=C.width*(.5-(1-C.alignment));s.beginPath(),s.arc(O.x,O.y,O.radius+W,0,2*Math.PI),s.closePath()}s.globalAlpha=C.alpha*o,s.strokeStyle=d,s.stroke()}}else if(y.type===SHAPES$1.ELIP){var O=B,D=C.alignment===1;if(D||this.paintEllipse(O,w,C,c,o,s),C.visible){if(C.alignment!==.5){var K=.5522848,W=C.width*(.5-(1-C.alignment)),X=(O.width+W)*2,j=(O.height+W)*2,ie=O.x-X/2,ae=O.y-j/2,oe=X/2*K,ve=j/2*K,ce=ie+X,ge=ae+j,Te=ie+X/2,we=ae+j/2;s.beginPath(),s.moveTo(ie,we),s.bezierCurveTo(ie,we-ve,Te-oe,ae,Te,ae),s.bezierCurveTo(Te+oe,ae,ce,we-ve,ce,we),s.bezierCurveTo(ce,we+ve,Te+oe,ge,Te,ge),s.bezierCurveTo(Te-oe,ge,ie,we+ve,ie,we),s.closePath()}s.globalAlpha=C.alpha*o,s.strokeStyle=d,s.stroke()}D&&this.paintEllipse(O,w,C,c,o,s)}else if(y.type===SHAPES$1.RREC){var O=B,D=C.alignment===1;if(D||this.paintRoundedRectangle(O,w,C,c,o,s),C.visible){if(C.alignment!==.5){var k=O.width,Q=O.height,W=C.width*(.5-(1-C.alignment)),_e=O.x-W,pe=O.y-W,ye=O.width+2*W,G=O.height+2*W,q=W*(C.alignment>=1?Math.min(ye/k,G/Q):Math.min(k/ye,Q/G)),re=O.radius+q,ne=Math.min(ye,G)/2;re=re>ne?ne:re,s.beginPath(),s.moveTo(_e,pe+re),s.lineTo(_e,pe+G-re),s.quadraticCurveTo(_e,pe+G,_e+re,pe+G),s.lineTo(_e+ye-re,pe+G),s.quadraticCurveTo(_e+ye,pe+G,_e+ye,pe+G-re),s.lineTo(_e+ye,pe+re),s.quadraticCurveTo(_e+ye,pe,_e+ye-re,pe),s.lineTo(_e+re,pe),s.quadraticCurveTo(_e,pe,_e,pe+re),s.closePath()}s.globalAlpha=C.alpha*o,s.strokeStyle=d,s.stroke()}D&&this.paintRoundedRectangle(O,w,C,c,o,s)}}},t.prototype.paintPolygonStroke=function(r,n,s,o,h,l,c){if(n.alignment!==.5){var d=n.width*(.5-(1-n.alignment)),v=PolygonUtils.offsetPolygon(r.points,d),g=void 0;c.beginPath(),c.moveTo(v[0],v[1]);for(var m=2;m<v.length;m+=2)c.lineTo(v[m],v[m+1]);r.closeStroke&&c.closePath();for(var _=0;_<o.length;_++){if(g=o[_].shape.points,v=PolygonUtils.offsetPolygon(g,d),h[_]){c.moveTo(v[0],v[1]);for(var m=2;m<v.length;m+=2)c.lineTo(v[m],v[m+1])}else{c.moveTo(v[v.length-2],v[v.length-1]);for(var m=v.length-4;m>=0;m-=2)c.lineTo(v[m],v[m+1])}o[_].shape.closeStroke&&c.closePath()}}c.globalAlpha=n.alpha*l,c.strokeStyle=s,c.stroke()},t.prototype.paintEllipse=function(r,n,s,o,h,l){var c=r.width*2,d=r.height*2,v=r.x-c/2,g=r.y-d/2,m=.5522848,_=c/2*m,y=d/2*m,B=v+c,w=g+d,C=v+c/2,b=g+d/2;s.alignment===0&&l.save(),l.beginPath(),l.moveTo(v,b),l.bezierCurveTo(v,b-y,C-_,g,C,g),l.bezierCurveTo(C+_,g,B,b-y,B,b),l.bezierCurveTo(B,b+y,C+_,w,C,w),l.bezierCurveTo(C-_,w,v,b+y,v,b),l.closePath(),s.alignment===0&&l.clip(),n.visible&&(l.globalAlpha=n.alpha*h,l.fillStyle=o,l.fill()),s.alignment===0&&l.restore()},t.prototype.paintRoundedRectangle=function(r,n,s,o,h,l){var c=r.x,d=r.y,v=r.width,g=r.height,m=r.radius,_=Math.min(v,g)/2;m=m>_?_:m,s.alignment===0&&l.save(),l.beginPath(),l.moveTo(c,d+m),l.lineTo(c,d+g-m),l.quadraticCurveTo(c,d+g,c+m,d+g),l.lineTo(c+v-m,d+g),l.quadraticCurveTo(c+v,d+g,c+v,d+g-m),l.lineTo(c+v,d+m),l.quadraticCurveTo(c+v,d,c+v-m,d),l.lineTo(c+m,d),l.quadraticCurveTo(c,d,c,d+m),l.closePath(),s.alignment===0&&l.clip(),n.visible&&(l.globalAlpha=n.alpha*h,l.fillStyle=o,l.fill()),s.alignment===0&&l.restore()},t.prototype.setPatternTransform=function(r,n){if(this._svgMatrix!==!1){if(!this._svgMatrix){var s=document.createElementNS("http://www.w3.org/2000/svg","svg");if(s&&s.createSVGMatrix&&(this._svgMatrix=s.createSVGMatrix()),!this._svgMatrix||!r.setTransform){this._svgMatrix=!1;return}}this._svgMatrix.a=n.a,this._svgMatrix.b=n.b,this._svgMatrix.c=n.c,this._svgMatrix.d=n.d,this._svgMatrix.e=n.tx,this._svgMatrix.f=n.ty,r.setTransform(this._svgMatrix.inverse())}},t.prototype.destroy=function(){this.renderer=null,this._svgMatrix=null,this._tempMatrix=null},t}(),canvasRenderer,tempMatrix=new Matrix$1;Graphics.prototype.generateCanvasTexture=function t(r,n){n===void 0&&(n=1);var s=this.getLocalBounds(),o=RenderTexture$1.create({width:s.width,height:s.height,scaleMode:r,resolution:n});canvasRenderer||(canvasRenderer=new CanvasRenderer),this.transform.updateLocalTransform(),this.transform.localTransform.copyTo(tempMatrix),tempMatrix.invert(),tempMatrix.tx-=s.x,tempMatrix.ty-=s.y,canvasRenderer.render(this,{renderTexture:o,clear:!0,transform:tempMatrix});var h=Texture$1.from(o.baseTexture._canvasRenderTarget.canvas,{scaleMode:r});return h.baseTexture.setResolution(n),h};Graphics.prototype.cachedGraphicsData=[];Graphics.prototype._renderCanvas=function t(r){this.isMask!==!0&&(this.finishPoly(),r.plugins.graphics.render(this))};/*!
 * @pixi/canvas-sprite - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/canvas-sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var canvasRenderWorldTransform=new Matrix$1,CanvasSpriteRenderer=function(){function t(r){this.renderer=r}return t.prototype.render=function(r){var n=r._texture,s=this.renderer,o=s.context;if(!!n.valid){var h=n._frame.width,l=n._frame.height,c=r.transform.worldTransform,d=0,v=0,g=n.baseTexture.getDrawableSource();if(!(n.orig.width<=0||n.orig.height<=0||!n.valid||!g)){s.setBlendMode(r.blendMode,!0),s.context.globalAlpha=r.worldAlpha;var m=n.baseTexture.scaleMode===SCALE_MODES$4.LINEAR;s.smoothProperty&&s.context[s.smoothProperty]!==m&&(o[s.smoothProperty]=m),n.trim?(d=n.trim.width/2+n.trim.x-r.anchor.x*n.orig.width,v=n.trim.height/2+n.trim.y-r.anchor.y*n.orig.height):(d=(.5-r.anchor.x)*n.orig.width,v=(.5-r.anchor.y)*n.orig.height),n.rotate&&(c.copyTo(canvasRenderWorldTransform),c=canvasRenderWorldTransform,groupD8$1.matrixAppendRotationInv(c,n.rotate,d,v),d=0,v=0),d-=h/2,v-=l/2,s.setContextTransform(c,r.roundPixels,1),r.roundPixels&&(d=d|0,v=v|0);var _=n.baseTexture.resolution,y=s._outerBlend;y&&(o.save(),o.beginPath(),o.rect(d*s.resolution,v*s.resolution,h*s.resolution,l*s.resolution),o.clip()),r.tint!==16777215?((r._cachedTint!==r.tint||r._tintedCanvas.tintId!==r._texture._updateID)&&(r._cachedTint=r.tint,r._tintedCanvas=canvasUtils.getTintedCanvas(r,r.tint)),o.drawImage(r._tintedCanvas,0,0,Math.floor(h*_),Math.floor(l*_),Math.floor(d*s.resolution),Math.floor(v*s.resolution),Math.floor(h*s.resolution),Math.floor(l*s.resolution))):o.drawImage(g,n._frame.x*_,n._frame.y*_,Math.floor(h*_),Math.floor(l*_),Math.floor(d*s.resolution),Math.floor(v*s.resolution),Math.floor(h*s.resolution),Math.floor(l*s.resolution)),y&&o.restore(),s.setBlendMode(BLEND_MODES$4.NORMAL)}}},t.prototype.destroy=function(){this.renderer=null},t}();Sprite.prototype._tintedCanvas=null;Sprite.prototype._renderCanvas=function t(r){r.plugins.sprite.render(this)};/*!
 * @pixi/canvas-extract - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/canvas-extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var TEMP_RECT=new Rectangle$1,CanvasExtract=function(){function t(r){this.renderer=r}return t.prototype.image=function(r,n,s){var o=new Image;return o.src=this.base64(r,n,s),o},t.prototype.base64=function(r,n,s){return this.canvas(r).toDataURL(n,s)},t.prototype.canvas=function(r){var n=this.renderer,s,o,h,l;r&&(r instanceof RenderTexture$1?l=r:l=n.generateTexture(r)),l?(s=l.baseTexture._canvasRenderTarget.context,o=l.baseTexture._canvasRenderTarget.resolution,h=l.frame):(s=n.rootContext,o=n.resolution,h=TEMP_RECT,h.width=this.renderer.width,h.height=this.renderer.height);var c=Math.floor(h.width*o+1e-4),d=Math.floor(h.height*o+1e-4),v=new CanvasRenderTarget(c,d,1),g=s.getImageData(h.x*o,h.y*o,c,d);return v.context.putImageData(g,0,0),v.canvas},t.prototype.pixels=function(r){var n=this.renderer,s,o,h,l;r&&(r instanceof RenderTexture$1?l=r:l=n.generateTexture(r)),l?(s=l.baseTexture._canvasRenderTarget.context,o=l.baseTexture._canvasRenderTarget.resolution,h=l.frame):(s=n.rootContext,o=n.resolution,h=TEMP_RECT,h.width=n.width,h.height=n.height);var c=h.x*o,d=h.y*o,v=h.width*o,g=h.height*o;return s.getImageData(c,d,v,g).data},t.prototype.destroy=function(){this.renderer=null},t}();/*!
 * @pixi/canvas-prepare - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/canvas-prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics=function(t,r){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)s.hasOwnProperty(o)&&(n[o]=s[o])},extendStatics(t,r)};function __extends(t,r){extendStatics(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var CANVAS_START_SIZE=16;function uploadBaseTextures(t,r){var n=t;if(r instanceof BaseTexture$1){var s=r.source,o=s.width===0?n.canvas.width:Math.min(n.canvas.width,s.width),h=s.height===0?n.canvas.height:Math.min(n.canvas.height,s.height);return n.ctx.drawImage(s,0,0,o,h,0,0,n.canvas.width,n.canvas.height),!0}return!1}var CanvasPrepare=function(t){__extends(r,t);function r(n){var s=t.call(this,n)||this;return s.uploadHookHelper=s,s.canvas=document.createElement("canvas"),s.canvas.width=CANVAS_START_SIZE,s.canvas.height=CANVAS_START_SIZE,s.ctx=s.canvas.getContext("2d"),s.registerUploadHook(uploadBaseTextures),s}return r.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},r}(BasePrepare);/*!
 * @pixi/canvas-sprite-tiling - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/canvas-sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var worldMatrix=new Matrix$1,patternMatrix=new Matrix$1,patternRect=[new Point$1,new Point$1,new Point$1,new Point$1];TilingSprite.prototype._renderCanvas=function t(r){var n=this._texture;if(!!n.baseTexture.valid){var s=r.context,o=this.worldTransform,h=n.baseTexture,l=h.getDrawableSource(),c=h.resolution;if(this._textureID!==this._texture._updateID||this._cachedTint!==this.tint){this._textureID=this._texture._updateID;var d=new CanvasRenderTarget(n._frame.width,n._frame.height,c);this.tint!==16777215?(this._tintedCanvas=canvasUtils.getTintedCanvas(this,this.tint),d.context.drawImage(this._tintedCanvas,0,0)):d.context.drawImage(l,-n._frame.x*c,-n._frame.y*c),this._cachedTint=this.tint,this._canvasPattern=d.context.createPattern(d.canvas,"repeat")}s.globalAlpha=this.worldAlpha,r.setBlendMode(this.blendMode),this.tileTransform.updateLocalTransform();var v=this.tileTransform.localTransform,g=this._width,m=this._height;worldMatrix.identity(),patternMatrix.copyFrom(v),this.uvRespectAnchor||patternMatrix.translate(-this.anchor.x*g,-this.anchor.y*m),patternMatrix.scale(this.tileScale.x/c,this.tileScale.y/c),worldMatrix.prepend(patternMatrix),worldMatrix.prepend(o),r.setContextTransform(worldMatrix),s.fillStyle=this._canvasPattern;var _=this.anchor.x*-g,y=this.anchor.y*-m;patternRect[0].set(_,y),patternRect[1].set(_+g,y),patternRect[2].set(_+g,y+m),patternRect[3].set(_,y+m);for(var B=0;B<4;B++)patternMatrix.applyInverse(patternRect[B],patternRect[B]);s.beginPath(),s.moveTo(patternRect[0].x,patternRect[0].y);for(var B=1;B<4;B++)s.lineTo(patternRect[B].x,patternRect[B].y);s.closePath(),s.fill()}};/*!
 * @pixi/canvas-particle-container - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/canvas-particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */ParticleContainer.prototype.renderCanvas=function t(r){if(!(!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable)){var n=r.context,s=this.worldTransform,o=!0,h=0,l=0,c=0,d=0;r.setBlendMode(this.blendMode),n.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var v=0;v<this.children.length;++v){var g=this.children[v];if(!!g.visible&&!!g._texture.valid){var m=g._texture.frame;if(n.globalAlpha=this.worldAlpha*g.alpha,g.rotation%(Math.PI*2)===0)o&&(r.setContextTransform(s,!1,1),o=!1),h=g.anchor.x*(-m.width*g.scale.x)+g.position.x+.5,l=g.anchor.y*(-m.height*g.scale.y)+g.position.y+.5,c=m.width*g.scale.x,d=m.height*g.scale.y;else{o||(o=!0),g.displayObjectUpdateTransform();var _=g.worldTransform;r.setContextTransform(_,this.roundPixels,1),h=g.anchor.x*-m.width+.5,l=g.anchor.y*-m.height+.5,c=m.width,d=m.height}var y=g._texture.baseTexture.resolution;n.drawImage(g._texture.baseTexture.getDrawableSource(),m.x*y,m.y*y,m.width*y,m.height*y,h*r.resolution,l*r.resolution,c*r.resolution,d*r.resolution)}}}};/*!
 * @pixi/canvas-display - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/canvas-display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Container$1.prototype._renderCanvas=function t(r){};Container$1.prototype.renderCanvas=function t(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable)){this._mask&&r.maskManager.pushMask(this._mask),this._renderCanvas(r);for(var n=0,s=this.children.length;n<s;++n)this.children[n].renderCanvas(r);this._mask&&r.maskManager.popMask(r)}};DisplayObject$1.prototype.renderCanvas=function t(r){};/*!
 * @pixi/canvas-text - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * @pixi/canvas-text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Text.prototype._renderCanvas=function t(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),Sprite.prototype._renderCanvas.call(this,r)};/*!
 * pixi.js-legacy - v6.4.2
 * Compiled Thu, 02 Jun 2022 15:39:26 UTC
 *
 * pixi.js-legacy is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */CanvasRenderer.registerPlugin("accessibility",AccessibilityManager);CanvasRenderer.registerPlugin("extract",CanvasExtract);CanvasRenderer.registerPlugin("graphics",CanvasGraphicsRenderer);CanvasRenderer.registerPlugin("interaction",InteractionManager);CanvasRenderer.registerPlugin("mesh",CanvasMeshRenderer);CanvasRenderer.registerPlugin("prepare",CanvasPrepare);CanvasRenderer.registerPlugin("sprite",CanvasSpriteRenderer);function touchX(t){return t.type.indexOf("mouse")!==-1?t.clientX:t.touches[0].clientX}function touchY(t){return t.type.indexOf("mouse")!==-1?t.clientY:t.touches[0].clientY}var isPassiveSupported=function(){var t=!1;try{var r=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,r)}catch(n){}return t}(),vueTouchEvents={install:function(t,r){var n=Object.assign({},{disableClick:!1,tapTolerance:10,swipeTolerance:30,touchHoldTolerance:400,longTapTimeInterval:400,touchClass:"",dragFrequency:100,rollOverFrequency:100},r);function s(w){var C=this.$$touchObj,b=w.type.indexOf("touch")>=0,I=w.type.indexOf("mouse")>=0,S=this;b&&(C.lastTouchStartTime=w.timeStamp),!(I&&C.lastTouchStartTime&&w.timeStamp-C.lastTouchStartTime<350)&&(C.touchStarted||(m(this),C.touchStarted=!0,C.touchMoved=!1,C.swipeOutBounded=!1,C.startX=touchX(w),C.startY=touchY(w),C.currentX=0,C.currentY=0,C.touchStartTime=w.timeStamp,C.hasSwipe=v(this,"swipe")||v(this,"swipe.left")||v(this,"swipe.right")||v(this,"swipe.top")||v(this,"swipe.bottom"),v(this,"hold")&&(C.touchHoldTimer=setTimeout(function(){C.touchHoldTimer=null,g(w,S,"hold")},C.options.touchHoldTolerance)),g(w,this,"press")))}function o(w){var C=this.$$touchObj,b=touchX(w),I=touchY(w),S=C.currentX!=b||C.currentY!=I;if(C.currentX=b,C.currentY=I,C.touchMoved){if(C.hasSwipe&&!C.swipeOutBounded){var O=C.options.swipeTolerance;C.swipeOutBounded=Math.abs(C.startX-C.currentX)>O&&Math.abs(C.startY-C.currentY)>O}}else{var R=C.options.tapTolerance;C.touchMoved=Math.abs(C.startX-C.currentX)>R||Math.abs(C.startY-C.currentY)>R,C.touchMoved&&(y(C),g(w,this,"drag.once"))}if(v(this,"rollover")&&S){var P=w.timeStamp,N=C.options.rollOverFrequency;(C.touchRollTime==null||P>C.touchRollTime+N)&&(C.touchRollTime=P,g(w,this,"rollover"))}if(v(this,"drag")&&C.touchStarted&&C.touchMoved&&S){var P=w.timeStamp,N=C.options.dragFrequency;(C.touchDragTime==null||P>C.touchDragTime+N)&&(C.touchDragTime=P,g(w,this,"drag"))}}function h(){var w=this.$$touchObj;y(w),_(this),w.touchStarted=w.touchMoved=!1,w.startX=w.startY=0}function l(w){var C=this.$$touchObj,b=w.type.indexOf("touch")>=0,I=w.type.indexOf("mouse")>=0;b&&(C.lastTouchEndTime=w.timeStamp);var S=b&&!C.touchHoldTimer;if(y(C),C.touchStarted=!1,_(this),!(I&&C.lastTouchEndTime&&w.timeStamp-C.lastTouchEndTime<350))if(g(w,this,"release"),C.touchMoved){if(C.hasSwipe&&!C.swipeOutBounded){var R=C.options.swipeTolerance,O,P=Math.abs(C.startY-C.currentY),N=Math.abs(C.startX-C.currentX);(P>R||N>R)&&(P>R?O=C.startY>C.currentY?"top":"bottom":O=C.startX>C.currentX?"left":"right",v(this,"swipe."+O)?g(w,this,"swipe."+O,O):g(w,this,"swipe",O))}}else if(v(this,"longtap")&&w.timeStamp-C.touchStartTime>C.options.longTapTimeInterval)w.cancelable&&w.preventDefault(),g(w,this,"longtap");else if(v(this,"hold")&&S){w.cancelable&&w.preventDefault();return}else g(w,this,"tap")}function c(){m(this)}function d(){_(this)}function v(w,C){var b=w.$$touchObj.callbacks[C];return b!=null&&b.length>0}function g(w,C,b,I){var S=C.$$touchObj,R=S.callbacks[b];if(R==null||R.length===0)return null;for(var O=0;O<R.length;O++){var P=R[O];P.modifiers.stop&&w.stopPropagation(),P.modifiers.prevent&&w.preventDefault(),!(P.modifiers.self&&w.target!==w.currentTarget)&&typeof P.value=="function"&&(I?P.value(I,w):P.value(w))}}function m(w){var C=w.$$touchObj.options.touchClass;C&&w.classList.add(C)}function _(w){var C=w.$$touchObj.options.touchClass;C&&w.classList.remove(C)}function y(w){w.touchHoldTimer&&(clearTimeout(w.touchHoldTimer),w.touchHoldTimer=null)}function B(w,C){var b=w.$$touchObj||{callbacks:{},hasBindTouchEvents:!1,options:n};return C&&(b.options=Object.assign({},b.options,C)),w.$$touchObj=b,w.$$touchObj}t.directive("touch",{beforeMount:function(w,C){var b=B(w),I=isPassiveSupported?{passive:!0}:!1,S=C.arg||"tap";switch(S){case"swipe":var R=C.modifiers;if(R.left||R.right||R.top||R.bottom){for(var O in C.modifiers)if(["left","right","top","bottom"].indexOf(O)>=0){var P="swipe."+O;b.callbacks[P]=b.callbacks[P]||[],b.callbacks[P].push(C)}}else b.callbacks.swipe=b.callbacks.swipe||[],b.callbacks.swipe.push(C);break;case"press":case"drag":C.modifiers.disablePassive&&(I=!1);default:b.callbacks[S]=b.callbacks[S]||[],b.callbacks[S].push(C)}b.hasBindTouchEvents||(w.addEventListener("touchstart",s,I),w.addEventListener("touchmove",o,I),w.addEventListener("touchcancel",h),w.addEventListener("touchend",l),b.options.disableClick||(w.addEventListener("mousedown",s),w.addEventListener("mousemove",o),w.addEventListener("mouseup",l),w.addEventListener("mouseenter",c),w.addEventListener("mouseleave",d)),b.hasBindTouchEvents=!0)},unmounted:function(w){w.removeEventListener("touchstart",s),w.removeEventListener("touchmove",o),w.removeEventListener("touchcancel",h),w.removeEventListener("touchend",l),w.$$touchObj&&!w.$$touchObj.options.disableClick&&(w.removeEventListener("mousedown",s),w.removeEventListener("mousemove",o),w.removeEventListener("mouseup",l),w.removeEventListener("mouseenter",c),w.removeEventListener("mouseleave",d)),delete w.$$touchObj}}),t.directive("touch-class",{beforeMount:function(w,C){B(w,{touchClass:C.value})}}),t.directive("touch-options",{beforeMount:function(w,C){B(w,C.value)}})}};export{axios as a,getUserInfo as b,isWeixin as c,isQQ as d,defineComponent as e,createElementBlock as f,getAppInfo as g,resolveDirective as h,isQQNews as i,createBaseVNode as j,createApp as k,createPinia as l,nextTick as n,openBlock as o,reportToDT as r,vueTouchEvents as v,withDirectives as w};

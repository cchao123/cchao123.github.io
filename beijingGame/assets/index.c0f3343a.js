var jt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var q=(e,t,n)=>new Promise((i,s)=>{var a=d=>{try{c(n.next(d))}catch(u){s(u)}},r=d=>{try{c(n.throw(d))}catch(u){s(u)}},c=d=>d.done?i(d.value):Promise.resolve(d.value).then(a,r);c((n=n.apply(e,t)).next())});import{a as Gt,i as V,b as Oe,c as pt,l as gt,g as ht,s as Vt,m as Ht,d as Be,e as _t,f as Qt,h as mt,_ as ft,P as at,L as Jt,B as Kt,R as Yt,T as Xt,A as Zt,j as en,r as tn,n as vt,o as Pe,k as nn,p as k,q as R,t as w,w as et,u as qe,v as f,x as on,y as Z,z as sn,C as m,D as Ue,E as Ie,F as ye,G as xe,H as x,I as l,J as Ze,K as N,M as b,N as $e,O as Se,Q as F,S as ue,U as de,V as Ee,W as an,X as be,Y as rn,Z as T,$ as cn,a0 as ae,a1 as ln,a2 as se,a3 as X,a4 as un,a5 as dn,a6 as pn,a7 as gn,a8 as hn,a9 as _n,aa as mn,ab as fn}from"./vendor.a5186888.js";var Di=jt(H=>{const vn=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}};vn();const wn=e=>{e.directive("report-view",ro),e.directive("report-click",io),e.directive("report-exp",uo)},tt=e=>{let t;return typeof e=="function"?t={callback:e}:t=e,t},yn=(e,t,n={})=>{let i,s,a;const r=(c,...d)=>{if(a=d,i&&c===s)return;let{leading:u}=n;typeof u=="function"&&(u=u(c,s)),(!i||c!==s)&&u&&e(c,...a),s=c,clearTimeout(i),i=setTimeout(()=>{e(c,...a),i=0},t)};return r._clear=()=>{clearTimeout(i),i=null},r},wt=(e,t)=>e===t?!0:typeof e=="object"?(Object.keys(e).forEach(n=>{if(!wt(e[n],t[n]))return!1}),!0):!1;let Ve=0;const $n=()=>{},He=e=>{e.script.parentNode&&e.script.parentNode.removeChild(e.script),window[`${e.id}`]=$n,e.timer&&clearTimeout(e.timer)},Sn=(e,t,n)=>{var D;const i=n,s=Object.assign({param:"callback",timeout:6e4,prefix:"jp",name:""},t),{prefix:a}=s;Ve=Ve+1;const r=s.name||a+Ve,{param:c,timeout:d}=s,u=encodeURIComponent,p=document.getElementsByTagName("script")[0]||document.head,v=document.createElement("script");let y=null;y=window.setTimeout(()=>{He({script:v,timer:y,id:r}),i(new Error("Timeout"))},d);const E=()=>{window[`${r}`]&&He({script:v,timer:y,id:r})};window[`${r}`]=L=>{He({script:v,timer:y,id:r}),i&&i(null,L)};let $="";return $=`${e}${(~e.indexOf("?")?"&":"?")+c}=${u(r)}`,$=$.replace("?&","?"),v.charset="UTF-8",v.src=$,(D=p.parentNode)==null||D.insertBefore(v,p),E},Ne=e=>{if(document===void 0)return"";let t="";return document.cookie.split(/;\s*/).forEach((n,i,s)=>{const a=n.split("=");a[0]===e&&([,t]=a)}),t},B=(e,t)=>window.localStorage?(window.localStorage.setItem(e,t),Promise.resolve(!0)):Promise.resolve(!1),fe=e=>{if(window.localStorage){const n=window.localStorage.getItem(e);return Promise.resolve(n)}return Promise.resolve(null)},bn="https://r.inews.qq.com/i/getONSDict",Cn={appid:"news_h5",appkey:"9c25e5f15027451bb4ab856c030007cb"},yt=e=>q(H,null,function*(){const{appid:t,appkey:n,schema:i}=e;return(yield Gt.get(bn,{params:{wuji_appid:t,wuji_appkey:n,query_key:Array.isArray(i)?i.join(","):i}})).data.data}),kn=()=>q(H,null,function*(){const e="offline_projects",{appid:t,appkey:n}=Cn;return(yield yt({appid:t,appkey:n,schema:e})).offline_projects.data}),In=e=>{location.replace(e)},xn=e=>{const t="https://new.qq.com/qqfile/tnewsh5/404/404.html#/";return e.redirectType==="404"?t:e.link?e.link:t},En=e=>q(H,null,function*(){const t=yield kn(),[n]=t.filter(i=>i.projectName===e);return n?In(xn(n)):Promise.resolve()}),$t=(e,t)=>{const n=t.replace(/[[\]]/g,"\\$&"),s=new RegExp(`[?&]${n}(=([^&#]*)|&|#|$)`).exec(e);return s?s[2]?window.decodeURIComponent(s[2].replace(/\+/g," ")):"":null},Qe=e=>{const t=e;return new Promise(n=>{setTimeout(n,t)})},Fn=(e,t)=>Math.round(Math.random()*(t-e))+e,Tn=(e,t,n=5e3)=>{const i=n,a=(p=>Array.isArray(p)&&p||[])(e),r=a.length;let c=0;const d=[],u=()=>{c<r&&(c+=1),t(c/r)};if(!r)return t(1);for(let p=0;p<r;p++)d[p]=new Image,d[p].onerror=u,d[p].onload=u,d[p].src=a[p];setTimeout(()=>{t(c/r)},i*r)},St=()=>{const e=document.querySelector(".pageLoading");e&&(e.style.display="none")},Le={headimgurl:"",nickname:""},An=(e,t)=>{var n,i;return e?{headimgurl:((n=t[e])==null?void 0:n.icon)||"",nickname:((i=t[e])==null?void 0:i.name)||""}:Le},Dn=()=>q(H,null,function*(){const{hasLogin:e}=yield pt();if(!e){const{isLogin:t}=yield gt();if(!t)return Le}return new Promise((t,n)=>{ht().then(i=>{t(An(i.account,i))}).catch(()=>{n()})})}),Bn=e=>{const n=e||"wxc823e489fab1a34a",i=encodeURIComponent(window.location.href),s=`https://yc.static.qq.com/?service=App.Getinfo_Getinfo.Getuserinfo&original_uri=${i}`,a=encodeURIComponent(s),r=`https://open.weixin.qq.com/connect/oauth2/authorize?appid=${n}&redirect_uri=${a}&response_type=code&scope=snsapi_userinfo&state=${i}#wechat_redirect`;window.location.href=r},Pn=()=>{const e="https://yc.static.qq.com/?service=App.Getinfo_Getinfo.getindex";return new Promise((t,n)=>{const i=s=>{var a;(a=s==null?void 0:s.data)!=null&&a.openid?t(s.data):n()};Sn(e,{prefix:"infocallback",param:"callback"},(s,a)=>{i(a)})})},Nn=e=>q(H,null,function*(){return V()?yield Dn().catch(()=>Le):Oe()?yield Pn().catch(()=>{Bn()}):e||Le}),Ln=e=>{const t=()=>{window.WeixinJSBridge.on("menu:share:timeline",()=>{window.WeixinJSBridge.invoke("shareTimeline",{img_url:e.imgUrl,img_width:"160",img_height:"160",link:e.url,desc:e.content,title:e.title})}),window.WeixinJSBridge.on("menu:share:appmessage",()=>{window.WeixinJSBridge.invoke("sendAppMessage",{img_url:e.imgUrl,link:e.url,desc:e.content,title:e.title})}),window.WeixinJSBridge.on("menu:share:weibo",()=>{window.WeixinJSBridge.invoke("shareWeibo",{desc:e.content,url:e.url})})};window.WeixinJSBridge?t():document.addEventListener("WeixinJSBridgeReady",t,!1)},Fe=(e,t)=>{const n=document.querySelector(e);n&&t&&(n.content=t)},Mn=e=>{Fe('meta[property="og:image"]',e.imgUrl),Fe('meta[property="og:title"]',e.title),Fe('meta[property="og:description"]',e.content),Fe('meta[property="og:url"]',e.url)},Je=e=>e||"",On=(e,t)=>{const n=Object.assign({},e,t);V()&&Vt({title:Je(n.title),longTitle:n.longTitle,content:Je(n.content),url:Je(n.url),imgUrl:n.imgUrl}),Oe()&&Ln(n),Mn(n),window.setShareInfo&&window.setShareInfo({title:n.title,summary:n.content,pic:n.imgUrl,url:n.url})},qn=1500,Un=e=>{if(document.querySelector(".toast"))return;const n=document.createElement("div"),{body:i}=document;n.classList.add("toast"),n.innerHTML=e,i.appendChild(n),setTimeout(()=>{var s;(s=n.parentNode)==null||s.removeChild(n)},qn)},Rn="6.6.70",zn="6.6.90",Wn=()=>q(H,null,function*(){const{version:e}=yield _t();return Qt()&&e>Rn||mt()&&e>zn}),jn=(e,t,n)=>q(H,null,function*(){var s;if(yield Wn()){const a=yield Ht({subItems:JSON.stringify([{suid:e}])});String((s=a==null?void 0:a.result)==null?void 0:s.ret)==="0"&&(Be({text:"\u5173\u6CE8\u6210\u529F"}),t())}else n()});class Gn{constructor(t){this.app=new ft(t)}downloadApp(t){this.app.run(t.openUrl)}openApp(){this.app.openApp()}download(){this.download()}checkAppIsInstalled(){return q(this,null,function*(){return yield this.app.checkAppIsInstalled()})}showAppInfo(t){this.app.showAppInfo(t)}}const Vn=(e={images:[{name:"",url:""}],onProgress:t=>t,onLoad:()=>""})=>{const t=Jt.shared;if(!!t)return t.load(),t.reset(),e.images.forEach(n=>{t.add(n.name,n.url)}),t.onProgress.add(n=>{e.onProgress(n.progress)}),t.load(()=>{e.onLoad()}),t},Hn=(e,t,n=20,i=!1,s=!0)=>{const a=Kt.from(e),r=t,c=parseFloat((n/120).toFixed(2)),d=Math.floor(a.width/r),{height:u}=a,p=[];for(let y=0;y<r;y++){const E=new Yt(y*d,0,d,u),$=new Xt(a,E);p.push($)}const v=new Zt(p);return v.animationSpeed=c,v.loop=s,i&&v.stop(),v},rt={width:750,height:1334},re=(e,t)=>{const n=(t.width||rt.width-(e==null?void 0:e.width))/2,i=(t.height||rt.height-(e==null?void 0:e.height))/2,s=e.width/2,a=e.height/2;return{x:n,y:i,centerX:s,centerY:a}},ce="REPORT_CACHE",Qn=()=>{},Jn=()=>{},Kn={appkey:"JS03W1ML3L0KIW",versionCode:"0.0.1",channelID:"news",openid:"",unionid:"",strictMode:!1,delay:1e3,sessionDuration:60*1e3,onReportSuccess:Qn,onReportFail:Jn};let U;try{U=new window.BeaconAction(Kn)}catch(e){U={onDirectUserAction:()=>{},onUserAction:()=>{},getDeviceId:()=>{}}}const Yn=e=>{var t,n;return e.account==="qq"?(t=e==null?void 0:e.qq)==null?void 0:t.mediaid:e.account==="wx"?(n=e==null?void 0:e.qq)==null?void 0:n.mediaid:"unknown"},Xn=e=>(e==null?void 0:e.account)==="qq"?Ne("open_openid"):(e==null?void 0:e.account)==="wx"?Ne("openid"):"unknown",Zn=e=>{if(!e)return"unknown";const t=e.split("_");return t[1].toLocaleLowerCase()==="android"?"android":t[1].toLocaleLowerCase()==="qqnews"?"ios":"unknown"},Me=()=>{let e=$t(window.location.href,"ADTAG");return e||(V()?e="news":Oe()?e="wx":en()?e="qq":e="unknown"),e},eo=()=>{const e={version:"unknown",systemVersion:"unknown",networkStatus:"unknown",deviceId:"unknown",omgid:"unknown",uid:"unknown",suid:"unknown",QIMEI36:"unknown"};return Promise.all([_t,ht]).then(t=>{const[n,i]=t,s=Object.assign(e,n),a={appVersion:s.version,systemVersion:s.systemVersion,appNetwork:s.networkStatus,systemOS:Zn(n==null?void 0:n.versionForQQNews),deviceId:s.deviceId,openid:Xn(i),omgid:s.omgid,uid:s.uid,suid:s.suid,QIMEI36:s.QIMEI36,qquin:Ne("uin")?Ne("uin"):"unknown",mediaId:Yn(i),openFrom:Me(),ADTAG:Me()};window[ce]=a})},to=()=>{const e={openFrom:Me(),ADTAG:Me()};return new Promise(t=>{window[ce]=e,t(e)})},no=(e,t)=>{V()&&tn({eventID:e,params:t})},bt=(e,t,n=!1)=>{if(no(e,t),window[ce]){const i=window[ce],s=Object.assign({},t,i);n===!0?U.onDirectUserAction(e,s):U.onUserAction(e,s)}else V()?eo().then(()=>{const i=window[ce],s=Object.assign({},t,i);n===!0?U.onDirectUserAction(e,s):U.onUserAction(e,s)}):to().then(()=>{const i=window[ce],s=Object.assign({},t,i);n===!0?U.onDirectUserAction(e,s):U.onUserAction(e,s)})},oo=()=>U.getDeviceId();var nt={report:bt,getDeviceId:oo};class so{constructor(t,n,i){this.frozen=!1,this.options=null,this.oldResult=null,this.eventCode="",this.direct=!1,this.params={activityId:""};const{value:s}=n;this.el=t,this.frozen=!1,this.eventCode=s.EventCode,this.direct=s.Direct,this.params=s.Params||{},this.doReport(s,i)}doReport(t,n){this.frozen||(this.options=tt(t),this.callback=(...i)=>{nt.report(this.eventCode,this.params,this.direct)},this.el.addEventListener("click",()=>{this.callback()}))}}const io=(e,t,n)=>{new so(e,t,n)};class ao{constructor(t,n,i){this.frozen=!1,this.options=null,this.oldResult=null,this.eventCode="",this.direct=!1,this.params={activityId:""};const{value:s}=n;this.el=t,this.frozen=!1,this.eventCode=s.EventCode,this.direct=s.Direct,this.params=s.Params||{},this.doReport(s,i)}doReport(t,n){this.frozen||(this.options=tt(t),this.callback=(...i)=>{nt.report(this.eventCode,this.params,this.direct)},this.callback())}}const ro=(e,t,n)=>{new ao(e,t,n)};class co{constructor(t,n,i){this.frozen=!1,this.eventCode="",this.direct=!1,this.params={activityId:""},this.createObserverCallback=a=>{a===!0&&nt.report(this.eventCode,this.params,this.direct),a&&this.options.once&&(this.frozen=!0,this.destroyObserver())},this.setObserver=()=>{this.observer=new IntersectionObserver(a=>{let r=a[0];if(a.length>1){const d=a.find(u=>u.isIntersecting);d&&(r=d)}const c=d=>{const u=d.isIntersecting&&d.intersectionRatio>=this.threshold;u!==this.oldResult&&(this.oldResult=u,this.callback(u,d))};this.callback&&c(r)},this.options.intersection)};const{value:s}=n;this.el=t,this.observer=null,this.frozen=!1,this.eventCode=s.EventCode,this.direct=s.Direct,this.params=s.Params||{},this.createObserver(s,i)}get threshold(){var t;return((t=this.options.intersection)==null?void 0:t.threshold)||0}createObserver(t,n){if(this.observer&&this.destroyObserver(),this.frozen)return;this.options=tt(t),this.callback=(s,a)=>{this.createObserverCallback(s)},(()=>{if(this.callback&&this.options.throttle){const{leading:s}=this.options.throttleOptions||{},a=(r,c)=>r==="visible"&&c||r==="hidden"&&!c;this.callback=yn(this.callback,this.options.throttle,{leading:r=>s==="both"||a(s,r)})}})(),this.oldResult=void 0,this.setObserver(),vt(()=>{this.observer&&this.observer.observe(this.el)})}destroyObserver(){var t;this.observer&&(this.observer.disconnect(),this.observer=null),(t=this.callback)!=null&&t._clear&&(this.callback._clear(),this.callback=null)}}const Ct=(e,t,n)=>{const i=e,{value:s}=t;if(!!s&&typeof IntersectionObserver!="undefined"){const a=new co(e,t,n);i._vue_visibilityState=a}},kt=e=>{const t=e,n=e._vue_visibilityState;n&&(n.destroyObserver(),delete t._vue_visibilityState)},lo=(e,t,n)=>{const{value:i,oldValue:s}=t;if(wt(i,s))return;const a=e._vue_visibilityState;if(!i){kt(e);return}a?a.createObserver(i,n):Ct(e,{value:i},n)};var uo={beforeMount:Ct,update:lo,beforeUnmount:kt};const po="centralAxis",It={packageName:"com.tencent.news",downloadUrl:"http://dldir1.qq.com/dlomg/inews/TencentNews_14010.apk",wxAppId:"wx073f4a4daff0abe8",appleStoreId:"399363156",appName:"\u817E\u8BAF\u65B0\u95FB-\u6253\u5F00\u773C\u754C",downLogo:"https://mat1.gtimg.com/qqcdn/tupload/1640679662268.png"},o="https://mat1.gtimg.com/qqcdn/tnewsh5/short-term/centralAxis",go="https://new.qq.com/qqfile/tnewsh5/short-term/centralAxis/centralAxis.html#/invite",ho={title:"\u817E\u8BAF\u65B0\u95FB\u9080\u4F60\u4E91\u6E38\u5317\u4EAC\u4E2D\u8F74\u7EBF",longTitle:"\u817E\u8BAF\u65B0\u95FB\u9080\u4F60\u4E91\u6E38\u5317\u4EAC\u4E2D\u8F74\u7EBF",content:"\u9650\u91CF\u7248\u4EAC\u5473\u513F\u6570\u5B57\u85CF\u54C1\u7B49\u4F60\u6765\u62FF\uFF01",url:go,imgUrl:`${o}/share.jpg`},Ke=72,Ye=360*2,ot=1766,_={width:720,height:1280,antialias:!0,transparent:!0},ct={width:680,height:1309,antialias:!0,backgroundColor:16777215},G=740,Ae={0:{y:0},1:{y:170},2:{y:339},3:{y:482},4:{y:620},5:{y:764},6:{y:910},7:{y:1080},8:{y:1220},9:{y:120+_.height},10:{y:250+_.height},11:{y:465+_.height},12:{y:590+_.height},13:{y:750+_.height},14:{y:875+_.height},15:{y:1050+_.height},16:{y:1200+_.height},17:{y:1335+_.height},18:{y:1475+_.height},19:{y:1620+_.height},20:{y:1815+_.height},21:{y:486+165+_.height*2},22:{y:370+486+_.height*2},23:{y:515+486+_.height*2},24:{y:650+486+_.height*2},25:{y:757+486+_.height*2},26:{y:900+486+_.height*2},27:{y:900+486+_.height*2,playerY:G-135},28:{y:900+486+_.height*2,playerY:G-250},29:{y:900+486+_.height*2,playerY:G-410},30:{y:900+486+_.height*2,playerY:G-560},31:{y:900+486+_.height*2,playerY:G-695}},ve=31,_o="qqnews://article_9527?nm=RUS2022061100001200&from=xinnianbizhi_share",mo=e=>{if(V())return Pe({url:e});new Gn(It).downloadApp({openUrl:e})};var xt=(e=>(e.list="centralaxis_list",e.question="centralaxis_question",e.videoWrap="centralaxis_video_wrap",e.clothesCplist="centralaxis_clothes_cplist",e.task="centralaxis_task",e))(xt||{});const fo={appid:"news_h5",appkey:"9c25e5f15027451bb4ab856c030007cb",schema:xt},Te=5,Ce="__STEP",vo=2,wo=1,yo=()=>{const{appkey:e,appid:t,schema:n}=fo;return yt({appid:t,appkey:e,schema:[n.list,n.question,n.videoWrap,n.clothesCplist,n.task]})},$o=()=>{const e=Fn(1,5);return new Promise(t=>{t({spot_number:e})})},lt=window.navigator.userAgent,So=$t(window.location.href,"isVisit"),ke=/bjnews/.test(lt.toLocaleLowerCase())||/beijingnews/.test(lt.toLocaleLowerCase())||So,le=e=>e>=10?e:`0${e}`,bo=15,Co=20,Xe={todayCount:ke?Co:bo,taskStatus:[!1,!1],followStatus:[!1,!1,!1]},ut=new Date(new Date().getTime()-24*60*60*1e3),ko=`${le(ut.getMonth()+1)}-${le(ut.getDate())}`,ie=`${le(new Date().getMonth()+1)}-${le(new Date().getDate())}`;localStorage.removeItem(ko);const A=nn("centralAxis",{state:()=>({isLogin:!1,isVideoShow:!1,isUpdate:!1,isTaskShow:!1,isTurntableReady:!0,isDialogShow:!1,isPosterShow:!1,userInfo:{nickname:"\u6E38\u5BA2",headimgurl:"https://mat1.gtimg.com/qqcdn/tnewsh5/core/news_logo_200.png"},base64Url:"",farthestKm:"0",currentStep:0,todayStatus:Xe,taskList:[],configList:[],unlockList:[],questionData:{link:"",rules:""},cpList:[],videoList:[],videoInfo:{}}),actions:{getTodayStauts(){fe(`${ie}`).then(e=>{if(e===null||e==="")B(`${ie}`,JSON.stringify(Xe));else try{this.todayStatus=JSON.parse(e)}catch(t){this.todayStatus=Xe}})},getUnlockList(){fe("__UNLOCK_LIST").then(e=>{if(e!==null&&e!=="")try{this.unlockList=JSON.parse(e)}catch(t){this.unlockList=[]}}),fe("__FARTHEST_KM").then(e=>{e!==null&&e!==""?this.farthestKm=e:B("__FARTHEST_KM","0")})},setTodayCount(e){e?this.todayStatus.todayCount=this.todayStatus.todayCount+vo:this.todayStatus.todayCount=this.todayStatus.todayCount-wo,B(ie,JSON.stringify(this.todayStatus))},getCurrentSteps(){return this.getTodayStauts(),this.getUnlockList(),new Promise(e=>{fe(Ce).then(t=>{t===null||t===""?(B(Ce,"0"),this.currentStep=0%ve,e(0)):(this.currentStep=Number(t)%ve,e(this.currentStep))})})},setUnlockList(e){this.unlockList.indexOf(e)===-1&&(this.unlockList.push(e),B("__UNLOCK_LIST",JSON.stringify(this.unlockList)))},setFarthestKm(e){Number(e)>Number(this.farthestKm)&&(this.farthestKm=e,B("__FARTHEST_KM",e))},setBase64(e){this.base64Url=e},getWjConfig(){yo().then(e=>{const[t]=e.centralaxis_question.data;this.questionData=t,this.videoList=e.centralaxis_video_wrap.data,this.cpList=e.centralaxis_clothes_cplist.data,this.taskList=e.centralaxis_task.data,this.configList=e.centralaxis_list.data,On(ho,{title:t.shareTitle,longTitle:t.shareTitle,content:t.shareDes,imgUrl:t.shareIcon})})},getUserInfo(e){Nn().then(t=>{this.userInfo=t,e&&e()})},checkLogin(){pt().then(e=>{e.hasLogin?this.getUserInfo(()=>{this.isLogin=!0}):gt().then(()=>{window.location.reload()})})},setTaskStatus(e){this.todayStatus.taskStatus[e]=!0,this.todayStatus.todayCount+=1,B(ie,JSON.stringify(this.todayStatus))},setFollowStatus(e){this.todayStatus.followStatus[e]=!0,this.todayStatus.todayCount+=1,B(ie,JSON.stringify(this.todayStatus))},showPoster(){this.isPosterShow=!0},hidePoster(){this.isPosterShow=!1},showDialog(){this.isDialogShow=!0,console.log(111)},hideDialog(){this.isDialogShow=!1},showTask(){this.isTaskShow=!0},hideTask(){this.isTaskShow=!1},setCurrentStep(e){this.currentStep=e},setTurntableReady(e){this.isTurntableReady=e},setVideoInfo(e){this.videoInfo=e},setIsVideoStatus(e){this.isVideoShow=e},setUpdate(){this.isUpdate=!this.isUpdate}},getters:{todayFollowList:e=>{var n;return(n=e.cpList)==null?void 0:n.filter(i=>{const s=`${le(new Date(i.effectiveTime).getMonth()+1)}-${le(new Date(i.effectiveTime).getDate())}`;return ie===s})}}});var I=(e,t)=>{const n=e.__vccOpts||e;for(const[i,s]of t)n[i]=s;return n};const Io=k({props:{idx:{type:Number},suid:{type:String,default:""},w:{type:String,default:""},h:{type:String,default:""},bgColor:{type:String,default:""},textColor:{type:String,default:""}},setup(e){const t=R(!1),n=A(),i=w(()=>n.isLogin),s=w(()=>n.isUpdate),a=w(()=>n.todayStatus.followStatus),r=()=>{sn({focusIds:JSON.stringify([e.suid])}).then(y=>{t.value=Boolean(y[e.suid])})};et(()=>s.value,()=>{r()});const{checkLogin:c,setUpdate:d,setFollowStatus:u}=n,p=()=>{jn(e.suid,()=>{d(),typeof e.idx=="number"&&!a.value[e.idx]&&(Be({text:"\u4F53\u529B+1"}),u(e.idx)),t.value=!0},()=>{console.log("\u7248\u672C\u8FC7\u4F4E")})},v=()=>{if(!i.value){c();return}p()};return qe(()=>{r()}),{isFollow:t,followMedia:v}}}),xo={key:1};function Eo(e,t,n,i,s,a){return m(),f("div",{class:"common-btn follow-btn",style:Z({width:`${e.w}px`,height:`${e.h}px`,background:e.isFollow?e.textColor:e.bgColor,color:e.isFollow?e.bgColor:e.textColor})},[e.isFollow?(m(),f("div",xo,"\u5DF2\u5173\u6CE8")):(m(),f("div",{key:0,class:"text-warp",onClick:t[0]||(t[0]=(...r)=>e.followMedia&&e.followMedia(...r))},[on(e.$slots,"btnText",{},void 0,!0)]))],4)}var Re=I(Io,[["render",Eo],["__scopeId","data-v-c6eb251a"]]);const Fo=k({components:{Popup:Ue,FollowBtn:Re},setup(){const e=A(),t=w(()=>e.isTaskShow),n=w(()=>e.todayStatus.taskStatus),i=w(()=>e.todayFollowList),s=w(()=>e.taskList),{hideTask:a,setTaskStatus:r}=e;return{IMAGE_PREFIX:o,cpList:i,taskList:s,isTaskShow:t,hideTask:a,toMediaHome:u=>{const p=`qqnews://article_9563?home_page_type=2&cpid=${u}&from=xinnianbizhi_share`;Pe({url:p})},btnClick:(u,p)=>{n.value[p]?Be({text:"\u4ECA\u65E5\u5DF2\u5B8C\u6210"}):(Be({text:"\u4F53\u529B+1"}),r(p)),Pe({url:u})}}}}),st=e=>(ue("data-v-c9417d02"),e=e(),de(),e),To={class:"task-wrap"},Ao=st(()=>l("div",{class:"title"},null,-1)),Do=st(()=>l("div",{class:"tips"},"\u6BCF\u65E50\u70B9\u66F4\u65B0\u4EFB\u52A1",-1)),Bo=st(()=>l("div",{class:"task"},null,-1)),Po={class:"task-list"},No={class:"task-icon"},Lo=["src"],Mo={class:"task-info"},Oo={class:"task-subtitle"},qo={class:"task-des"},Uo=["onClick"],Ro={key:0,class:"task-follow"},zo=["onClick"],Wo={class:"follow-name"},jo=["src"],Go=Ee("\u5173\u6CE8"),Vo=[Go];function Ho(e,t,n,i,s,a){const r=Re,c=xe("Popup"),d=x("report-click");return m(),Ie(c,{show:e.isTaskShow,"onUpdate:show":t[1]||(t[1]=u=>e.isTaskShow=u),position:"bottom",style:{background:"transparent",height:"830px"},onClickOverlay:e.hideTask},{default:ye(()=>[l("div",To,[l("div",{class:"task-close",onClick:t[0]||(t[0]=(...u)=>e.hideTask&&e.hideTask(...u))}),Ao,Do,Bo,l("div",Po,[(m(!0),f(Se,null,Ze(e.taskList,(u,p)=>(m(),f("div",{class:"task-items",key:p},[l("div",No,[l("img",{src:u.icon},null,8,Lo)]),l("div",Mo,[l("div",Oo,N(u.title),1),l("div",qo,N(u.des),1)]),u.btn?b((m(),f("div",{key:0,class:"task-btn",onClick:v=>e.btnClick(u.scheme,p)},[l("span",null,N(u.btn),1)],8,Uo)),[[d,{EventCode:"news_h5_common_click",Params:{activityId:"centralAxis",eventCode:"taskBtn"},Direct:!0}]]):$e("",!0)]))),128))]),e.cpList?(m(),f("div",Ro,[(m(!0),f(Se,null,Ze(e.cpList.slice(0,3),(u,p)=>(m(),f("div",{class:"follow-item",key:u},[l("div",{class:"follow-head",style:Z({backgroundImage:`url(${u.avatar})`}),onClick:v=>e.toMediaHome(u.cpid)},null,12,zo),l("div",Wo,N(u.cpname),1),F(r,{w:152,h:51,textColor:"#fff",bgColor:"#aa8056",suid:u.suid,idx:p},{btnText:ye(()=>[l("img",{class:"icon-follow",src:`${e.IMAGE_PREFIX}/icon-add.png`},null,8,jo),b((m(),f("span",null,Vo)),[[d,{EventCode:"news_h5_common_click",Params:{activityId:"centralAxis",eventCode:"xgf_zzx_pop_follow_click"},Direct:!0}]])]),_:2},1032,["suid","idx"])]))),128))])):$e("",!0)])]),_:1},8,["show","onClickOverlay"])}var Et=I(Fo,[["render",Ho],["__scopeId","data-v-c9417d02"]]);const Qo=k({props:{},components:{Overlay:an},setup(){const e=A(),t=w(()=>e.videoInfo),n=w(()=>e.isVideoShow),{setIsVideoStatus:i}=e;et(()=>t.value,c=>{i(!0),vt(()=>{r(c)})});const s=()=>{i(!1)},a=R(),r=c=>{a.value=new rn({container:".container"}),a.value.play({vid:c.vid})};return{isVideoShow:n,hideVideo:s}}}),Jo={key:0,class:"container"};function Ko(e,t,n,i,s,a){const r=xe("Overlay");return m(),f("div",{class:be(["common-player",{show:e.isVideoShow,hide:!e.isVideoShow}])},[F(r,{onClick:e.hideVideo,show:e.isVideoShow},null,8,["onClick","show"]),e.isVideoShow?(m(),f("div",Jo)):$e("",!0)],2)}var Ft=I(Qo,[["render",Ko],["__scopeId","data-v-1d4fa2b4"]]);const Yo=k({props:{videoItems:{type:Object,default:()=>({})}},components:{FollowBtn:Re},setup(){const e=A(),t=w(()=>e.videoList),{setVideoInfo:n}=e;return{toMediaHome:a=>{const r=`qqnews://article_9563?home_page_type=2&cpid=${a}&from=xinnianbizhi_share`;window.location.href=r},videoList:t,IMAGE_PREFIX:o,showCurrentVideo:a=>{const{vid:r,poster:c}=a;n({vid:r,poster:c})}}}}),Xo=e=>(ue("data-v-04ff17ae"),e=e(),de(),e),Zo={class:"items-title"},es={class:"video-items"},ts=Xo(()=>l("div",{class:"play-btn"},null,-1)),ns=[ts],os={class:"sub-title"},ss={class:"userinfo"},is=["src"],as={class:"nickname"},rs=Ee("\u5173\u6CE8"),cs=[rs],ls=["src"];function us(e,t,n,i,s,a){const r=Re,c=x("report-click");return m(),f(Se,null,[l("div",Zo,[l("div",{class:"title-text",style:Z({"background-image":`url(${e.videoItems.title})`})},null,4)]),l("div",es,[b((m(),f("div",{class:"cover-img",style:Z({"background-image":`url(${e.videoItems.poster})`}),onClick:t[0]||(t[0]=d=>e.showCurrentVideo(e.videoItems))},ns,4)),[[c,{EventCode:"news_h5_common_click",Params:{activityId:"centralAxis",eventCode:"xgf_zzx_lindex_video_click"},Direct:!0}]]),l("div",os,N(e.videoItems.headlines),1),l("div",ss,[l("img",{class:"avatar",src:e.videoItems.avatar,onClick:t[1]||(t[1]=d=>e.toMediaHome(e.videoItems.mediaId))},null,8,is),l("span",as,N(e.videoItems.name),1),F(r,{w:91,h:36,textColor:"#fff",bgColor:"#c52a2a",suid:e.videoItems.suid,class:"foursBtn"},{btnText:ye(()=>[b((m(),f("span",null,cs)),[[c,{EventCode:"news_h5_common_click",Params:{activityId:"centralAxis",eventCode:"xgf_zzx_lindex_follow_click"},Direct:!0}]]),l("img",{class:"icon-follow",src:`${e.IMAGE_PREFIX}/icon-add.png`,alt:""},null,8,ls)]),_:1},8,["suid"])])])],64)}var Tt=I(Yo,[["render",us],["__scopeId","data-v-04ff17ae"]]);const ds=k({props:{},components:{VideoItems:Tt},setup(){const e=A();return{videoList:w(()=>e.videoList)}}}),At=e=>(ue("data-v-15c47ed8"),e=e(),de(),e),ps={class:"video-list"},gs=At(()=>l("div",{class:"video-title"},null,-1)),hs=At(()=>l("div",{class:"video-tips"},[l("img",{src:"https://mat1.gtimg.com/qqcdn/tnewsh5/short-term/centralAxis/video-icon.png",alt:""}),l("img",{src:"https://mat1.gtimg.com/qqcdn/tnewsh5/short-term/centralAxis/video-tips.png",alt:""})],-1));function _s(e,t,n,i,s,a){const r=Tt;return m(),f("div",ps,[gs,(m(!0),f(Se,null,Ze(e.videoList,c=>(m(),Ie(r,{key:c.id,videoItems:c},null,8,["videoItems"]))),128)),hs])}var Dt=I(ds,[["render",_s],["__scopeId","data-v-15c47ed8"]]);const ms=k({emit:["close-music"],props:{},setup(e,{emit:t}){const n=A(),i=w(()=>n.questionData);return{anwerClick:()=>{t("close-music"),Pe({url:i.value.link})},questionData:i}}}),Bt=e=>(ue("data-v-3a999e5c"),e=e(),de(),e),fs={class:"question-wrap"},vs=Bt(()=>l("div",{class:"icon-ydm2"},null,-1)),ws={class:"wrap"},ys={class:"question"},$s=Bt(()=>l("div",{class:"btn"},null,-1)),Ss=[$s];function bs(e,t,n,i,s,a){const r=x("report-click");return m(),f("div",fs,[vs,l("div",ws,[l("div",ys,N(e.questionData.question),1),b((m(),f("div",{class:"btns",onClick:t[0]||(t[0]=(...c)=>e.anwerClick&&e.anwerClick(...c))},Ss)),[[r,{EventCode:"news_h5_common_click",Params:{activityId:"centralAxis",eventCode:"xgf_zzx_lindex_question_click"},Direct:!0}]])])])}var Pt=I(ms,[["render",bs],["__scopeId","data-v-3a999e5c"]]);const h=(e,t)=>{const n=cn.from(e);return Object.keys(t).forEach(i=>n[i]=t[i]),n},S={},it=_.height-ot,we=new T,Cs=h(`${o}/newBg1.png`,{y:it}),ks=h(`${o}/newBg2.png`,{y:-ot+it}),Is=h(`${o}/newBg3.png`,{y:-ot*2+it});we.addChild(Cs,ks,Is);const P=new T,xs=e=>{S.playerWalk=Hn(`${o}/game-player-move.png`,6),S.playerWalk.x=_.width/2,S.playerWalk.alpha=0;const t=re(S.playerWalk,_);S.playerWalk.pivot.x=t.centerX,S.playerWalk.play(),S.playerStand=h(`${o}/game-player.png`,{x:_.width/2,alpha:1}),P.addChild(S.playerStand,S.playerWalk),P.y=G;const n=re(S.playerStand,_);S.playerStand.pivot.x=n.centerX;const i=new T;e.stage.addChild(i,we,P)},Es=26,De=(e,t)=>{const n=e.endStep-e.addStep;if(e.endStep>ve){const s=ve-n;dt(s+3),ae.timeline().to(P,{y:-P.height,duration:s,ease:"none"}).to(P,{alpha:0,duration:0}).to(we,{y:0,duration:1,ease:"none"}).to(P,{y:G+P.height}).to(P,{y:G,alpha:1,duration:1.5,ease:"none",onComplete:()=>{t(e.endStep-ve)}});return}if(dt(e.addStep),e.endStep>Es){ae.timeline().to(we,{y:Ae[e.endStep].y,duration:e.addStep,ease:"none"}),ae.to(P,{y:Ae[e.endStep].playerY,duration:e.addStep,ease:"none",onComplete:()=>{t()}});return}ae.timeline().to(we,{y:Ae[e.endStep].y,duration:e.addStep,ease:"none",onComplete:()=>{t()}})},Fs=(e,t)=>{ae.to(".turntable",{rotate:-e,duration:2,ease:"circ.out",onComplete:()=>{t()}})},dt=e=>{ae.timeline().to(S.playerWalk,{duration:0,alpha:1}).to(S.playerStand,{duration:0,alpha:0}).to(S.playerWalk,{delay:e,duration:0,alpha:0}).to(S.playerStand,{duration:0,alpha:1})},Ts=e=>{const t=new T,n=h(`${o}/poster-map-bg.png`,{}),i=new T;i.x=108;const s=h(`${o}/tag-ydm.png`,{x:235,y:655,alpha:Number(e.includes(1))}),a=h(`${o}/tag-yongdingmen.png`,{x:108,y:633,alpha:Number(e.includes(2))}),r=h(`${o}/tag-xiannongtan.png`,{x:46,y:599,alpha:Number(e.includes(3))}),c=h(`${o}/tag-tiantan.png`,{x:342,y:610,alpha:Number(e.includes(4))}),d=h(`${o}/tag-nandajie.png`,{x:261,y:592,alpha:Number(e.includes(6))}),u=h(`${o}/tag-qianmen.png`,{x:115,y:551,alpha:Number(e.includes(8))}),p=h(`${o}/tag-zhengyangmen.png`,{x:135,y:464,alpha:Number(e.includes(10))}),v=h(`${o}/tag-tiananmenjianzhu.png`,{x:261,y:430,alpha:Number(e.includes(11))}),y=h(`${o}/tag-jinshuiqiao.png`,{x:113,y:400,alpha:Number(e.includes(13))}),E=h(`${o}/tag-tiananmen.png`,{x:251,y:345,alpha:Number(e.includes(14))}),$=h(`${o}/tag-shejitan.png`,{x:0,y:316,alpha:Number(e.includes(16))}),D=h(`${o}/tag-taimiao.png`,{x:377,y:317,alpha:Number(e.includes(17))}),L=h(`${o}/tag-duanmen.png`,{x:148,y:305,alpha:Number(e.includes(18))}),Q=h(`${o}/tag-gugong.png`,{x:222,y:244,alpha:Number(e.includes(19))}),J=h(`${o}/tag-jingshan.png`,{x:144,y:190,alpha:Number(e.includes(21))}),K=h(`${o}/tag-neidajie.png`,{x:107,y:166,alpha:Number(e.includes(24))}),z=h(`${o}/tag-wanningqiao.png`,{x:230,y:150,alpha:Number(e.includes(25))}),Y=h(`${o}/tag-waidajie.png`,{x:264,y:119,alpha:Number(e.includes(26))}),M=h(`${o}/tag-gulou.png`,{x:130,y:69,alpha:Number(e.includes(28))}),ee=h(`${o}/tag-zhonglou.png`,{x:220,y:10,alpha:Number(e.includes(29))});return i.addChild(M,z,J,ee,$,Q,D,E,v,K,Y,d,y,u,r,s,a,c,L,p),t.addChild(n,i),t},As=e=>{let t=`${o}/poster-title-qt.png`;return(()=>{[0,1,2,3,4,5,6].includes(e)&&(t=`${o}/poster-title-qt.png`)})(),(()=>{[7,8,9,10,11].includes(e)&&(t=`${o}/poster-title-by.png`)})(),(()=>{[12,13,14,15].includes(e)&&(t=`${o}/poster-title-hj.png`)})(),(()=>{[16,17,18].includes(e)&&(t=`${o}/poster-title-zs.png`)})(),(()=>{e>=19&&(t=`${o}/poster-title-zq.png`)})(),t},Ds=(e,t,n)=>{const i=String(n.length),s=As(n.length),a=new T;e.stage.addChild(a);const r=h(`${o}/poster-bg-new.png`,{}),c=h(`${o}/poster-headbg.png`,{width:60,height:60}),d=new T;d.x=55,d.y=58;const u=h(t.headUrl,{width:55,height:55,x:2.5,y:2.5}),p=new ln;p.beginFill(14814527),p.drawCircle(85,88,u.width/2),p.endFill(),u.mask=p;const v=new se(t.name,{fontFamily:"SourceHanSansCN-Regular",fontSize:24,fill:"0x865321"});v.x=65,v.y=14,d.addChild(c,u,v);const y=new T;y.x=56,y.y=133;const E=h(`${o}/poster-text1.png`,{y:0}),$=h(`${o}/poster-text2.png`,{x:i.length>1?175:155,y:1}),D=h(`${o}/poster-text3.png`,{y:42}),L=h(s,{x:142,y:42}),Q=new se(i,{fontSize:34,fill:"0xe23030"});Q.x=135,Q.y=mt()?-3:-10,y.addChild(E,$,D,L,Q),ke&&(d.alpha=0,y.y=113);const J=new T;J.y=273;const K=new T;K.x=126;const z=new se(i,{fontFamily:"SourceHanSansCN-Medium",fontSize:35,fill:"0x5d4227"}),Y=new se("\u89E3\u9501\u9057\u4EA7\u70B9",{fontFamily:"SourceHanSansCN-Regular",fontSize:24,fill:"0x865321"}),M=re(Y,_),ee=re(z,_);z.x=M.centerX,Y.y=42,z.pivot.x=ee.centerX,K.addChild(Y,z);const te=new T;te.x=438;const ge=t.km,ne=new se(ge,{fontFamily:"SourceHanSansCN-Medium",fontSize:35,fill:"0x5d4227"}),oe=new se("\u91CC\u7A0B(\u516C\u91CC)",{fontFamily:"SourceHanSansCN-Regular",fontSize:24,fill:"0x865321"}),W=re(oe,_),ze=re(ne,_);ne.x=W.centerX,oe.y=42,ne.pivot.x=ze.centerX,te.addChild(oe,ne),J.addChild(K,te);const O=h(`${o}/poster-logo-new.png`,{x:53,y:1148}),We=h(`${o}/poster-des.png`,{x:303,y:1150}),je=h(`${o}/poster-qrwrap.png`,{x:522,y:1150}),he=Ts(n);he.x=36,he.y=372;const j=h(`${o}${ke?"/beijingnews-qrcode.png":"/qrcode-default.png"}`,{width:100,height:100,x:528.5,y:1157.5});a.addChild(r,d,y,J,O,We,he,je,j)},Bs=k({components:{Popup:Ue},setup(){const e=A(),t=w(()=>e.isDialogShow),n=w(()=>e.currentStep),i=w(()=>e.configList),{hideDialog:s,setCurrentStep:a,setTurntableReady:r}=e;return{isDialogShow:t,currentStep:n,hideDialogFun:()=>{s(),i.value[n.value].action==="back"&&(B(Ce,`${n.value-Te}`),r(!1),De({addStep:Te,endStep:n.value-Te},()=>{a(n.value-Te),r(!0)}))},configList:i,POSITION_CONFIG:Ae,IMAGE_PREFIX:o}}}),Ps={class:"dialog-wrap"};function Ns(e,t,n,i,s,a){const r=xe("Popup");return m(),Ie(r,{show:e.isDialogShow,"onUpdate:show":t[1]||(t[1]=c=>e.isDialogShow=c),style:{background:"transparent"},onClickOverlay:e.hideDialogFun},{default:ye(()=>[l("div",Ps,[l("div",{class:be(["dialog",{bigDialog:e.configList[e.currentStep].action==="scenic"}])},[l("div",{class:"dialog-title",style:Z({backgroundImage:`url(${e.configList[e.currentStep].title})`})},null,4),l("div",{class:be(["dialog-content",`s-${e.POSITION_CONFIG[e.currentStep].y}`]),style:Z({backgroundImage:`url(${e.configList[e.currentStep].container})`})},null,6),l("div",{class:"dialog-btns",onClick:t[0]||(t[0]=(...c)=>e.hideDialogFun&&e.hideDialogFun(...c)),style:Z({backgroundImage:`url(${e.configList[e.currentStep].btn})`})},null,4)],2)])]),_:1},8,["show","onClickOverlay"])}var Nt=I(Bs,[["render",Ns]]);const Ls=k({setup(){const e=A(),t=w(()=>e.unlockList),{showPoster:n,hidePoster:i}=e;return{showPosterFun:()=>{n()},hidePosterFun:()=>{i()},unlockArrList:t}}}),Lt=e=>(ue("data-v-4cd986cc"),e=e(),de(),e),Ms={class:"wrap"},Os=Lt(()=>l("div",{class:"icon-ydm1"},null,-1)),qs=Ee(" \u6211\u5DF2\u89E3\u9501 "),Us={class:"number"},Rs=Ee(" \u5904\u9057\u4EA7\u70B9\uFF0C\u751F\u6210\u6211\u7684\u4E91\u6E38\u8005\u8BC1\u4E66 "),zs=Lt(()=>l("div",{class:"icon-arrow"},null,-1));function Ws(e,t,n,i,s,a){const r=x("report-click");return m(),f("div",Ms,[Os,b((m(),f("div",{class:"tips",onClick:t[0]||(t[0]=(...c)=>e.showPosterFun&&e.showPosterFun(...c))},[qs,l("div",Us,N(e.unlockArrList.length),1),Rs,zs])),[[r,{EventCode:"news_h5_common_click",Params:{activityId:"centralAxis",eventCode:"xgf_zzx_lindex_certificate_click"},Direct:!0}]])])}var Mt=I(Ls,[["render",Ws],["__scopeId","data-v-4cd986cc"]]);const js=k({components:{Popup:Ue},setup(){const e=A(),t=w(()=>e.isPosterShow),n=w(()=>e.base64Url),{hidePoster:i}=e;return{longtap:()=>{bt("news_h5_common_click",{activityId:"centralAxis",eventCode:"xgf_zzx_pop_certificate_share_longtap"})},isPosterShow:t,hidePoster:i,base64Url:n}}}),Gs={class:"share-dialog"},Vs={class:"poster-img"},Hs=["src"],Qs={class:"share-btn"};function Js(e,t,n,i,s,a){const r=xe("Popup"),c=x("touch"),d=x("report-click"),u=x("report-exp");return m(),Ie(r,{show:e.isPosterShow,"onUpdate:show":t[1]||(t[1]=p=>e.isPosterShow=p),style:{background:"transparent"},onClickOverlay:e.hidePoster},{default:ye(()=>[b((m(),f("div",Gs,[l("div",Vs,[l("div",{class:"close",onClick:t[0]||(t[0]=(...p)=>e.hidePoster&&e.hidePoster(...p))}),b(l("img",{class:"poster",src:e.base64Url},null,8,Hs),[[c,e.longtap,"hold"]])]),b(l("div",Qs,null,512),[[d,{EventCode:"news_h5_common_click",Params:{activityId:"centralAxis",eventCode:"xgf_zzx_pop_certificate_share_click"},Direct:!0}]])])),[[u,{EventCode:"news_h5_common_view",Params:{activityId:"centralAxis",eventCode:"xgf_zzx_pop_certificate_exp"},Direct:!0,once:!0}]])]),_:1},8,["show","onClickOverlay"])}var Ot=I(js,[["render",Js]]);const Ks=[{name:"\u4EBA\u7269\u9759\u6B62",url:`${o}/game-player.png`},{name:"\u4EBA\u7269\u79FB\u52A8",url:`${o}/game-player-move.png`},{name:"bg-1",url:`${o}/newBg1.png`},{name:"bg-new-2",url:`${o}/newBg2.png`},{name:"bg-3",url:`${o}/newBg3.png`}],Ys=[{name:"\u6D77\u62A5\u80CC\u666F",url:`${o}/poster-bg-new.png`},{name:"\u6D77\u62A5\u5730\u56FE",url:`${o}/poster-map-bg.png`},{name:"\u5934\u50CF\u80CC\u666F",url:`${o}/poster-headbg.png`},{name:"\u5E95\u90E8\u5C0F\u5B57",url:`${o}/poster-des.png`},{name:"logo",url:`${o}/poster-logo-new.png`},{name:"\u6211\u89E3\u9501\u4E86",url:`${o}/poster-text1.png`},{name:"xxx\u5904\u9057\u4EA7\u70B9",url:`${o}/poster-text2.png`},{name:"\u83B7\u5F97\u79F0\u53F7",url:`${o}/poster-text3.png`},{name:"\u79F0\u53F7",url:`${o}/poster-text4.png`},{name:"tag-\u6545\u5BAB",url:`${o}/tag-gugong.png`},{name:"tag-\u666F\u5C71",url:`${o}/tag-jingshan.png`},{name:"tag-\u793E\u7A37\u575B",url:`${o}/tag-shejitan.png`},{name:"tag-\u592A\u5E99",url:`${o}/tag-taimiao.png`},{name:"tag-\u5929\u5B89\u95E8",url:`${o}/tag-tiananmen.png`},{name:"tag-\u5929\u5B89\u95E8\u5EFA\u7B51\u7FA4",url:`${o}/tag-tiananmenjianzhu.png`},{name:"tag-\u5929\u575B",url:`${o}/tag-tiantan.png`},{name:"tag-\u4E07\u5B81\u6865",url:`${o}/tag-wanningqiao.png`},{name:"tag-\u5148\u519C\u575B",url:`${o}/tag-xiannongtan.png`},{name:"tag-\u6C38\u5B9A\u95E8",url:`${o}/tag-ydm.png`},{name:"tag-\u6C38\u5B9A\u95E8\u9057\u5740",url:`${o}/tag-yongdingmen.png`},{name:"tag-\u9F13\u697C",url:`${o}/tag-gulou.png`},{name:"tag-\u949F\u697C",url:`${o}/tag-zhonglou.png`},{name:"tag-\u7AEF\u95E8",url:`${o}/tag-duanmen.png`},{name:"tag-\u5929\u575B\u5357\u5927\u8857",url:`${o}/tag-nandajie.png`},{name:"tag-\u5730\u5B89\u95E8\u5185\u5927\u8857",url:`${o}/tag-neidajie.png`},{name:"tag-\u5730\u5B89\u95E8\u5916\u5927\u8857",url:`${o}/tag-waidajie.png`},{name:"tag-\u524D\u95E8",url:`${o}/tag-qianmen.png`},{name:"tag-\u6B63\u9633\u95E8",url:`${o}/tag-zhengyangmen.png`},{name:"tag-\u91D1\u6C34\u6865",url:`${o}/tag-jinshuiqiao.png`},{name:"\u9ED8\u8BA4\u4E8C\u7EF4\u7801",url:`${o}/qrcode-default.png`},{name:"\u65B0\u4EAC\u62A5\u4E8C\u7EF4\u7801",url:`${o}/beijingnews-qrcode.png`}],Xs=[...Ks,...Ys],Zs=[`${o}/icon-music-open.png`,`${o}/icon-music-close.png`,`${o}/icon-add.png`,`${o}/icon-arrow.png`,`${o}/icon-follow.png`,`${o}/icon-game.png`,`${o}/icon-invite.png`,`${o}/icon-ydm1.png`,`${o}/icon-ydm2.png`,`${o}/game-pointer.png`,`${o}/game-turntable.png`,`${o}/poster-close.png`,`${o}/follow-cp-bg.png`,`${o}/dialog-bg.png`,`${o}/dialog-bg-big.png`,`${o}/btn-confirm.png`,`${o}/btn-continue.png`,`${o}/btn-HP.png`,`${o}/btn-invite.png`,`${o}/btn-prize.png`,`${o}/btn-question.png`,`${o}/btn-longtap.png`,`${o}/dialog-1-yongDingMen.png`,`${o}/dialog-2-yongDingMenYiZhi.png`,`${o}/dialog-3-xianNongTan.png`,`${o}/dialog-4-tianTan.png`,`${o}/dialog-5-tianQiaoNanDaJie.png`,`${o}/dialog-6-qianMen.png`,`${o}/dialog-7-zhengYangMen.png`,`${o}/dialog-8-tianAnMenJianZhuQun.png`,`${o}/dialog-9-waiJinShuiQiao.png`,`${o}/dialog-10-tianAnMen.png`,`${o}/dialog-11-sheJiTan.png`,`${o}/dialog-12-taiMiao.png`,`${o}/dialog-13-duanMen.png`,`${o}/dialog-14-guGone.png`,`${o}/dialog-15-jingShan.png`,`${o}/dialog-16-diAnMenNeiDaJie.png`,`${o}/dialog-17-wanNingQiao.png`,`${o}/dialog-18-diAnMenWaiDaJie.png`,`${o}/dialog-19-guLouZhongLou.png`,`${o}/text-go-text.png`,`${o}/text-back.png`,`${o}/text-bjky.png`,`${o}/text-get.png`,`${o}/text-getHp.png`,`${o}/text-lianpu.png`,`${o}/text-tigger.png`,`${o}/text-tuerye.png`,`${o}/text-xinge.png`,`${o}/text-yueji.png`,`${o}/text-yuyan.png`,`${o}/text-zaowang.png`,`${o}/dialog-hp2.png`,`${o}/dialog-kaoya.png`,`${o}/dialog-lianpu.png`,`${o}/dialog-tigger.png`,`${o}/dialog-tuerye.png`,`${o}/dialog-xinge.png`,`${o}/dialog-yueji.png`,`${o}/dialog-yuyan.png`,`${o}/dialog-zaowang.png`,`${o}/dialog-back5.png`],ei=10,ti=k({setup(){const e=R(0);Tn(Zs,g=>{e.value=g});const t=A(),n=w(()=>t.currentStep),i=w(()=>t.userInfo),s=w(()=>t.isPosterShow),a=w(()=>t.todayStatus.todayCount),r=w(()=>t.isTurntableReady),c=w(()=>t.configList),d=w(()=>t.unlockList),u=w(()=>t.farthestKm),p=R(!1),{setTodayCount:v,getCurrentSteps:y,showDialog:E,setCurrentStep:$,setBase64:D,setTurntableReady:L,setUnlockList:Q,setFarthestKm:J,showTask:K,getUserInfo:z}=t,Y=()=>{E()},M=R(),ee=new at.Application(_);M.value=new at.Application(ct);const te=(g,C,_e)=>{const me=document.getElementById(_e);!(g!=null&&g.view)||(g.view.style.width=`${C.width}px`,g.view.style.height=`${C.height}px`,me==null||me.appendChild(g.view))};et(()=>s.value,g=>{g&&ne()});const ge=()=>{Ds(M.value,{name:i.value.nickname,headUrl:i.value.headimgurl,km:u.value},d.value)},ne=()=>{const g=M.value.renderer.plugins.extract.image(M.value.stage,"image/jpeg",1);D(g.src)},oe=g=>{Y();const C=c.value[g];C.action==="scenic"&&(Q(C.step),J(C.km),ge()),C.action==="addHp"&&v(!0),Qe(200).then(()=>{L(!0),j("card")})},W=R(0),ze=()=>{De({addStep:W.value,endStep:n.value},g=>{g?($(g),De({addStep:n.value,endStep:n.value},()=>{oe(n.value)})):oe(n.value)})},O=R(0),We=g=>{O.value?g>W.value?O.value=O.value+Ye+Math.abs((W.value-g)*Ke):O.value=O.value+Ye-Math.abs((W.value-g)*Ke):O.value+=Ye+(g-1)*Ke},je=()=>{if(!!r.value){if(L(!1),a.value<=0){Un("\u4ECA\u65E5\u4F53\u529B\u4E0D\u591F\u4E86"),L(!0);return}$o().then(g=>{v();const C=g.spot_number;fe(Ce).then(_e=>{if(_e!==""&&_e!==null){const me=C*1+_e*1;B(Ce,`${me}`)}}),We(C),W.value=C,$(n.value+W.value),j("table"),Fs(O.value,()=>{ze()})})}},he=()=>{X.add("bgMc",{url:`${o}/bgMc.mp3`,preload:!0,loop:!0}),X.add("table",{url:`${o}/table.mp3`,preload:!0}),X.add("card",{url:`${o}/card.mp3`,preload:!0})},j=g=>{X.find(g).isPlaying||X.play(g)},Ge=g=>{X.find(g).isPlaying&&X.pause(g)},Rt=()=>{V()&&z(()=>{ge()})},zt=()=>{xs(ee),y().then(g=>{De({addStep:0,endStep:g},()=>{ge(),j("bgMc"),Wt(()=>{j("bgMc")}),p.value=!0,Rt(),Qe(1e3).then(()=>{St()})})})},Wt=g=>{window.wx&&Oe()&&(window.wx.config({debug:!1,appId:"",timestamp:1,nonceStr:"",signature:"",jsApiList:[]}),window.wx.ready(()=>{Qe(200).then(()=>{g()})}))};return qe(()=>{te(ee,_,"pixiWrap"),te(M.value,ct,"posterWrap"),he(),Vn({images:Xs,onProgress:g=>{const C=document.querySelector(".progressNum");return C.innerHTML=`${Math.round(g)}%`,g},onLoad:()=>(zt(),"")}),document.addEventListener("visibilitychange",()=>{document.hidden?Ge("bgMc"):p.value&&j("bgMc")})}),{showTask:K,isTurntableReady:r,turntableClick:je,currentStep:n,todayCount:a,toggleMusic:()=>{p.value?Ge("bgMc"):j("bgMc"),p.value=!p.value},isBgmPlay:p,closeMusic:()=>{Ge("bgMc"),p.value=!1},isBeijingNews:ke,MIN_DOUBLE_NUM:ei}}}),pe=e=>(ue("data-v-b48b9d62"),e=e(),de(),e),ni={class:"game"},oi=pe(()=>l("div",{id:"pixiWrap"},null,-1)),si={class:"action-wrap"},ii={class:"action-bar"},ai=pe(()=>l("div",{class:"turntable"},null,-1)),ri={class:"pointer"},ci={class:"info-wrap"},li=pe(()=>l("div",{class:"text-go"},null,-1)),ui={class:"text-hp"},di=pe(()=>l("div",null,"\u4F53\u529B",-1)),pi={class:"mask"},gi=pe(()=>l("div",{class:"rules-btn"},null,-1)),hi=pe(()=>l("div",{id:"posterWrap"},null,-1));function _i(e,t,n,i,s,a){const r=x("report-click");return m(),f("div",ni,[oi,l("div",si,[l("div",ii,[b((m(),f("div",{class:"turntable-wrap",onClick:t[0]||(t[0]=(...c)=>e.turntableClick&&e.turntableClick(...c))},[ai,l("div",ri,[l("div",ci,[li,l("div",ui,[di,l("span",{class:be(["text-red",{over:e.todayCount>=e.MIN_DOUBLE_NUM}])},N(e.todayCount),3)])])])])),[[r,{EventCode:"news_h5_common_click",Params:{activityId:"centralAxis",eventCode:"xgf_zzx_lindex_walk_click"},Direct:!0}]]),e.isBeijingNews?$e("",!0):b((m(),f("div",{key:0,class:"btns HP",onClick:t[1]||(t[1]=(...c)=>e.showTask&&e.showTask(...c))},null,512)),[[r,{EventCode:"news_h5_common_click",Params:{activityId:"centralAxis",eventCode:"xgf_zzx_lindex_power_click"},Direct:!0}]])])]),l("div",pi,[gi,l("div",{onClick:t[2]||(t[2]=(...c)=>e.toggleMusic&&e.toggleMusic(...c)),class:be(["music-btn",{"music-close":e.isBgmPlay}])},null,2)]),hi])}var qt=I(ti,[["render",_i],["__scopeId","data-v-b48b9d62"]]);const mi=k({components:{GameDialog:Nt,GameWrap:qt,GameCertificate:Mt,GameQuestion:Pt,PosterDialog:Ot,VideoList:Dt,GameTask:Et,CommonPlayer:Ft},setup(){const e=A();qe(()=>{const{getWjConfig:i}=e;V()&&(un({title:"\u4E91\u6E38\u5317\u4EAC\u4E2D\u8F74\u7EBF"}),dn({type:1})),i()});const t=R();return{isBeijingNews:ke,gameRef:t,closeBgMc:()=>{t.value.closeMusic()}}}}),fi={class:"index"};function vi(e,t,n,i,s,a){const r=qt,c=Ot,d=Mt,u=Nt,p=Pt,v=Dt,y=Ft,E=Et,$=x("report-exp"),D=x("report-view");return b((m(),f("div",fi,[F(r,{ref:"gameRef"},null,512),F(c),F(d),F(u),e.isBeijingNews?$e("",!0):(m(),f(Se,{key:0},[F(p,{onCloseMusic:e.closeBgMc},null,8,["onCloseMusic"]),F(v),F(y),F(E)],64))])),[[$,{EventCode:"news_h5_common_view",Params:{activityId:"centralAxis"},Direct:!0,once:!0}],[D,{EventCode:"news_h5_common_view",Direct:!0,Params:{activityId:"centralAxis",eventCode:"xgf_zzx_index_page_skim"}}]])}var wi=I(mi,[["render",vi]]);const yi=k({setup(){const e=new ft(It),t=R(!1);return qe(()=>{St(),e.checkAppIsInstalled(i=>{i&&(t.value=i)})}),{goApp:()=>{mo(_o)},isInstallQQnews:t}}}),$i={class:"invite-page"},Si=pn('<div class="logo"></div><div class="icon"></div><div class="touch"></div><div class="user"><div class="text"><div><span class="name">\u4F60\u7684\u597D\u53CB</span>\u9080\u8BF7\u4F60</div><div>\u4E91\u6E38\u5317\u4EAC\u4E2D\u8F74\u7EBF\uFF0C\u9886\u53D6\u4F60\u7684\u8BC1\u4E66</div></div></div>',4);function bi(e,t,n,i,s,a){const r=x("report-click"),c=x("report-view");return b((m(),f("div",$i,[Si,b(l("div",{class:"btn-accept",onClick:t[0]||(t[0]=(...d)=>e.goApp&&e.goApp(...d))},null,512),[[r,{EventCode:"news_h5_common_click",Params:{activityId:"centralAxis",eventCode:"xgf_zzx_share_page_click"},Direct:!0}]]),b((m(),f("div",{class:"btn-download",onClick:t[1]||(t[1]=(...d)=>e.goApp&&e.goApp(...d))},[Ee(N(e.isInstallQQnews?"\u6253\u5F00":"\u4E0B\u8F7D")+"\u817E\u8BAF\u65B0\u95FBAPP\uFF0C\u53C2\u4E0E\u6D3B\u52A8 ",1)])),[[r,{EventCode:"news_h5_common_click",Params:{activityId:"centralAxis",eventCode:"xgf_zzx_share_page_click"},Direct:!0}]])])),[[c,{EventCode:"centralAxis",Direct:!0,Params:{activityId:"centralAxis",eventCode:"xgf_zzx_share_page_skim"}}]])}var Ci=I(yi,[["render",bi]]);const ki=[{path:"/",name:"homePage",component:wi},{path:"/invite",name:"Invite",component:Ci}],Ii=gn({history:hn(),routes:ki}),xi=k({setup(){return{}}});function Ei(e,t,n,i,s,a){const r=xe("router-view");return m(),Ie(r)}var Fi=I(xi,[["render",Ei]]);const Ut=_n(Fi),Ti=mn();wn(Ut);const Ai=()=>{Ut.use(Ti).use(Ii).use(Ue).use(fn).mount("#app")};Ai();En(po)});export default Di();
